(function(){const Je=document.createElement("link").relList;if(Je&&Je.supports&&Je.supports("modulepreload"))return;for(const Z of document.querySelectorAll('link[rel="modulepreload"]'))n(Z);new MutationObserver(Z=>{for(const S of Z)if(S.type==="childList")for(const y of S.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&n(y)}).observe(document,{childList:!0,subtree:!0});function Ye(Z){const S={};return Z.integrity&&(S.integrity=Z.integrity),Z.referrerPolicy&&(S.referrerPolicy=Z.referrerPolicy),Z.crossOrigin==="use-credentials"?S.credentials="include":Z.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function n(Z){if(Z.ep)return;Z.ep=!0;const S=Ye(Z);fetch(Z.href,S)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yn($e){return $e&&$e.__esModule&&Object.prototype.hasOwnProperty.call($e,"default")?$e.default:$e}function Ii($e){if($e.__esModule)return $e;var Je=$e.default;if(typeof Je=="function"){var Ye=function n(){return this instanceof n?Reflect.construct(Je,arguments,this.constructor):Je.apply(this,arguments)};Ye.prototype=Je.prototype}else Ye={};return Object.defineProperty(Ye,"__esModule",{value:!0}),Object.keys($e).forEach(function(n){var Z=Object.getOwnPropertyDescriptor($e,n);Object.defineProperty(Ye,n,Z.get?Z:{enumerable:!0,get:function(){return $e[n]}})}),Ye}function Wr($e){throw new Error('Could not dynamically require "'+$e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wi={exports:{}};const Di={},Fi=Object.freeze(Object.defineProperty({__proto__:null,default:Di},Symbol.toStringTag,{value:"Module"})),oi=Ii(Fi);/*!
 * Paper.js v0.12.17 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Thu Nov 3 21:15:36 2022 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function($e){(function(Je,Ye){Je=Je||oi;var n=Je.window,Z=Je.document,S=new function(){var h=/^(statics|enumerable|beans|preserve)$/,_=[],T=_.slice,L=Object.create,G=Object.getOwnPropertyDescriptor,B=Object.defineProperty,W=_.forEach||function(se,ue){for(var we=0,ce=this.length;we<ce;we++)se.call(ue,this[we],we,this)},F=function(se,ue){for(var we in this)this.hasOwnProperty(we)&&se.call(ue,this[we],we,this)},Y=Object.assign||function(se){for(var ue=1,we=arguments.length;ue<we;ue++){var ce=arguments[ue];for(var Se in ce)ce.hasOwnProperty(Se)&&(se[Se]=ce[Se])}return se},ie=function(se,ue,we){if(se){var ce=G(se,"length");(ce&&typeof ce.value=="number"?W:F).call(se,ue,we=we||se)}return we};function he(se,ue,we,ce,Se){var $={};function je(X,Ee){Ee=Ee||(Ee=G(ue,X))&&(Ee.get?Ee:Ee.value),typeof Ee=="string"&&Ee[0]==="#"&&(Ee=se[Ee.substring(1)]||Ee);var Fe=typeof Ee=="function",Ne=Ee,Ge=Se||Fe&&!Ee.base?Ee&&Ee.get?X in se:se[X]:null,ze;(!Se||!Ge)&&(Fe&&Ge&&(Ee.base=Ge),Fe&&ce!==!1&&(ze=X.match(/^([gs]et|is)(([A-Z])(.*))$/))&&($[ze[3].toLowerCase()+ze[4]]=ze[2]),(!Ne||Fe||!Ne.get||typeof Ne.get!="function"||!U.isPlainObject(Ne))&&(Ne={value:Ne,writable:!0}),(G(se,X)||{configurable:!0}).configurable&&(Ne.configurable=!0,Ne.enumerable=we??!ze),B(se,X,Ne))}if(ue){for(var be in ue)ue.hasOwnProperty(be)&&!h.test(be)&&je(be);for(var be in $){var k=$[be],ye=se["set"+k],Ce=se["get"+k]||ye&&se["is"+k];Ce&&(ce===!0||Ce.length===0)&&je(be,{get:Ce,set:ye})}}return se}function U(){for(var se=0,ue=arguments.length;se<ue;se++){var we=arguments[se];we&&Y(this,we)}return this}return he(U,{inject:function(se){if(se){var ue=se.statics===!0?se:se.statics,we=se.beans,ce=se.preserve;ue!==se&&he(this.prototype,se,se.enumerable,we,ce),he(this,ue,null,we,ce)}for(var Se=1,$=arguments.length;Se<$;Se++)this.inject(arguments[Se]);return this},extend:function(){for(var se=this,ue,we,ce=0,Se,$=arguments.length;ce<$&&!(ue&&we);ce++)Se=arguments[ce],ue=ue||Se.initialize,we=we||Se.prototype;return ue=ue||function(){se.apply(this,arguments)},we=ue.prototype=we||L(this.prototype),B(we,"constructor",{value:ue,writable:!0,configurable:!0}),he(ue,this),arguments.length&&this.inject.apply(ue,arguments),ue.base=se,ue}}).inject({enumerable:!1,initialize:U,set:U,inject:function(){for(var se=0,ue=arguments.length;se<ue;se++){var we=arguments[se];we&&he(this,we,we.enumerable,we.beans,we.preserve)}return this},extend:function(){var se=L(this);return se.inject.apply(se,arguments)},each:function(se,ue){return ie(this,se,ue)},clone:function(){return new this.constructor(this)},statics:{set:Y,each:ie,create:L,define:B,describe:G,clone:function(se){return Y(new se.constructor,se)},isPlainObject:function(se){var ue=se!=null&&se.constructor;return ue&&(ue===Object||ue===U||ue.name==="Object")},pick:function(se,ue){return se!==Ye?se:ue},slice:function(se,ue,we){return T.call(se,ue,we)}}})};$e.exports=S,S.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+S.each(this,function(h,_){if(!/^_/.test(_)){var T=typeof h;this.push(_+": "+(T==="number"?d.instance.number(h):T==="string"?"'"+h+"'":h))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(h){return S.importJSON(h,this)},exportJSON:function(h){return S.exportJSON(this,h)},toJSON:function(){return S.serialize(this)},set:function(h,_){return h&&S.filter(this,h,_,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function h(){var _=h.base.apply(this,arguments),T=_.prototype._class;return T&&!S.exports[T]&&(S.exports[T]=_),_},equals:function(h,_){if(h===_)return!0;if(h&&h.equals)return h.equals(_);if(_&&_.equals)return _.equals(h);if(h&&_&&typeof h=="object"&&typeof _=="object"){if(Array.isArray(h)&&Array.isArray(_)){var T=h.length;if(T!==_.length)return!1;for(;T--;)if(!S.equals(h[T],_[T]))return!1}else{var L=Object.keys(h),T=L.length;if(T!==Object.keys(_).length)return!1;for(;T--;){var G=L[T];if(!(_.hasOwnProperty(G)&&S.equals(h[G],_[G])))return!1}}return!0}return!1},read:function(h,_,T,L){if(this===S){var G=this.peek(h,_);return h.__index++,G}var B=this.prototype,W=B._readIndex,F=_||W&&h.__index||0,Y=h.length,ie=h[F];if(L=L||Y-F,ie instanceof this||T&&T.readNull&&ie==null&&L<=1)return W&&(h.__index=F+1),ie&&T&&T.clone?ie.clone():ie;if(ie=S.create(B),W&&(ie.__read=!0),ie=ie.initialize.apply(ie,F>0||F+L<Y?S.slice(h,F,F+L):h)||ie,W){h.__index=F+ie.__read;var he=ie.__filtered;he&&(h.__filtered=he,ie.__filtered=Ye),ie.__read=Ye}return ie},peek:function(h,_){return h[h.__index=_||h.__index||0]},remain:function(h){return h.length-(h.__index||0)},readList:function(h,_,T,L){for(var G=[],B,W=_||0,F=L?W+L:h.length,Y=W;Y<F;Y++)G.push(Array.isArray(B=h[Y])?this.read(B,0,T):this.read(h,Y,T,1));return G},readNamed:function(h,_,T,L,G){var B=this.getNamed(h,_),W=B!==Ye;if(W){var F=h.__filtered;if(!F){var Y=this.getSource(h);F=h.__filtered=S.create(Y),F.__unfiltered=Y}F[_]=Ye}return this.read(W?[B]:h,T,L,G)},readSupported:function(h,_){var T=this.getSource(h),L=this,G=!1;return T&&Object.keys(T).forEach(function(B){if(B in _){var W=L.readNamed(h,B);W!==Ye&&(_[B]=W),G=!0}}),G},getSource:function(h){var _=h.__source;if(_===Ye){var T=h.length===1&&h[0];_=h.__source=T&&S.isPlainObject(T)?T:null}return _},getNamed:function(h,_){var T=this.getSource(h);if(T)return _?T[_]:h.__filtered||T},hasNamed:function(h,_){return!!this.getNamed(h,_)},filter:function(h,_,T,L){var G;function B(he){if(!(T&&he in T)&&!(G&&he in G)){var U=_[he];U!==Ye&&(h[he]=U)}}if(L){for(var W={},F=0,Y,ie=L.length;F<ie;F++)(Y=L[F])in _&&(B(Y),W[Y]=!0);G=W}return Object.keys(_.__unfiltered||_).forEach(B),h},isPlainValue:function(h,_){return S.isPlainObject(h)||Array.isArray(h)||_&&typeof h=="string"},serialize:function(h,_,T,L){_=_||{};var G=!L,B;if(G&&(_.formatter=new d(_.precision),L={length:0,definitions:{},references:{},add:function(U,se){var ue="#"+U._id,we=this.references[ue];if(!we){this.length++;var ce=se.call(U),Se=U._class;Se&&ce[0]!==Se&&ce.unshift(Se),this.definitions[ue]=ce,we=this.references[ue]=[ue]}return we}}),h&&h._serialize){B=h._serialize(_,L);var W=h._class;W&&!h._compactSerialize&&(G||!T)&&B[0]!==W&&B.unshift(W)}else if(Array.isArray(h)){B=[];for(var F=0,Y=h.length;F<Y;F++)B[F]=S.serialize(h[F],_,T,L)}else if(S.isPlainObject(h)){B={};for(var ie=Object.keys(h),F=0,Y=ie.length;F<Y;F++){var he=ie[F];B[he]=S.serialize(h[he],_,T,L)}}else typeof h=="number"?B=_.formatter.number(h,_.precision):B=h;return G&&L.length>0?[["dictionary",L.definitions],B]:B},deserialize:function(h,_,T,L,G){var B=h,W=!T,F=W&&h&&h.length&&h[0][0]==="dictionary";if(T=T||{},Array.isArray(h)){var Y=h[0],ie=Y==="dictionary";if(h.length==1&&/^#/.test(Y))return T.dictionary[Y];Y=S.exports[Y],B=[];for(var he=Y?1:0,U=h.length;he<U;he++)B.push(S.deserialize(h[he],_,T,ie,F));if(Y){var se=B;_?B=_(Y,se,W||G):B=new Y(se)}}else if(S.isPlainObject(h)){B={},L&&(T.dictionary=B);for(var ue in h)B[ue]=S.deserialize(h[ue],_,T)}return F?B[1]:B},exportJSON:function(h,_){var T=S.serialize(h,_);return _&&_.asString==!1?T:JSON.stringify(T)},importJSON:function(h,_){return S.deserialize(typeof h=="string"?JSON.parse(h):h,function(T,L,G){var B=G&&_&&_.constructor===T,W=B?_:S.create(T.prototype);if(L.length===1&&W instanceof b&&(B||!(W instanceof w))){var F=L[0];S.isPlainObject(F)&&(F.insert=!1,B&&(L=L.concat([b.INSERT])))}return(B?W.set:T).apply(W,L),B&&(_=null),W})},push:function(h,_){var T=_.length;if(T<4096)h.push.apply(h,_);else{var L=h.length;h.length+=T;for(var G=0;G<T;G++)h[L+G]=_[G]}return h},splice:function(h,_,T,L){var G=_&&_.length,B=T===Ye;T=B?h.length:T,T>h.length&&(T=h.length);for(var W=0;W<G;W++)_[W]._index=T+W;if(B)return S.push(h,_),[];var F=[T,L];_&&S.push(F,_);for(var Y=h.splice.apply(h,F),W=0,ie=Y.length;W<ie;W++)Y[W]._index=Ye;for(var W=T+G,ie=h.length;W<ie;W++)h[W]._index=W;return Y},capitalize:function(h){return h.replace(/\b[a-z]/g,function(_){return _.toUpperCase()})},camelize:function(h){return h.replace(/-(.)/g,function(_,T){return T.toUpperCase()})},hyphenate:function(h){return h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var y={on:function(h,_){if(typeof h!="string")S.each(h,function(B,W){this.on(W,B)},this);else{var T=this._eventTypes,L=T&&T[h],G=this._callbacks=this._callbacks||{};G=G[h]=G[h]||[],G.indexOf(_)===-1&&(G.push(_),L&&L.install&&G.length===1&&L.install.call(this,h))}return this},off:function(h,_){if(typeof h!="string"){S.each(h,function(W,F){this.off(F,W)},this);return}var T=this._eventTypes,L=T&&T[h],G=this._callbacks&&this._callbacks[h],B;return G&&(!_||(B=G.indexOf(_))!==-1&&G.length===1?(L&&L.uninstall&&L.uninstall.call(this,h),delete this._callbacks[h]):B!==-1&&G.splice(B,1)),this},once:function(h,_){return this.on(h,function T(){_.apply(this,arguments),this.off(h,T)})},emit:function(h,_){var T=this._callbacks&&this._callbacks[h];if(!T)return!1;var L=S.slice(arguments,1),G=_&&_.target&&!_.currentTarget;T=T.slice(),G&&(_.currentTarget=this);for(var B=0,W=T.length;B<W;B++)if(T[B].apply(this,L)==!1){_&&_.stop&&_.stop();break}return G&&delete _.currentTarget,!0},responds:function(h){return!!(this._callbacks&&this._callbacks[h])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(h){var _=this._eventTypes,T=this._callbacks,L=h?"install":"uninstall";if(_){for(var G in T)if(T[G].length>0){var B=_[G],W=B&&B[L];W&&W.call(this,G)}}},statics:{inject:function h(_){var T=_._events;if(T){var L={};S.each(T,function(G,B){var W=typeof G=="string",F=W?G:B,Y=S.capitalize(F),ie=F.substring(2).toLowerCase();L[ie]=W?{}:G,F="_"+F,_["get"+Y]=function(){return this[F]},_["set"+Y]=function(he){var U=this[F];U&&this.off(ie,U),he&&this.on(ie,he),this[F]=he}}),_._eventTypes=L}return h.base.apply(this,arguments)}}},m=S.extend({_class:"PaperScope",initialize:function h(){Le=this,this.settings=new S({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=h._id++,h._scopes[this._id]=this;var _=h.prototype;if(!this.support){var T=Me.getContext(1,1)||{};_.support={nativeDash:"setLineDash"in T||"mozDash"in T,nativeBlendModes:pe.nativeModes},Me.release(T)}if(!this.agent){var L=Je.navigator.userAgent.toLowerCase(),G=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(L)||[])[0],B=G==="darwin"?"mac":G,W=_.agent=_.browser={platform:B};B&&(W[B]=!0),L.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(F,Y,ie,he,U){if(!W.chrome){var se=Y==="opera"?he:/^(node|trident)$/.test(Y)?U:ie;W.version=se,W.versionNumber=parseFloat(se),Y={trident:"msie",jsdom:"node"}[Y]||Y,W.name=Y,W[Y]=!0}}),W.chrome&&delete W.webkit,W.atom&&delete W.chrome}},version:"0.12.17",getView:function(){var h=this.project;return h&&h._view},getPaper:function(){return this},execute:function(h,_){var T=Le.PaperScript.execute(h,this,_);return Te.updateFocus(),T},install:function(h){var _=this;S.each(["project","view","tool"],function(L){S.define(h,L,{configurable:!0,get:function(){return _[L]}})});for(var T in this)!/^_/.test(T)&&this[T]&&(h[T]=this[T])},setup:function(h){return Le=this,this.project=new v(h),this},createCanvas:function(h,_){return Me.getCanvas(h,_)},activate:function(){Le=this},clear:function(){for(var h=this.projects,_=this.tools,T=h.length-1;T>=0;T--)h[T].remove();for(var T=_.length-1;T>=0;T--)_[T].remove()},remove:function(){this.clear(),delete m._scopes[this._id]},statics:new function(){function h(_){return _+="Attribute",function(T,L){return T[_](L)||T[_]("data-paper-"+L)}}return{_scopes:{},_id:0,get:function(_){return this._scopes[_]||null},getAttribute:h("get"),hasAttribute:h("has")}}}),f=S.extend(y,{initialize:function(h){this._scope=Le,this._index=this._scope[this._list].push(this)-1,(h||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var h=this._scope[this._reference];return h&&h!==this&&h.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",h),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(S.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),g={findItemBoundsCollisions:function(h,_,T){function L(W){for(var F=new Array(W.length),Y=0;Y<W.length;Y++){var ie=W[Y].getBounds();F[Y]=[ie.left,ie.top,ie.right,ie.bottom]}return F}var G=L(h),B=!_||_===h?G:L(_);return this.findBoundsCollisions(G,B,T||0)},findCurveBoundsCollisions:function(h,_,T,L){function G(se){for(var ue=Math.min,we=Math.max,ce=new Array(se.length),Se=0;Se<se.length;Se++){var $=se[Se];ce[Se]=[ue($[0],$[2],$[4],$[6]),ue($[1],$[3],$[5],$[7]),we($[0],$[2],$[4],$[6]),we($[1],$[3],$[5],$[7])]}return ce}var B=G(h),W=!_||_===h?B:G(_);if(L){for(var F=this.findBoundsCollisions(B,W,T||0,!1,!0),Y=this.findBoundsCollisions(B,W,T||0,!0,!0),ie=[],he=0,U=F.length;he<U;he++)ie[he]={hor:F[he],ver:Y[he]};return ie}return this.findBoundsCollisions(B,W,T||0)},findBoundsCollisions:function(h,_,T,L,G){var B=!_||h===_,W=B?h:h.concat(_),F=h.length,Y=W.length;function ie(bt,xt,He){for(var Ze=0,it=bt.length;Ze<it;){var at=it+Ze>>>1;W[bt[at]][xt]<He?Ze=at+1:it=at}return Ze-1}for(var he=L?1:0,U=he+2,se=L?0:1,ue=se+2,we=new Array(Y),ce=0;ce<Y;ce++)we[ce]=ce;we.sort(function(bt,xt){return W[bt][he]-W[xt][he]});for(var Se=[],$=new Array(F),ce=0;ce<Y;ce++){var je=we[ce],be=W[je],k=B?je:je-F,ye=je<F,Ce=B||!ye,X=ye?[]:null;if(Se.length){var Ee=ie(Se,U,be[he]-T)+1;if(Se.splice(0,Ee),B&&G){X=X.concat(Se);for(var Fe=0;Fe<Se.length;Fe++){var Ne=Se[Fe];$[Ne].push(k)}}else for(var Ge=be[ue],ze=be[se],Fe=0;Fe<Se.length;Fe++){var Ne=Se[Fe],We=W[Ne],Qe=Ne<F,rt=B||Ne>=F;(G||(ye&&rt||Ce&&Qe)&&Ge>=We[se]-T&&ze<=We[ue]+T)&&(ye&&rt&&X.push(B?Ne:Ne-F),Ce&&Qe&&$[Ne].push(k))}}if(ye&&(h===_&&X.push(je),$[je]=X),Se.length){var et=be[U],ut=ie(Se,U,et);Se.splice(ut+1,0,je)}else Se.push(je)}for(var ce=0;ce<$.length;ce++){var mt=$[ce];mt&&mt.sort(function(xt,He){return xt-He})}return $}},d=S.extend({initialize:function(h){this.precision=S.pick(h,5),this.multiplier=Math.pow(10,this.precision)},number:function(h){return this.precision<16?Math.round(h*this.multiplier)/this.multiplier:h},pair:function(h,_,T){return this.number(h)+(T||",")+this.number(_)},point:function(h,_){return this.number(h.x)+(_||",")+this.number(h.y)},size:function(h,_){return this.number(h.width)+(_||",")+this.number(h.height)},rectangle:function(h,_){return this.point(h,_)+(_||",")+this.size(h,_)}});d.instance=new d;var u=new function(){var h=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],_=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],T=Math.abs,L=Math.sqrt,G=Math.pow,B=Math.log2||function(U){return Math.log(U)*Math.LOG2E},W=1e-12,F=112e-18;function Y(U,se,ue){return U<se?se:U>ue?ue:U}function ie(U,se,ue){function we(Ee){var Fe=Ee*134217729,Ne=Ee-Fe,Ge=Ne+Fe,ze=Ee-Ge;return[Ge,ze]}var ce=se*se-U*ue,Se=se*se+U*ue;if(T(ce)*3<Se){var $=we(U),je=we(se),be=we(ue),k=se*se,ye=je[0]*je[0]-k+2*je[0]*je[1]+je[1]*je[1],Ce=U*ue,X=$[0]*be[0]-Ce+$[0]*be[1]+$[1]*be[0]+$[1]*be[1];ce=k-Ce+(ye-X)}return ce}function he(){var U=Math.max.apply(Math,arguments);return U&&(U<1e-8||U>1e8)?G(2,-Math.round(B(U))):0}return{EPSILON:W,MACHINE_EPSILON:F,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(L(2)-1)/3,isZero:function(U){return U>=-W&&U<=W},isMachineZero:function(U){return U>=-F&&U<=F},clamp:Y,integrate:function(U,se,ue,we){for(var ce=h[we-2],Se=_[we-2],$=(ue-se)*.5,je=$+se,be=0,k=we+1>>1,ye=we&1?Se[be++]*U(je):0;be<k;){var Ce=$*ce[be];ye+=Se[be++]*(U(je+Ce)+U(je-Ce))}return $*ye},findRoot:function(U,se,ue,we,ce,Se,$){for(var je=0;je<Se;je++){var be=U(ue),k=be/se(ue),ye=ue-k;if(T(k)<$){ue=ye;break}be>0?(ce=ue,ue=ye<=we?(we+ce)*.5:ye):(we=ue,ue=ye>=ce?(we+ce)*.5:ye)}return Y(ue,we,ce)},solveQuadratic:function(U,se,ue,we,ce,Se){var $,je=1/0;if(T(U)<W){if(T(se)<W)return T(ue)<W?-1:0;$=-ue/se}else{se*=-.5;var be=ie(U,se,ue);if(be&&T(be)<F){var k=he(T(U),T(se),T(ue));k&&(U*=k,se*=k,ue*=k,be=ie(U,se,ue))}if(be>=-F){var ye=be<0?0:L(be),Ce=se+(se<0?-ye:ye);Ce===0?($=ue/U,je=-$):($=Ce/U,je=ue/Ce)}}var X=0,Ee=ce==null,Fe=ce-W,Ne=Se+W;return isFinite($)&&(Ee||$>Fe&&$<Ne)&&(we[X++]=Ee?$:Y($,ce,Se)),je!==$&&isFinite(je)&&(Ee||je>Fe&&je<Ne)&&(we[X++]=Ee?je:Y(je,ce,Se)),X},solveCubic:function(U,se,ue,we,ce,Se,$){var je=he(T(U),T(se),T(ue),T(we)),be,k,ye,Ce,X;je&&(U*=je,se*=je,ue*=je,we*=je);function Ee(ut){be=ut;var mt=U*be;k=mt+se,ye=k*be+ue,Ce=(mt+k)*be+ye,X=ye*be+we}if(T(U)<W)U=se,k=ue,ye=we,be=1/0;else if(T(we)<W)k=se,ye=ue,be=0;else{Ee(-(se/U)/3);var Fe=X/U,Ne=G(T(Fe),1/3),Ge=Fe<0?-1:1,ze=-Ce/U,We=ze>0?1.324717957244746*Math.max(Ne,L(ze)):Ne,Qe=be-Ge*We;if(Qe!==be){do Ee(Qe),Qe=Ce===0?be:be-X/Ce/(1+F);while(Ge*Qe>Ge*be);T(U)*be*be>T(we/be)&&(ye=-we/be,k=(ye-ue)/be)}}var rt=u.solveQuadratic(U,k,ye,ce,Se,$),et=Se==null;return isFinite(be)&&(rt===0||rt>0&&be!==ce[0]&&be!==ce[1])&&(et||be>Se-W&&be<$+W)&&(ce[rt++]=et?be:Y(be,Se,$)),rt}}},i={_id:1,_pools:{},get:function(h){if(h){var _=this._pools[h];return _||(_=this._pools[h]={_id:1}),_._id++}else return this._id++}},r=S.extend({_class:"Point",_readIndex:!0,initialize:function(_,T){var L=typeof _,G=this.__read,B=0;if(L==="number"){var W=typeof T=="number";this._set(_,W?T:_),G&&(B=W?2:1)}else if(L==="undefined"||_===null)this._set(0,0),G&&(B=_===null?1:0);else{var F=L==="string"?_.split(/[\s,]+/)||[]:_;B=1,Array.isArray(F)?this._set(+F[0],+(F.length>1?F[1]:F[0])):"x"in F?this._set(F.x||0,F.y||0):"width"in F?this._set(F.width||0,F.height||0):"angle"in F?(this._set(F.length||0,0),this.setAngle(F.angle||0)):(this._set(0,0),B=0)}return G&&(this.__read=B),this},set:"#initialize",_set:function(h,_){return this.x=h,this.y=_,this},equals:function(h){return this===h||h&&(this.x===h.x&&this.y===h.y||Array.isArray(h)&&this.x===h[0]&&this.y===h[1])||!1},clone:function(){return new r(this.x,this.y)},toString:function(){var h=d.instance;return"{ x: "+h.number(this.x)+", y: "+h.number(this.y)+" }"},_serialize:function(h){var _=h.formatter;return[_.number(this.x),_.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(h){if(this.isZero()){var _=this._angle||0;this._set(Math.cos(_)*h,Math.sin(_)*h)}else{var T=h/this.getLength();u.isZero(T)&&this.getAngle(),this._set(this.x*T,this.y*T)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(h){this.setAngleInRadians.call(this,h*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var h=r.read(arguments),_=this.getLength()*h.getLength();if(u.isZero(_))return NaN;var T=this.dot(h)/_;return Math.acos(T<-1?-1:T>1?1:T)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(h){if(this._angle=h,!this.isZero()){var _=this.getLength();this._set(Math.cos(h)*_,Math.sin(h)*_)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var h=r.read(arguments);return Math.atan2(this.cross(h),this.dot(h))*180/Math.PI},getDistance:function(){var h=arguments,_=r.read(h),T=_.x-this.x,L=_.y-this.y,G=T*T+L*L,B=S.read(h);return B?G:Math.sqrt(G)},normalize:function(h){h===Ye&&(h=1);var _=this.getLength(),T=_!==0?h/_:0,L=new r(this.x*T,this.y*T);return T>=0&&(L._angle=this._angle),L},rotate:function(h,_){if(h===0)return this.clone();h=h*Math.PI/180;var T=_?this.subtract(_):this,L=Math.sin(h),G=Math.cos(h);return T=new r(T.x*G-T.y*L,T.x*L+T.y*G),_?T.add(_):T},transform:function(h){return h?h._transformPoint(this):this},add:function(){var h=r.read(arguments);return new r(this.x+h.x,this.y+h.y)},subtract:function(){var h=r.read(arguments);return new r(this.x-h.x,this.y-h.y)},multiply:function(){var h=r.read(arguments);return new r(this.x*h.x,this.y*h.y)},divide:function(){var h=r.read(arguments);return new r(this.x/h.x,this.y/h.y)},modulo:function(){var h=r.read(arguments);return new r(this.x%h.x,this.y%h.y)},negate:function(){return new r(-this.x,-this.y)},isInside:function(){return o.read(arguments).contains(this)},isClose:function(){var h=arguments,_=r.read(h),T=S.read(h);return this.getDistance(_)<=T},isCollinear:function(){var h=r.read(arguments);return r.isCollinear(this.x,this.y,h.x,h.y)},isColinear:"#isCollinear",isOrthogonal:function(){var h=r.read(arguments);return r.isOrthogonal(this.x,this.y,h.x,h.y)},isZero:function(){var h=u.isZero;return h(this.x)&&h(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(h){return this.x*(h>1&&h<4?-1:1)>=0&&this.y*(h>2?-1:1)>=0},dot:function(){var h=r.read(arguments);return this.x*h.x+this.y*h.y},cross:function(){var h=r.read(arguments);return this.x*h.y-this.y*h.x},project:function(){var h=r.read(arguments),_=h.isZero()?0:this.dot(h)/h.dot(h);return new r(h.x*_,h.y*_)},statics:{min:function(){var h=arguments,_=r.read(h),T=r.read(h);return new r(Math.min(_.x,T.x),Math.min(_.y,T.y))},max:function(){var h=arguments,_=r.read(h),T=r.read(h);return new r(Math.max(_.x,T.x),Math.max(_.y,T.y))},random:function(){return new r(Math.random(),Math.random())},isCollinear:function(h,_,T,L){return Math.abs(h*L-_*T)<=Math.sqrt((h*h+_*_)*(T*T+L*L))*1e-8},isOrthogonal:function(h,_,T,L){return Math.abs(h*T+_*L)<=Math.sqrt((h*h+_*_)*(T*T+L*L))*1e-8}}},S.each(["round","ceil","floor","abs"],function(h){var _=Math[h];this[h]=function(){return new r(_(this.x),_(this.y))}},{})),t=r.extend({initialize:function(_,T,L,G){this._x=_,this._y=T,this._owner=L,this._setter=G},_set:function(h,_,T){return this._x=h,this._y=_,T||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(h){this._x=h,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(h){this._y=h,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(h){this._owner._changeSelection(this._getSelection(),h)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),a=S.extend({_class:"Size",_readIndex:!0,initialize:function(_,T){var L=typeof _,G=this.__read,B=0;if(L==="number"){var W=typeof T=="number";this._set(_,W?T:_),G&&(B=W?2:1)}else if(L==="undefined"||_===null)this._set(0,0),G&&(B=_===null?1:0);else{var F=L==="string"?_.split(/[\s,]+/)||[]:_;B=1,Array.isArray(F)?this._set(+F[0],+(F.length>1?F[1]:F[0])):"width"in F?this._set(F.width||0,F.height||0):"x"in F?this._set(F.x||0,F.y||0):(this._set(0,0),B=0)}return G&&(this.__read=B),this},set:"#initialize",_set:function(h,_){return this.width=h,this.height=_,this},equals:function(h){return h===this||h&&(this.width===h.width&&this.height===h.height||Array.isArray(h)&&this.width===h[0]&&this.height===h[1])||!1},clone:function(){return new a(this.width,this.height)},toString:function(){var h=d.instance;return"{ width: "+h.number(this.width)+", height: "+h.number(this.height)+" }"},_serialize:function(h){var _=h.formatter;return[_.number(this.width),_.number(this.height)]},add:function(){var h=a.read(arguments);return new a(this.width+h.width,this.height+h.height)},subtract:function(){var h=a.read(arguments);return new a(this.width-h.width,this.height-h.height)},multiply:function(){var h=a.read(arguments);return new a(this.width*h.width,this.height*h.height)},divide:function(){var h=a.read(arguments);return new a(this.width/h.width,this.height/h.height)},modulo:function(){var h=a.read(arguments);return new a(this.width%h.width,this.height%h.height)},negate:function(){return new a(-this.width,-this.height)},isZero:function(){var h=u.isZero;return h(this.width)&&h(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(h,_){return new a(Math.min(h.width,_.width),Math.min(h.height,_.height))},max:function(h,_){return new a(Math.max(h.width,_.width),Math.max(h.height,_.height))},random:function(){return new a(Math.random(),Math.random())}}},S.each(["round","ceil","floor","abs"],function(h){var _=Math[h];this[h]=function(){return new a(_(this.width),_(this.height))}},{})),l=a.extend({initialize:function(_,T,L,G){this._width=_,this._height=T,this._owner=L,this._setter=G},_set:function(h,_,T){return this._width=h,this._height=_,T||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(h){this._width=h,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(h){this._height=h,this._owner[this._setter](this)}}),o=S.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(_,T,L,G){var B=arguments,W=typeof _,F;if(W==="number"?(this._set(_,T,L,G),F=4):W==="undefined"||_===null?(this._set(0,0,0,0),F=_===null?1:0):B.length===1&&(Array.isArray(_)?(this._set.apply(this,_),F=1):_.x!==Ye||_.width!==Ye?(this._set(_.x||0,_.y||0,_.width||0,_.height||0),F=1):_.from===Ye&&_.to===Ye&&(this._set(0,0,0,0),S.readSupported(B,this)&&(F=1))),F===Ye){var Y=r.readNamed(B,"from"),ie=S.peek(B),he=Y.x,U=Y.y,se,ue;if(ie&&ie.x!==Ye||S.hasNamed(B,"to")){var we=r.readNamed(B,"to");se=we.x-he,ue=we.y-U,se<0&&(he=we.x,se=-se),ue<0&&(U=we.y,ue=-ue)}else{var ce=a.read(B);se=ce.width,ue=ce.height}this._set(he,U,se,ue),F=B.__index}var Se=B.__filtered;return Se&&(this.__filtered=Se),this.__read&&(this.__read=F),this},set:"#initialize",_set:function(h,_,T,L){return this.x=h,this.y=_,this.width=T,this.height=L,this},clone:function(){return new o(this.x,this.y,this.width,this.height)},equals:function(h){var _=S.isPlainValue(h)?o.read(arguments):h;return _===this||_&&this.x===_.x&&this.y===_.y&&this.width===_.width&&this.height===_.height||!1},toString:function(){var h=d.instance;return"{ x: "+h.number(this.x)+", y: "+h.number(this.y)+", width: "+h.number(this.width)+", height: "+h.number(this.height)+" }"},_serialize:function(h){var _=h.formatter;return[_.number(this.x),_.number(this.y),_.number(this.width),_.number(this.height)]},getPoint:function(h){var _=h?r:t;return new _(this.x,this.y,this,"setPoint")},setPoint:function(){var h=r.read(arguments);this.x=h.x,this.y=h.y},getSize:function(h){var _=h?a:l;return new _(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var h=a.read(arguments),_=this._sx,T=this._sy,L=h.width,G=h.height;_&&(this.x+=(this.width-L)*_),T&&(this.y+=(this.height-G)*T),this.width=L,this.height=G,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(h){if(!this._fw){var _=h-this.x;this.width-=this._sx===.5?_*2:_}this.x=h,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(h){if(!this._fh){var _=h-this.y;this.height-=this._sy===.5?_*2:_}this.y=h,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(h){if(!this._fw){var _=h-this.x;this.width=this._sx===.5?_*2:_}this.x=h-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(h){if(!this._fh){var _=h-this.y;this.height=this._sy===.5?_*2:_}this.y=h-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(h){this._fw||this._sx===.5?this.x=h-this.width/2:(this._sx&&(this.x+=(h-this.x)*2*this._sx),this.width=(h-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(h){this._fh||this._sy===.5?this.y=h-this.height/2:(this._sy&&(this.y+=(h-this.y)*2*this._sy),this.height=(h-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(h){var _=h?r:t;return new _(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var h=r.read(arguments);return this.setCenterX(h.x),this.setCenterY(h.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(h){return h&&h.width!==Ye||(Array.isArray(h)?h:arguments).length===4?this._containsRectangle(o.read(arguments)):this._containsPoint(r.read(arguments))},_containsPoint:function(h){var _=h.x,T=h.y;return _>=this.x&&T>=this.y&&_<=this.x+this.width&&T<=this.y+this.height},_containsRectangle:function(h){var _=h.x,T=h.y;return _>=this.x&&T>=this.y&&_+h.width<=this.x+this.width&&T+h.height<=this.y+this.height},intersects:function(){var h=o.read(arguments),_=S.read(arguments)||0;return h.x+h.width>this.x-_&&h.y+h.height>this.y-_&&h.x<this.x+this.width+_&&h.y<this.y+this.height+_},intersect:function(){var h=o.read(arguments),_=Math.max(this.x,h.x),T=Math.max(this.y,h.y),L=Math.min(this.x+this.width,h.x+h.width),G=Math.min(this.y+this.height,h.y+h.height);return new o(_,T,L-_,G-T)},unite:function(){var h=o.read(arguments),_=Math.min(this.x,h.x),T=Math.min(this.y,h.y),L=Math.max(this.x+this.width,h.x+h.width),G=Math.max(this.y+this.height,h.y+h.height);return new o(_,T,L-_,G-T)},include:function(){var h=r.read(arguments),_=Math.min(this.x,h.x),T=Math.min(this.y,h.y),L=Math.max(this.x+this.width,h.x),G=Math.max(this.y+this.height,h.y);return new o(_,T,L-_,G-T)},expand:function(){var h=a.read(arguments),_=h.width,T=h.height;return new o(this.x-_/2,this.y-T/2,this.width+_,this.height+T)},scale:function(h,_){return this.expand(this.width*h-this.width,this.height*(_===Ye?h:_)-this.height)}},S.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(h,_){var T=h.join(""),L=/^[RL]/.test(T);_>=4&&(h[1]+=L?"Y":"X");var G=h[L?0:1],B=h[L?1:0],W="get"+G,F="get"+B,Y="set"+G,ie="set"+B,he="get"+T,U="set"+T;this[he]=function(se){var ue=se?r:t;return new ue(this[W](),this[F](),this,U)},this[U]=function(){var se=r.read(arguments);this[Y](se.x),this[ie](se.y)}},{beans:!0})),c=o.extend({initialize:function(_,T,L,G,B,W){this._set(_,T,L,G,!0),this._owner=B,this._setter=W},_set:function(h,_,T,L,G){return this._x=h,this._y=_,this._width=T,this._height=L,G||this._owner[this._setter](this),this}},new function(){var h=o.prototype;return S.each(["x","y","width","height"],function(_){var T=S.capitalize(_),L="_"+_;this["get"+T]=function(){return this[L]},this["set"+T]=function(G){this[L]=G,this._dontNotify||this._owner[this._setter](this)}},S.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(_){var T="set"+_;this[T]=function(){this._dontNotify=!0,h[T].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(_){var T=this._owner;T._changeSelection&&T._changeSelection(2,_)}}))}),s=S.extend({_class:"Matrix",initialize:function h(_,T){var L=arguments,G=L.length,B=!0;if(G>=6?this._set.apply(this,L):G===1||G===2?_ instanceof h?this._set(_._a,_._b,_._c,_._d,_._tx,_._ty,T):Array.isArray(_)?this._set.apply(this,T?_.concat([T]):_):B=!1:G?B=!1:this.reset(),!B)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(h,_,T,L,G,B,W){return this._a=h,this._b=_,this._c=T,this._d=L,this._tx=G,this._ty=B,W||this._changed(),this},_serialize:function(h,_){return S.serialize(this.getValues(),h,!0,_)},_changed:function(){var h=this._owner;h&&(h._applyMatrix?h.transform(null,!0):h._changed(25))},clone:function(){return new s(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(h){return h===this||h&&this._a===h._a&&this._b===h._b&&this._c===h._c&&this._d===h._d&&this._tx===h._tx&&this._ty===h._ty},toString:function(){var h=d.instance;return"[["+[h.number(this._a),h.number(this._c),h.number(this._tx)].join(", ")+"], ["+[h.number(this._b),h.number(this._d),h.number(this._ty)].join(", ")+"]]"},reset:function(h){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,h||this._changed(),this},apply:function(h,_){var T=this._owner;return T?(T.transform(null,S.pick(h,!0),_),this.isIdentity()):!1},translate:function(){var h=r.read(arguments),_=h.x,T=h.y;return this._tx+=_*this._a+T*this._c,this._ty+=_*this._b+T*this._d,this._changed(),this},scale:function(){var h=arguments,_=r.read(h),T=r.read(h,0,{readNull:!0});return T&&this.translate(T),this._a*=_.x,this._b*=_.x,this._c*=_.y,this._d*=_.y,T&&this.translate(T.negate()),this._changed(),this},rotate:function(h){h*=Math.PI/180;var _=r.read(arguments,1),T=_.x,L=_.y,G=Math.cos(h),B=Math.sin(h),W=T-T*G+L*B,F=L-T*B-L*G,Y=this._a,ie=this._b,he=this._c,U=this._d;return this._a=G*Y+B*he,this._b=G*ie+B*U,this._c=-B*Y+G*he,this._d=-B*ie+G*U,this._tx+=W*Y+F*he,this._ty+=W*ie+F*U,this._changed(),this},shear:function(){var h=arguments,_=r.read(h),T=r.read(h,0,{readNull:!0});T&&this.translate(T);var L=this._a,G=this._b;return this._a+=_.y*this._c,this._b+=_.y*this._d,this._c+=_.x*L,this._d+=_.x*G,T&&this.translate(T.negate()),this._changed(),this},skew:function(){var h=arguments,_=r.read(h),T=r.read(h,0,{readNull:!0}),L=Math.PI/180,G=new r(Math.tan(_.x*L),Math.tan(_.y*L));return this.shear(G,T)},append:function(h,_){if(h){var T=this._a,L=this._b,G=this._c,B=this._d,W=h._a,F=h._c,Y=h._b,ie=h._d,he=h._tx,U=h._ty;this._a=W*T+Y*G,this._c=F*T+ie*G,this._b=W*L+Y*B,this._d=F*L+ie*B,this._tx+=he*T+U*G,this._ty+=he*L+U*B,_||this._changed()}return this},prepend:function(h,_){if(h){var T=this._a,L=this._b,G=this._c,B=this._d,W=this._tx,F=this._ty,Y=h._a,ie=h._c,he=h._b,U=h._d,se=h._tx,ue=h._ty;this._a=Y*T+ie*L,this._c=Y*G+ie*B,this._b=he*T+U*L,this._d=he*G+U*B,this._tx=Y*W+ie*F+se,this._ty=he*W+U*F+ue,_||this._changed()}return this},appended:function(h){return this.clone().append(h)},prepended:function(h){return this.clone().prepend(h)},invert:function(){var h=this._a,_=this._b,T=this._c,L=this._d,G=this._tx,B=this._ty,W=h*L-_*T,F=null;return W&&!isNaN(W)&&isFinite(G)&&isFinite(B)&&(this._a=L/W,this._b=-_/W,this._c=-T/W,this._d=h/W,this._tx=(T*B-L*G)/W,this._ty=(_*G-h*B)/W,F=this),F},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new s(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var h=this._a*this._d-this._c*this._b;return h&&!isNaN(h)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(h,_,T){return arguments.length<3?this._transformPoint(r.read(arguments)):this._transformCoordinates(h,_,T)},_transformPoint:function(h,_,T){var L=h.x,G=h.y;return _||(_=new r),_._set(L*this._a+G*this._c+this._tx,L*this._b+G*this._d+this._ty,T)},_transformCoordinates:function(h,_,T){for(var L=0,G=2*T;L<G;L+=2){var B=h[L],W=h[L+1];_[L]=B*this._a+W*this._c+this._tx,_[L+1]=B*this._b+W*this._d+this._ty}return _},_transformCorners:function(h){var _=h.x,T=h.y,L=_+h.width,G=T+h.height,B=[_,T,L,T,L,G,_,G];return this._transformCoordinates(B,B,4)},_transformBounds:function(h,_,T){for(var L=this._transformCorners(h),G=L.slice(0,2),B=G.slice(),W=2;W<8;W++){var F=L[W],Y=W&1;F<G[Y]?G[Y]=F:F>B[Y]&&(B[Y]=F)}return _||(_=new o),_._set(G[0],G[1],B[0]-G[0],B[1]-G[1],T)},inverseTransform:function(){return this._inverseTransform(r.read(arguments))},_inverseTransform:function(h,_,T){var L=this._a,G=this._b,B=this._c,W=this._d,F=this._tx,Y=this._ty,ie=L*W-G*B,he=null;if(ie&&!isNaN(ie)&&isFinite(F)&&isFinite(Y)){var U=h.x-this._tx,se=h.y-this._ty;_||(_=new r),he=_._set((U*W-se*B)/ie,(se*L-U*G)/ie,T)}return he},decompose:function(){var h=this._a,_=this._b,T=this._c,L=this._d,G=h*L-_*T,B=Math.sqrt,W=Math.atan2,F=180/Math.PI,Y,ie,he;if(h!==0||_!==0){var U=B(h*h+_*_);Y=Math.acos(h/U)*(_>0?1:-1),ie=[U,G/U],he=[W(h*T+_*L,U*U),0]}else if(T!==0||L!==0){var se=B(T*T+L*L);Y=Math.asin(T/se)*(L>0?1:-1),ie=[G/se,se],he=[0,W(h*T+_*L,se*se)]}else Y=0,he=ie=[0,0];return{translation:this.getTranslation(),rotation:Y*F,scaling:new r(ie),skewing:new r(he[0]*F,he[1]*F)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new r(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(h){this.isIdentity()||h.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},S.each(["a","b","c","d","tx","ty"],function(h){var _=S.capitalize(h),T="_"+h;this["get"+_]=function(){return this[T]},this["set"+_]=function(L){this[T]=L,this._changed()}},{})),p=S.extend({_class:"Line",initialize:function(_,T,L,G,B){var W=!1;arguments.length>=4?(this._px=_,this._py=T,this._vx=L,this._vy=G,W=B):(this._px=_.x,this._py=_.y,this._vx=T.x,this._vy=T.y,W=L),W||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new r(this._px,this._py)},getVector:function(){return new r(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(h,_){return p.intersect(this._px,this._py,this._vx,this._vy,h._px,h._py,h._vx,h._vy,!0,_)},getSide:function(h,_){return p.getSide(this._px,this._py,this._vx,this._vy,h.x,h.y,!0,_)},getDistance:function(h){return Math.abs(this.getSignedDistance(h))},getSignedDistance:function(h){return p.getSignedDistance(this._px,this._py,this._vx,this._vy,h.x,h.y,!0)},isCollinear:function(h){return r.isCollinear(this._vx,this._vy,h._vx,h._vy)},isOrthogonal:function(h){return r.isOrthogonal(this._vx,this._vy,h._vx,h._vy)},statics:{intersect:function(h,_,T,L,G,B,W,F,Y,ie){Y||(T-=h,L-=_,W-=G,F-=B);var he=T*F-L*W;if(!u.isMachineZero(he)){var U=h-G,se=_-B,ue=(W*se-F*U)/he,we=(T*se-L*U)/he,ce=1e-12,Se=-ce,$=1+ce;if(ie||Se<ue&&ue<$&&Se<we&&we<$)return ie||(ue=ue<=0?0:ue>=1?1:ue),new r(h+ue*T,_+ue*L)}},getSide:function(h,_,T,L,G,B,W,F){W||(T-=h,L-=_);var Y=G-h,ie=B-_,he=Y*L-ie*T;return!F&&u.isMachineZero(he)&&(he=(Y*T+Y*T)/(T*T+L*L),he>=0&&he<=1&&(he=0)),he<0?-1:he>0?1:0},getSignedDistance:function(h,_,T,L,G,B,W){return W||(T-=h,L-=_),T===0?L>0?G-h:h-G:L===0?T<0?B-_:_-B:((G-h)*L-(B-_)*T)/(L>T?L*Math.sqrt(1+T*T/(L*L)):T*Math.sqrt(1+L*L/(T*T)))},getDistance:function(h,_,T,L,G,B,W){return Math.abs(p.getSignedDistance(h,_,T,L,G,B,W))}}}),v=f.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(_){f.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new _e(null,null,this),this._view=Te.create(this,_||Me.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(h,_){return S.serialize(this._children,h,!0,_)},_changed:function(h,_){if(h&1){var T=this._view;T&&(T._needsUpdate=!0,!T._requested&&T._autoUpdate&&T.requestUpdate())}var L=this._changes;if(L&&_){var G=this._changesById,B=_._id,W=G[B];W?W.flags|=h:L.push(G[B]={item:_,flags:h})}},clear:function(){for(var h=this._children,_=h.length-1;_>=0;_--)h[_].remove()},isEmpty:function(){return!this._children.length},remove:function h(){return h.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(h){this._currentStyle.set(h)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new w({project:this,insert:!0})},getSymbolDefinitions:function(){var h=[],_={};return this.getItems({class:M,match:function(T){var L=T._definition,G=L._id;return _[G]||(_[G]=!0,h.push(L)),!1}}),h},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var h=this._selectionItems,_=[];for(var T in h){var L=h[T],G=L._selection;G&1&&L.isInserted()?_.push(L):G||this._updateSelection(L)}return _},_updateSelection:function(h){var _=h._id,T=this._selectionItems;h._selection?T[_]!==h&&(this._selectionCount++,T[_]=h):T[_]===h&&(this._selectionCount--,delete T[_])},selectAll:function(){for(var h=this._children,_=0,T=h.length;_<T;_++)h[_].setFullySelected(!0)},deselectAll:function(){var h=this._selectionItems;for(var _ in h)h[_].setFullySelected(!1)},addLayer:function(h){return this.insertLayer(Ye,h)},insertLayer:function(h,_){if(_ instanceof w){_._remove(!1,!0),S.splice(this._children,[_],h,0),_._setProject(this,!0);var T=_._name;T&&_.setName(T),this._changes&&_._changed(5),this._activeLayer||(this._activeLayer=_)}else _=null;return _},_insertItem:function(h,_,T){return _=this.insertLayer(h,_)||(this._activeLayer||this._insertItem(Ye,new w(b.NO_INSERT),!0)).insertChild(h,_),T&&_.activate&&_.activate(),_},getItems:function(h){return b._getItems(this,h)},getItem:function(h){return b._getItems(this,h,null,null,!0)[0]||null},importJSON:function(h){this.activate();var _=this._activeLayer;return S.importJSON(h,_&&_.isEmpty()&&_)},removeOn:function(h){var _=this._removeSets;if(_){h==="mouseup"&&(_.mousedrag=null);var T=_[h];if(T){for(var L in T){var G=T[L];for(var B in _){var W=_[B];W&&W!=T&&delete W[G._id]}G.remove()}_[h]=null}}},draw:function(h,_,T){this._updateVersion++,h.save(),_.applyToContext(h);for(var L=this._children,G=new S({offset:new r(0,0),pixelRatio:T,viewMatrix:_.isIdentity()?null:_,matrices:[new s],updateMatrix:!0}),B=0,W=L.length;B<W;B++)L[B].draw(h,G);if(h.restore(),this._selectionCount>0){h.save(),h.strokeWidth=1;var F=this._selectionItems,Y=this._scope.settings.handleSize,ie=this._updateVersion;for(var he in F)F[he]._drawSelection(h,_,Y,F,ie);h.restore()}}}),b=S.extend(y,{statics:{extend:function h(_){return _._serializeFields&&(_._serializeFields=S.set({},this.prototype._serializeFields,_._serializeFields)),h.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new s,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var h=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return S.each(h,function(_){this._events[_]={install:function(T){this.getView()._countItemEvent(T,1)},uninstall:function(T){this.getView()._countItemEvent(T,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:h}})},{initialize:function(){},_initialize:function(h,_){var T=h&&S.isPlainObject(h),L=T&&h.internal===!0,G=this._matrix=new s,B=T&&h.project||Le.project,W=Le.settings;return this._id=L?null:i.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&W.applyMatrix,_&&G.translate(_),G._owner=this,this._style=new _e(B._currentStyle,this,B),L||T&&h.insert==!1||!W.insertItems&&!(T&&h.insert==!0)?this._setProject(B):(T&&h.parent||B)._insertItem(Ye,this,!0),T&&h!==b.NO_INSERT&&h!==b.INSERT&&this.set(h,{internal:!0,insert:!0,project:!0,parent:!0}),T},_serialize:function(h,_){var T={},L=this;function G(B){for(var W in B){var F=L[W];S.equals(F,W==="leading"?B.fontSize*1.2:B[W])||(T[W]=S.serialize(F,h,W!=="data",_))}}return G(this._serializeFields),this instanceof x||G(this._style._defaults),[this._class,T]},_changed:function(h){var _=this._symbol,T=this._parent||_,L=this._project;h&8&&(this._bounds=this._position=this._decomposed=Ye),h&16&&(this._globalMatrix=Ye),T&&h&72&&b._clearBoundsCache(T),h&2&&b._clearBoundsCache(this),L&&L._changed(h,this),_&&_._changed(h)},getId:function(){return this._id},getName:function(){return this._name},setName:function(h){if(this._name&&this._removeNamed(),h===+h+"")throw new Error("Names consisting only of numbers are not supported.");var _=this._getOwner();if(h&&_){var T=_._children,L=_._namedChildren;(L[h]=L[h]||[]).push(this),h in T||(T[h]=this)}this._name=h||Ye,this._changed(256)},getStyle:function(){return this._style},setStyle:function(h){this.getStyle().set(h)}},S.each(["locked","visible","blendMode","opacity","guide"],function(h){var _=S.capitalize(h),T="_"+h,L={locked:256,visible:265};this["get"+_]=function(){return this[T]},this["set"+_]=function(G){G!=this[T]&&(this[T]=G,this._changed(L[h]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(h){if(h!==this._selection){this._selection=h;var _=this._project;_&&(_._updateSelection(this),this._changed(257))}},_changeSelection:function(h,_){var T=this._selection;this.setSelection(_?T|h:T&~h)},isSelected:function(){if(this._selectChildren){for(var h=this._children,_=0,T=h.length;_<T;_++)if(h[_].isSelected())return!0}return!!(this._selection&1)},setSelected:function(h){if(this._selectChildren)for(var _=this._children,T=0,L=_.length;T<L;T++)_[T].setSelected(h);this._changeSelection(1,h)},isFullySelected:function(){var h=this._children,_=!!(this._selection&1);if(h&&_){for(var T=0,L=h.length;T<L;T++)if(!h[T].isFullySelected())return!1;return!0}return _},setFullySelected:function(h){var _=this._children;if(_)for(var T=0,L=_.length;T<L;T++)_[T].setFullySelected(h);this._changeSelection(1,h)},isClipMask:function(){return this._clipMask},setClipMask:function(h){this._clipMask!=(h=!!h)&&(this._clipMask=h,h&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(h){this._data=h},getPosition:function(h){var _=h?r:t,T=this._position||(this._position=this._getPositionFromBounds());return new _(T.x,T.y,this,"setPosition")},setPosition:function(){this.translate(r.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(h){return this._pivot?this._matrix._transformPoint(this._pivot):(h||this.getBounds()).getCenter(!0)},getPivot:function(){var h=this._pivot;return h?new t(h.x,h.y,this,"setPivot"):null},setPivot:function(){this._pivot=r.read(arguments,0,{clone:!0,readNull:!0}),this._position=Ye}},S.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(h,_){this[_]=function(T){return this.getBounds(T,h)}},{beans:!0,getBounds:function(h,_){var T=_||h instanceof s,L=S.set({},T?_:h,this._boundsOptions);(!L.stroke||this.getStrokeScaling())&&(L.cacheItem=this);var G=this._getCachedBounds(T&&h,L).rect;return arguments.length?G:new c(G.x,G.y,G.width,G.height,this,"setBounds")},setBounds:function(){var h=o.read(arguments),_=this.getBounds(),T=this._matrix,L=new s,G=h.getCenter();L.translate(G),(h.width!=_.width||h.height!=_.height)&&(T.isInvertible()||(T.set(T._backup||new s().translate(T.getTranslation())),_=this.getBounds()),L.scale(_.width!==0?h.width/_.width:0,_.height!==0?h.height/_.height:0)),G=_.getCenter(),L.translate(-G.x,-G.y),this.transform(L)},_getBounds:function(h,_){var T=this._children;return!T||!T.length?new o:(b._updateBoundsCache(this,_.cacheItem),b._getBounds(T,h,_))},_getBoundsCacheKey:function(h,_){return[h.stroke?1:0,h.handle?1:0,_?1:0].join("")},_getCachedBounds:function(h,_,T){h=h&&h._orNullIfIdentity();var L=_.internal&&!T,G=_.cacheItem,B=L?null:this._matrix._orNullIfIdentity(),W=G&&(!h||h.equals(B))&&this._getBoundsCacheKey(_,L),F=this._bounds;if(b._updateBoundsCache(this._parent||this._symbol,G),W&&F&&W in F){var Y=F[W];return{rect:Y.rect.clone(),nonscaling:Y.nonscaling}}var ie=this._getBounds(h||B,_),he=ie.rect||ie,U=this._style,se=ie.nonscaling||U.hasStroke()&&!U.getStrokeScaling();if(W){F||(this._bounds=F={});var Y=F[W]={rect:he.clone(),nonscaling:se,internal:L}}return{rect:he,nonscaling:se}},_getStrokeMatrix:function(h,_){var T=this.getStrokeScaling()?null:_&&_.internal?this:this._parent||this._symbol&&this._symbol._item,L=T?T.getViewMatrix().invert():h;return L&&L._shiftless()},statics:{_updateBoundsCache:function(h,_){if(h&&_){var T=_._id,L=h._boundsCache=h._boundsCache||{ids:{},list:[]};L.ids[T]||(L.list.push(_),L.ids[T]=_)}},_clearBoundsCache:function(h){var _=h._boundsCache;if(_){h._bounds=h._position=h._boundsCache=Ye;for(var T=0,L=_.list,G=L.length;T<G;T++){var B=L[T];B!==h&&(B._bounds=B._position=Ye,B._boundsCache&&b._clearBoundsCache(B))}}},_getBounds:function(h,_,T){var L=1/0,G=-L,B=L,W=G,F=!1;T=T||{};for(var Y=0,ie=h.length;Y<ie;Y++){var he=h[Y];if(he._visible&&!he.isEmpty(!0)){var U=he._getCachedBounds(_&&_.appended(he._matrix),T,!0),se=U.rect;L=Math.min(se.x,L),B=Math.min(se.y,B),G=Math.max(se.x+se.width,G),W=Math.max(se.y+se.height,W),U.nonscaling&&(F=!0)}}return{rect:isFinite(L)?new o(L,B,G-L,W-B):new o,nonscaling:F}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var h=this._decompose();return h?h.rotation:0},setRotation:function(h){var _=this.getRotation();if(_!=null&&h!=null){var T=this._decomposed;this.rotate(h-_),T&&(T.rotation=h,this._decomposed=T)}},getScaling:function(){var h=this._decompose(),_=h&&h.scaling;return new t(_?_.x:1,_?_.y:1,this,"setScaling")},setScaling:function(){var h=this.getScaling(),_=r.read(arguments,0,{clone:!0,readNull:!0});if(h&&_&&!h.equals(_)){var T=this.getRotation(),L=this._decomposed,G=new s,B=u.isZero;if(B(h.x)||B(h.y))G.translate(L.translation),T&&G.rotate(T),G.scale(_.x,_.y),this._matrix.set(G);else{var W=this.getPosition(!0);G.translate(W),T&&G.rotate(T),G.scale(_.x/h.x,_.y/h.y),T&&G.rotate(-T),G.translate(W.negate()),this.transform(G)}L&&(L.scaling=_,this._decomposed=L)}},getMatrix:function(){return this._matrix},setMatrix:function(){var h=this._matrix;h.set.apply(h,arguments)},getGlobalMatrix:function(h){var _=this._globalMatrix;if(_)for(var T=this._parent,L=[];T;){if(!T._globalMatrix){_=null;for(var G=0,B=L.length;G<B;G++)L[G]._globalMatrix=null;break}L.push(T),T=T._parent}if(!_){_=this._globalMatrix=this._matrix.clone();var T=this._parent;T&&_.prepend(T.getGlobalMatrix(!0))}return h?_:_.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(h){(this._applyMatrix=this._canApplyMatrix&&!!h)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(h,_){if(this._project!==h){this._project&&this._installEvents(!1),this._project=h;for(var T=this._children,L=0,G=T&&T.length;L<G;L++)T[L]._setProject(h);_=!0}_&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function h(_){h.base.call(this,_);for(var T=this._children,L=0,G=T&&T.length;L<G;L++)T[L]._installEvents(_)},getLayer:function(){for(var h=this;h=h._parent;)if(h instanceof w)return h;return null},getParent:function(){return this._parent},setParent:function(h){return h.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(h){this.removeChildren(),this.addChildren(h)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var h=this._getOwner();return h&&h._children[this._index+1]||null},getPreviousSibling:function(){var h=this._getOwner();return h&&h._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(h){return h===this||h&&this._class===h._class&&this._style.equals(h._style)&&this._matrix.equals(h._matrix)&&this._locked===h._locked&&this._visible===h._visible&&this._blendMode===h._blendMode&&this._opacity===h._opacity&&this._clipMask===h._clipMask&&this._guide===h._guide&&this._equals(h)||!1},_equals:function(h){return S.equals(this._children,h._children)},clone:function(h){var _=new this.constructor(b.NO_INSERT),T=this._children,L=S.pick(h?h.insert:Ye,h===Ye||h===!0),G=S.pick(h?h.deep:Ye,!0);T&&_.copyAttributes(this),(!T||G)&&_.copyContent(this),T||_.copyAttributes(this),L&&_.insertAbove(this);var B=this._name,W=this._parent;if(B&&W){for(var T=W._children,F=B,Y=1;T[B];)B=F+" "+Y++;B!==F&&_.setName(B)}return _},copyContent:function(h){for(var _=h._children,T=0,L=_&&_.length;T<L;T++)this.addChild(_[T].clone(!1),!0)},copyAttributes:function(h,_){this.setStyle(h._style);for(var T=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],L=0,G=T.length;L<G;L++){var B=T[L];h.hasOwnProperty(B)&&(this[B]=h[B])}_||this._matrix.set(h._matrix,!0),this.setApplyMatrix(h._applyMatrix),this.setPivot(h._pivot),this.setSelection(h._selection);var W=h._data,F=h._name;this._data=W?S.clone(W):null,F&&this.setName(F)},rasterize:function(h,_){var T,L,G;S.isPlainObject(h)?(T=h.resolution,L=h.insert,G=h.raster):(T=h,L=_),G||(G=new E(b.NO_INSERT));var B=this.getStrokeBounds(),W=(T||this.getView().getResolution())/72,F=B.getTopLeft().floor(),Y=B.getBottomRight().ceil(),ie=new a(Y.subtract(F)),he=ie.multiply(W);if(G.setSize(he,!0),!he.isZero()){var U=G.getContext(!0),se=new s().scale(W).translate(F.negate());U.save(),se.applyToContext(U),this.draw(U,new S({matrices:[se]})),U.restore()}return G._matrix.set(new s().translate(F.add(ie.divide(2))).scale(1/W)),(L===Ye||L)&&G.insertAbove(this),G},contains:function(){var h=this._matrix;return h.isInvertible()&&!!this._contains(h._inverseTransform(r.read(arguments)))},_contains:function(h){var _=this._children;if(_){for(var T=_.length-1;T>=0;T--)if(_[T].contains(h))return!0;return!1}return h.isInside(this.getInternalBounds())},isInside:function(){return o.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new H.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(h,_){return h instanceof b?this._asPathItem().getIntersections(h._asPathItem(),null,_,!0).length>0:!1}},new function(){function h(){var L=arguments;return this._hitTest(r.read(L),P.getOptions(L))}function _(){var L=arguments,G=r.read(L),B=P.getOptions(L),W=[];return this._hitTest(G,new S({all:W},B)),W}function T(L,G,B,W){var F=this._children;if(F)for(var Y=F.length-1;Y>=0;Y--){var ie=F[Y],he=ie!==W&&ie._hitTest(L,G,B);if(he&&!G.all)return he}return null}return v.inject({hitTest:h,hitTestAll:_,_hitTest:T}),{hitTest:h,hitTestAll:_,_hitTestChildren:T}},{_hitTest:function(h,_,T){if(this._locked||!this._visible||this._guide&&!_.guides||this.isEmpty())return null;var L=this._matrix,G=T?T.appended(L):this.getGlobalMatrix().prepend(this.getView()._matrix),B=Math.max(_.tolerance,1e-12),W=_._tolerancePadding=new a(H._getStrokePadding(B,L._shiftless().invert()));if(h=L._inverseTransform(h),!h||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(W.multiply(2))._containsPoint(h))return null;var F=!(_.guides&&!this._guide||_.selected&&!this.isSelected()||_.type&&_.type!==S.hyphenate(this._class)||_.class&&!(this instanceof _.class)),Y=_.match,ie=this,he,U;function se(be){return be&&Y&&!Y(be)&&(be=null),be&&_.all&&_.all.push(be),be}function ue(be,k){var ye=k?he["get"+k]():ie.getPosition();if(h.subtract(ye).divide(W).length<=1)return new P(be,ie,{name:k?S.hyphenate(k):be,point:ye})}var we=_.position,ce=_.center,Se=_.bounds;if(F&&this._parent&&(we||ce||Se)){if((ce||Se)&&(he=this.getInternalBounds()),U=we&&ue("position")||ce&&ue("center","Center"),!U&&Se)for(var $=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],je=0;je<8&&!U;je++)U=ue("bounds",$[je]);U=se(U)}return U||(U=this._hitTestChildren(h,_,G)||F&&se(this._hitTestSelf(h,_,G,this.getStrokeScaling()?null:G._shiftless().invert()))||null),U&&U.point&&(U.point=L.transform(U.point)),U},_hitTestSelf:function(h,_){if(_.fill&&this.hasFill()&&this._contains(h))return new P("fill",this)},matches:function(h,_){function T(W,F){for(var Y in W)if(W.hasOwnProperty(Y)){var ie=W[Y],he=F[Y];if(S.isPlainObject(ie)&&S.isPlainObject(he)){if(!T(ie,he))return!1}else if(!S.equals(ie,he))return!1}return!0}var L=typeof h;if(L==="object"){for(var G in h)if(h.hasOwnProperty(G)&&!this.matches(G,h[G]))return!1;return!0}else{if(L==="function")return h(this);if(h==="match")return _(this);var B=/^(empty|editable)$/.test(h)?this["is"+S.capitalize(h)]():h==="type"?S.hyphenate(this._class):this[h];if(h==="class"){if(typeof _=="function")return this instanceof _;B=this._class}if(typeof _=="function")return!!_(B);if(_){if(_.test)return _.test(B);if(S.isPlainObject(_))return T(_,B)}return S.equals(B,_)}},getItems:function(h){return b._getItems(this,h,this._matrix)},getItem:function(h){return b._getItems(this,h,this._matrix,null,!0)[0]||null},statics:{_getItems:function h(_,T,L,G,B){if(!G){var W=typeof T=="object"&&T,F=W&&W.overlapping,Y=W&&W.inside,ie=F||Y,se=ie&&o.read([ie]);G={items:[],recursive:W&&W.recursive!==!1,inside:!!Y,overlapping:!!F,rect:se,path:F&&new H.Rectangle({rectangle:se,insert:!1})},W&&(T=S.filter({},T,{recursive:!0,inside:!0,overlapping:!0}))}var he=_._children,U=G.items,se=G.rect;L=se&&(L||new s);for(var ue=0,we=he&&he.length;ue<we;ue++){var ce=he[ue],Se=L&&L.appended(ce._matrix),$=!0;if(se){var ie=ce.getBounds(Se);if(!se.intersects(ie))continue;se.contains(ie)||G.overlapping&&(ie.contains(se)||G.path.intersects(ce,Se))||($=!1)}if($&&ce.matches(T)&&(U.push(ce),B)||(G.recursive!==!1&&h(ce,T,Se,G,B),B&&U.length>0))break}return U}}},{importJSON:function(h){var _=S.importJSON(h,this);return _!==this?this.addChild(_):_},addChild:function(h){return this.insertChild(Ye,h)},insertChild:function(h,_){var T=_?this.insertChildren(h,[_]):null;return T&&T[0]},addChildren:function(h){return this.insertChildren(this._children.length,h)},insertChildren:function(h,_){var T=this._children;if(T&&_&&_.length>0){_=S.slice(_);for(var L={},G=_.length-1;G>=0;G--){var B=_[G],W=B&&B._id;!B||L[W]?_.splice(G,1):(B._remove(!1,!0),L[W]=!0)}S.splice(T,_,h,0);for(var F=this._project,Y=F._changes,G=0,ie=_.length;G<ie;G++){var B=_[G],he=B._name;B._parent=this,B._setProject(F,!0),he&&B.setName(he),Y&&B._changed(5)}this._changed(11)}else _=null;return _},_insertItem:"#insertChild",_insertAt:function(h,_){var T=h&&h._getOwner(),L=h!==this&&T?this:null;return L&&(L._remove(!1,!0),T._insertItem(h._index+_,L)),L},insertAbove:function(h){return this._insertAt(h,1)},insertBelow:function(h){return this._insertAt(h,0)},sendToBack:function(){var h=this._getOwner();return h?h._insertItem(0,this):null},bringToFront:function(){var h=this._getOwner();return h?h._insertItem(Ye,this):null},appendTop:"#addChild",appendBottom:function(h){return this.insertChild(0,h)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(h){return h._insertItem(Ye,this)},copyTo:function(h){return this.clone(!1).addTo(h)},reduce:function(h){var _=this._children;if(_&&_.length===1){var T=_[0].reduce(h);return this._parent?(T.insertAbove(this),this.remove()):T.remove(),T}return this},_removeNamed:function(){var h=this._getOwner();if(h){var _=h._children,T=h._namedChildren,L=this._name,G=T[L],B=G?G.indexOf(this):-1;B!==-1&&(_[L]==this&&delete _[L],G.splice(B,1),G.length?_[L]=G[0]:delete T[L])}},_remove:function(h,_){var T=this._getOwner(),L=this._project,G=this._index;return this._style&&this._style._dispose(),T?(this._name&&this._removeNamed(),G!=null&&(L._activeLayer===this&&(L._activeLayer=this.getNextSibling()||this.getPreviousSibling()),S.splice(T._children,null,G,1)),this._installEvents(!1),h&&L._changes&&this._changed(5),_&&T._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(h){var _=h&&h.insertBelow(this);return _&&this.remove(),_},removeChildren:function(h,_){if(!this._children)return null;h=h||0,_=S.pick(_,this._children.length);for(var T=S.splice(this._children,null,h,_-h),L=T.length-1;L>=0;L--)T[L]._remove(!0,!1);return T.length>0&&this._changed(11),T},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var h=0,_=this._children.length;h<_;h++)this._children[h]._index=h;this._changed(11)}},isEmpty:function(h){var _=this._children,T=_?_.length:0;if(h){for(var L=0;L<T;L++)if(!_[L].isEmpty(h))return!1;return!0}return!T},isEditable:function(){for(var h=this;h;){if(!h._visible||h._locked)return!1;h=h._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(h){function _(W){var F=[];do F.unshift(W);while(W=W._parent);return F}for(var T=_(this),L=_(h),G=0,B=Math.min(T.length,L.length);G<B;G++)if(T[G]!=L[G])return T[G]._index<L[G]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(h){return this._getOrder(h)===-1},isBelow:function(h){return this._getOrder(h)===1},isParent:function(h){return this._parent===h},isChild:function(h){return h&&h._parent===this},isDescendant:function(h){for(var _=this;_=_._parent;)if(_===h)return!0;return!1},isAncestor:function(h){return h?h.isDescendant(this):!1},isSibling:function(h){return this._parent===h._parent},isGroupedWith:function(h){for(var _=this._parent;_;){if(_._parent&&/^(Group|Layer|CompoundPath)$/.test(_._class)&&h.isDescendant(_))return!0;_=_._parent}return!1}},S.each(["rotate","scale","shear","skew"],function(h){var _=h==="rotate";this[h]=function(){var T=arguments,L=(_?S:r).read(T),G=r.read(T,0,{readNull:!0});return this.transform(new s()[h](L,G||this.getPosition(!0)))}},{translate:function(){var h=new s;return this.transform(h.translate.apply(h,arguments))},transform:function(h,_,T){var L=this._matrix,G=h&&!h.isIdentity(),B=T&&this._canApplyMatrix||this._applyMatrix&&(G||!L.isIdentity()||_&&this._children);if(!G&&!B)return this;if(G){!h.isInvertible()&&L.isInvertible()&&(L._backup=L.getValues()),L.prepend(h,!0);var W=this._style,F=W.getFillColor(!0),Y=W.getStrokeColor(!0);F&&F.transform(h),Y&&Y.transform(h)}if(B&&(B=this._transformContent(L,_,T))){var ie=this._pivot;ie&&L._transformPoint(ie,ie,!0),L.reset(!0),T&&this._canApplyMatrix&&(this._applyMatrix=!0)}var he=this._bounds,U=this._position;(G||B)&&this._changed(25);var se=G&&he&&h.decompose();if(se&&se.skewing.isZero()&&se.rotation%90===0){for(var ue in he){var we=he[ue];if(we.nonscaling)delete he[ue];else if(B||!we.internal){var ce=we.rect;h._transformBounds(ce,ce)}}this._bounds=he;var Se=he[this._getBoundsCacheKey(this._boundsOptions||{})];Se&&(this._position=this._getPositionFromBounds(Se.rect))}else G&&U&&this._pivot&&(this._position=h._transformPoint(U,U));return this},_transformContent:function(h,_,T){var L=this._children;if(L){for(var G=0,B=L.length;G<B;G++)L[G].transform(h,_,T);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(r.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(r.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(r.read(arguments))},localToParent:function(){return this._matrix._transformPoint(r.read(arguments))},fitBounds:function(h,_){h=o.read(arguments);var T=this.getBounds(),L=T.height/T.width,G=h.height/h.width,B=(_?L>G:L<G)?h.width/T.width:h.height/T.height,W=new o(new r,new a(T.width*B,T.height*B));W.setCenter(h.getCenter()),this.setBounds(W)}}),{_setStyles:function(h,_,T){var L=this._style,G=this._matrix;if(L.hasFill()&&(h.fillStyle=L.getFillColor().toCanvasStyle(h,G)),L.hasStroke()){h.strokeStyle=L.getStrokeColor().toCanvasStyle(h,G),h.lineWidth=L.getStrokeWidth();var B=L.getStrokeJoin(),W=L.getStrokeCap(),F=L.getMiterLimit();if(B&&(h.lineJoin=B),W&&(h.lineCap=W),F&&(h.miterLimit=F),Le.support.nativeDash){var Y=L.getDashArray(),ie=L.getDashOffset();Y&&Y.length&&("setLineDash"in h?(h.setLineDash(Y),h.lineDashOffset=ie):(h.mozDash=Y,h.mozDashOffset=ie))}}if(L.hasShadow()){var he=_.pixelRatio||1,U=T._shiftless().prepend(new s().scale(he,he)),se=U.transform(new r(L.getShadowBlur(),0)),ue=U.transform(this.getShadowOffset());h.shadowColor=L.getShadowColor().toCanvasStyle(h),h.shadowBlur=se.getLength(),h.shadowOffsetX=ue.x,h.shadowOffsetY=ue.y}},draw:function(h,_,T){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var L=_.matrices,G=_.viewMatrix,B=this._matrix,W=L[L.length-1].appended(B);if(W.isInvertible()){G=G?G.appended(W):W,L.push(W),_.updateMatrix&&(this._globalMatrix=W);var F=this._blendMode,Y=u.clamp(this._opacity,0,1),ie=F==="normal",he=pe.nativeModes[F],U=ie&&Y===1||_.dontStart||_.clip||(he||ie&&Y<1)&&this._canComposite(),se=_.pixelRatio||1,ue,we,ce;if(!U){var Se=this.getStrokeBounds(G);if(!Se.width||!Se.height){L.pop();return}ce=_.offset,we=_.offset=Se.getTopLeft().floor(),ue=h,h=Me.getContext(Se.getSize().ceil().add(1).multiply(se)),se!==1&&h.scale(se,se)}h.save();var $=T?T.appended(B):this._canScaleStroke&&!this.getStrokeScaling(!0)&&G,je=!U&&_.clipItem,be=!$||je;if(U?(h.globalAlpha=Y,he&&(h.globalCompositeOperation=F)):be&&h.translate(-we.x,-we.y),be&&(U?B:G).applyToContext(h),je&&_.clipItem.draw(h,_.extend({clip:!0})),$){h.setTransform(se,0,0,se,0,0);var k=_.offset;k&&h.translate(-k.x,-k.y)}this._draw(h,_,G,$),h.restore(),L.pop(),_.clip&&!_.dontFinish&&h.clip(this.getFillRule()),U||(pe.process(F,h,ue,Y,we.subtract(ce).multiply(se)),Me.release(h),_.offset=ce)}}},_isUpdated:function(h){var _=this._parent;if(_ instanceof ee)return _._isUpdated(h);var T=this._updateVersion===h;return!T&&_&&_._visible&&_._isUpdated(h)&&(this._updateVersion=h,T=!0),T},_drawSelection:function(h,_,T,L,G){var B=this._selection,W=B&1,F=B&2||W&&this._selectBounds,Y=B&4;if(this._drawSelected||(W=!1),(W||F||Y)&&this._isUpdated(G)){var ie,he=this.getSelectedColor(!0)||(ie=this.getLayer())&&ie.getSelectedColor(!0),U=_.appended(this.getGlobalMatrix(!0)),se=T/2;if(h.strokeStyle=h.fillStyle=he?he.toCanvasStyle(h):"#009dec",W&&this._drawSelected(h,U,L),Y){var ue=this.getPosition(!0),we=this._parent,ce=we?we.localToGlobal(ue):ue,Se=ce.x,$=ce.y;h.beginPath(),h.arc(Se,$,se,0,Math.PI*2,!0),h.stroke();for(var je=[[0,-1],[1,0],[0,1],[-1,0]],be=se,k=T+1,ye=0;ye<4;ye++){var Ce=je[ye],X=Ce[0],Ee=Ce[1];h.moveTo(Se+X*be,$+Ee*be),h.lineTo(Se+X*k,$+Ee*k),h.stroke()}}if(F){var Fe=U._transformCorners(this.getInternalBounds());h.beginPath();for(var ye=0;ye<8;ye++)h[ye?"lineTo":"moveTo"](Fe[ye],Fe[++ye]);h.closePath(),h.stroke();for(var ye=0;ye<8;ye++)h.fillRect(Fe[ye]-se,Fe[++ye]-se,T,T)}}},_canComposite:function(){return!1}},S.each(["down","drag","up","move"],function(h){this["removeOn"+S.capitalize(h)]=function(){var _={};return _[h]=!0,this.removeOn(_)}},{removeOn:function(h){for(var _ in h)if(h[_]){var T="mouse"+_,L=this._project,G=L._removeSets=L._removeSets||{};G[T]=G[T]||{},G[T][this._id]=this}return this}}),{tween:function(h,_,T){T||(T=_,_=h,h=null,T||(T=_,_=null));var L=T&&T.easing,G=T&&T.start,B=T!=null&&(typeof T=="number"?T:T.duration),W=new ae(this,h,_,B,L,G);function F(Y){W._handleFrame(Y.time*1e3),W.running||this.off("frame",F)}return B&&this.on("frame",F),W},tweenTo:function(h,_){return this.tween(null,h,_)},tweenFrom:function(h,_){return this.tween(h,null,_)}}),x=b.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(_){this._children=[],this._namedChildren={},this._initialize(_)||this.addChildren(Array.isArray(_)?_:arguments)},_changed:function h(_){h.base.call(this,_),_&2050&&(this._clipItem=Ye)},_getClipItem:function(){var h=this._clipItem;if(h===Ye){h=null;for(var _=this._children,T=0,L=_.length;T<L;T++)if(_[T]._clipMask){h=_[T];break}this._clipItem=h}return h},isClipped:function(){return!!this._getClipItem()},setClipped:function(h){var _=this.getFirstChild();_&&_.setClipMask(h)},_getBounds:function h(_,T){var L=this._getClipItem();return L?L._getCachedBounds(L._matrix.prepended(_),S.set({},T,{stroke:!1})):h.base.call(this,_,T)},_hitTestChildren:function h(_,T,L){var G=this._getClipItem();return(!G||G.contains(_))&&h.base.call(this,_,T,L,G)},_draw:function(h,_){var T=_.clip,L=!T&&this._getClipItem();_=_.extend({clipItem:L,clip:!1}),T?(h.beginPath(),_.dontStart=_.dontFinish=!0):L&&L.draw(h,_.extend({clip:!0}));for(var G=this._children,B=0,W=G.length;B<W;B++){var F=G[B];F!==L&&F.draw(h,_)}}}),w=x.extend({_class:"Layer",initialize:function(){x.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function h(){return this._parent?h.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),j=b.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(_,T){this._initialize(_,T)},_equals:function(h){return this._type===h._type&&this._size.equals(h._size)&&S.equals(this._radius,h._radius)},copyContent:function(h){this.setType(h._type),this.setSize(h._size),this.setRadius(h._radius)},getType:function(){return this._type},setType:function(h){this._type=h},getShape:"#getType",setShape:"#setType",getSize:function(){var h=this._size;return new l(h.width,h.height,this,"setSize")},setSize:function(){var h=a.read(arguments);if(!this._size)this._size=h.clone();else if(!this._size.equals(h)){var _=this._type,T=h.width,L=h.height;_==="rectangle"?this._radius.set(a.min(this._radius,h.divide(2).abs())):_==="circle"?(T=L=(T+L)/2,this._radius=T/2):_==="ellipse"&&this._radius._set(T/2,L/2),this._size._set(T,L),this._changed(9)}},getRadius:function(){var h=this._radius;return this._type==="circle"?h:new l(h.width,h.height,this,"setRadius")},setRadius:function(h){var _=this._type;if(_==="circle"){if(h===this._radius)return;var T=h*2;this._radius=h,this._size._set(T,T)}else if(h=a.read(arguments),!this._radius)this._radius=h.clone();else{if(this._radius.equals(h))return;if(this._radius.set(h),_==="rectangle"){var T=a.max(this._size,h.multiply(2));this._size.set(T)}else _==="ellipse"&&this._size._set(h.width*2,h.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(h){var _=new H[S.capitalize(this._type)]({center:new r,size:this._size,radius:this._radius,insert:!1});return _.copyAttributes(this),Le.settings.applyMatrix&&_.setApplyMatrix(!0),(h===Ye||h)&&_.insertAbove(this),_},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(h,_,T,L){var G=this._style,B=G.hasFill(),W=G.hasStroke(),F=_.dontFinish||_.clip,Y=!L;if(B||W||F){var ie=this._type,he=this._radius,U=ie==="circle";if(_.dontStart||h.beginPath(),Y&&U)h.arc(0,0,he,0,Math.PI*2,!0);else{var se=U?he:he.width,ue=U?he:he.height,we=this._size,ce=we.width,Se=we.height;if(Y&&ie==="rectangle"&&se===0&&ue===0)h.rect(-ce/2,-Se/2,ce,Se);else{var $=ce/2,je=Se/2,be=1-.5522847498307936,k=se*be,ye=ue*be,Ce=[-$,-je+ue,-$,-je+ye,-$+k,-je,-$+se,-je,$-se,-je,$-k,-je,$,-je+ye,$,-je+ue,$,je-ue,$,je-ye,$-k,je,$-se,je,-$+se,je,-$+k,je,-$,je-ye,-$,je-ue];L&&L.transform(Ce,Ce,32),h.moveTo(Ce[0],Ce[1]),h.bezierCurveTo(Ce[2],Ce[3],Ce[4],Ce[5],Ce[6],Ce[7]),$!==se&&h.lineTo(Ce[8],Ce[9]),h.bezierCurveTo(Ce[10],Ce[11],Ce[12],Ce[13],Ce[14],Ce[15]),je!==ue&&h.lineTo(Ce[16],Ce[17]),h.bezierCurveTo(Ce[18],Ce[19],Ce[20],Ce[21],Ce[22],Ce[23]),$!==se&&h.lineTo(Ce[24],Ce[25]),h.bezierCurveTo(Ce[26],Ce[27],Ce[28],Ce[29],Ce[30],Ce[31])}}h.closePath()}!F&&(B||W)&&(this._setStyles(h,_,T),B&&(h.fill(G.getFillRule()),h.shadowColor="rgba(0,0,0,0)"),W&&h.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(h,_){var T=new o(this._size).setCenter(0,0),L=this._style,G=_.stroke&&L.hasStroke()&&L.getStrokeWidth();return h&&(T=h._transformBounds(T)),G?T.expand(H._getStrokePadding(G,this._getStrokeMatrix(h,_))):T}},new function(){function h(T,L,G){var B=T._radius;if(!B.isZero())for(var W=T._size.divide(2),F=1;F<=4;F++){var Y=new r(F>1&&F<4?-1:1,F>2?-1:1),ie=Y.multiply(W),he=ie.subtract(Y.multiply(B)),U=new o(G?ie.add(Y.multiply(G)):ie,he);if(U.contains(L))return{point:he,quadrant:F}}}function _(T,L,G,B){var W=T.divide(L);return(!B||W.isInQuadrant(B))&&W.subtract(W.normalize()).multiply(L).divide(G).length<=1}return{_contains:function T(L){if(this._type==="rectangle"){var G=h(this,L);return G?L.subtract(G.point).divide(this._radius).getLength()<=1:T.base.call(this,L)}else return L.divide(this.size).getLength()<=.5},_hitTestSelf:function T(L,G,B,W){var F=!1,Y=this._style,ie=G.stroke&&Y.hasStroke(),he=G.fill&&Y.hasFill();if(ie||he){var U=this._type,se=this._radius,ue=ie?Y.getStrokeWidth()/2:0,we=G._tolerancePadding.add(H._getStrokePadding(ue,!Y.getStrokeScaling()&&W));if(U==="rectangle"){var ce=we.multiply(2),Se=h(this,L,ce);if(Se)F=_(L.subtract(Se.point),se,we,Se.quadrant);else{var $=new o(this._size).setCenter(0,0),je=$.expand(ce),be=$.expand(ce.negate());F=je._containsPoint(L)&&!be._containsPoint(L)}}else F=_(L,se,we)}return F?new P(ie?"stroke":"fill",this):T.base.apply(this,arguments)}}},{statics:new function(){function h(_,T,L,G,B){var W=S.create(j.prototype);return W._type=_,W._size=L,W._radius=G,W._initialize(S.getNamed(B),T),W}return{Circle:function(){var _=arguments,T=r.readNamed(_,"center"),L=S.readNamed(_,"radius");return h("circle",T,new a(L*2),L,_)},Rectangle:function(){var _=arguments,T=o.readNamed(_,"rectangle"),L=a.min(a.readNamed(_,"radius"),T.getSize(!0).divide(2));return h("rectangle",T.getCenter(!0),T.getSize(!0),L,_)},Ellipse:function(){var _=arguments,T=j._readEllipse(_),L=T.radius;return h("ellipse",T.center,L.multiply(2),L,_)},_readEllipse:function(_){var T,L;if(S.hasNamed(_,"radius"))T=r.readNamed(_,"center"),L=a.readNamed(_,"radius");else{var G=o.readNamed(_,"rectangle");T=G.getCenter(!0),L=G.getSize(!0).divide(2)}return{center:T,radius:L}}}}}),E=b.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(_,T){if(!this._initialize(_,T!==Ye&&r.read(arguments))){var L,G=typeof _,B=G==="string"?Z.getElementById(_):G==="object"?_:null;if(B&&B!==b.NO_INSERT){if(B.getContext||B.naturalHeight!=null)L=B;else if(B){var W=a.read(arguments);W.isZero()||(L=Me.getCanvas(W))}}L?this.setImage(L):this.setSource(_)}this._size||(this._size=new a,this._loaded=!1)},_equals:function(h){return this.getSource()===h.getSource()},copyContent:function(h){var _=h._image,T=h._canvas;if(_)this._setImage(_);else if(T){var L=Me.getCanvas(h._size);L.getContext("2d").drawImage(T,0,0),this._setImage(L)}this._crossOrigin=h._crossOrigin},getSize:function(){var h=this._size;return new l(h?h.width:0,h?h.height:0,this,"setSize")},setSize:function(h,_){var T=a.read(arguments);if(T.equals(this._size))_&&this.clear();else if(T.width>0&&T.height>0){var L=!_&&this.getElement();this._setImage(Me.getCanvas(T)),L&&this.getContext(!0).drawImage(L,0,0,T.width,T.height)}else this._canvas&&Me.release(this._canvas),this._size=T.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(h){this.setSize(h,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(h){this.setSize(this.getWidth(),h)},getLoaded:function(){return this._loaded},isEmpty:function(){var h=this._size;return!h||h.width===0&&h.height===0},getResolution:function(){var h=this._matrix,_=new r(0,0).transform(h),T=new r(1,0).transform(h).subtract(_),L=new r(0,1).transform(h).subtract(_);return new a(72/T.getLength(),72/L.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(h){var _=this;function T(L){var G=_.getView(),B=L&&L.type||"load";G&&_.responds(B)&&(Le=G._scope,_.emit(B,new Re(L)))}this._setImage(h),this._loaded?setTimeout(T,0):h&&De.add(h,{load:function(L){_._setImage(h),T(L)},error:T})},_setImage:function(h){this._canvas&&Me.release(this._canvas),h&&h.getContext?(this._image=null,this._canvas=h,this._loaded=!0):(this._image=h,this._canvas=null,this._loaded=!!(h&&h.src&&h.complete)),this._size=new a(h?h.naturalWidth||h.width:0,h?h.naturalHeight||h.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var h=Me.getContext(this._size);try{this._image&&h.drawImage(this._image,0,0),this._canvas=h.canvas}catch{Me.release(h)}}return this._canvas},setCanvas:"#setImage",getContext:function(h){return this._context||(this._context=this.getCanvas().getContext("2d")),h&&(this._image=null,this._changed(1025)),this._context},setContext:function(h){this._context=h},getSource:function(){var h=this._image;return h&&h.src||this.toDataURL()},setSource:function(h){var _=new Je.Image,T=this._crossOrigin;T&&(_.crossOrigin=T),h&&(_.src=h),this.setImage(_)},getCrossOrigin:function(){var h=this._image;return h&&h.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(h){this._crossOrigin=h;var _=this._image;_&&(_.crossOrigin=h)},getSmoothing:function(){return this._smoothing},setSmoothing:function(h){this._smoothing=typeof h=="string"?h:h?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var h=o.read(arguments),_=Me.getContext(h.getSize());return _.drawImage(this.getCanvas(),h.x,h.y,h.width,h.height,0,0,h.width,h.height),_.canvas},getSubRaster:function(){var h=o.read(arguments),_=new E(b.NO_INSERT);return _._setImage(this.getSubCanvas(h)),_.translate(h.getCenter().subtract(this.getSize().divide(2))),_._matrix.prepend(this._matrix),_.insertAbove(this),_},toDataURL:function(){var h=this._image,_=h&&h.src;if(/^data:/.test(_))return _;var T=this.getCanvas();return T?T.toDataURL.apply(T,arguments):null},drawImage:function(h){var _=r.read(arguments,1);this.getContext(!0).drawImage(h,_.x,_.y)},getAverageColor:function(h){var _,T;if(h?h instanceof I?(T=h,_=h.getBounds()):typeof h=="object"&&("width"in h?_=new o(h):"x"in h&&(_=new o(h.x-.5,h.y-.5,1,1))):_=this.getBounds(),!_)return null;var L=32,G=Math.min(_.width,L),B=Math.min(_.height,L),W=E._sampleContext;W?W.clearRect(0,0,L+1,L+1):W=E._sampleContext=Me.getContext(new a(L)),W.save();var F=new s().scale(G/_.width,B/_.height).translate(-_.x,-_.y);F.applyToContext(W),T&&T.draw(W,new S({clip:!0,matrices:[F]})),this._matrix.applyToContext(W);var Y=this.getElement(),ie=this._size;Y&&W.drawImage(Y,-ie.width/2,-ie.height/2),W.restore();for(var he=W.getImageData(.5,.5,Math.ceil(G),Math.ceil(B)).data,U=[0,0,0],se=0,ue=0,we=he.length;ue<we;ue+=4){var ce=he[ue+3];se+=ce,ce/=255,U[0]+=he[ue]*ce,U[1]+=he[ue+1]*ce,U[2]+=he[ue+2]*ce}for(var ue=0;ue<3;ue++)U[ue]/=se;return se?K.read(U):null},getPixel:function(){var h=r.read(arguments),_=this.getContext().getImageData(h.x,h.y,1,1).data;return new K("rgb",[_[0]/255,_[1]/255,_[2]/255],_[3]/255)},setPixel:function(){var h=arguments,_=r.read(h),T=K.read(h),L=T._convert("rgb"),G=T._alpha,B=this.getContext(!0),W=B.createImageData(1,1),F=W.data;F[0]=L[0]*255,F[1]=L[1]*255,F[2]=L[2]*255,F[3]=G!=null?G*255:255,B.putImageData(W,_.x,_.y)},clear:function(){var h=this._size;this.getContext(!0).clearRect(0,0,h.width+1,h.height+1)},createImageData:function(){var h=a.read(arguments);return this.getContext().createImageData(h.width,h.height)},getImageData:function(){var h=o.read(arguments);return h.isEmpty()&&(h=new o(this._size)),this.getContext().getImageData(h.x,h.y,h.width,h.height)},putImageData:function(h){var _=r.read(arguments,1);this.getContext(!0).putImageData(h,_.x,_.y)},setImageData:function(h){this.setSize(h),this.getContext(!0).putImageData(h,0,0)},_getBounds:function(h,_){var T=new o(this._size).setCenter(0,0);return h?h._transformBounds(T):T},_hitTestSelf:function(h){if(this._contains(h)){var _=this;return new P("pixel",_,{offset:h.add(_._size.divide(2)).round(),color:{get:function(){return _.getPixel(this.offset)}}})}},_draw:function(h,_,T){var L=this.getElement();if(L&&L.width>0&&L.height>0){h.globalAlpha=u.clamp(this._opacity,0,1),this._setStyles(h,_,T);var G=this._smoothing,B=G==="off";Oe.setPrefixed(h,B?"imageSmoothingEnabled":"imageSmoothingQuality",B?!1:G),h.drawImage(L,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),M=b.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(_,T){this._initialize(_,T!==Ye&&r.read(arguments,1))||this.setDefinition(_ instanceof C?_:new C(_))},_equals:function(h){return this._definition===h._definition},copyContent:function(h){this.setDefinition(h._definition)},getDefinition:function(){return this._definition},setDefinition:function(h){this._definition=h,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(h,_){var T=this._definition._item;return T._getCachedBounds(T._matrix.prepended(h),_)},_hitTestSelf:function(h,_,T){var L=_.extend({all:!1}),G=this._definition._item._hitTest(h,L,T);return G&&(G.item=this),G},_draw:function(h,_){this._definition._item.draw(h,_)}}),C=S.extend({_class:"SymbolDefinition",initialize:function(_,T){this._id=i.get(),this.project=Le.project,_&&this.setItem(_,T)},_serialize:function(h,_){return _.add(this,function(){return S.serialize([this._class,this._item],h,!1,_)})},_changed:function(h){h&8&&b._clearBoundsCache(this),h&1&&this.project._changed(h)},getItem:function(){return this._item},setItem:function(h,_){h._symbol&&(h=h.clone()),this._item&&(this._item._symbol=null),this._item=h,h.remove(),h.setSelected(!1),_||h.setPosition(new r),h._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(h){return new M(this,h)},clone:function(){return new C(this._item.clone(!1))},equals:function(h){return h===this||h&&this._item.equals(h._item)||!1}}),P=S.extend({_class:"HitResult",initialize:function(_,T,L){this.type=_,this.item=T,L&&this.inject(L)},statics:{getOptions:function(h){var _=h&&S.read(h);return new S({type:null,tolerance:Le.settings.hitTolerance,fill:!_,stroke:!_,segments:!_,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},_)}}}),O=S.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(_,T,L,G,B,W){var F=arguments.length,Y,ie,he,U;F>0&&(_==null||typeof _=="object"?F===1&&_&&"point"in _?(Y=_.point,ie=_.handleIn,he=_.handleOut,U=_.selection):(Y=_,ie=T,he=L,U=G):(Y=[_,T],ie=L!==Ye?[L,G]:null,he=B!==Ye?[B,W]:null)),new D(Y,this,"_point"),new D(ie,this,"_handleIn"),new D(he,this,"_handleOut"),U&&this.setSelection(U)},_serialize:function(h,_){var T=this._point,L=this._selection,G=L||this.hasHandles()?[T,this._handleIn,this._handleOut]:T;return L&&G.push(L),S.serialize(G,h,!0,_)},_changed:function(h){var _=this._path;if(_){var T=_._curves,L=this._index,G;T&&((!h||h===this._point||h===this._handleIn)&&(G=L>0?T[L-1]:_._closed?T[T.length-1]:null)&&G._changed(),(!h||h===this._point||h===this._handleOut)&&(G=T[L])&&G._changed()),_._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(r.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(r.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(r.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var h=this._handleIn,_=this._handleOut;return!h.isZero()&&!_.isZero()&&h.isCollinear(_)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(h){var _=this._selection,T=this._path;this._selection=h=h||0,T&&h!==_&&(T._updateSelection(this,_,h),T._changed(257))},_changeSelection:function(h,_){var T=this._selection;this.setSelection(_?T|h:T&~h)},isSelected:function(){return!!(this._selection&7)},setSelected:function(h){this._changeSelection(7,h)},getIndex:function(){return this._index!==Ye?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var h=this._path,_=this._index;return h?(_>0&&!h._closed&&_===h._segments.length-1&&_--,h.getCurves()[_]||null):null},getLocation:function(){var h=this.getCurve();return h?new R(h,this===h._segment1?0:1):null},getNext:function(){var h=this._path&&this._path._segments;return h&&(h[this._index+1]||this._path._closed&&h[0])||null},smooth:function(h,_,T){var L=h||{},G=L.type,B=L.factor,W=this.getPrevious(),F=this.getNext(),Y=(W||this)._point,ie=this._point,he=(F||this)._point,U=Y.getDistance(ie),se=ie.getDistance(he);if(!G||G==="catmull-rom"){var ue=B===Ye?.5:B,we=Math.pow(U,ue),ce=we*we,Se=Math.pow(se,ue),$=Se*Se;if(!_&&W){var je=2*$+3*Se*we+ce,be=3*Se*(Se+we);this.setHandleIn(be!==0?new r(($*Y._x+je*ie._x-ce*he._x)/be-ie._x,($*Y._y+je*ie._y-ce*he._y)/be-ie._y):new r)}if(!T&&F){var je=2*ce+3*we*Se+$,be=3*we*(we+Se);this.setHandleOut(be!==0?new r((ce*he._x+je*ie._x-$*Y._x)/be-ie._x,(ce*he._y+je*ie._y-$*Y._y)/be-ie._y):new r)}}else if(G==="geometric"){if(W&&F){var k=Y.subtract(he),ye=B===Ye?.4:B,Ce=ye*U/(U+se);_||this.setHandleIn(k.multiply(Ce)),T||this.setHandleOut(k.multiply(Ce-ye))}}else throw new Error("Smoothing method '"+G+"' not supported.")},getPrevious:function(){var h=this._path&&this._path._segments;return h&&(h[this._index-1]||this._path._closed&&h[h.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var h=this._path;return h&&this._index===h._segments.length-1||!1},reverse:function(){var h=this._handleIn,_=this._handleOut,T=h.clone();h.set(_),_.set(T)},reversed:function(){return new O(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new O(this._point,this._handleIn,this._handleOut)},equals:function(h){return h===this||h&&this._class===h._class&&this._point.equals(h._point)&&this._handleIn.equals(h._handleIn)&&this._handleOut.equals(h._handleOut)||!1},toString:function(){var h=["point: "+this._point];return this._handleIn.isZero()||h.push("handleIn: "+this._handleIn),this._handleOut.isZero()||h.push("handleOut: "+this._handleOut),"{ "+h.join(", ")+" }"},transform:function(h){this._transformCoordinates(h,new Array(6),!0),this._changed()},interpolate:function(h,_,T){var L=1-T,G=T,B=h._point,W=_._point,F=h._handleIn,Y=_._handleIn,ie=_._handleOut,he=h._handleOut;this._point._set(L*B._x+G*W._x,L*B._y+G*W._y,!0),this._handleIn._set(L*F._x+G*Y._x,L*F._y+G*Y._y,!0),this._handleOut._set(L*he._x+G*ie._x,L*he._y+G*ie._y,!0),this._changed()},_transformCoordinates:function(h,_,T){var L=this._point,G=!T||!this._handleIn.isZero()?this._handleIn:null,B=!T||!this._handleOut.isZero()?this._handleOut:null,W=L._x,F=L._y,Y=2;return _[0]=W,_[1]=F,G&&(_[Y++]=G._x+W,_[Y++]=G._y+F),B&&(_[Y++]=B._x+W,_[Y++]=B._y+F),h&&(h._transformCoordinates(_,_,Y/2),W=_[0],F=_[1],T?(L._x=W,L._y=F,Y=2,G&&(G._x=_[Y++]-W,G._y=_[Y++]-F),B&&(B._x=_[Y++]-W,B._y=_[Y++]-F)):(G||(_[Y++]=W,_[Y++]=F),B||(_[Y++]=W,_[Y++]=F))),_}}),D=r.extend({initialize:function(_,T,L){var G,B,W;if(!_)G=B=0;else if((G=_[0])!==Ye)B=_[1];else{var F=_;(G=F.x)===Ye&&(F=r.read(arguments),G=F.x),B=F.y,W=F.selected}this._x=G,this._y=B,this._owner=T,T[L]=this,W&&this.setSelected(!0)},_set:function(h,_){return this._x=h,this._y=_,this._owner._changed(this),this},getX:function(){return this._x},setX:function(h){this._x=h,this._owner._changed(this)},getY:function(){return this._y},setY:function(h){this._y=h,this._owner._changed(this)},isZero:function(){var h=u.isZero;return h(this._x)&&h(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(h){this._owner._changeSelection(this._getSelection(),h)},_getSelection:function(){var h=this._owner;return this===h._point?1:this===h._handleIn?2:this===h._handleOut?4:0}}),N=S.extend({_class:"Curve",beans:!0,initialize:function(_,T,L,G,B,W,F,Y){var ie=arguments.length,he,U,se,ue,we,ce;ie===3?(this._path=_,he=T,U=L):ie?ie===1?"segment1"in _?(he=new O(_.segment1),U=new O(_.segment2)):"point1"in _?(se=_.point1,we=_.handle1,ce=_.handle2,ue=_.point2):Array.isArray(_)&&(se=[_[0],_[1]],ue=[_[6],_[7]],we=[_[2]-_[0],_[3]-_[1]],ce=[_[4]-_[6],_[5]-_[7]]):ie===2?(he=new O(_),U=new O(T)):ie===4?(se=_,we=T,ce=L,ue=G):ie===8&&(se=[_,T],ue=[F,Y],we=[L-_,G-T],ce=[B-F,W-Y]):(he=new O,U=new O),this._segment1=he||new O(se,null,we),this._segment2=U||new O(ue,ce,null)},_serialize:function(h,_){return S.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],h,!0,_)},_changed:function(){this._length=this._bounds=Ye},clone:function(){return new N(this._segment1,this._segment2)},toString:function(){var h=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||h.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||h.push("handle2: "+this._segment2._handleIn),h.push("point2: "+this._segment2._point),"{ "+h.join(", ")+" }"},classify:function(){return N.classify(this.getValues())},remove:function(){var h=!1;if(this._path){var _=this._segment2,T=_._handleOut;h=_.remove(),h&&this._segment1._handleOut.set(T)}return h},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(r.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(r.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(r.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(r.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var h=this._path&&this._path._curves;return h&&(h[this._segment1._index+1]||this._path._closed&&h[0])||null},getPrevious:function(){var h=this._path&&this._path._curves;return h&&(h[this._segment1._index-1]||this._path._closed&&h[h.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var h=this._path;return h&&this._segment1._index===h._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(h){this.getPoint1().setSelected(h),this.getHandle1().setSelected(h),this.getHandle2().setSelected(h),this.getPoint2().setSelected(h)},getValues:function(h){return N.getValues(this._segment1,this._segment2,h)},getPoints:function(){for(var h=this.getValues(),_=[],T=0;T<8;T+=2)_.push(new r(h[T],h[T+1]));return _}},{getLength:function(){return this._length==null&&(this._length=N.getLength(this.getValues(),0,1)),this._length},getArea:function(){return N.getArea(this.getValues())},getLine:function(){return new p(this._segment1._point,this._segment2._point)},getPart:function(h,_){return new N(N.getPart(this.getValues(),h,_))},getPartLength:function(h,_){return N.getLength(this.getValues(),h,_)},divideAt:function(h){return this.divideAtTime(h&&h.curve===this?h.time:this.getTimeAt(h))},divideAtTime:function(h,_){var T=1e-8,L=1-T,G=null;if(h>=T&&h<=L){var B=N.subdivide(this.getValues(),h),W=B[0],F=B[1],Y=_||this.hasHandles(),ie=this._segment1,he=this._segment2,U=this._path;Y&&(ie._handleOut._set(W[2]-W[0],W[3]-W[1]),he._handleIn._set(F[4]-F[6],F[5]-F[7]));var se=W[6],ue=W[7],we=new O(new r(se,ue),Y&&new r(W[4]-se,W[5]-ue),Y&&new r(F[2]-se,F[3]-ue));U?(U.insert(ie._index+1,we),G=this.getNext()):(this._segment2=we,this._changed(),G=new N(we,he))}return G},splitAt:function(h){var _=this._path;return _?_.splitAt(h):null},splitAtTime:function(h){return this.splitAt(this.getLocationAtTime(h))},divide:function(h,_){return this.divideAtTime(h===Ye?.5:_?h:this.getTimeAt(h))},split:function(h,_){return this.splitAtTime(h===Ye?.5:_?h:this.getTimeAt(h))},reversed:function(){return new N(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(h,_,T,L){var G=h._point,B=h._handleOut,W=_._handleIn,F=_._point,Y=G.x,ie=G.y,he=F.x,U=F.y,se=L?[Y,ie,Y,ie,he,U,he,U]:[Y,ie,Y+B._x,ie+B._y,he+W._x,U+W._y,he,U];return T&&T._transformCoordinates(se,se,4),se},subdivide:function(h,_){var T=h[0],L=h[1],G=h[2],B=h[3],W=h[4],F=h[5],Y=h[6],ie=h[7];_===Ye&&(_=.5);var he=1-_,U=he*T+_*G,se=he*L+_*B,ue=he*G+_*W,we=he*B+_*F,ce=he*W+_*Y,Se=he*F+_*ie,$=he*U+_*ue,je=he*se+_*we,be=he*ue+_*ce,k=he*we+_*Se,ye=he*$+_*be,Ce=he*je+_*k;return[[T,L,U,se,$,je,ye,Ce],[ye,Ce,be,k,ce,Se,Y,ie]]},getMonoCurves:function(h,_){var T=[],L=_?0:1,G=h[L+0],B=h[L+2],W=h[L+4],F=h[L+6];if(G>=B==B>=W&&B>=W==W>=F||N.isStraight(h))T.push(h);else{var Y=3*(B-W)-G+F,ie=2*(G+W)-4*B,he=B-G,U=1e-8,se=1-U,ue=[],we=u.solveQuadratic(Y,ie,he,ue,U,se);if(!we)T.push(h);else{ue.sort();var ce=ue[0],Se=N.subdivide(h,ce);T.push(Se[0]),we>1&&(ce=(ue[1]-ce)/(1-ce),Se=N.subdivide(Se[1],ce),T.push(Se[0])),T.push(Se[1])}}return T},solveCubic:function(h,_,T,L,G,B){var W=h[_],F=h[_+2],Y=h[_+4],ie=h[_+6],he=0;if(!(W<T&&ie<T&&F<T&&Y<T||W>T&&ie>T&&F>T&&Y>T)){var U=3*(F-W),se=3*(Y-F)-U,ue=ie-W-U-se;he=u.solveCubic(ue,se,U,W-T,L,G,B)}return he},getTimeOf:function(h,_){var T=new r(h[0],h[1]),L=new r(h[6],h[7]),G=1e-12,B=1e-7,W=_.isClose(T,G)?0:_.isClose(L,G)?1:null;if(W===null)for(var F=[_.x,_.y],Y=[],ie=0;ie<2;ie++)for(var he=N.solveCubic(h,ie,F[ie],Y,0,1),U=0;U<he;U++){var se=Y[U];if(_.isClose(N.getPoint(h,se),B))return se}return _.isClose(T,B)?0:_.isClose(L,B)?1:null},getNearestTime:function(h,_){if(N.isStraight(h)){var T=h[0],L=h[1],G=h[6],B=h[7],W=G-T,F=B-L,Y=W*W+F*F;if(Y===0)return 0;var ie=((_.x-T)*W+(_.y-L)*F)/Y;return ie<1e-12?0:ie>.999999999999?1:N.getTimeOf(h,new r(T+ie*W,L+ie*F))}var he=100,U=1/0,se=0;function ue(Se){if(Se>=0&&Se<=1){var $=_.getDistance(N.getPoint(h,Se),!0);if($<U)return U=$,se=Se,!0}}for(var we=0;we<=he;we++)ue(we/he);for(var ce=1/(he*2);ce>1e-8;)!ue(se-ce)&&!ue(se+ce)&&(ce/=2);return se},getPart:function(h,_,T){var L=_>T;if(L){var G=_;_=T,T=G}return _>0&&(h=N.subdivide(h,_)[1]),T<1&&(h=N.subdivide(h,(T-_)/(1-_))[0]),L?[h[6],h[7],h[4],h[5],h[2],h[3],h[0],h[1]]:h},isFlatEnough:function(h,_){var T=h[0],L=h[1],G=h[2],B=h[3],W=h[4],F=h[5],Y=h[6],ie=h[7],he=3*G-2*T-Y,U=3*B-2*L-ie,se=3*W-2*Y-T,ue=3*F-2*ie-L;return Math.max(he*he,se*se)+Math.max(U*U,ue*ue)<=16*_*_},getArea:function(h){var _=h[0],T=h[1],L=h[2],G=h[3],B=h[4],W=h[5],F=h[6],Y=h[7];return 3*((Y-T)*(L+B)-(F-_)*(G+W)+G*(_-B)-L*(T-W)+Y*(B+_/3)-F*(W+T/3))/20},getBounds:function(h){for(var _=h.slice(0,2),T=_.slice(),L=[0,0],G=0;G<2;G++)N._addBounds(h[G],h[G+2],h[G+4],h[G+6],G,0,_,T,L);return new o(_[0],_[1],T[0]-_[0],T[1]-_[1])},_addBounds:function(h,_,T,L,G,B,W,F,Y){function ie(ye,Ce){var X=ye-Ce,Ee=ye+Ce;X<W[G]&&(W[G]=X),Ee>F[G]&&(F[G]=Ee)}B/=2;var he=W[G]+B,U=F[G]-B;if(h<he||_<he||T<he||L<he||h>U||_>U||T>U||L>U)if(_<h!=_<L&&T<h!=T<L)ie(h,0),ie(L,0);else{var se=3*(_-T)-h+L,ue=2*(h+T)-4*_,we=_-h,ce=u.solveQuadratic(se,ue,we,Y),Se=1e-8,$=1-Se;ie(L,0);for(var je=0;je<ce;je++){var be=Y[je],k=1-be;Se<=be&&be<=$&&ie(k*k*k*h+3*k*k*be*_+3*k*be*be*T+be*be*be*L,B)}}}}},S.each(["getBounds","getStrokeBounds","getHandleBounds"],function(h){this[h]=function(){this._bounds||(this._bounds={});var _=this._bounds[h];return _||(_=this._bounds[h]=H[h]([this._segment1,this._segment2],!1,this._path)),_.clone()}},{}),S.each({isStraight:function(h,_,T,L){if(_.isZero()&&T.isZero())return!0;var G=L.subtract(h);if(G.isZero())return!1;if(G.isCollinear(_)&&G.isCollinear(T)){var B=new p(h,L),W=1e-7;if(B.getDistance(h.add(_))<W&&B.getDistance(L.add(T))<W){var F=G.dot(G),Y=G.dot(_)/F,ie=G.dot(T)/F;return Y>=0&&Y<=1&&ie<=0&&ie>=-1}}return!1},isLinear:function(h,_,T,L){var G=L.subtract(h).divide(3);return _.equals(G)&&T.negate().equals(G)}},function(h,_){this[_]=function(T){var L=this._segment1,G=this._segment2;return h(L._point,L._handleOut,G._handleIn,G._point,T)},this.statics[_]=function(T,L){var G=T[0],B=T[1],W=T[6],F=T[7];return h(new r(G,B),new r(T[2]-G,T[3]-B),new r(T[4]-W,T[5]-F),new r(W,F),L)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(h){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(h||0)},isCollinear:function(h){return h&&this.isStraight()&&h.isStraight()&&this.getLine().isCollinear(h.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(h,_){return this.getLocationAtTime(_?h:this.getTimeAt(h))},getLocationAtTime:function(h){return h!=null&&h>=0&&h<=1?new R(this,h):null},getTimeAt:function(h,_){return N.getTimeAt(this.getValues(),h,_)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var h=r.read(arguments);return h.isZero()?[]:N.getTimesWithTangent(this.getValues(),h)},getOffsetAtTime:function(h){return this.getPartLength(0,h)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(r.read(arguments)))},getOffsetOf:function(){var h=this.getLocationOf.apply(this,arguments);return h?h.getOffset():null},getTimeOf:function(){return N.getTimeOf(this.getValues(),r.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var h=r.read(arguments),_=this.getValues(),T=N.getNearestTime(_,h),L=N.getPoint(_,T);return new R(this,T,L,null,h.getDistance(L))},getNearestPoint:function(){var h=this.getNearestLocation.apply(this,arguments);return h&&h.getPoint()}},new function(){var h=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return S.each(h,function(_){this[_+"At"]=function(T,L){var G=this.getValues();return N[_](G,L?T:N.getTimeAt(G,T))},this[_+"AtTime"]=function(T){return N[_](this.getValues(),T)}},{statics:{_evaluateMethods:h}})},new function(){function h(L){var G=L[0],B=L[1],W=L[2],F=L[3],Y=L[4],ie=L[5],he=L[6],U=L[7],se=9*(W-Y)+3*(he-G),ue=6*(G+Y)-12*W,we=3*(W-G),ce=9*(F-ie)+3*(U-B),Se=6*(B+ie)-12*F,$=3*(F-B);return function(je){var be=(se*je+ue)*je+we,k=(ce*je+Se)*je+$;return Math.sqrt(be*be+k*k)}}function _(L,G){return Math.max(2,Math.min(16,Math.ceil(Math.abs(G-L)*32)))}function T(L,G,B,W){if(G==null||G<0||G>1)return null;var F=L[0],Y=L[1],ie=L[2],he=L[3],U=L[4],se=L[5],ue=L[6],we=L[7],ce=u.isZero;ce(ie-F)&&ce(he-Y)&&(ie=F,he=Y),ce(U-ue)&&ce(se-we)&&(U=ue,se=we);var Se=3*(ie-F),$=3*(U-ie)-Se,je=ue-F-Se-$,be=3*(he-Y),k=3*(se-he)-be,ye=we-Y-be-k,Ce,X;if(B===0)Ce=G===0?F:G===1?ue:((je*G+$)*G+Se)*G+F,X=G===0?Y:G===1?we:((ye*G+k)*G+be)*G+Y;else{var Ee=1e-8,Fe=1-Ee;if(G<Ee?(Ce=Se,X=be):G>Fe?(Ce=3*(ue-U),X=3*(we-se)):(Ce=(3*je*G+2*$)*G+Se,X=(3*ye*G+2*k)*G+be),W){Ce===0&&X===0&&(G<Ee||G>Fe)&&(Ce=U-ie,X=se-he);var Ne=Math.sqrt(Ce*Ce+X*X);Ne&&(Ce/=Ne,X/=Ne)}if(B===3){var U=6*je*G+2*$,se=6*ye*G+2*k,Ge=Math.pow(Ce*Ce+X*X,3/2);Ce=Ge!==0?(Ce*se-X*U)/Ge:0,X=0}}return B===2?new r(X,-Ce):new r(Ce,X)}return{statics:{classify:function(L){var G=L[0],B=L[1],W=L[2],F=L[3],Y=L[4],ie=L[5],he=L[6],U=L[7],se=G*(U-ie)+B*(Y-he)+he*ie-U*Y,ue=W*(B-U)+F*(he-G)+G*U-B*he,we=Y*(F-B)+ie*(G-W)+W*B-F*G,ce=3*we,Se=ce-ue,$=Se-ue+se,je=Math.sqrt($*$+Se*Se+ce*ce),be=je!==0?1/je:0,k=u.isZero,ye="serpentine";$*=be,Se*=be,ce*=be;function Ce(Ne,Ge,ze){var We=Ge!==Ye,Qe=We&&Ge>0&&Ge<1,rt=We&&ze>0&&ze<1;return We&&(!(Qe||rt)||Ne==="loop"&&!(Qe&&rt))&&(Ne="arch",Qe=rt=!1),{type:Ne,roots:Qe||rt?Qe&&rt?Ge<ze?[Ge,ze]:[ze,Ge]:[Qe?Ge:ze]:null}}if(k($))return k(Se)?Ce(k(ce)?"line":"quadratic"):Ce(ye,ce/(3*Se));var X=3*Se*Se-4*$*ce;if(k(X))return Ce("cusp",Se/(2*$));var Ee=X>0?Math.sqrt(X/3):Math.sqrt(-X),Fe=2*$;return Ce(X>0?ye:"loop",(Se+Ee)/Fe,(Se-Ee)/Fe)},getLength:function(L,G,B,W){if(G===Ye&&(G=0),B===Ye&&(B=1),N.isStraight(L)){var F=L;B<1&&(F=N.subdivide(F,B)[0],G/=B),G>0&&(F=N.subdivide(F,G)[1]);var Y=F[6]-F[0],ie=F[7]-F[1];return Math.sqrt(Y*Y+ie*ie)}return u.integrate(W||h(L),G,B,_(G,B))},getTimeAt:function(L,G,B){if(B===Ye&&(B=G<0?1:0),G===0)return B;var W=Math.abs,F=1e-12,Y=G>0,ie=Y?B:0,he=Y?1:B,U=h(L),se=N.getLength(L,ie,he,U),ue=W(G)-se;if(W(ue)<F)return Y?he:ie;if(ue>F)return null;var we=G/se,ce=0;function Se($){return ce+=u.integrate(U,B,$,_(B,$)),B=$,ce-G}return u.findRoot(Se,U,B+we,ie,he,32,1e-12)},getPoint:function(L,G){return T(L,G,0,!1)},getTangent:function(L,G){return T(L,G,1,!0)},getWeightedTangent:function(L,G){return T(L,G,1,!1)},getNormal:function(L,G){return T(L,G,2,!0)},getWeightedNormal:function(L,G){return T(L,G,2,!1)},getCurvature:function(L,G){return T(L,G,3,!1).x},getPeaks:function(L){var G=L[0],B=L[1],W=L[2],F=L[3],Y=L[4],ie=L[5],he=L[6],U=L[7],se=-G+3*W-3*Y+he,ue=3*G-6*W+3*Y,we=-3*G+3*W,ce=-B+3*F-3*ie+U,Se=3*B-6*F+3*ie,$=-3*B+3*F,je=1e-8,be=1-je,k=[];return u.solveCubic(9*(se*se+ce*ce),9*(se*ue+Se*ce),2*(ue*ue+Se*Se)+3*(we*se+$*ce),we*ue+Se*$,k,je,be),k.sort()}}}},new function(){function h(ue,we,ce,Se,$,je,be){var k=!be&&ce.getPrevious()===$,ye=!be&&ce!==$&&ce.getNext()===$,Ce=1e-8,X=1-Ce;if(Se!==null&&Se>=(k?Ce:0)&&Se<=(ye?X:1)&&je!==null&&je>=(ye?Ce:0)&&je<=(k?X:1)){var Ee=new R(ce,Se,null,be),Fe=new R($,je,null,be);Ee._intersection=Fe,Fe._intersection=Ee,(!we||we(Ee))&&R.insert(ue,Ee,!0)}}function _(ue,we,ce,Se,$,je,be,k,ye,Ce,X,Ee,Fe){if(++ye>=4096||++k>=40)return ye;var Ne=1e-9,Ge=we[0],ze=we[1],We=we[6],Qe=we[7],rt=p.getSignedDistance,et=rt(Ge,ze,We,Qe,we[2],we[3]),ut=rt(Ge,ze,We,Qe,we[4],we[5]),mt=et*ut>0?3/4:4/9,bt=mt*Math.min(0,et,ut),xt=mt*Math.max(0,et,ut),He=rt(Ge,ze,We,Qe,ue[0],ue[1]),Ze=rt(Ge,ze,We,Qe,ue[2],ue[3]),it=rt(Ge,ze,We,Qe,ue[4],ue[5]),at=rt(Ge,ze,We,Qe,ue[6],ue[7]),yt=T(He,Ze,it,at),st=yt[0],Et=yt[1],gt,jt;if(et===0&&ut===0&&He===0&&Ze===0&&it===0&&at===0||(gt=L(st,Et,bt,xt))==null||(jt=L(st.reverse(),Et.reverse(),bt,xt))==null)return ye;var vt=Ce+(X-Ce)*gt,Mt=Ce+(X-Ce)*jt;if(Math.max(Fe-Ee,Mt-vt)<Ne){var Bt=(vt+Mt)/2,Dt=(Ee+Fe)/2;h($,je,be?Se:ce,be?Dt:Bt,be?ce:Se,be?Bt:Dt)}else{ue=N.getPart(ue,gt,jt);var Nt=Fe-Ee;if(jt-gt>.8)if(Mt-vt>Nt){var Ht=N.subdivide(ue,.5),Bt=(vt+Mt)/2;ye=_(we,Ht[0],Se,ce,$,je,!be,k,ye,Ee,Fe,vt,Bt),ye=_(we,Ht[1],Se,ce,$,je,!be,k,ye,Ee,Fe,Bt,Mt)}else{var Ht=N.subdivide(we,.5),Dt=(Ee+Fe)/2;ye=_(Ht[0],ue,Se,ce,$,je,!be,k,ye,Ee,Dt,vt,Mt),ye=_(Ht[1],ue,Se,ce,$,je,!be,k,ye,Dt,Fe,vt,Mt)}else Nt===0||Nt>=Ne?ye=_(we,ue,Se,ce,$,je,!be,k,ye,Ee,Fe,vt,Mt):ye=_(ue,we,ce,Se,$,je,be,k,ye,vt,Mt,Ee,Fe)}return ye}function T(ue,we,ce,Se){var $=[0,ue],je=[1/3,we],be=[2/3,ce],k=[1,Se],ye=we-(2*ue+Se)/3,Ce=ce-(ue+2*Se)/3,X;if(ye*Ce<0)X=[[$,je,k],[$,be,k]];else{var Ee=ye/Ce;X=[Ee>=2?[$,je,k]:Ee<=.5?[$,be,k]:[$,je,be,k],[$,k]]}return(ye||Ce)<0?X.reverse():X}function L(ue,we,ce,Se){return ue[0][1]<ce?G(ue,!0,ce):we[0][1]>Se?G(we,!1,Se):ue[0][0]}function G(ue,we,ce){for(var Se=ue[0][0],$=ue[0][1],je=1,be=ue.length;je<be;je++){var k=ue[je][0],ye=ue[je][1];if(we?ye>=ce:ye<=ce)return ye===ce?k:Se+(ce-$)*(k-Se)/(ye-$);Se=k,$=ye}return null}function B(ue,we,ce,Se,$){var je=u.isZero;if(je(Se)&&je($)){var be=N.getTimeOf(ue,new r(we,ce));return be===null?[]:[be]}for(var k=Math.atan2(-$,Se),ye=Math.sin(k),Ce=Math.cos(k),X=[],Ee=[],Fe=0;Fe<8;Fe+=2){var Ne=ue[Fe]-we,Ge=ue[Fe+1]-ce;X.push(Ne*Ce-Ge*ye,Ne*ye+Ge*Ce)}return N.solveCubic(X,1,0,Ee,0,1),Ee}function W(ue,we,ce,Se,$,je,be){for(var k=we[0],ye=we[1],Ce=we[6],X=we[7],Ee=B(ue,k,ye,Ce-k,X-ye),Fe=0,Ne=Ee.length;Fe<Ne;Fe++){var Ge=Ee[Fe],ze=N.getPoint(ue,Ge),We=N.getTimeOf(we,ze);We!==null&&h($,je,be?Se:ce,be?We:Ge,be?ce:Se,be?Ge:We)}}function F(ue,we,ce,Se,$,je){var be=p.intersect(ue[0],ue[1],ue[6],ue[7],we[0],we[1],we[6],we[7]);be&&h($,je,ce,N.getTimeOf(ue,be),Se,N.getTimeOf(we,be))}function Y(ue,we,ce,Se,$,je){var be=1e-12,k=Math.min,ye=Math.max;if(ye(ue[0],ue[2],ue[4],ue[6])+be>k(we[0],we[2],we[4],we[6])&&k(ue[0],ue[2],ue[4],ue[6])-be<ye(we[0],we[2],we[4],we[6])&&ye(ue[1],ue[3],ue[5],ue[7])+be>k(we[1],we[3],we[5],we[7])&&k(ue[1],ue[3],ue[5],ue[7])-be<ye(we[1],we[3],we[5],we[7])){var Ce=U(ue,we);if(Ce)for(var X=0;X<2;X++){var Ee=Ce[X];h($,je,ce,Ee[0],Se,Ee[1],!0)}else{var Fe=N.isStraight(ue),Ne=N.isStraight(we),Ge=Fe&&Ne,ze=Fe&&!Ne,We=$.length;if((Ge?F:Fe||Ne?W:_)(ze?we:ue,ze?ue:we,ze?Se:ce,ze?ce:Se,$,je,ze,0,0,0,1,0,1),!Ge||$.length===We)for(var X=0;X<4;X++){var Qe=X>>1,rt=X&1,et=Qe*6,ut=rt*6,mt=new r(ue[et],ue[et+1]),bt=new r(we[ut],we[ut+1]);mt.isClose(bt,be)&&h($,je,ce,Qe,Se,rt)}}}return $}function ie(ue,we,ce,Se){var $=N.classify(ue);if($.type==="loop"){var je=$.roots;h(ce,Se,we,je[0],we,je[1])}return ce}function he(ue,we,ce,Se,$,je){var be=1e-7,k=!we;k&&(we=ue);for(var ye=ue.length,Ce=we.length,X=new Array(ye),Ee=k?X:new Array(Ce),Fe=[],Ne=0;Ne<ye;Ne++)X[Ne]=ue[Ne].getValues(Se);if(!k)for(var Ne=0;Ne<Ce;Ne++)Ee[Ne]=we[Ne].getValues($);for(var Ge=g.findCurveBoundsCollisions(X,Ee,be),ze=0;ze<ye;ze++){var We=ue[ze],Qe=X[ze];k&&ie(Qe,We,Fe,ce);var rt=Ge[ze];if(rt)for(var et=0;et<rt.length;et++){if(je&&Fe.length)return Fe;var ut=rt[et];if(!k||ut>ze){var mt=we[ut],bt=Ee[ut];Y(Qe,bt,We,mt,Fe,ce)}}}return Fe}function U(ue,we){function ce(at){var yt=at[6]-at[0],st=at[7]-at[1];return yt*yt+st*st}var Se=Math.abs,$=p.getDistance,je=1e-8,be=1e-7,k=N.isStraight(ue),ye=N.isStraight(we),Ce=k&&ye,X=ce(ue)<ce(we),Ee=X?we:ue,Fe=X?ue:we,Ne=Ee[0],Ge=Ee[1],ze=Ee[6]-Ne,We=Ee[7]-Ge;if($(Ne,Ge,ze,We,Fe[0],Fe[1],!0)<be&&$(Ne,Ge,ze,We,Fe[6],Fe[7],!0)<be)!Ce&&$(Ne,Ge,ze,We,Ee[2],Ee[3],!0)<be&&$(Ne,Ge,ze,We,Ee[4],Ee[5],!0)<be&&$(Ne,Ge,ze,We,Fe[2],Fe[3],!0)<be&&$(Ne,Ge,ze,We,Fe[4],Fe[5],!0)<be&&(k=ye=Ce=!0);else if(Ce)return null;if(k^ye)return null;for(var Qe=[ue,we],rt=[],et=0;et<4&&rt.length<2;et++){var ut=et&1,mt=ut^1,bt=et>>1,xt=N.getTimeOf(Qe[ut],new r(Qe[mt][bt?6:0],Qe[mt][bt?7:1]));if(xt!=null){var He=ut?[bt,xt]:[xt,bt];(!rt.length||Se(He[0]-rt[0][0])>je&&Se(He[1]-rt[0][1])>je)&&rt.push(He)}if(et>2&&!rt.length)break}if(rt.length!==2)rt=null;else if(!Ce){var Ze=N.getPart(ue,rt[0][0],rt[1][0]),it=N.getPart(we,rt[0][1],rt[1][1]);(Se(it[2]-Ze[2])>be||Se(it[3]-Ze[3])>be||Se(it[4]-Ze[4])>be||Se(it[5]-Ze[5])>be)&&(rt=null)}return rt}function se(ue,we){var ce=ue[0],Se=ue[1],$=ue[2],je=ue[3],be=ue[4],k=ue[5],ye=ue[6],Ce=ue[7],X=we.normalize(),Ee=X.x,Fe=X.y,Ne=3*ye-9*be+9*$-3*ce,Ge=3*Ce-9*k+9*je-3*Se,ze=6*be-12*$+6*ce,We=6*k-12*je+6*Se,Qe=3*$-3*ce,rt=3*je-3*Se,et=2*Ne*Fe-2*Ge*Ee,ut=[];if(Math.abs(et)<u.CURVETIME_EPSILON){var mt=Ne*rt-Ge*Qe,et=Ne*We-Ge*ze;if(et!=0){var bt=-mt/et;bt>=0&&bt<=1&&ut.push(bt)}}else{var xt=(ze*ze-4*Ne*Qe)*Fe*Fe+(-2*ze*We+4*Ge*Qe+4*Ne*rt)*Ee*Fe+(We*We-4*Ge*rt)*Ee*Ee,He=ze*Fe-We*Ee;if(xt>=0&&et!=0){var Ze=Math.sqrt(xt),it=-(He+Ze)/et,at=(-He+Ze)/et;it>=0&&it<=1&&ut.push(it),at>=0&&at<=1&&ut.push(at)}}return ut}return{getIntersections:function(ue){var we=this.getValues(),ce=ue&&ue!==this&&ue.getValues();return ce?Y(we,ce,this,ue,[]):ie(we,this,[])},statics:{getOverlaps:U,getIntersections:he,getCurveLineIntersections:B,getTimesWithTangent:se}}}),R=S.extend({_class:"CurveLocation",initialize:function(_,T,L,G,B){if(T>=.99999999){var W=_.getNext();W&&(T=0,_=W)}this._setCurve(_),this._time=T,this._point=L||_.getPointAtTime(T),this._overlap=G,this._distance=B,this._intersection=this._next=this._previous=null},_setPath:function(h){this._path=h,this._version=h?h._version:0},_setCurve:function(h){this._setPath(h._path),this._curve=h,this._segment=null,this._segment1=h._segment1,this._segment2=h._segment2},_setSegment:function(h){var _=h.getCurve();_?this._setCurve(_):(this._setPath(h._path),this._segment1=h,this._segment2=null),this._segment=h,this._time=h===this._segment1?0:1,this._point=h._point.clone()},getSegment:function(){var h=this._segment;if(!h){var _=this.getCurve(),T=this.getTime();T===0?h=_._segment1:T===1?h=_._segment2:T!=null&&(h=_.getPartLength(0,T)<_.getPartLength(T,1)?_._segment1:_._segment2),this._segment=h}return h},getCurve:function(){var h=this._path,_=this;h&&h._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function T(L){var G=L&&L.getCurve();if(G&&(_._time=G.getTimeOf(_._point))!=null)return _._setCurve(G),G}return this._curve||T(this._segment)||T(this._segment1)||T(this._segment2.getPrevious())},getPath:function(){var h=this.getCurve();return h&&h._path},getIndex:function(){var h=this.getCurve();return h&&h.getIndex()},getTime:function(){var h=this.getCurve(),_=this._time;return h&&_==null?this._time=h.getTimeOf(this._point):_},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var h=this._offset;if(h==null){h=0;var _=this.getPath(),T=this.getIndex();if(_&&T!=null)for(var L=_.getCurves(),G=0;G<T;G++)h+=L[G].getLength();this._offset=h+=this.getCurveOffset()}return h},getCurveOffset:function(){var h=this._curveOffset;if(h==null){var _=this.getCurve(),T=this.getTime();this._curveOffset=h=T!=null&&_&&_.getPartLength(0,T)}return h},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var h=this.getCurve(),_=h&&h.divideAtTime(this.getTime());return _&&this._setSegment(_._segment1),_},split:function(){var h=this.getCurve(),_=h._path,T=h&&h.splitAtTime(this.getTime());return T&&this._setSegment(_.getLastSegment()),T},equals:function(h,_){var T=this===h;if(!T&&h instanceof R){var L=this.getCurve(),G=h.getCurve(),B=L._path,W=G._path;if(B===W){var F=Math.abs,Y=1e-7,ie=F(this.getOffset()-h.getOffset()),he=!_&&this._intersection,U=!_&&h._intersection;T=(ie<Y||B&&F(B.getLength()-ie)<Y)&&(!he&&!U||he&&U&&he.equals(U,!0))}}return T},toString:function(){var h=[],_=this.getPoint(),T=d.instance;_&&h.push("point: "+_);var L=this.getIndex();L!=null&&h.push("index: "+L);var G=this.getTime();return G!=null&&h.push("time: "+T.number(G)),this._distance!=null&&h.push("distance: "+T.number(this._distance)),"{ "+h.join(", ")+" }"},isTouching:function(){var h=this._intersection;if(h&&this.getTangent().isCollinear(h.getTangent())){var _=this.getCurve(),T=h.getCurve();return!(_.isStraight()&&T.isStraight()&&_.getLine().intersect(T.getLine()))}return!1},isCrossing:function(){var h=this._intersection;if(!h)return!1;var _=this.getTime(),T=h.getTime(),L=1e-8,G=1-L,B=_>=L&&_<=G,W=T>=L&&T<=G;if(B&&W)return!this.isTouching();var F=this.getCurve(),Y=F&&_<L?F.getPrevious():F,ie=h.getCurve(),he=ie&&T<L?ie.getPrevious():ie;if(_>G&&(F=F.getNext()),T>G&&(ie=ie.getNext()),!Y||!F||!he||!ie)return!1;var U=[];function se(Ee,Fe){var Ne=Ee.getValues(),Ge=N.classify(Ne).roots||N.getPeaks(Ne),ze=Ge.length,We=N.getLength(Ne,Fe&&ze?Ge[ze-1]:0,!Fe&&ze?Ge[0]:1);U.push(ze?We:We/32)}function ue(Ee,Fe,Ne){return Fe<Ne?Ee>Fe&&Ee<Ne:Ee>Fe||Ee<Ne}B||(se(Y,!0),se(F,!1)),W||(se(he,!0),se(ie,!1));var we=this.getPoint(),ce=Math.min.apply(Math,U),Se=B?F.getTangentAtTime(_):F.getPointAt(ce).subtract(we),$=B?Se.negate():Y.getPointAt(-ce).subtract(we),je=W?ie.getTangentAtTime(T):ie.getPointAt(ce).subtract(we),be=W?je.negate():he.getPointAt(-ce).subtract(we),k=$.getAngle(),ye=Se.getAngle(),Ce=be.getAngle(),X=je.getAngle();return!!(B?ue(k,Ce,X)^ue(ye,Ce,X)&&ue(k,X,Ce)^ue(ye,X,Ce):ue(Ce,k,ye)^ue(X,k,ye)&&ue(Ce,ye,k)^ue(X,ye,k))},hasOverlap:function(){return!!this._overlap}},S.each(N._evaluateMethods,function(h){var _=h+"At";this[h]=function(){var T=this.getCurve(),L=this.getTime();return L!=null&&T&&T[_](L,!0)}},{preserve:!0}),new function(){function h(_,T,L){var G=_.length,B=0,W=G-1;function F(we,ce){for(var Se=we+ce;Se>=-1&&Se<=G;Se+=ce){var $=_[(Se%G+G)%G];if(!T.getPoint().isClose($.getPoint(),1e-7))break;if(T.equals($))return $}return null}for(;B<=W;){var Y=B+W>>>1,ie=_[Y],he;if(L&&(he=T.equals(ie)?ie:F(Y,-1)||F(Y,1)))return T._overlap&&(he._overlap=he._intersection._overlap=!0),he;var U=T.getPath(),se=ie.getPath(),ue=U!==se?U._id-se._id:T.getIndex()+T.getTime()-(ie.getIndex()+ie.getTime());ue<0?W=Y-1:B=Y+1}return _.splice(B,0,T),T}return{statics:{insert:h,expand:function(_){for(var T=_.slice(),L=_.length-1;L>=0;L--)h(T,_[L]._intersection,!1);return T}}}}),I=b.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(h){var _,T,L;if(S.isPlainObject(h)?(T=h.segments,_=h.pathData):Array.isArray(h)?T=h:typeof h=="string"&&(_=h),T){var G=T[0];L=G&&Array.isArray(G[0])}else _&&(L=(_.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(_));var B=L?ee:H;return new B(h)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(h){this.isClockwise()!=(h=!!h)&&this.reverse()},setPathData:function(h){var _=h&&h.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),T,L=!1,G,B,W=new r,F=new r;function Y(be,k){var ye=+T[be];return L&&(ye+=W[k]),ye}function ie(be){return new r(Y(be,"x"),Y(be+1,"y"))}this.clear();for(var he=0,U=_&&_.length;he<U;he++){var se=_[he],ue=se[0],we=ue.toLowerCase();T=se.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var ce=T&&T.length;switch(L=ue===we,G==="z"&&!/[mz]/.test(we)&&this.moveTo(W),we){case"m":case"l":for(var Se=we==="m",$=0;$<ce;$+=2)this[Se?"moveTo":"lineTo"](W=ie($)),Se&&(F=W,Se=!1);B=W;break;case"h":case"v":var je=we==="h"?"x":"y";W=W.clone();for(var $=0;$<ce;$++)W[je]=Y($,je),this.lineTo(W);B=W;break;case"c":for(var $=0;$<ce;$+=6)this.cubicCurveTo(ie($),B=ie($+2),W=ie($+4));break;case"s":for(var $=0;$<ce;$+=4)this.cubicCurveTo(/[cs]/.test(G)?W.multiply(2).subtract(B):W,B=ie($),W=ie($+2)),G=we;break;case"q":for(var $=0;$<ce;$+=4)this.quadraticCurveTo(B=ie($),W=ie($+2));break;case"t":for(var $=0;$<ce;$+=2)this.quadraticCurveTo(B=/[qt]/.test(G)?W.multiply(2).subtract(B):W,W=ie($)),G=we;break;case"a":for(var $=0;$<ce;$+=7)this.arcTo(W=ie($+5),new a(+T[$],+T[$+1]),+T[$+2],+T[$+4],+T[$+3]);break;case"z":this.closePath(1e-12),W=F;break}G=we}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(h){var _=h.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(h):{};return _.onPath||!!(this.getFillRule()==="evenodd"?_.windingL&1||_.windingR&1:_.winding)},getIntersections:function(h,_,T,L){var G=this===h||!h,B=this._matrix._orNullIfIdentity(),W=G?B:(T||h._matrix)._orNullIfIdentity();return G||this.getBounds(B).intersects(h.getBounds(W),1e-12)?N.getIntersections(this.getCurves(),!G&&h.getCurves(),_,B,W,L):[]},getCrossings:function(h){return this.getIntersections(h,function(_){return _.isCrossing()})},getNearestLocation:function(){for(var h=r.read(arguments),_=this.getCurves(),T=1/0,L=null,G=0,B=_.length;G<B;G++){var W=_[G].getNearestLocation(h);W._distance<T&&(T=W._distance,L=W)}return L},getNearestPoint:function(){var h=this.getNearestLocation.apply(this,arguments);return h&&h.getPoint()},interpolate:function(h,_,T){var L=!this._children,G=L?"_segments":"_children",B=h[G],W=_[G],F=this[G];if(!B||!W||B.length!==W.length)throw new Error("Invalid operands in interpolate() call: "+h+", "+_);var Y=F.length,ie=W.length;if(Y<ie)for(var he=L?O:H,U=Y;U<ie;U++)this.add(new he);else Y>ie&&this[L?"removeSegments":"removeChildren"](ie,Y);for(var U=0;U<ie;U++)F[U].interpolate(B[U],W[U],T);L&&(this.setClosed(h._closed),this._changed(9))},compare:function(h){var _=!1;if(h){var T=this._children||[this],L=h._children?h._children.slice():[h],G=T.length,B=L.length,W=[],F=0;_=!0;for(var Y=g.findItemBoundsCollisions(T,L,u.GEOMETRIC_EPSILON),ie=G-1;ie>=0&&_;ie--){var he=T[ie];_=!1;var U=Y[ie];if(U)for(var se=U.length-1;se>=0&&!_;se--)he.compare(L[U[se]])&&(W[U[se]]||(W[U[se]]=!0,F++),_=!0)}_=_&&F===B}return _}}),H=I.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(_){this._closed=!1,this._segments=[],this._version=0;var T=arguments,L=Array.isArray(_)?typeof _[0]=="object"?_:T:_&&_.size===Ye&&(_.x!==Ye||_.point!==Ye)?T:null;L&&L.length>0?this.setSegments(L):(this._curves=Ye,this._segmentSelection=0,!L&&typeof _=="string"&&(this.setPathData(_),_=null)),this._initialize(!L&&_)},_equals:function(h){return this._closed===h._closed&&S.equals(this._segments,h._segments)},copyContent:function(h){this.setSegments(h._segments),this._closed=h._closed},_changed:function h(_){if(h.base.call(this,_),_&8){if(this._length=this._area=Ye,_&32)this._version++;else if(this._curves)for(var T=0,L=this._curves.length;T<L;T++)this._curves[T]._changed()}else _&64&&(this._bounds=Ye)},getStyle:function(){var h=this._parent;return(h instanceof ee?h:this)._style},getSegments:function(){return this._segments},setSegments:function(h){var _=this.isFullySelected(),T=h&&h.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=Ye,T){var L=h[T-1];typeof L=="boolean"&&(this.setClosed(L),T--),this._add(O.readList(h,0,{},T))}_&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var h=this._curves,_=this._segments;if(!h){var T=this._countCurves();h=this._curves=new Array(T);for(var L=0;L<T;L++)h[L]=new N(this,_[L],_[L+1]||_[0])}return h},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var h=this.getCurves();return h[h.length-1]},isClosed:function(){return this._closed},setClosed:function(h){if(this._closed!=(h=!!h)){if(this._closed=h,this._curves){var _=this._curves.length=this._countCurves();h&&(this._curves[_-1]=new N(this,this._segments[_-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(h,_){var T=this._segments,L=T.length,G=new d(_),B=new Array(6),W=!0,F,Y,ie,he,U,se,ue,we,ce=[];function Se(je,be){if(je._transformCoordinates(h,B),F=B[0],Y=B[1],W)ce.push("M"+G.pair(F,Y)),W=!1;else if(U=B[2],se=B[3],U===F&&se===Y&&ue===ie&&we===he){if(!be){var k=F-ie,ye=Y-he;ce.push(k===0?"v"+G.number(ye):ye===0?"h"+G.number(k):"l"+G.pair(k,ye))}}else ce.push("c"+G.pair(ue-ie,we-he)+" "+G.pair(U-ie,se-he)+" "+G.pair(F-ie,Y-he));ie=F,he=Y,ue=B[4],we=B[5]}if(!L)return"";for(var $=0;$<L;$++)Se(T[$]);return this._closed&&L>0&&(Se(T[0],!0),ce.push("z")),ce.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(h){for(var _=this._segments,T=new Array(6),L=0,G=_.length;L<G;L++)_[L]._transformCoordinates(h,T,!0);return!0},_add:function(h,W){for(var T=this._segments,L=this._curves,G=h.length,B=W==null,W=B?T.length:W,F=0;F<G;F++){var Y=h[F];Y._path&&(Y=h[F]=Y.clone()),Y._path=this,Y._index=W+F,Y._selection&&this._updateSelection(Y,0,Y._selection)}if(B)S.push(T,h);else{T.splice.apply(T,[W,0].concat(h));for(var F=W+G,ie=T.length;F<ie;F++)T[F]._index=F}if(L){var he=this._countCurves(),U=W>0&&W+G-1===he?W-1:W,se=U,ue=Math.min(U+G,he);h._curves&&(L.splice.apply(L,[U,0].concat(h._curves)),se+=h._curves.length);for(var F=se;F<ue;F++)L.splice(F,0,new N(this,null,null));this._adjustCurves(U,ue)}return this._changed(41),h},_adjustCurves:function(h,_){for(var T=this._segments,L=this._curves,G,B=h;B<_;B++)G=L[B],G._path=this,G._segment1=T[B],G._segment2=T[B+1]||T[0],G._changed();(G=L[this._closed&&!h?T.length-1:h-1])&&(G._segment2=T[h]||T[0],G._changed()),(G=L[_])&&(G._segment1=T[_],G._changed())},_countCurves:function(){var h=this._segments.length;return!this._closed&&h>0?h-1:h},add:function(h){var _=arguments;return _.length>1&&typeof h!="number"?this._add(O.readList(_)):this._add([O.read(_)])[0]},insert:function(h,_){var T=arguments;return T.length>2&&typeof _!="number"?this._add(O.readList(T,1),h):this._add([O.read(T,1)],h)[0]},addSegment:function(){return this._add([O.read(arguments)])[0]},insertSegment:function(h){return this._add([O.read(arguments,1)],h)[0]},addSegments:function(h){return this._add(O.readList(h))},insertSegments:function(h,_){return this._add(O.readList(_),h)},removeSegment:function(h){return this.removeSegments(h,h+1)[0]||null},removeSegments:function(h,_,T){h=h||0,_=S.pick(_,this._segments.length);var L=this._segments,G=this._curves,B=L.length,W=L.splice(h,_-h),F=W.length;if(!F)return W;for(var Y=0;Y<F;Y++){var ie=W[Y];ie._selection&&this._updateSelection(ie,ie._selection,0),ie._index=ie._path=null}for(var Y=h,he=L.length;Y<he;Y++)L[Y]._index=Y;if(G){for(var U=h>0&&_===B+(this._closed?1:0)?h-1:h,G=G.splice(U,F),Y=G.length-1;Y>=0;Y--)G[Y]._path=null;T&&(W._curves=G.slice(1)),this._adjustCurves(U,U)}return this._changed(41),W},clear:"#removeSegments",hasHandles:function(){for(var h=this._segments,_=0,T=h.length;_<T;_++)if(h[_].hasHandles())return!0;return!1},clearHandles:function(){for(var h=this._segments,_=0,T=h.length;_<T;_++)h[_].clearHandles()},getLength:function(){if(this._length==null){for(var h=this.getCurves(),_=0,T=0,L=h.length;T<L;T++)_+=h[T].getLength();this._length=_}return this._length},getArea:function(){var h=this._area;if(h==null){var _=this._segments,T=this._closed;h=0;for(var L=0,G=_.length;L<G;L++){var B=L+1===G;h+=N.getArea(N.getValues(_[L],_[B?0:L+1],null,B&&!T))}this._area=h}return h},isFullySelected:function(){var h=this._segments.length;return this.isSelected()&&h>0&&this._segmentSelection===h*7},setFullySelected:function(h){h&&this._selectSegments(!0),this.setSelected(h)},setSelection:function h(_){_&1||this._selectSegments(!1),h.base.call(this,_)},_selectSegments:function(h){var _=this._segments,T=_.length,L=h?7:0;this._segmentSelection=L*T;for(var G=0;G<T;G++)_[G]._selection=L},_updateSelection:function(h,_,T){h._selection=T;var L=this._segmentSelection+=T-_;L>0&&this.setSelected(!0)},divideAt:function(h){var _=this.getLocationAt(h),T;return _&&(T=_.getCurve().divideAt(_.getCurveOffset()))?T._segment1:null},splitAt:function(h){var _=this.getLocationAt(h),T=_&&_.index,L=_&&_.time,G=1e-8,B=1-G;L>B&&(T++,L=0);var W=this.getCurves();if(T>=0&&T<W.length){L>=G&&W[T++].divideAtTime(L);var F=this.removeSegments(T,this._segments.length,!0),Y;return this._closed?(this.setClosed(!1),Y=this):(Y=new H(b.NO_INSERT),Y.insertAbove(this),Y.copyAttributes(this)),Y._add(F,0),this.addSegment(F[0]),Y}return null},split:function(h,_){var T,L=_===Ye?h:(T=this.getCurves()[h])&&T.getLocationAtTime(_);return L!=null?this.splitAt(L):null},join:function(h,_){var T=_||0;if(h&&h!==this){var L=h._segments,G=this.getLastSegment(),B=h.getLastSegment();if(!B)return this;G&&G._point.isClose(B._point,T)&&h.reverse();var W=h.getFirstSegment();if(G&&G._point.isClose(W._point,T))G.setHandleOut(W._handleOut),this._add(L.slice(1));else{var F=this.getFirstSegment();F&&F._point.isClose(W._point,T)&&h.reverse(),B=h.getLastSegment(),F&&F._point.isClose(B._point,T)?(F.setHandleIn(B._handleIn),this._add(L.slice(0,L.length-1),0)):this._add(L.slice())}h._closed&&this._add([L[0]]),h.remove()}var Y=this.getFirstSegment(),ie=this.getLastSegment();return Y!==ie&&Y._point.isClose(ie._point,T)&&(Y.setHandleIn(ie._handleIn),ie.remove(),this.setClosed(!0)),this},reduce:function(h){for(var _=this.getCurves(),T=h&&h.simplify,L=T?1e-7:0,G=_.length-1;G>=0;G--){var B=_[G];!B.hasHandles()&&(!B.hasLength(L)||T&&B.isCollinear(B.getNext()))&&B.remove()}return this},reverse:function(){this._segments.reverse();for(var h=0,_=this._segments.length;h<_;h++){var T=this._segments[h],L=T._handleIn;T._handleIn=T._handleOut,T._handleOut=L,T._index=h}this._curves=null,this._changed(9)},flatten:function(h){for(var _=new fe(this,h||.25,256,!0),T=_.parts,L=T.length,G=[],B=0;B<L;B++)G.push(new O(T[B].curve.slice(0,2)));!this._closed&&L>0&&G.push(new O(T[L-1].curve.slice(6))),this.setSegments(G)},simplify:function(h){var _=new xe(this).fit(h||2.5);return _&&this.setSegments(_),!!_},smooth:function(h){var _=this,T=h||{},L=T.type||"asymmetric",G=this._segments,B=G.length,W=this._closed;function F(st,Et){var gt=st&&st.index;if(gt!=null){var jt=st.path;if(jt&&jt!==_)throw new Error(st._class+" "+gt+" of "+jt+" is not part of "+_);Et&&st instanceof N&&gt++}else gt=typeof st=="number"?st:Et;return Math.min(gt<0&&W?gt%B:gt<0?gt+B:gt,B-1)}var Y=W&&T.from===Ye&&T.to===Ye,ie=F(T.from,0),he=F(T.to,B-1);if(ie>he)if(W)ie-=B;else{var U=ie;ie=he,he=U}if(/^(?:asymmetric|continuous)$/.test(L)){var se=L==="asymmetric",ue=Math.min,we=he-ie+1,ce=we-1,Se=Y?ue(we,4):1,$=Se,je=Se,be=[];if(W||($=ue(1,ie),je=ue(1,B-he-1)),ce+=$+je,ce<=1)return;for(var k=0,ye=ie-$;k<=ce;k++,ye++)be[k]=G[(ye<0?ye+B:ye)%B]._point;for(var Ce=be[0]._x+2*be[1]._x,X=be[0]._y+2*be[1]._y,Ee=2,Fe=ce-1,Ne=[Ce],Ge=[X],ze=[Ee],We=[],Qe=[],k=1;k<ce;k++){var rt=k<Fe,et=rt||se?1:2,ut=rt?4:se?2:7,mt=rt?4:se?3:8,bt=rt?2:se?0:1,xt=et/Ee;Ee=ze[k]=ut-xt,Ce=Ne[k]=mt*be[k]._x+bt*be[k+1]._x-xt*Ce,X=Ge[k]=mt*be[k]._y+bt*be[k+1]._y-xt*X}We[Fe]=Ne[Fe]/ze[Fe],Qe[Fe]=Ge[Fe]/ze[Fe];for(var k=ce-2;k>=0;k--)We[k]=(Ne[k]-We[k+1])/ze[k],Qe[k]=(Ge[k]-Qe[k+1])/ze[k];We[ce]=(3*be[ce]._x-We[Fe])/2,Qe[ce]=(3*be[ce]._y-Qe[Fe])/2;for(var k=$,He=ce-je,ye=ie;k<=He;k++,ye++){var Ze=G[ye<0?ye+B:ye],it=Ze._point,at=We[k]-it._x,yt=Qe[k]-it._y;(Y||k<He)&&Ze.setHandleOut(at,yt),(Y||k>$)&&Ze.setHandleIn(-at,-yt)}}else for(var k=ie;k<=he;k++)G[k<0?k+B:k].smooth(T,!Y&&k===ie,!Y&&k===he)},toShape:function(h){if(!this._closed)return null;var _=this._segments,T,L,G,B;function W(se,ue){var we=_[se],ce=we.getNext(),Se=_[ue],$=Se.getNext();return we._handleOut.isZero()&&ce._handleIn.isZero()&&Se._handleOut.isZero()&&$._handleIn.isZero()&&ce._point.subtract(we._point).isCollinear($._point.subtract(Se._point))}function F(se){var ue=_[se],we=ue.getPrevious(),ce=ue.getNext();return we._handleOut.isZero()&&ue._handleIn.isZero()&&ue._handleOut.isZero()&&ce._handleIn.isZero()&&ue._point.subtract(we._point).isOrthogonal(ce._point.subtract(ue._point))}function Y(se){var ue=_[se],we=ue.getNext(),ce=ue._handleOut,Se=we._handleIn,$=.5522847498307936;if(ce.isOrthogonal(Se)){var je=ue._point,be=we._point,k=new p(je,ce,!0).intersect(new p(be,Se,!0),!0);return k&&u.isZero(ce.getLength()/k.subtract(je).getLength()-$)&&u.isZero(Se.getLength()/k.subtract(be).getLength()-$)}return!1}function ie(se,ue){return _[se]._point.getDistance(_[ue]._point)}if(!this.hasHandles()&&_.length===4&&W(0,2)&&W(1,3)&&F(1)?(T=j.Rectangle,L=new a(ie(0,3),ie(0,1)),B=_[1]._point.add(_[2]._point).divide(2)):_.length===8&&Y(0)&&Y(2)&&Y(4)&&Y(6)&&W(1,5)&&W(3,7)?(T=j.Rectangle,L=new a(ie(1,6),ie(0,3)),G=L.subtract(new a(ie(0,7),ie(1,2))).divide(2),B=_[3]._point.add(_[4]._point).divide(2)):_.length===4&&Y(0)&&Y(1)&&Y(2)&&Y(3)&&(u.isZero(ie(0,2)-ie(1,3))?(T=j.Circle,G=ie(0,2)/2):(T=j.Ellipse,G=new a(ie(2,0)/2,ie(3,1)/2)),B=_[1]._point),T){var he=this.getPosition(!0),U=new T({center:he,size:L,radius:G,insert:!1});return U.copyAttributes(this,!0),U._matrix.prepend(this._matrix),U.rotate(B.subtract(he).getAngle()+90),(h===Ye||h)&&U.insertAbove(this),U}return null},toPath:"#clone",compare:function h(_){if(!_||_ instanceof ee)return h.base.call(this,_);var T=this.getCurves(),L=_.getCurves(),G=T.length,B=L.length;if(!G||!B)return G==B;for(var W=T[0].getValues(),F=[],Y=0,ie,he=0,U,se=0;se<B;se++){var Se=L[se].getValues();F.push(Se);var ue=N.getOverlaps(W,Se);if(ue){ie=!se&&ue[0][0]>0?B-1:se,U=ue[0][1];break}}for(var we=Math.abs,ce=1e-8,Se=F[ie],$;W&&Se;){var ue=N.getOverlaps(W,Se);if(ue){var je=ue[0][0];if(we(je-he)<ce){he=ue[1][0],he===1&&(W=++Y<G?T[Y].getValues():null,he=0);var be=ue[0][1];if(we(be-U)<ce){if($||($=[ie,be]),U=ue[1][1],U===1&&(++ie>=B&&(ie=0),Se=F[ie]||L[ie].getValues(),U=0),!W)return $[0]===ie&&$[1]===U;continue}}}break}return!1},_hitTestSelf:function(h,_,T,L){var G=this,B=this.getStyle(),W=this._segments,F=W.length,Y=this._closed,ie=_._tolerancePadding,he=ie,U,se,ue,we,ce,Se,$=_.stroke&&B.hasStroke(),je=_.fill&&B.hasFill(),be=_.curves,k=$?B.getStrokeWidth()/2:je&&_.tolerance>0||be?0:null;k!==null&&(k>0?(U=B.getStrokeJoin(),se=B.getStrokeCap(),ue=B.getMiterLimit(),he=he.add(H._getStrokePadding(k,L))):U=se="round");function ye(We,Qe){return h.subtract(We).divide(Qe).length<=1}function Ce(We,Qe,rt){if(!_.selected||Qe.isSelected()){var et=We._point;if(Qe!==et&&(Qe=Qe.add(et)),ye(Qe,he))return new P(rt,G,{segment:We,point:Qe})}}function X(We,Qe){return(Qe||_.segments)&&Ce(We,We._point,"segment")||!Qe&&_.handles&&(Ce(We,We._handleIn,"handle-in")||Ce(We,We._handleOut,"handle-out"))}function Ee(We){we.add(We)}function Fe(We){var Qe=Y||We._index>0&&We._index<F-1;if((Qe?U:se)==="round")return ye(We._point,he);if(we=new H({internal:!0,closed:!0}),Qe?We.isSmooth()||H._addBevelJoin(We,U,k,ue,null,L,Ee,!0):se==="square"&&H._addSquareCap(We,se,k,null,L,Ee,!0),!we.isEmpty()){var rt;return we.contains(h)||(rt=we.getNearestLocation(h))&&ye(rt.getPoint(),ie)}}if(_.ends&&!_.segments&&!Y){if(Se=X(W[0],!0)||X(W[F-1],!0))return Se}else if(_.segments||_.handles){for(var Ne=0;Ne<F;Ne++)if(Se=X(W[Ne]))return Se}if(k!==null){if(ce=this.getNearestLocation(h),ce){var Ge=ce.getTime();Ge===0||Ge===1&&F>1?Fe(ce.getSegment())||(ce=null):ye(ce.getPoint(),he)||(ce=null)}if(!ce&&U==="miter"&&F>1)for(var Ne=0;Ne<F;Ne++){var ze=W[Ne];if(h.getDistance(ze._point)<=ue*k&&Fe(ze)){ce=ze.getLocation();break}}}return!ce&&je&&this._contains(h)||ce&&!$&&!be?new P("fill",this):ce?new P($?"stroke":"curve",this,{location:ce,point:ce.getPoint()}):null}},S.each(N._evaluateMethods,function(h){this[h+"At"]=function(_){var T=this.getLocationAt(_);return T&&T[h]()}},{beans:!1,getLocationOf:function(){for(var h=r.read(arguments),_=this.getCurves(),T=0,L=_.length;T<L;T++){var G=_[T].getLocationOf(h);if(G)return G}return null},getOffsetOf:function(){var h=this.getLocationOf.apply(this,arguments);return h?h.getOffset():null},getLocationAt:function(h){if(typeof h=="number"){for(var _=this.getCurves(),T=0,L=0,G=_.length;L<G;L++){var B=T,W=_[L];if(T+=W.getLength(),T>h)return W.getLocationAt(h-B)}if(_.length>0&&h<=this.getLength())return new R(_[_.length-1],1)}else if(h&&h.getPath&&h.getPath()===this)return h;return null},getOffsetsWithTangent:function(){var h=r.read(arguments);if(h.isZero())return[];for(var _=[],T=0,L=this.getCurves(),G=0,B=L.length;G<B;G++){for(var W=L[G],F=W.getTimesWithTangent(h),Y=0,ie=F.length;Y<ie;Y++){var he=T+W.getOffsetAtTime(F[Y]);_.indexOf(he)<0&&_.push(he)}T+=W.length}return _}}),new function(){function h(T,L,G,B){if(B<=0)return;var W=B/2,F=B-2,Y=W-1,ie=new Array(6),he,U;function se(je){var be=ie[je],k=ie[je+1];(he!=be||U!=k)&&(T.beginPath(),T.moveTo(he,U),T.lineTo(be,k),T.stroke(),T.beginPath(),T.arc(be,k,W,0,Math.PI*2,!0),T.fill())}for(var ue=0,we=L.length;ue<we;ue++){var ce=L[ue],Se=ce._selection;if(ce._transformCoordinates(G,ie),he=ie[0],U=ie[1],Se&2&&se(2),Se&4&&se(4),T.fillRect(he-W,U-W,B,B),F>0&&!(Se&1)){var $=T.fillStyle;T.fillStyle="#ffffff",T.fillRect(he-Y,U-Y,F,F),T.fillStyle=$}}}function _(T,L,G){var B=L._segments,W=B.length,F=new Array(6),Y=!0,ie,he,U,se,ue,we,ce,Se;function $(be){if(G)be._transformCoordinates(G,F),ie=F[0],he=F[1];else{var k=be._point;ie=k._x,he=k._y}if(Y)T.moveTo(ie,he),Y=!1;else{if(G)ue=F[2],we=F[3];else{var ye=be._handleIn;ue=ie+ye._x,we=he+ye._y}ue===ie&&we===he&&ce===U&&Se===se?T.lineTo(ie,he):T.bezierCurveTo(ce,Se,ue,we,ie,he)}if(U=ie,se=he,G)ce=F[4],Se=F[5];else{var ye=be._handleOut;ce=U+ye._x,Se=se+ye._y}}for(var je=0;je<W;je++)$(B[je]);L._closed&&W>0&&$(B[0])}return{_draw:function(T,L,G,B){var W=L.dontStart,F=L.dontFinish||L.clip,Y=this.getStyle(),ie=Y.hasFill(),he=Y.hasStroke(),U=Y.getDashArray(),se=!Le.support.nativeDash&&he&&U&&U.length;W||T.beginPath(),(ie||he&&!se||F)&&(_(T,this,B),this._closed&&T.closePath());function ue(be){return U[(be%se+se)%se]}if(!F&&(ie||he)&&(this._setStyles(T,L,G),ie&&(T.fill(Y.getFillRule()),T.shadowColor="rgba(0,0,0,0)"),he)){if(se){W||T.beginPath();for(var we=new fe(this,.25,32,!1,B),ce=we.length,Se=-Y.getDashOffset(),$,je=0;Se>0;)Se-=ue(je--)+ue(je--);for(;Se<ce;)$=Se+ue(je++),(Se>0||$>0)&&we.drawPart(T,Math.max(Se,0),Math.max($,0)),Se=$+ue(je++)}T.stroke()}},_drawSelected:function(T,L){T.beginPath(),_(T,this,L),T.stroke(),h(T,this._segments,L,Le.settings.handleSize)}}},new function(){function h(_){var T=_._segments;if(!T.length)throw new Error("Use a moveTo() command first");return T[T.length-1]}return{moveTo:function(){var _=this._segments;_.length===1&&this.removeSegment(0),_.length||this._add([new O(r.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new O(r.read(arguments))])},cubicCurveTo:function(){var _=arguments,T=r.read(_),L=r.read(_),G=r.read(_),B=h(this);B.setHandleOut(T.subtract(B._point)),this._add([new O(G,L.subtract(G))])},quadraticCurveTo:function(){var _=arguments,T=r.read(_),L=r.read(_),G=h(this)._point;this.cubicCurveTo(T.add(G.subtract(T).multiply(1/3)),T.add(L.subtract(T).multiply(1/3)),L)},curveTo:function(){var _=arguments,T=r.read(_),L=r.read(_),G=S.pick(S.read(_),.5),B=1-G,W=h(this)._point,F=T.subtract(W.multiply(B*B)).subtract(L.multiply(G*G)).divide(2*G*B);if(F.isNaN())throw new Error("Cannot put a curve through points with parameter = "+G);this.quadraticCurveTo(F,L)},arcTo:function(){var _=arguments,T=Math.abs,L=Math.sqrt,G=h(this),B=G._point,W=r.read(_),F,Y=S.peek(_),ie=S.pick(Y,!0),he,U,se,ue;if(typeof ie=="boolean")var we=B.add(W).divide(2),F=we.add(we.subtract(B).rotate(ie?-90:90));else if(S.remain(_)<=2)F=W,W=r.read(_);else if(!B.equals(W)){var ce=a.read(_),Se=u.isZero;if(Se(ce.width)||Se(ce.height))return this.lineTo(W);var $=S.read(_),ie=!!S.read(_),je=!!S.read(_),we=B.add(W).divide(2),be=B.subtract(we).rotate(-$),k=be.x,ye=be.y,Ce=T(ce.width),X=T(ce.height),Ee=Ce*Ce,Fe=X*X,Ne=k*k,Ge=ye*ye,ze=L(Ne/Ee+Ge/Fe);if(ze>1&&(Ce*=ze,X*=ze,Ee=Ce*Ce,Fe=X*X),ze=(Ee*Fe-Ee*Ge-Fe*Ne)/(Ee*Ge+Fe*Ne),T(ze)<1e-12&&(ze=0),ze<0)throw new Error("Cannot create an arc with the given arguments");he=new r(Ce*ye/X,-X*k/Ce).multiply((je===ie?-1:1)*L(ze)).rotate($).add(we),ue=new s().translate(he).rotate($).scale(Ce,X),se=ue._inverseTransform(B),U=se.getDirectedAngle(ue._inverseTransform(W)),!ie&&U>0?U-=360:ie&&U<0&&(U+=360)}if(F){var We=new p(B.add(F).divide(2),F.subtract(B).rotate(90),!0),Qe=new p(F.add(W).divide(2),W.subtract(F).rotate(90),!0),rt=new p(B,W),et=rt.getSide(F);if(he=We.intersect(Qe,!0),!he){if(!et)return this.lineTo(W);throw new Error("Cannot create an arc with the given arguments")}se=B.subtract(he),U=se.getDirectedAngle(W.subtract(he));var ut=rt.getSide(he,!0);ut===0?U=et*T(U):et===ut&&(U+=U<0?360:-360)}if(U){for(var mt=1e-5,bt=T(U),xt=bt>=360?4:Math.ceil((bt-mt)/90),He=U/xt,Ze=He*Math.PI/360,it=4/3*Math.sin(Ze)/(1+Math.cos(Ze)),at=[],yt=0;yt<=xt;yt++){var be=W,st=null;if(yt<xt&&(st=se.rotate(90).multiply(it),ue?(be=ue._transformPoint(se),st=ue._transformPoint(se.add(st)).subtract(be)):be=he.add(se)),!yt)G.setHandleOut(st);else{var Et=se.rotate(-90).multiply(it);ue&&(Et=ue._transformPoint(se.add(Et)).subtract(be)),at.push(new O(be,Et,st))}se=se.rotate(He)}this._add(at)}},lineBy:function(){var _=r.read(arguments),T=h(this)._point;this.lineTo(T.add(_))},curveBy:function(){var _=arguments,T=r.read(_),L=r.read(_),G=S.read(_),B=h(this)._point;this.curveTo(B.add(T),B.add(L),G)},cubicCurveBy:function(){var _=arguments,T=r.read(_),L=r.read(_),G=r.read(_),B=h(this)._point;this.cubicCurveTo(B.add(T),B.add(L),B.add(G))},quadraticCurveBy:function(){var _=arguments,T=r.read(_),L=r.read(_),G=h(this)._point;this.quadraticCurveTo(G.add(T),G.add(L))},arcBy:function(){var _=arguments,T=h(this)._point,L=T.add(r.read(_)),G=S.pick(S.peek(_),!0);typeof G=="boolean"?this.arcTo(L,G):this.arcTo(L,T.add(r.read(_)))},closePath:function(_){this.setClosed(!0),this.join(this,_)}}},{_getBounds:function(h,_){var T=_.handle?"getHandleBounds":_.stroke?"getStrokeBounds":"getBounds";return H[T](this._segments,this._closed,this,h,_)},statics:{getBounds:function(h,_,T,L,G,B){var W=h[0];if(!W)return new o;var F=new Array(6),Y=W._transformCoordinates(L,new Array(6)),ie=Y.slice(0,2),he=ie.slice(),U=new Array(2);function se(ce){ce._transformCoordinates(L,F);for(var Se=0;Se<2;Se++)N._addBounds(Y[Se],Y[Se+4],F[Se+2],F[Se],Se,B?B[Se]:0,ie,he,U);var $=Y;Y=F,F=$}for(var ue=1,we=h.length;ue<we;ue++)se(h[ue]);return _&&se(W),new o(ie[0],ie[1],he[0]-ie[0],he[1]-ie[1])},getStrokeBounds:function(h,_,T,L,G){var B=T.getStyle(),W=B.hasStroke(),F=B.getStrokeWidth(),Y=W&&T._getStrokeMatrix(L,G),ie=W&&H._getStrokePadding(F,Y),he=H.getBounds(h,_,T,L,G,ie);if(!W)return he;var U=F/2,se=B.getStrokeJoin(),ue=B.getStrokeCap(),we=B.getMiterLimit(),ce=new o(new a(ie));function Se(Ce){he=he.include(Ce)}function $(Ce){he=he.unite(ce.setCenter(Ce._point.transform(L)))}function je(Ce,X){X==="round"||Ce.isSmooth()?$(Ce):H._addBevelJoin(Ce,X,U,we,L,Y,Se)}function be(Ce,X){X==="round"?$(Ce):H._addSquareCap(Ce,X,U,L,Y,Se)}var k=h.length-(_?0:1);if(k>0){for(var ye=1;ye<k;ye++)je(h[ye],se);_?je(h[0],se):(be(h[0],ue),be(h[h.length-1],ue))}return he},_getStrokePadding:function(h,_){if(!_)return[h,h];var T=new r(h,0).transform(_),L=new r(0,h).transform(_),G=T.getAngleInRadians(),B=T.getLength(),W=L.getLength(),F=Math.sin(G),Y=Math.cos(G),ie=Math.tan(G),he=Math.atan2(W*ie,B),U=Math.atan2(W,ie*B);return[Math.abs(B*Math.cos(he)*Y+W*Math.sin(he)*F),Math.abs(W*Math.sin(U)*Y+B*Math.cos(U)*F)]},_addBevelJoin:function(h,_,T,L,G,B,W,F){var Y=h.getCurve(),ie=Y.getPrevious(),he=Y.getPoint1().transform(G),U=ie.getNormalAtTime(1).multiply(T).transform(B),se=Y.getNormalAtTime(0).multiply(T).transform(B),ue=U.getDirectedAngle(se);if((ue<0||ue>=180)&&(U=U.negate(),se=se.negate()),F&&W(he),W(he.add(U)),_==="miter"){var we=new p(he.add(U),new r(-U.y,U.x),!0).intersect(new p(he.add(se),new r(-se.y,se.x),!0),!0);we&&he.getDistance(we)<=L*T&&W(we)}W(he.add(se))},_addSquareCap:function(h,_,T,L,G,B,W){var F=h._point.transform(L),Y=h.getLocation(),ie=Y.getNormal().multiply(Y.getTime()===0?T:-T).transform(G);_==="square"&&(W&&(B(F.subtract(ie)),B(F.add(ie))),F=F.add(ie.rotate(-90))),B(F.add(ie)),B(F.subtract(ie))},getHandleBounds:function(h,_,T,L,G){var B=T.getStyle(),W=G.stroke&&B.hasStroke(),F,Y;if(W){var ie=T._getStrokeMatrix(L,G),he=B.getStrokeWidth()/2,U=he;B.getStrokeJoin()==="miter"&&(U=he*B.getMiterLimit()),B.getStrokeCap()==="square"&&(U=Math.max(U,he*Math.SQRT2)),F=H._getStrokePadding(he,ie),Y=H._getStrokePadding(U,ie)}for(var se=new Array(6),ue=1/0,we=-ue,ce=ue,Se=we,$=0,je=h.length;$<je;$++){var be=h[$];be._transformCoordinates(L,se);for(var k=0;k<6;k+=2){var ye=k?F:Y,Ce=ye?ye[0]:0,X=ye?ye[1]:0,Ee=se[k],Fe=se[k+1],Ne=Ee-Ce,Ge=Ee+Ce,ze=Fe-X,We=Fe+X;Ne<ue&&(ue=Ne),Ge>we&&(we=Ge),ze<ce&&(ce=ze),We>Se&&(Se=We)}}return new o(ue,ce,we-ue,Se-ce)}}});H.inject({statics:new function(){var h=.5522847498307936,_=[new O([-1,0],[0,h],[0,-h]),new O([0,-1],[-h,0],[h,0]),new O([1,0],[0,-h],[0,h]),new O([0,1],[h,0],[-h,0])];function T(G,B,W){var F=S.getNamed(W),Y=new H(F&&(F.insert==!0?b.INSERT:F.insert==!1?b.NO_INSERT:null));return Y._add(G),Y._closed=B,Y.set(F,b.INSERT)}function L(G,B,W){for(var F=new Array(4),Y=0;Y<4;Y++){var ie=_[Y];F[Y]=new O(ie._point.multiply(B).add(G),ie._handleIn.multiply(B),ie._handleOut.multiply(B))}return T(F,!0,W)}return{Line:function(){var G=arguments;return T([new O(r.readNamed(G,"from")),new O(r.readNamed(G,"to"))],!1,G)},Circle:function(){var G=arguments,B=r.readNamed(G,"center"),W=S.readNamed(G,"radius");return L(B,new a(W),G)},Rectangle:function(){var G=arguments,B=o.readNamed(G,"rectangle"),W=a.readNamed(G,"radius",0,{readNull:!0}),F=B.getBottomLeft(!0),Y=B.getTopLeft(!0),ie=B.getTopRight(!0),he=B.getBottomRight(!0),U;if(!W||W.isZero())U=[new O(F),new O(Y),new O(ie),new O(he)];else{W=a.min(W,B.getSize(!0).divide(2));var se=W.width,ue=W.height,we=se*h,ce=ue*h;U=[new O(F.add(se,0),null,[-we,0]),new O(F.subtract(0,ue),[0,ce]),new O(Y.add(0,ue),null,[0,-ce]),new O(Y.add(se,0),[-we,0],null),new O(ie.subtract(se,0),null,[we,0]),new O(ie.add(0,ue),[0,-ce],null),new O(he.subtract(0,ue),null,[0,ce]),new O(he.subtract(se,0),[we,0])]}return T(U,!0,G)},RoundRectangle:"#Rectangle",Ellipse:function(){var G=arguments,B=j._readEllipse(G);return L(B.center,B.radius,G)},Oval:"#Ellipse",Arc:function(){var G=arguments,B=r.readNamed(G,"from"),W=r.readNamed(G,"through"),F=r.readNamed(G,"to"),Y=S.getNamed(G),ie=new H(Y&&Y.insert==!1&&b.NO_INSERT);return ie.moveTo(B),ie.arcTo(W,F),ie.set(Y)},RegularPolygon:function(){for(var G=arguments,B=r.readNamed(G,"center"),W=S.readNamed(G,"sides"),F=S.readNamed(G,"radius"),Y=360/W,ie=W%3===0,he=new r(0,ie?-F:F),U=ie?-1:.5,se=new Array(W),ue=0;ue<W;ue++)se[ue]=new O(B.add(he.rotate((ue+U)*Y)));return T(se,!0,G)},Star:function(){for(var G=arguments,B=r.readNamed(G,"center"),W=S.readNamed(G,"points")*2,F=S.readNamed(G,"radius1"),Y=S.readNamed(G,"radius2"),ie=360/W,he=new r(0,-1),U=new Array(W),se=0;se<W;se++)U[se]=new O(B.add(he.rotate(ie*se).multiply(se%2?Y:F)));return T(U,!0,G)}}}});var ee=I.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(_){this._children=[],this._namedChildren={},this._initialize(_)||(typeof _=="string"?this.setPathData(_):this.addChildren(Array.isArray(_)?_:arguments))},insertChildren:function h(_,T){var L=T,G=L[0];G&&typeof G[0]=="number"&&(L=[L]);for(var B=T.length-1;B>=0;B--){var W=L[B];L===T&&!(W instanceof H)&&(L=S.slice(L)),Array.isArray(W)?L[B]=new H({segments:W,insert:!1}):W instanceof ee&&(L.splice.apply(L,[B,1].concat(W.removeChildren())),W.remove())}return h.base.call(this,_,L)},reduce:function h(_){for(var T=this._children,L=T.length-1;L>=0;L--){var G=T[L].reduce(_);G.isEmpty()&&G.remove()}if(!T.length){var G=new H(b.NO_INSERT);return G.copyAttributes(this),G.insertAbove(this),this.remove(),G}return h.base.call(this)},isClosed:function(){for(var h=this._children,_=0,T=h.length;_<T;_++)if(!h[_]._closed)return!1;return!0},setClosed:function(h){for(var _=this._children,T=0,L=_.length;T<L;T++)_[T].setClosed(h)},getFirstSegment:function(){var h=this.getFirstChild();return h&&h.getFirstSegment()},getLastSegment:function(){var h=this.getLastChild();return h&&h.getLastSegment()},getCurves:function(){for(var h=this._children,_=[],T=0,L=h.length;T<L;T++)S.push(_,h[T].getCurves());return _},getFirstCurve:function(){var h=this.getFirstChild();return h&&h.getFirstCurve()},getLastCurve:function(){var h=this.getLastChild();return h&&h.getLastCurve()},getArea:function(){for(var h=this._children,_=0,T=0,L=h.length;T<L;T++)_+=h[T].getArea();return _},getLength:function(){for(var h=this._children,_=0,T=0,L=h.length;T<L;T++)_+=h[T].getLength();return _},getPathData:function(h,_){for(var T=this._children,L=[],G=0,B=T.length;G<B;G++){var W=T[G],F=W._matrix;L.push(W.getPathData(h&&!F.isIdentity()?h.appended(F):h,_))}return L.join("")},_hitTestChildren:function h(_,T,L){return h.base.call(this,_,T.class===H||T.type==="path"?T:S.set({},T,{fill:!1}),L)},_draw:function(h,_,T,L){var G=this._children;if(G.length){_=_.extend({dontStart:!0,dontFinish:!0}),h.beginPath();for(var B=0,W=G.length;B<W;B++)G[B].draw(h,_,L);if(!_.clip){this._setStyles(h,_,T);var F=this._style;F.hasFill()&&(h.fill(F.getFillRule()),h.shadowColor="rgba(0,0,0,0)"),F.hasStroke()&&h.stroke()}}},_drawSelected:function(h,_,T){for(var L=this._children,G=0,B=L.length;G<B;G++){var W=L[G],F=W._matrix;T[W._id]||W._drawSelected(h,F.isIdentity()?_:_.appended(F))}}},new function(){function h(_,T){var L=_._children;if(T&&!L.length)throw new Error("Use a moveTo() command first");return L[L.length-1]}return S.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(_){this[_]=function(){var T=h(this,!0);T[_].apply(T,arguments)}},{moveTo:function(){var _=h(this),T=_&&_.isEmpty()?_:new H(b.NO_INSERT);T!==_&&this.addChild(T),T.moveTo.apply(T,arguments)},moveBy:function(){var _=h(this,!0),T=_&&_.getLastSegment(),L=r.read(arguments);this.moveTo(T?L.add(T._point):L)},closePath:function(_){h(this,!0).closePath(_)}})},S.each(["reverse","flatten","simplify","smooth"],function(h){this[h]=function(_){for(var T=this._children,L,G=0,B=T.length;G<B;G++)L=T[G][h](_)||L;return L}},{}));I.inject(new function(){var h=Math.min,_=Math.max,T=Math.abs,L={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function G($){return $._children||[$]}function B($,je){var be=$.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(je){for(var k=G(be),ye=0,Ce=k.length;ye<Ce;ye++){var $=k[ye];!$._closed&&!$.isEmpty()&&($.closePath(1e-12),$.getFirstSegment().setHandleIn(0,0),$.getLastSegment().setHandleOut(0,0))}be=be.resolveCrossings().reorient(be.getFillRule()==="nonzero",!0)}return be}function W($,je,be,k,ye){var Ce=new ee(b.NO_INSERT);return Ce.addChildren($,!0),Ce=Ce.reduce({simplify:je}),ye&&ye.insert==!1||Ce.insertAbove(k&&be.isSibling(k)&&be.getIndex()<k.getIndex()?k:be),Ce.copyAttributes(be,!0),Ce}function F($){return $.hasOverlap()||$.isCrossing()}function Y($,je,be,k){if(k&&(k.trace==!1||k.stroke)&&/^(subtract|intersect)$/.test(be))return ie($,je,be);var ye=B($,!0),Ce=je&&$!==je&&B(je,!0),X=L[be];X[be]=!0,Ce&&(X.subtract||X.exclude)^(Ce.isClockwise()^ye.isClockwise())&&Ce.reverse();var Ee=ue(R.expand(ye.getIntersections(Ce,F))),Fe=G(ye),Ne=Ce&&G(Ce),Ge=[],ze=[],We;function Qe(st){for(var Et=0,gt=st.length;Et<gt;Et++){var jt=st[Et];S.push(Ge,jt._segments),S.push(ze,jt.getCurves()),jt._overlapsOnly=!0}}function rt(st){for(var Et=[],gt=0,jt=st&&st.length;gt<jt;gt++)Et.push(ze[st[gt]]);return Et}if(Ee.length){Qe(Fe),Ne&&Qe(Ne);for(var et=new Array(ze.length),ut=0,mt=ze.length;ut<mt;ut++)et[ut]=ze[ut].getValues();for(var bt=g.findCurveBoundsCollisions(et,et,0,!0),xt={},ut=0;ut<ze.length;ut++){var He=ze[ut],Ze=He._path._id,it=xt[Ze]=xt[Ze]||{};it[He.getIndex()]={hor:rt(bt[ut].hor),ver:rt(bt[ut].ver)}}for(var ut=0,mt=Ee.length;ut<mt;ut++)ce(Ee[ut]._segment,ye,Ce,xt,X);for(var ut=0,mt=Ge.length;ut<mt;ut++){var at=Ge[ut],yt=at._intersection;at._winding||ce(at,ye,Ce,xt,X),yt&&yt._overlap||(at._path._overlapsOnly=!1)}We=Se(Ge,X)}else We=se(Ne?Fe.concat(Ne):Fe.slice(),function(st){return!!X[st]});return W(We,!0,$,je,k)}function ie($,je,be){var k=B($),ye=B(je),Ce=k.getIntersections(ye,F),X=be==="subtract",Ee=be==="divide",Fe={},Ne=[];function Ge(Qe){if(!Fe[Qe._id]&&(Ee||ye.contains(Qe.getPointAt(Qe.getLength()/2))^X))return Ne.unshift(Qe),Fe[Qe._id]=!0}for(var ze=Ce.length-1;ze>=0;ze--){var We=Ce[ze].split();We&&(Ge(We)&&We.getFirstSegment().setHandleIn(0,0),k.getLastSegment().setHandleOut(0,0))}return Ge(k),W(Ne,!1,$,je)}function he($,je){for(var be=$;be;){if(be===je)return;be=be._previous}for(;$._next&&$._next!==je;)$=$._next;if(!$._next){for(;je._previous;)je=je._previous;$._next=je,je._previous=$}}function U($){for(var je=$.length-1;je>=0;je--)$[je].clearHandles()}function se($,je,be){var k=$&&$.length;if(k){var ye=S.each($,function(bt,xt){this[bt._id]={container:null,winding:bt.isClockwise()?1:-1,index:xt}},{}),Ce=$.slice().sort(function(bt,xt){return T(xt.getArea())-T(bt.getArea())}),X=Ce[0],Ee=g.findItemBoundsCollisions(Ce,null,u.GEOMETRIC_EPSILON);be==null&&(be=X.isClockwise());for(var Fe=0;Fe<k;Fe++){var Ne=Ce[Fe],Ge=ye[Ne._id],ze=0,We=Ee[Fe];if(We){for(var Qe=null,rt=We.length-1;rt>=0;rt--)if(We[rt]<Fe){Qe=Qe||Ne.getInteriorPoint();var et=Ce[We[rt]];if(et.contains(Qe)){var ut=ye[et._id];ze=ut.winding,Ge.winding+=ze,Ge.container=ut.exclude?ut.container:et;break}}}if(je(Ge.winding)===je(ze))Ge.exclude=!0,$[Ge.index]=null;else{var mt=Ge.container;Ne.setClockwise(mt?!mt.isClockwise():be)}}}return $}function ue($,je,be){var k=je&&[],ye=1e-8,Ce=1-ye,X=!1,Ee=be||[],Fe=be&&{},Ne,Ge,ze;function We(Et){return Et._path._id+"."+Et._segment1._index}for(var Qe=(be&&be.length)-1;Qe>=0;Qe--){var rt=be[Qe];rt._path&&(Fe[We(rt)]=!0)}for(var Qe=$.length-1;Qe>=0;Qe--){var et=$[Qe],ut=et._time,mt=ut,bt=je&&!je(et),rt=et._curve,xt;if(rt&&(rt!==Ge?(X=!rt.hasHandles()||Fe&&Fe[We(rt)],Ne=[],ze=null,Ge=rt):ze>=ye&&(ut/=ze)),bt){Ne&&Ne.push(et);continue}else je&&k.unshift(et);if(ze=mt,ut<ye)xt=rt._segment1;else if(ut>Ce)xt=rt._segment2;else{var He=rt.divideAtTime(ut,!0);X&&Ee.push(rt,He),xt=He._segment1;for(var Ze=Ne.length-1;Ze>=0;Ze--){var it=Ne[Ze];it._time=(it._time-ut)/(1-ut)}}et._setSegment(xt);var at=xt._intersection,yt=et._intersection;if(at){he(at,yt);for(var st=at;st;)he(st._intersection,at),st=st._next}else xt._intersection=yt}return be||U(Ee),k||$}function we($,je,be,k,ye){var Ce=Array.isArray(je)?je:je[be?"hor":"ver"],X=be?1:0,Ee=X^1,Fe=[$.x,$.y],Ne=Fe[X],Ge=Fe[Ee],ze=1e-9,We=1e-6,Qe=Ne-ze,rt=Ne+ze,et=0,ut=0,mt=0,bt=0,xt=!1,He=!1,Ze=1,it=[],at,yt;function st(Ft){var Vt=Ft[Ee+0],Ut=Ft[Ee+6];if(!(Ge<h(Vt,Ut)||Ge>_(Vt,Ut))){var ar=Ft[X+0],tr=Ft[X+2],mr=Ft[X+4],dr=Ft[X+6];if(Vt===Ut){(ar<rt&&dr>Qe||dr<rt&&ar>Qe)&&(xt=!0);return}var vr=Ge===Vt?0:Ge===Ut||Qe>_(ar,tr,mr,dr)||rt<h(ar,tr,mr,dr)?1:N.solveCubic(Ft,Ee,Ge,it,0,1)>0?it[0]:1,hr=vr===0?ar:vr===1?dr:N.getPoint(Ft,vr)[be?"y":"x"],pr=Vt>Ut?1:-1,Tr=at[Ee]>at[Ee+6]?1:-1,_r=at[X+6];return Ge!==Vt?(hr<Qe?mt+=pr:hr>rt?bt+=pr:xt=!0,hr>Ne-We&&hr<Ne+We&&(Ze/=2)):(pr!==Tr?ar<Qe?mt+=pr:ar>rt&&(bt+=pr):ar!=_r&&(_r<rt&&hr>rt?(bt+=pr,xt=!0):_r>Qe&&hr<Qe&&(mt+=pr,xt=!0)),Ze/=4),at=Ft,!ye&&hr>Qe&&hr<rt&&N.getTangent(Ft,vr)[be?"x":"y"]===0&&we($,je,!be,k,!0)}}function Et(Ft){var Vt=Ft[Ee+0],Ut=Ft[Ee+2],ar=Ft[Ee+4],tr=Ft[Ee+6];if(Ge<=_(Vt,Ut,ar,tr)&&Ge>=h(Vt,Ut,ar,tr)){for(var mr=Ft[X+0],dr=Ft[X+2],vr=Ft[X+4],hr=Ft[X+6],pr=Qe>_(mr,dr,vr,hr)||rt<h(mr,dr,vr,hr)?[Ft]:N.getMonoCurves(Ft,be),Tr,_r=0,Kr=pr.length;_r<Kr;_r++)if(Tr=st(pr[_r]))return Tr}}for(var gt=0,jt=Ce.length;gt<jt;gt++){var vt=Ce[gt],Mt=vt._path,Bt=vt.getValues(),Dt;if((!gt||Ce[gt-1]._path!==Mt)&&(at=null,Mt._closed||(yt=N.getValues(Mt.getLastCurve().getSegment2(),vt.getSegment1(),null,!k),yt[Ee]!==yt[Ee+6]&&(at=yt)),!at)){at=Bt;for(var Nt=Mt.getLastCurve();Nt&&Nt!==vt;){var Ht=Nt.getValues();if(Ht[Ee]!==Ht[Ee+6]){at=Ht;break}Nt=Nt.getPrevious()}}if(Dt=Et(Bt))return Dt;if(gt+1===jt||Ce[gt+1]._path!==Mt){if(yt&&(Dt=Et(yt)))return Dt;xt&&!mt&&!bt&&(mt=bt=Mt.isClockwise(k)^be?1:-1),et+=mt,ut+=bt,mt=bt=0,xt&&(He=!0,xt=!1),yt=null}}return et=T(et),ut=T(ut),{winding:_(et,ut),windingL:et,windingR:ut,quality:Ze,onPath:He}}function ce($,je,be,k,ye){var Ce=[],X=$,Ee=0,ze;do{var Fe=$.getCurve();if(Fe){var Ne=Fe.getLength();Ce.push({segment:$,curve:Fe,length:Ne}),Ee+=Ne}$=$.getNext()}while($&&!$._intersection&&$!==X);for(var Ge=[.5,.25,.75],ze={winding:0,quality:-1},We=.001,Qe=1-We,rt=0;rt<Ge.length&&ze.quality<.5;rt++)for(var Ne=Ee*Ge[rt],et=0,ut=Ce.length;et<ut;et++){var mt=Ce[et],bt=mt.length;if(Ne<=bt){var Fe=mt.curve,xt=Fe._path,He=xt._parent,Ze=He instanceof ee?He:xt,it=u.clamp(Fe.getTimeAt(Ne),We,Qe),at=Fe.getPointAtTime(it),yt=T(Fe.getTangentAtTime(it).y)<Math.SQRT1_2,st=null;if(ye.subtract&&be){var Et=Ze===je?be:je,gt=Et._getWinding(at,yt,!0);if(Ze===je&&gt.winding||Ze===be&&!gt.winding){if(gt.quality<1)continue;st={winding:0,quality:1}}}st=st||we(at,k[xt._id][Fe.getIndex()],yt,!0),st.quality>ze.quality&&(ze=st);break}Ne-=bt}for(var et=Ce.length-1;et>=0;et--)Ce[et].segment._winding=ze}function Se($,je){var be=[],k;function ye(jt){var vt;return!!(jt&&!jt._visited&&(!je||je[(vt=jt._winding||{}).winding]&&!(je.unite&&vt.winding===2&&vt.windingL&&vt.windingR)))}function Ce(jt){if(jt){for(var vt=0,Mt=k.length;vt<Mt;vt++)if(jt===k[vt])return!0}return!1}function X(jt){for(var vt=jt._segments,Mt=0,Bt=vt.length;Mt<Bt;Mt++)vt[Mt]._visited=!0}function Ee(jt,vt){var Mt=jt._intersection,Bt=Mt,Dt=[];vt&&(k=[jt]);function Nt(Ht,Ft){for(;Ht&&Ht!==Ft;){var Vt=Ht._segment,Ut=Vt&&Vt._path;if(Ut){var ar=Vt.getNext()||Ut.getFirstSegment(),tr=ar._intersection;Vt!==jt&&(Ce(Vt)||Ce(ar)||ar&&ye(Vt)&&(ye(ar)||tr&&ye(tr._segment)))&&Dt.push(Vt),vt&&k.push(Vt)}Ht=Ht._next}}if(Mt){for(Nt(Mt);Mt&&Mt._previous;)Mt=Mt._previous;Nt(Mt,Bt)}return Dt}$.sort(function(jt,vt){var Mt=jt._intersection,Bt=vt._intersection,Dt=!!(Mt&&Mt._overlap),Nt=!!(Bt&&Bt._overlap),Ht=jt._path,Ft=vt._path;return Dt^Nt?Dt?1:-1:!Mt^!Bt?Mt?1:-1:Ht!==Ft?Ht._id-Ft._id:jt._index-vt._index});for(var Fe=0,Ne=$.length;Fe<Ne;Fe++){var Ge=$[Fe],ze=ye(Ge),We=null,Qe=!1,rt=!0,et=[],ut,mt,bt;if(ze&&Ge._path._overlapsOnly){var xt=Ge._path,He=Ge._intersection._segment._path;xt.compare(He)&&(xt.getArea()&&be.push(xt.clone(!1)),X(xt),X(He),ze=!1)}for(;ze;){var Ze=!We,it=Ee(Ge,Ze),at=it.shift(),Qe=!Ze&&(Ce(Ge)||Ce(at)),yt=!Qe&&at;if(Ze&&(We=new H(b.NO_INSERT),ut=null),Qe){(Ge.isFirst()||Ge.isLast())&&(rt=Ge._path._closed),Ge._visited=!0;break}if(yt&&ut&&(et.push(ut),ut=null),ut||(yt&&it.push(Ge),ut={start:We._segments.length,crossings:it,visited:mt=[],handleIn:bt}),yt&&(Ge=at),!ye(Ge)){We.removeSegments(ut.start);for(var st=0,Et=mt.length;st<Et;st++)mt[st]._visited=!1;mt.length=0;do Ge=ut&&ut.crossings.shift(),(!Ge||!Ge._path)&&(Ge=null,ut=et.pop(),ut&&(mt=ut.visited,bt=ut.handleIn));while(ut&&!ye(Ge));if(!Ge)break}var gt=Ge.getNext();We.add(new O(Ge._point,bt,gt&&Ge._handleOut)),Ge._visited=!0,mt.push(Ge),Ge=gt||Ge._path.getFirstSegment(),bt=gt&&gt._handleIn}Qe&&(rt&&(We.getFirstSegment().setHandleIn(bt),We.setClosed(rt)),We.getArea()!==0&&be.push(We))}return be}return{_getWinding:function($,je,be){return we($,this.getCurves(),je,be)},unite:function($,je){return Y(this,$,"unite",je)},intersect:function($,je){return Y(this,$,"intersect",je)},subtract:function($,je){return Y(this,$,"subtract",je)},exclude:function($,je){return Y(this,$,"exclude",je)},divide:function($,je){return je&&(je.trace==!1||je.stroke)?ie(this,$,"divide"):W([this.subtract($,je),this.intersect($,je)],!0,this,$,je)},resolveCrossings:function(){var $=this._children,je=$||[this];function be(ut,mt){var bt=ut&&ut._intersection;return bt&&bt._overlap&&bt._path===mt}var k=!1,ye=!1,Ce=this.getIntersections(null,function(ut){return ut.hasOverlap()&&(k=!0)||ut.isCrossing()&&(ye=!0)}),X=k&&ye&&[];if(Ce=R.expand(Ce),k)for(var Ee=ue(Ce,function(ut){return ut.hasOverlap()},X),Fe=Ee.length-1;Fe>=0;Fe--){var Ne=Ee[Fe],Ge=Ne._path,ze=Ne._segment,We=ze.getPrevious(),Qe=ze.getNext();be(We,Ge)&&be(Qe,Ge)&&(ze.remove(),We._handleOut._set(0,0),Qe._handleIn._set(0,0),We!==ze&&!We.getCurve().hasLength()&&(Qe._handleIn.set(We._handleIn),We.remove()))}ye&&(ue(Ce,k&&function(ut){var mt=ut.getCurve(),bt=ut.getSegment(),xt=ut._intersection,He=xt._curve,Ze=xt._segment;if(mt&&He&&mt._path&&He._path)return!0;bt&&(bt._intersection=null),Ze&&(Ze._intersection=null)},X),X&&U(X),je=Se(S.each(je,function(ut){S.push(this,ut._segments)},[])));var rt=je.length,et;return rt>1&&$?(je!==$&&this.setChildren(je),et=this):rt===1&&!$&&(je[0]!==this&&this.setSegments(je[0].removeSegments()),et=this),et||(et=new ee(b.NO_INSERT),et.addChildren(je),et=et.reduce(),et.copyAttributes(this),this.replaceWith(et)),et},reorient:function($,je){var be=this._children;return be&&be.length?this.setChildren(se(this.removeChildren(),function(k){return!!($?k:k&1)},je)):je!==Ye&&this.setClockwise(je),this},getInteriorPoint:function(){var $=this.getBounds(),je=$.getCenter(!0);if(!this.contains(je)){for(var be=this.getCurves(),k=je.y,ye=[],Ce=[],X=0,Ee=be.length;X<Ee;X++){var Fe=be[X].getValues(),Ne=Fe[1],Ge=Fe[3],ze=Fe[5],We=Fe[7];if(k>=h(Ne,Ge,ze,We)&&k<=_(Ne,Ge,ze,We))for(var Qe=N.getMonoCurves(Fe),rt=0,et=Qe.length;rt<et;rt++){var ut=Qe[rt],mt=ut[1],bt=ut[7];if(mt!==bt&&(k>=mt&&k<=bt||k>=bt&&k<=mt)){var xt=k===mt?ut[0]:k===bt?ut[6]:N.solveCubic(ut,1,k,Ce,0,1)===1?N.getPoint(ut,Ce[0]).x:(ut[0]+ut[6])/2;ye.push(xt)}}}ye.length>1&&(ye.sort(function(He,Ze){return He-Ze}),je.x=(ye[0]+ye[1])/2)}return je}}});var fe=S.extend({_class:"PathFlattener",initialize:function(h,_,T,L,G){var B=[],W=[],F=0,Y=1/(T||32),ie=h._segments,he=ie[0],U;function se(Se,$){var je=N.getValues(Se,$,G);B.push(je),ue(je,Se._index,0,1)}function ue(Se,$,je,be){if(be-je>Y&&!(L&&N.isStraight(Se))&&!N.isFlatEnough(Se,_||.25)){var k=N.subdivide(Se,.5),ye=(je+be)/2;ue(k[0],$,je,ye),ue(k[1],$,ye,be)}else{var Ce=Se[6]-Se[0],X=Se[7]-Se[1],Ee=Math.sqrt(Ce*Ce+X*X);Ee>0&&(F+=Ee,W.push({offset:F,curve:Se,index:$,time:be}))}}for(var we=1,ce=ie.length;we<ce;we++)U=ie[we],se(he,U),he=U;h._closed&&se(U||he,ie[0]),this.curves=B,this.parts=W,this.length=F,this.index=0},_get:function(h){for(var _=this.parts,T=_.length,L,G=this.index;L=G,!(!G||_[--G].offset<h););for(;L<T;L++){var B=_[L];if(B.offset>=h){this.index=L;var W=_[L-1],F=W&&W.index===B.index?W.time:0,Y=W?W.offset:0;return{index:B.index,time:F+(B.time-F)*(h-Y)/(B.offset-Y)}}}return{index:_[T-1].index,time:1}},drawPart:function(h,_,T){for(var L=this._get(_),G=this._get(T),B=L.index,W=G.index;B<=W;B++){var F=N.getPart(this.curves[B],B===L.index?L.time:0,B===G.index?G.time:1);B===L.index&&h.moveTo(F[0],F[1]),h.bezierCurveTo.apply(h,F.slice(2))}}},S.each(N._evaluateMethods,function(h){this[h+"At"]=function(_){var T=this._get(_);return N[h](this.curves[T.index],T.time)}},{})),xe=S.extend({initialize:function(h){for(var _=this.points=[],T=h._segments,L=h._closed,G=0,B,W=T.length;G<W;G++){var F=T[G].point;(!B||!B.equals(F))&&_.push(B=F.clone())}L&&(_.unshift(_[_.length-1]),_.push(_[1])),this.closed=L},fit:function(h){var _=this.points,T=_.length,L=null;return T>0&&(L=[new O(_[0])],T>1&&(this.fitCubic(L,h,0,T-1,_[1].subtract(_[0]),_[T-2].subtract(_[T-1])),this.closed&&(L.shift(),L.pop()))),L},fitCubic:function(h,_,T,L,G,B){var W=this.points;if(L-T===1){var F=W[T],Y=W[L],ie=F.getDistance(Y)/3;this.addCurve(h,[F,F.add(G.normalize(ie)),Y.add(B.normalize(ie)),Y]);return}for(var he=this.chordLengthParameterize(T,L),U=Math.max(_,_*_),se,ue=!0,we=0;we<=4;we++){var ce=this.generateBezier(T,L,he,G,B),Se=this.findMaxError(T,L,ce,he);if(Se.error<_&&ue){this.addCurve(h,ce);return}if(se=Se.index,Se.error>=U)break;ue=this.reparameterize(T,L,he,ce),U=Se.error}var $=W[se-1].subtract(W[se+1]);this.fitCubic(h,_,T,se,G,$),this.fitCubic(h,_,se,L,$.negate(),B)},addCurve:function(h,_){var T=h[h.length-1];T.setHandleOut(_[1].subtract(_[0])),h.push(new O(_[3],_[2].subtract(_[3])))},generateBezier:function(h,_,T,L,G){for(var B=1e-12,W=Math.abs,F=this.points,Y=F[h],ie=F[_],he=[[0,0],[0,0]],U=[0,0],se=0,ue=_-h+1;se<ue;se++){var we=T[se],ce=1-we,Se=3*we*ce,$=ce*ce*ce,je=Se*ce,be=Se*we,k=we*we*we,ye=L.normalize(je),Ce=G.normalize(be),X=F[h+se].subtract(Y.multiply($+je)).subtract(ie.multiply(be+k));he[0][0]+=ye.dot(ye),he[0][1]+=ye.dot(Ce),he[1][0]=he[0][1],he[1][1]+=Ce.dot(Ce),U[0]+=ye.dot(X),U[1]+=Ce.dot(X)}var Ee=he[0][0]*he[1][1]-he[1][0]*he[0][1],Fe,Ne;if(W(Ee)>B){var Ge=he[0][0]*U[1]-he[1][0]*U[0],ze=U[0]*he[1][1]-U[1]*he[0][1];Fe=ze/Ee,Ne=Ge/Ee}else{var We=he[0][0]+he[0][1],Qe=he[1][0]+he[1][1];Fe=Ne=W(We)>B?U[0]/We:W(Qe)>B?U[1]/Qe:0}var rt=ie.getDistance(Y),et=B*rt,ut,mt;if(Fe<et||Ne<et)Fe=Ne=rt/3;else{var bt=ie.subtract(Y);ut=L.normalize(Fe),mt=G.normalize(Ne),ut.dot(bt)-mt.dot(bt)>rt*rt&&(Fe=Ne=rt/3,ut=mt=null)}return[Y,Y.add(ut||L.normalize(Fe)),ie.add(mt||G.normalize(Ne)),ie]},reparameterize:function(h,_,T,L){for(var G=h;G<=_;G++)T[G-h]=this.findRoot(L,this.points[G],T[G-h]);for(var G=1,B=T.length;G<B;G++)if(T[G]<=T[G-1])return!1;return!0},findRoot:function(h,_,T){for(var L=[],G=[],B=0;B<=2;B++)L[B]=h[B+1].subtract(h[B]).multiply(3);for(var B=0;B<=1;B++)G[B]=L[B+1].subtract(L[B]).multiply(2);var W=this.evaluate(3,h,T),F=this.evaluate(2,L,T),Y=this.evaluate(1,G,T),ie=W.subtract(_),he=F.dot(F)+ie.dot(Y);return u.isMachineZero(he)?T:T-ie.dot(F)/he},evaluate:function(h,_,T){for(var L=_.slice(),G=1;G<=h;G++)for(var B=0;B<=h-G;B++)L[B]=L[B].multiply(1-T).add(L[B+1].multiply(T));return L[0]},chordLengthParameterize:function(h,_){for(var T=[0],L=h+1;L<=_;L++)T[L-h]=T[L-h-1]+this.points[L].getDistance(this.points[L-1]);for(var L=1,G=_-h;L<=G;L++)T[L]/=T[G];return T},findMaxError:function(h,_,T,L){for(var G=Math.floor((_-h+1)/2),B=0,W=h+1;W<_;W++){var F=this.evaluate(3,T,L[W-h]),Y=F.subtract(this.points[W]),ie=Y.x*Y.x+Y.y*Y.y;ie>=B&&(B=ie,G=W)}return{error:B,index:G}}}),q=b.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(_){this._content="",this._lines=[];var T=_&&S.isPlainObject(_)&&_.x===Ye&&_.y===Ye;this._initialize(T&&_,!T&&r.read(arguments))},_equals:function(h){return this._content===h._content},copyContent:function(h){this.setContent(h._content)},getContent:function(){return this._content},setContent:function(h){this._content=""+h,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),V=q.extend({_class:"PointText",initialize:function(){q.apply(this,arguments)},getPoint:function(){var h=this._matrix.getTranslation();return new t(h.x,h.y,this,"setPoint")},setPoint:function(){var h=r.read(arguments);this.translate(h.subtract(this._matrix.getTranslation()))},_draw:function(h,_,T){if(this._content){this._setStyles(h,_,T);var L=this._lines,G=this._style,B=G.hasFill(),W=G.hasStroke(),F=G.getLeading(),Y=h.shadowColor;h.font=G.getFontStyle(),h.textAlign=G.getJustification();for(var ie=0,he=L.length;ie<he;ie++){h.shadowColor=Y;var U=L[ie];B&&(h.fillText(U,0,0),h.shadowColor="rgba(0,0,0,0)"),W&&h.strokeText(U,0,0),h.translate(0,F)}}},_getBounds:function(h,_){var T=this._style,L=this._lines,G=L.length,B=T.getJustification(),W=T.getLeading(),F=this.getView().getTextWidth(T.getFontStyle(),L),Y=0;B!=="left"&&(Y-=F/(B==="center"?2:1));var ie=new o(Y,G?-.75*W:0,F,G*W);return h?h._transformBounds(ie,ie):ie}}),K=S.extend(new function(){var h={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},_={},T={transparent:[0,0,0,0]},L;function G(F){var Y=F.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||F.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),ie="rgb",he;if(Y){var U=Y[4]?4:3;he=new Array(U);for(var se=0;se<U;se++){var ue=Y[se+1];he[se]=parseInt(ue.length==1?ue+ue:ue,16)/255}}else if(Y=F.match(/^(rgb|hsl)a?\((.*)\)$/)){ie=Y[1],he=Y[2].trim().split(/[,\s]+/g);for(var we=ie==="hsl",se=0,ce=Math.min(he.length,4);se<ce;se++){var Se=he[se],ue=parseFloat(Se);if(we)if(se===0){var $=Se.match(/([a-z]*)$/)[1];ue*={turn:360,rad:180/Math.PI,grad:.9}[$]||1}else se<3&&(ue/=100);else se<3&&(ue/=/%$/.test(Se)?100:255);he[se]=ue}}else{var je=T[F];if(!je)if(n){L||(L=Me.getContext(1,1,{willReadFrequently:!0}),L.globalCompositeOperation="copy"),L.fillStyle="rgba(0,0,0,0)",L.fillStyle=F,L.fillRect(0,0,1,1);var be=L.getImageData(0,0,1,1).data;je=T[F]=[be[0]/255,be[1]/255,be[2]/255]}else je=[0,0,0];he=je.slice()}return[ie,he]}var B=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],W={"rgb-hsb":function(F,Y,ie){var he=Math.max(F,Y,ie),U=Math.min(F,Y,ie),se=he-U,ue=se===0?0:(he==F?(Y-ie)/se+(Y<ie?6:0):he==Y?(ie-F)/se+2:(F-Y)/se+4)*60;return[ue,he===0?0:se/he,he]},"hsb-rgb":function(F,Y,ie){F=(F/60%6+6)%6;var U=Math.floor(F),he=F-U,U=B[U],se=[ie,ie*(1-Y),ie*(1-Y*he),ie*(1-Y*(1-he))];return[se[U[0]],se[U[1]],se[U[2]]]},"rgb-hsl":function(F,Y,ie){var he=Math.max(F,Y,ie),U=Math.min(F,Y,ie),se=he-U,ue=se===0,we=ue?0:(he==F?(Y-ie)/se+(Y<ie?6:0):he==Y?(ie-F)/se+2:(F-Y)/se+4)*60,ce=(he+U)/2,Se=ue?0:ce<.5?se/(he+U):se/(2-he-U);return[we,Se,ce]},"hsl-rgb":function(F,Y,ie){if(F=(F/360%1+1)%1,Y===0)return[ie,ie,ie];for(var he=[F+1/3,F,F-1/3],U=ie<.5?ie*(1+Y):ie+Y-ie*Y,se=2*ie-U,ue=[],we=0;we<3;we++){var ce=he[we];ce<0&&(ce+=1),ce>1&&(ce-=1),ue[we]=6*ce<1?se+(U-se)*6*ce:2*ce<1?U:3*ce<2?se+(U-se)*(2/3-ce)*6:se}return ue},"rgb-gray":function(F,Y,ie){return[F*.2989+Y*.587+ie*.114]},"gray-rgb":function(F){return[F,F,F]},"gray-hsb":function(F){return[0,0,F]},"gray-hsl":function(F){return[0,0,F]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return S.each(h,function(F,Y){_[Y]=[],S.each(F,function(ie,he){var U=S.capitalize(ie),se=/^(hue|saturation)$/.test(ie),ue=_[Y][he]=Y==="gradient"?ie==="gradient"?function(we){var ce=this._components[0];return we=J.read(Array.isArray(we)?we:arguments,0,{readNull:!0}),ce!==we&&(ce&&ce._removeOwner(this),we&&we._addOwner(this)),we}:function(){return r.read(arguments,0,{readNull:ie==="highlight",clone:!0})}:function(we){return we==null||isNaN(we)?0:+we};this["get"+U]=function(){return this._type===Y||se&&/^hs[bl]$/.test(this._type)?this._components[he]:this._convert(Y)[he]},this["set"+U]=function(we){this._type!==Y&&!(se&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(Y),this._properties=h[Y],this._type=Y),this._components[he]=ue.call(this,we),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function F(Y){var ie=arguments,he=this.__read,U=0,se,ue,we,ce;Array.isArray(Y)&&(ie=Y,Y=ie[0]);var Se=Y!=null&&typeof Y;if(Se==="string"&&Y in h&&(se=Y,Y=ie[1],Array.isArray(Y)?(ue=Y,we=ie[2]):(he&&(U=1),ie=S.slice(ie,1),Se=typeof Y)),!ue){if(ce=Se==="number"?ie:Se==="object"&&Y.length!=null?Y:null,ce){se||(se=ce.length>=3?"rgb":"gray");var $=h[se].length;we=ce[$],he&&(U+=ce===arguments?$+(we!=null?1:0):1),ce.length>$&&(ce=S.slice(ce,0,$))}else if(Se==="string"){var je=G(Y);se=je[0],ue=je[1],ue.length===4&&(we=ue[3],ue.length--)}else if(Se==="object")if(Y.constructor===F){if(se=Y._type,ue=Y._components.slice(),we=Y._alpha,se==="gradient")for(var be=1,k=ue.length;be<k;be++){var ye=ue[be];ye&&(ue[be]=ye.clone())}}else if(Y.constructor===J)se="gradient",ce=ie;else{se="hue"in Y?"lightness"in Y?"hsl":"hsb":"gradient"in Y||"stops"in Y||"radial"in Y?"gradient":"gray"in Y?"gray":"rgb";var Ce=h[se],X=_[se];this._components=ue=[];for(var be=0,k=Ce.length;be<k;be++){var Ee=Y[Ce[be]];Ee==null&&!be&&se==="gradient"&&"stops"in Y&&(Ee={stops:Y.stops,radial:Y.radial}),Ee=X[be].call(this,Ee),Ee!=null&&(ue[be]=Ee)}we=Y.alpha}he&&se&&(U=1)}if(this._type=se||"rgb",!ue){this._components=ue=[];for(var X=_[this._type],be=0,k=X.length;be<k;be++){var Ee=X[be].call(this,ce&&ce[be]);Ee!=null&&(ue[be]=Ee)}}return this._components=ue,this._properties=h[this._type],this._alpha=we,he&&(this.__read=U),this},set:"#initialize",_serialize:function(F,Y){var ie=this.getComponents();return S.serialize(/^(gray|rgb)$/.test(this._type)?ie:[this._type].concat(ie),F,!0,Y)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(F){var Y;return this._type===F?this._components.slice():(Y=W[this._type+"-"+F])?Y.apply(this,this._components):W["rgb-"+F].apply(this,W[this._type+"-rgb"].apply(this,this._components))},convert:function(F){return new K(F,this._convert(F),this._alpha)},getType:function(){return this._type},setType:function(F){this._components=this._convert(F),this._properties=h[F],this._type=F},getComponents:function(){var F=this._components.slice();return this._alpha!=null&&F.push(this._alpha),F},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(F){this._alpha=F==null?null:Math.min(Math.max(F,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(F){var Y=S.isPlainValue(F,!0)?K.read(arguments):F;return Y===this||Y&&this._class===Y._class&&this._type===Y._type&&this.getAlpha()===Y.getAlpha()&&S.equals(this._components,Y._components)||!1},toString:function(){for(var F=this._properties,Y=[],ie=this._type==="gradient",he=d.instance,U=0,se=F.length;U<se;U++){var ue=this._components[U];ue!=null&&Y.push(F[U]+": "+(ie?ue:he.number(ue)))}return this._alpha!=null&&Y.push("alpha: "+he.number(this._alpha)),"{ "+Y.join(", ")+" }"},toCSS:function(F){var Y=this._convert("rgb"),ie=F||this._alpha==null?1:this._alpha;function he(U){return Math.round((U<0?0:U>1?1:U)*255)}return Y=[he(Y[0]),he(Y[1]),he(Y[2])],ie<1&&Y.push(ie<0?0:ie),F?"#"+((1<<24)+(Y[0]<<16)+(Y[1]<<8)+Y[2]).toString(16).slice(1):(Y.length==4?"rgba(":"rgb(")+Y.join(",")+")"},toCanvasStyle:function(F,Y){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var ie=this._components,he=ie[0],U=he._stops,se=ie[1],ue=ie[2],we=ie[3],ce=Y&&Y.inverted(),Se;if(ce&&(se=ce._transformPoint(se),ue=ce._transformPoint(ue),we&&(we=ce._transformPoint(we))),he._radial){var $=ue.getDistance(se);if(we){var je=we.subtract(se);je.getLength()>$&&(we=se.add(je.normalize($-.1)))}var be=we||se;Se=F.createRadialGradient(be.x,be.y,0,se.x,se.y,$)}else Se=F.createLinearGradient(se.x,se.y,ue.x,ue.y);for(var k=0,ye=U.length;k<ye;k++){var Ce=U[k],X=Ce._offset;Se.addColorStop(X??k/(ye-1),Ce._color.toCanvasStyle())}return this._canvasStyle=Se},transform:function(F){if(this._type==="gradient"){for(var Y=this._components,ie=1,he=Y.length;ie<he;ie++){var U=Y[ie];F._transformPoint(U,U,!0)}this._changed()}},statics:{_types:h,random:function(){var F=Math.random;return new K(F(),F(),F())},_setOwner:function(F,Y,ie){return F&&(F._owner&&Y&&F._owner!==Y&&(F=F.clone()),!F._owner^!Y&&(F._owner=Y||null,F._setter=ie||null)),F}}})},new function(){var h={add:function(_,T){return _+T},subtract:function(_,T){return _-T},multiply:function(_,T){return _*T},divide:function(_,T){return _/T}};return S.each(h,function(_,T){this[T]=function(L){L=K.read(arguments);for(var G=this._type,B=this._components,W=L._convert(G),F=0,Y=B.length;F<Y;F++)W[F]=_(B[F],W[F]);return new K(G,W,this._alpha!=null?_(this._alpha,L.getAlpha()):null)}},{})}),J=S.extend({_class:"Gradient",initialize:function(_,T){this._id=i.get(),_&&S.isPlainObject(_)&&(this.set(_),_=T=null),this._stops==null&&this.setStops(_||["white","black"]),this._radial==null&&this.setRadial(typeof T=="string"&&T==="radial"||T||!1)},_serialize:function(h,_){return _.add(this,function(){return S.serialize([this._stops,this._radial],h,!0,_)})},_changed:function(){for(var h=0,_=this._owners&&this._owners.length;h<_;h++)this._owners[h]._changed()},_addOwner:function(h){this._owners||(this._owners=[]),this._owners.push(h)},_removeOwner:function(h){var _=this._owners?this._owners.indexOf(h):-1;_!=-1&&(this._owners.splice(_,1),this._owners.length||(this._owners=Ye))},clone:function(){for(var h=[],_=0,T=this._stops.length;_<T;_++)h[_]=this._stops[_].clone();return new J(h,this._radial)},getStops:function(){return this._stops},setStops:function(h){if(h.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var _=this._stops;if(_)for(var T=0,L=_.length;T<L;T++)_[T]._owner=Ye;_=this._stops=oe.readList(h,0,{clone:!0});for(var T=0,L=_.length;T<L;T++)_[T]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(h){this._radial=h,this._changed()},equals:function(h){if(h===this)return!0;if(h&&this._class===h._class){var _=this._stops,T=h._stops,L=_.length;if(L===T.length){for(var G=0;G<L;G++)if(!_[G].equals(T[G]))return!1;return!0}}return!1}}),oe=S.extend({_class:"GradientStop",initialize:function(_,T){var L=_,G=T;typeof _=="object"&&T===Ye&&(Array.isArray(_)&&typeof _[0]!="number"?(L=_[0],G=_[1]):("color"in _||"offset"in _||"rampPoint"in _)&&(L=_.color,G=_.offset||_.rampPoint||0)),this.setColor(L),this.setOffset(G)},clone:function(){return new oe(this._color.clone(),this._offset)},_serialize:function(h,_){var T=this._color,L=this._offset;return S.serialize(L==null?[T]:[T,L],h,!0,_)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(h){this._offset=h,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){K._setOwner(this._color,null),this._color=K._setOwner(K.read(arguments,0),this,"setColor"),this._changed()},equals:function(h){return h===this||h&&this._class===h._class&&this._color.equals(h._color)&&this._offset==h._offset||!1}}),_e=S.extend(new function(){var h={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new r,selectedColor:null},_=S.set({},h,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),T=S.set({},_,{fillColor:new K}),L={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},G={beans:!0},B={_class:"Style",beans:!0,initialize:function(F,Y,ie){this._values={},this._owner=Y,this._project=Y&&Y._project||ie||Le.project,this._defaults=!Y||Y instanceof x?_:Y instanceof q?T:h,F&&this.set(F)}};return S.each(_,function(W,F){var Y=/Color$/.test(F),ie=F==="shadowOffset",he=S.capitalize(F),U=L[F],se="set"+he,ue="get"+he;B[se]=function(we){var ce=this._owner,Se=ce&&ce._children,$=Se&&Se.length>0&&!(ce instanceof ee);if($)for(var je=0,be=Se.length;je<be;je++)Se[je]._style[se](we);if((F==="selectedColor"||!$)&&F in this._defaults){var k=this._values[F];k!==we&&(Y&&(k&&(K._setOwner(k,null),k._canvasStyle=null),we&&we.constructor===K&&(we=K._setOwner(we,ce,$&&se))),this._values[F]=we,ce&&ce._changed(U||129))}},B[ue]=function(we){var ce=this._owner,Se=ce&&ce._children,$=Se&&Se.length>0&&!(ce instanceof ee),je;if($&&!we)for(var be=0,k=Se.length;be<k;be++){var ye=Se[be]._style[ue]();if(!be)je=ye;else if(!S.equals(je,ye))return Ye}else if(F in this._defaults){var je=this._values[F];if(je===Ye)je=this._defaults[F],je&&je.clone&&(je=je.clone());else{var Ce=Y?K:ie?r:null;Ce&&!(je&&je.constructor===Ce)&&(this._values[F]=je=Ce.read([je],0,{readNull:!0,clone:!0}))}}return je&&Y&&(je=K._setOwner(je,ce,$&&se)),je},G[ue]=function(we){return this._style[ue](we)},G[se]=function(we){this._style[se](we)}}),S.each({Font:"FontFamily",WindingRule:"FillRule"},function(W,F){var Y="get"+F,ie="set"+F;B[Y]=G[Y]="#get"+W,B[ie]=G[ie]="#set"+W}),b.inject(G),B},{set:function(h){var _=h instanceof _e,T=_?h._values:h;if(T){for(var L in T)if(L in this._defaults){var G=T[L];this[L]=G&&_&&G.clone?G.clone():G}}},equals:function(h){function _(T,L,G){var B=T._values,W=L._values,F=L._defaults;for(var Y in B){var ie=B[Y],he=W[Y];if(!(G&&Y in W)&&!S.equals(ie,he===Ye?F[Y]:he))return!1}return!0}return h===this||h&&this._class===h._class&&_(this,h)&&_(h,this,!0)||!1},_dispose:function(){var h;h=this.getFillColor(),h&&(h._canvasStyle=null),h=this.getStrokeColor(),h&&(h._canvasStyle=null),h=this.getShadowColor(),h&&(h._canvasStyle=null)},hasFill:function(){var h=this.getFillColor();return!!h&&h.alpha>0},hasStroke:function(){var h=this.getStrokeColor();return!!h&&h.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var h=this.getShadowColor();return!!h&&h.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var h=this.getFontSize();return this.getFontWeight()+" "+h+(/[a-z]/i.test(h+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function h(){var _=h.base.call(this),T=this.getFontSize();return/pt|em|%|px/.test(T)&&(T=this.getView().getPixelSize(T)),_??T*1.2}}),Oe=new function(){function h(_,T,L,G){for(var B=["","webkit","moz","Moz","ms","o"],W=T[0].toUpperCase()+T.substring(1),F=0;F<6;F++){var Y=B[F],ie=Y?Y+W:T;if(ie in _){if(L)_[ie]=G;else return _[ie];break}}}return{getStyles:function(_){var T=_&&_.nodeType!==9?_.ownerDocument:_,L=T&&T.defaultView;return L&&L.getComputedStyle(_,"")},getBounds:function(_,T){var L=_.ownerDocument,G=L.body,B=L.documentElement,W;try{W=_.getBoundingClientRect()}catch{W={left:0,top:0,width:0,height:0}}var F=W.left-(B.clientLeft||G.clientLeft||0),Y=W.top-(B.clientTop||G.clientTop||0);if(!T){var ie=L.defaultView;F+=ie.pageXOffset||B.scrollLeft||G.scrollLeft,Y+=ie.pageYOffset||B.scrollTop||G.scrollTop}return new o(F,Y,W.width,W.height)},getViewportBounds:function(_){var T=_.ownerDocument,L=T.defaultView,G=T.documentElement;return new o(0,0,L.innerWidth||G.clientWidth,L.innerHeight||G.clientHeight)},getOffset:function(_,T){return Oe.getBounds(_,T).getPoint()},getSize:function(_){return Oe.getBounds(_,!0).getSize()},isInvisible:function(_){return Oe.getSize(_).equals(new a(0,0))},isInView:function(_){return!Oe.isInvisible(_)&&Oe.getViewportBounds(_).intersects(Oe.getBounds(_,!0))},isInserted:function(_){return Z.body.contains(_)},getPrefixed:function(_,T){return _&&h(_,T)},setPrefixed:function(_,T,L){if(typeof T=="object")for(var G in T)h(_,G,!0,T[G]);else h(_,T,!0,L)}}},De={add:function(h,_){if(h)for(var T in _)for(var L=_[T],G=T.split(/[\s,]+/g),B=0,W=G.length;B<W;B++){var F=G[B],Y=h===Z&&(F==="touchstart"||F==="touchmove")?{passive:!1}:!1;h.addEventListener(F,L,Y)}},remove:function(h,_){if(h)for(var T in _)for(var L=_[T],G=T.split(/[\s,]+/g),B=0,W=G.length;B<W;B++)h.removeEventListener(G[B],L,!1)},getPoint:function(h){var _=h.targetTouches?h.targetTouches.length?h.targetTouches[0]:h.changedTouches[0]:h;return new r(_.pageX||_.clientX+Z.documentElement.scrollLeft,_.pageY||_.clientY+Z.documentElement.scrollTop)},getTarget:function(h){return h.target||h.srcElement},getRelatedTarget:function(h){return h.relatedTarget||h.toElement},getOffset:function(h,_){return De.getPoint(h).subtract(Oe.getOffset(_||De.getTarget(h)))}};De.requestAnimationFrame=new function(){var h=Oe.getPrefixed(n,"requestAnimationFrame"),_=!1,T=[],L;function G(){var B=T;T=[];for(var W=0,F=B.length;W<F;W++)B[W]();_=h&&T.length,_&&h(G)}return function(B){T.push(B),h?_||(h(G),_=!0):L||(L=setInterval(G,1e3/60))}};var Te=S.extend(y,{_class:"View",initialize:function h(_,T){function L(U){return T[U]||parseInt(T.getAttribute(U),10)}function G(){var U=Oe.getSize(T);return U.isNaN()||U.isZero()?new a(L("width"),L("height")):U}var B;if(n&&T){this._id=T.getAttribute("id"),this._id==null&&T.setAttribute("id",this._id="paper-view-"+h._id++),De.add(T,this._viewEvents);var W="none";if(Oe.setPrefixed(T.style,{userDrag:W,userSelect:W,touchCallout:W,contentZooming:W,tapHighlightColor:"rgba(0,0,0,0)"}),m.hasAttribute(T,"resize")){var F=this;De.add(n,this._windowEvents={resize:function(){F.setViewSize(G())}})}if(B=G(),m.hasAttribute(T,"stats")&&typeof Stats<"u"){this._stats=new Stats;var Y=this._stats.domElement,ie=Y.style,he=Oe.getOffset(T);ie.position="absolute",ie.left=he.x+"px",ie.top=he.y+"px",Z.body.appendChild(Y)}}else B=new a(T),T=null;this._project=_,this._scope=_._scope,this._element=T,this._pixelRatio||(this._pixelRatio=n&&n.devicePixelRatio||1),this._setElementSize(B.width,B.height),this._viewSize=B,h._views.push(this),h._viewsById[this._id]=this,(this._matrix=new s)._owner=this,h._focused||(h._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Le.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Te._focused===this&&(Te._focused=null),Te._views.splice(Te._views.indexOf(this),1),delete Te._viewsById[this._id];var h=this._project;return h._view===this&&(h._view=null),De.remove(this._element,this._viewEvents),De.remove(n,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:S.each(b._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(h){this[h]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(h){this._autoUpdate=h,h&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var h=this;De.requestAnimationFrame(function(){if(h._requested=!1,h._animate){h.requestUpdate();var _=h._element;(!Oe.getPrefixed(Z,"hidden")||m.getAttribute(_,"keepalive")==="true")&&Oe.isInView(_)&&h._handleFrame()}h._autoUpdate&&h.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Le=this._scope;var h=Date.now()/1e3,_=this._last?h-this._last:0;this._last=h,this.emit("frame",new S({delta:_,time:this._time+=_,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(h,_){var T=this._frameItems;_?(T[h._id]={item:h,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete T[h._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(h){for(var _ in this._frameItems){var T=this._frameItems[_];T.item.emit("frame",new S(h,{time:T.time+=h.delta,count:T.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=Ye},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var h=this._viewSize;return new l(h.width,h.height,this,"setViewSize")},setViewSize:function(){var h=a.read(arguments),_=h.subtract(this._viewSize);_.isZero()||(this._setElementSize(h.width,h.height),this._viewSize.set(h),this._changed(),this.emit("resize",{size:h,delta:_}),this._autoUpdate&&this.update())},_setElementSize:function(h,_){var T=this._element;T&&(T.width!==h&&(T.width=h),T.height!==_&&(T.height=_))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new o(new r,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Oe.isInView(this._element)},isInserted:function(){return Oe.isInserted(this._element)},getPixelSize:function(h){var _=this._element,T;if(_){var L=_.parentNode,G=Z.createElement("div");G.style.fontSize=h,L.appendChild(G),T=parseFloat(Oe.getStyles(G).fontSize),L.removeChild(G)}else T=parseFloat(T);return T},getTextWidth:function(h,_){return 0}},S.each(["rotate","scale","shear","skew"],function(h){var _=h==="rotate";this[h]=function(){var T=arguments,L=(_?S:r).read(T),G=r.read(T,0,{readNull:!0});return this.transform(new s()[h](L,G||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var h=new s;return this.transform(h.translate.apply(h,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var h=r.read(arguments);this.translate(this.getCenter().subtract(h))},getZoom:function(){var h=this._decompose().scaling;return(h.x+h.y)/2},setZoom:function(h){this.transform(new s().scale(h/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(h){var _=this.getRotation();_!=null&&h!=null&&this.rotate(h-_)},getScaling:function(){var h=this._decompose().scaling;return new t(h.x,h.y,this,"setScaling")},setScaling:function(){var h=this.getScaling(),_=r.read(arguments,0,{clone:!0,readNull:!0});h&&_&&this.scale(_.x/h.x,_.y/h.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var h=this._matrix;h.set.apply(h,arguments)},transform:function(h){this._matrix.append(h)},scrollBy:function(){this.translate(r.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(r.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(r.read(arguments))},getEventPoint:function(h){return this.viewToProject(De.getOffset(h,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(h,_){Z&&typeof _=="string"&&(_=Z.getElementById(_));var T=n?Be:Te;return new T(h,_)}}},new function(){if(!n)return;var h,_,T=!1,L=!1;function G(ze){var We=De.getTarget(ze);return We.getAttribute&&Te._viewsById[We.getAttribute("id")]}function B(){var ze=Te._focused;if(!ze||!ze.isVisible()){for(var We=0,Qe=Te._views.length;We<Qe;We++)if((ze=Te._views[We]).isVisible()){Te._focused=_=ze;break}}}function W(ze,We,Qe){ze._handleMouseEvent("mousemove",We,Qe)}var F=n.navigator,Y,ie,he;F.pointerEnabled||F.msPointerEnabled?(Y="pointerdown MSPointerDown",ie="pointermove MSPointerMove",he="pointerup pointercancel MSPointerUp MSPointerCancel"):(Y="touchstart",ie="touchmove",he="touchend touchcancel","ontouchstart"in n&&F.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(Y+=" mousedown",ie+=" mousemove",he+=" mouseup"));var U={},se={mouseout:function(ze){var We=Te._focused,Qe=De.getRelatedTarget(ze);if(We&&(!Qe||Qe.nodeName==="HTML")){var rt=De.getOffset(ze,We._element),et=rt.x,ut=Math.abs,mt=ut(et),bt=1<<25,xt=mt-bt;rt.x=ut(xt)<mt?xt*(et<0?-1:1):et,W(We,ze,We.viewToProject(rt))}},scroll:B};U[Y]=function(ze){var We=Te._focused=G(ze);T||(T=!0,We._handleMouseEvent("mousedown",ze))},se[ie]=function(ze){var We=Te._focused;if(!L){var Qe=G(ze);Qe?We!==Qe&&(We&&W(We,ze),h||(h=We),We=Te._focused=_=Qe):_&&_===We&&(h&&!h.isInserted()&&(h=null),We=Te._focused=h,h=null,B())}We&&W(We,ze)},se[Y]=function(){L=!0},se[he]=function(ze){var We=Te._focused;We&&T&&We._handleMouseEvent("mouseup",ze),L=T=!1},De.add(Z,se),De.add(n,{load:B});var ue=!1,we=!1,ce={doubleclick:"click",mousedrag:"mousemove"},Se=!1,$,je,be,k,ye,Ce,X,Ee;function Fe(ze,We,Qe,rt,et,ut,mt){var bt=!1,xt;function He(Ze,it){if(Ze.responds(it)){if(xt||(xt=new Ae(it,rt,et,We||Ze,ut?et.subtract(ut):null)),Ze.emit(it,xt)&&(ue=!0,xt.prevented&&(we=!0),xt.stopped))return bt=!0}else{var at=ce[it];if(at)return He(Ze,at)}}for(;ze&&ze!==mt&&!He(ze,Qe);)ze=ze._parent;return bt}function Ne(ze,We,Qe,rt,et,ut){return ze._project.removeOn(Qe),we=ue=!1,ye&&Fe(ye,null,Qe,rt,et,ut)||We&&We!==ye&&!We.isDescendant(ye)&&Fe(We,null,Qe==="mousedrag"?"mousemove":Qe,rt,et,ut,ye)||Fe(ze,ye||We||ze,Qe,rt,et,ut)}var Ge={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:U,_handleMouseEvent:function(ze,We,Qe){var rt=this._itemEvents,et=rt.native[ze],ut=ze==="mousemove",mt=this._scope.tool,bt=this;function xt(Et){return rt.virtual[Et]||bt.responds(Et)||mt&&mt.responds(Et)}ut&&T&&xt("mousedrag")&&(ze="mousedrag"),Qe||(Qe=this.getEventPoint(We));var He=this.getBounds().contains(Qe),Ze=et&&He&&bt._project.hitTest(Qe,{tolerance:0,fill:!0,stroke:!0}),it=Ze&&Ze.item||null,at=!1,yt={};if(yt[ze.substr(5)]=!0,et&&it!==k&&(k&&Fe(k,null,"mouseleave",We,Qe),it&&Fe(it,null,"mouseenter",We,Qe),k=it),Se^He&&(Fe(this,null,He?"mouseenter":"mouseleave",We,Qe),at=!0),(He||yt.drag)&&!Qe.equals(je)&&(Ne(this,it,ut?ze:"mousemove",We,Qe,je),at=!0),Se=He,yt.down&&He||yt.up&&$){if(Ne(this,it,ze,We,Qe,$),yt.down){if(Ee=it===Ce&&Date.now()-X<300,be=Ce=it,!we&&it){for(var st=it;st&&!st.responds("mousedrag");)st=st._parent;st&&(ye=it)}$=Qe}else yt.up&&(!we&&it===be&&(X=Date.now(),Ne(this,it,Ee?"doubleclick":"click",We,Qe,$),Ee=!1),be=ye=null);Se=!1,at=!0}je=Qe,at&&mt&&(ue=mt._handleMouseEvent(ze,We,Qe,yt)||ue),We.cancelable!==!1&&(ue&&!yt.move||yt.down&&xt("mouseup"))&&We.preventDefault()},_handleKeyEvent:function(ze,We,Qe,rt){var et=this._scope,ut=et.tool,mt;function bt(xt){xt.responds(ze)&&(Le=et,xt.emit(ze,mt=mt||new ve(ze,We,Qe,rt)))}this.isVisible()&&(bt(this),ut&&ut.responds(ze)&&bt(ut))},_countItemEvent:function(ze,We){var Qe=this._itemEvents,rt=Qe.native,et=Qe.virtual;for(var ut in Ge)rt[ut]=(rt[ut]||0)+(Ge[ut][ze]||0)*We;et[ze]=(et[ze]||0)+We},statics:{updateFocus:B,_resetState:function(){T=L=ue=Se=!1,h=_=$=je=be=k=ye=Ce=X=Ee=null}}}}),Be=Te.extend({_class:"CanvasView",initialize:function(_,T){if(!(T instanceof n.HTMLCanvasElement)){var L=a.read(arguments,1);if(L.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+S.slice(arguments,1));T=Me.getCanvas(L)}var G=this._context=T.getContext("2d");if(G.save(),this._pixelRatio=1,!/^off|false$/.test(m.getAttribute(T,"hidpi"))){var B=n.devicePixelRatio||1,W=Oe.getPrefixed(G,"backingStorePixelRatio")||1;this._pixelRatio=B/W}Te.call(this,_,T),this._needsUpdate=!0},remove:function h(){return this._context.restore(),h.base.call(this)},_setElementSize:function h(_,T){var L=this._pixelRatio;if(h.base.call(this,_*L,T*L),L!==1){var G=this._element,B=this._context;if(!m.hasAttribute(G,"resize")){var W=G.style;W.width=_+"px",W.height=T+"px"}B.restore(),B.save(),B.scale(L,L)}},getContext:function(){return this._context},getPixelSize:function h(_){var T=Le.agent,L;if(T&&T.firefox)L=h.base.call(this,_);else{var G=this._context,B=G.font;G.font=_+" serif",L=parseFloat(G.font),G.font=B}return L},getTextWidth:function(h,_){var T=this._context,L=T.font,G=0;T.font=h;for(var B=0,W=_.length;B<W;B++)G=Math.max(G,T.measureText(_[B]).width);return T.font=L,G},update:function(){if(!this._needsUpdate)return!1;var h=this._project,_=this._context,T=this._viewSize;return _.clearRect(0,0,T.width+1,T.height+1),h&&h.draw(_,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Re=S.extend({_class:"Event",initialize:function(_){this.event=_,this.type=_&&_.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return ge.modifiers}}),ve=Re.extend({_class:"KeyEvent",initialize:function(_,T,L,G){this.type=_,this.event=T,this.key=L,this.character=G},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),ge=new function(){var h={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},_={tab:"	",space:" ",enter:"\r"},T={},L={},G,B,W=new S({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var ie=Le&&Le.agent;return ie&&ie.mac?this.meta:this.control}}});function F(ie){var he=ie.key||ie.keyIdentifier;return he=/^U\+/.test(he)?String.fromCharCode(parseInt(he.substr(2),16)):/^Arrow[A-Z]/.test(he)?he.substr(5):he==="Unidentified"||he===Ye?String.fromCharCode(ie.keyCode):he,h[he]||(he.length>1?S.hyphenate(he):he.toLowerCase())}function Y(ie,he,U,se){var ue=Te._focused,we;if(T[he]=ie,ie?L[he]=U:delete L[he],he.length>1&&(we=S.camelize(he))in W){W[we]=ie;var ce=Le&&Le.agent;if(we==="meta"&&ce&&ce.mac)if(ie)G={};else{for(var Se in G)Se in L&&Y(!1,Se,G[Se],se);G=null}}else ie&&G&&(G[he]=U);ue&&ue._handleKeyEvent(ie?"keydown":"keyup",se,he,U)}return De.add(Z,{keydown:function(ie){var he=F(ie),U=Le&&Le.agent;he.length>1||U&&U.chrome&&(ie.altKey||U.mac&&ie.metaKey||!U.mac&&ie.ctrlKey)?Y(!0,he,_[he]||(he.length>1?"":he),ie):B=he},keypress:function(ie){if(B){var he=F(ie),U=ie.charCode,se=U>=32?String.fromCharCode(U):he.length>1?"":he;he!==B&&(he=se.toLowerCase()),Y(!0,he,se,ie),B=null}},keyup:function(ie){var he=F(ie);he in L&&Y(!1,he,L[he],ie)}}),De.add(n,{blur:function(ie){for(var he in L)Y(!1,he,L[he],ie)}}),{modifiers:W,isDown:function(ie){return!!T[ie]}}},Ae=Re.extend({_class:"MouseEvent",initialize:function(_,T,L,G,B){this.type=_,this.event=T,this.point=L,this.target=G,this.delta=B},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Ie=Re.extend({_class:"ToolEvent",_item:null,initialize:function(_,T,L){this.tool=_,this.type=T,this.event=L},_choosePoint:function(h,_){return h||(_?_.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(h){this._point=h},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(h){this._lastPoint=h},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(h){this._downPoint=h},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(h){this._middlePoint=h},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(h){this._delta=h},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(h){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=h},getItem:function(){if(!this._item){var h=this.tool._scope.project.hitTest(this.getPoint());if(h){for(var _=h.item,T=_._parent;/^(Group|CompoundPath)$/.test(T._class);)_=T,T=T._parent;this._item=_}}return this._item},setItem:function(h){this._item=h},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),de=f.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(_){f.call(this),this._moveCount=-1,this._downCount=-1,this.set(_)},getMinDistance:function(){return this._minDistance},setMinDistance:function(h){this._minDistance=h,h!=null&&this._maxDistance!=null&&h>this._maxDistance&&(this._maxDistance=h)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(h){this._maxDistance=h,this._minDistance!=null&&h!=null&&h<this._minDistance&&(this._minDistance=h)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(h){this._minDistance=this._maxDistance=h},_handleMouseEvent:function(h,_,T,L){Le=this._scope,L.drag&&!this.responds(h)&&(h="mousemove");var G=L.move||L.drag,B=this.responds(h),W=this.minDistance,F=this.maxDistance,Y=!1,ie=this;function he(se,ue){var we=T,ce=G?ie._point:ie._downPoint||we;if(G){if(ie._moveCount>=0&&we.equals(ce))return!1;if(ce&&(se!=null||ue!=null)){var Se=we.subtract(ce),$=Se.getLength();if($<(se||0))return!1;ue&&(we=ce.add(Se.normalize(Math.min($,ue))))}ie._moveCount++}return ie._point=we,ie._lastPoint=ce||we,L.down&&(ie._moveCount=-1,ie._downPoint=we,ie._downCount++),!0}function U(){B&&(Y=ie.emit(h,new Ie(ie,h,_))||Y)}if(L.down)he(),U();else if(L.up)he(null,F),U();else if(B)for(;he(W,F);)U();return Y}}),ae=S.extend(y,{_class:"Tween",statics:{easings:new S({linear:function(h){return h},easeInQuad:function(h){return h*h},easeOutQuad:function(h){return h*(2-h)},easeInOutQuad:function(h){return h<.5?2*h*h:-1+2*(2-h)*h},easeInCubic:function(h){return h*h*h},easeOutCubic:function(h){return--h*h*h+1},easeInOutCubic:function(h){return h<.5?4*h*h*h:(h-1)*(2*h-2)*(2*h-2)+1},easeInQuart:function(h){return h*h*h*h},easeOutQuart:function(h){return 1- --h*h*h*h},easeInOutQuart:function(h){return h<.5?8*h*h*h*h:1-8*--h*h*h*h},easeInQuint:function(h){return h*h*h*h*h},easeOutQuint:function(h){return 1+--h*h*h*h*h},easeInOutQuint:function(h){return h<.5?16*h*h*h*h*h:1+16*--h*h*h*h*h}})},initialize:function h(_,T,L,G,B,W){this.object=_;var F=typeof B,Y=F==="function";this.type=Y?F:F==="string"?B:"linear",this.easing=Y?B:h.easings[this.type],this.duration=G,this.running=!1,this._then=null,this._startTime=null;var ie=T||L;this._keys=ie?Object.keys(ie):[],this._parsedKeys=this._parseKeys(this._keys),this._from=ie&&this._getState(T),this._to=ie&&this._getState(L),W!==!1&&this.start()},then:function(h){return this._then=h,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(h){if(this.running){h>=1&&(h=1,this.running=!1);for(var _=this.easing(h),T=this._keys,L=function(he){return typeof he=="function"?he(_,h):he},G=0,B=T&&T.length;G<B;G++){var W=T[G],F=L(this._from[W]),Y=L(this._to[W]),ie=F&&Y&&F.__add&&Y.__add?Y.__subtract(F).__multiply(_).__add(F):(Y-F)*_+F;this._setProperty(this._parsedKeys[W],ie)}this.responds("update")&&this.emit("update",new S({progress:h,factor:_})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(h){var _=this._startTime,T=_?(h-_)/this.duration:0;_||(this._startTime=h),this.update(T)},_getState:function(h){for(var _=this._keys,T={},L=0,G=_.length;L<G;L++){var B=_[L],W=this._parsedKeys[B],F=this._getProperty(W),Y;if(h){var ie=this._resolveValue(F,h[B]);this._setProperty(W,ie),Y=this._getProperty(W),Y=Y&&Y.clone?Y.clone():Y,this._setProperty(W,F)}else Y=F&&F.clone?F.clone():F;T[B]=Y}return T},_resolveValue:function(h,_){if(_){if(Array.isArray(_)&&_.length===2){var T=_[0];return T&&T.match&&T.match(/^[+\-\*\/]=/)?this._calculate(h,T[0],_[1]):_}else if(typeof _=="string"){var L=_.match(/^[+\-*/]=(.*)/);if(L){var G=JSON.parse(L[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(h,_[0],G)}}}return _},_calculate:function(h,_,T){return Le.PaperScript.calculateBinary(h,_,T)},_parseKeys:function(h){for(var _={},T=0,L=h.length;T<L;T++){var G=h[T],B=G.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");_[G]=B.split("/")}return _},_getProperty:function(h,_){for(var T=this.object,L=0,G=h.length-(_||0);L<G&&T;L++)T=T[h[L]];return T},_setProperty:function(h,_){var T=this._getProperty(h,1);T&&(T[h[h.length-1]]=_)}}),ne={request:function(h){var _=new Je.XMLHttpRequest;return _.open((h.method||"get").toUpperCase(),h.url,S.pick(h.async,!0)),h.mimeType&&_.overrideMimeType(h.mimeType),_.onload=function(){var T=_.status;T===0||T===200?h.onLoad&&h.onLoad.call(_,_.responseText):_.onerror()},_.onerror=function(){var T=_.status,L='Could not load "'+h.url+'" (Status: '+T+")";if(h.onError)h.onError(L,T);else throw new Error(L)},_.send(null)}},Me=S.exports.CanvasProvider={canvases:[],getCanvas:function(h,_,T){if(!n)return null;var L,G=!0;typeof h=="object"&&(_=h.height,h=h.width),this.canvases.length?L=this.canvases.pop():(L=Z.createElement("canvas"),G=!1);var B=L.getContext("2d",T||{});if(!B)throw new Error("Canvas "+L+" is unable to provide a 2D context.");return L.width===h&&L.height===_?G&&B.clearRect(0,0,h+1,_+1):(L.width=h,L.height=_),B.save(),L},getContext:function(h,_,T){var L=this.getCanvas(h,_,T);return L?L.getContext("2d",T||{}):null},release:function(h){var _=h&&h.canvas?h.canvas:h;_&&_.getContext&&(_.getContext("2d").restore(),this.canvases.push(_))}},pe=new function(){var h=Math.min,_=Math.max,T=Math.abs,L,G,B,W,F,Y,ie,he,U,se,ue;function we(ye,Ce,X){return .2989*ye+.587*Ce+.114*X}function ce(ye,Ce,X,Ne){var Fe=Ne-we(ye,Ce,X);U=ye+Fe,se=Ce+Fe,ue=X+Fe;var Ne=we(U,se,ue),Ge=h(U,se,ue),ze=_(U,se,ue);if(Ge<0){var We=Ne-Ge;U=Ne+(U-Ne)*Ne/We,se=Ne+(se-Ne)*Ne/We,ue=Ne+(ue-Ne)*Ne/We}if(ze>255){var Qe=255-Ne,rt=ze-Ne;U=Ne+(U-Ne)*Qe/rt,se=Ne+(se-Ne)*Qe/rt,ue=Ne+(ue-Ne)*Qe/rt}}function Se(ye,Ce,X){return _(ye,Ce,X)-h(ye,Ce,X)}function $(ye,Ce,X,Ee){var Fe=[ye,Ce,X],Ne=_(ye,Ce,X),Ge=h(ye,Ce,X),ze;Ge=Ge===ye?0:Ge===Ce?1:2,Ne=Ne===ye?0:Ne===Ce?1:2,ze=h(Ge,Ne)===0?_(Ge,Ne)===1?2:1:0,Fe[Ne]>Fe[Ge]?(Fe[ze]=(Fe[ze]-Fe[Ge])*Ee/(Fe[Ne]-Fe[Ge]),Fe[Ne]=Ee):Fe[ze]=Fe[Ne]=0,Fe[Ge]=0,U=Fe[0],se=Fe[1],ue=Fe[2]}var je={multiply:function(){U=F*L/255,se=Y*G/255,ue=ie*B/255},screen:function(){U=F+L-F*L/255,se=Y+G-Y*G/255,ue=ie+B-ie*B/255},overlay:function(){U=F<128?2*F*L/255:255-2*(255-F)*(255-L)/255,se=Y<128?2*Y*G/255:255-2*(255-Y)*(255-G)/255,ue=ie<128?2*ie*B/255:255-2*(255-ie)*(255-B)/255},"soft-light":function(){var ye=L*F/255;U=ye+F*(255-(255-F)*(255-L)/255-ye)/255,ye=G*Y/255,se=ye+Y*(255-(255-Y)*(255-G)/255-ye)/255,ye=B*ie/255,ue=ye+ie*(255-(255-ie)*(255-B)/255-ye)/255},"hard-light":function(){U=L<128?2*L*F/255:255-2*(255-L)*(255-F)/255,se=G<128?2*G*Y/255:255-2*(255-G)*(255-Y)/255,ue=B<128?2*B*ie/255:255-2*(255-B)*(255-ie)/255},"color-dodge":function(){U=F===0?0:L===255?255:h(255,255*F/(255-L)),se=Y===0?0:G===255?255:h(255,255*Y/(255-G)),ue=ie===0?0:B===255?255:h(255,255*ie/(255-B))},"color-burn":function(){U=F===255?255:L===0?0:_(0,255-(255-F)*255/L),se=Y===255?255:G===0?0:_(0,255-(255-Y)*255/G),ue=ie===255?255:B===0?0:_(0,255-(255-ie)*255/B)},darken:function(){U=F<L?F:L,se=Y<G?Y:G,ue=ie<B?ie:B},lighten:function(){U=F>L?F:L,se=Y>G?Y:G,ue=ie>B?ie:B},difference:function(){U=F-L,U<0&&(U=-U),se=Y-G,se<0&&(se=-se),ue=ie-B,ue<0&&(ue=-ue)},exclusion:function(){U=F+L*(255-F-F)/255,se=Y+G*(255-Y-Y)/255,ue=ie+B*(255-ie-ie)/255},hue:function(){$(L,G,B,Se(F,Y,ie)),ce(U,se,ue,we(F,Y,ie))},saturation:function(){$(F,Y,ie,Se(L,G,B)),ce(U,se,ue,we(F,Y,ie))},luminosity:function(){ce(F,Y,ie,we(L,G,B))},color:function(){ce(L,G,B,we(F,Y,ie))},add:function(){U=h(F+L,255),se=h(Y+G,255),ue=h(ie+B,255)},subtract:function(){U=_(F-L,0),se=_(Y-G,0),ue=_(ie-B,0)},average:function(){U=(F+L)/2,se=(Y+G)/2,ue=(ie+B)/2},negation:function(){U=255-T(255-L-F),se=255-T(255-G-Y),ue=255-T(255-B-ie)}},be=this.nativeModes=S.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(ye){this[ye]=!0},{}),k=Me.getContext(1,1,{willReadFrequently:!0});k&&(S.each(je,function(ye,Ce){var X=Ce==="darken",Ee=!1;k.save();try{k.fillStyle=X?"#300":"#a00",k.fillRect(0,0,1,1),k.globalCompositeOperation=Ce,k.globalCompositeOperation===Ce&&(k.fillStyle=X?"#a00":"#300",k.fillRect(0,0,1,1),Ee=k.getImageData(0,0,1,1).data[0]!==X?170:51)}catch{}k.restore(),be[Ce]=Ee}),Me.release(k)),this.process=function(ye,Ce,X,Ee,Fe){var Ne=Ce.canvas,Ge=ye==="normal";if(Ge||be[ye])X.save(),X.setTransform(1,0,0,1,0,0),X.globalAlpha=Ee,Ge||(X.globalCompositeOperation=ye),X.drawImage(Ne,Fe.x,Fe.y),X.restore();else{var ze=je[ye];if(!ze)return;for(var We=X.getImageData(Fe.x,Fe.y,Ne.width,Ne.height),Qe=We.data,rt=Ce.getImageData(0,0,Ne.width,Ne.height).data,et=0,ut=Qe.length;et<ut;et+=4){L=rt[et],F=Qe[et],G=rt[et+1],Y=Qe[et+1],B=rt[et+2],ie=Qe[et+2],W=rt[et+3],he=Qe[et+3],ze();var mt=W*Ee/255,bt=1-mt;Qe[et]=mt*U+bt*F,Qe[et+1]=mt*se+bt*Y,Qe[et+2]=mt*ue+bt*ie,Qe[et+3]=W*Ee+bt*he}X.putImageData(We,Fe.x,Fe.y)}}},le=new function(){var h="http://www.w3.org/2000/svg",_="http://www.w3.org/2000/xmlns",T="http://www.w3.org/1999/xlink",L={href:T,xlink:_,xmlns:_+"/","xmlns:xlink":_+"/"};function G(F,Y,ie){return W(Z.createElementNS(h,F),Y,ie)}function B(F,Y){var ie=L[Y],he=ie?F.getAttributeNS(ie,Y):F.getAttribute(Y);return he==="null"?null:he}function W(F,Y,ie){for(var he in Y){var U=Y[he],se=L[he];typeof U=="number"&&ie&&(U=ie.number(U)),se?F.setAttributeNS(se,he,U):F.setAttribute(he,U)}return F}return{svg:h,xmlns:_,xlink:T,create:G,get:B,set:W}},re=S.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(h,_){return!_&&(h instanceof I||h instanceof j||h instanceof q)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(h,_){var T=S.capitalize(_),L=h[2];this[_]={type:h[1],property:_,attribute:h[0],toSVG:L,fromSVG:L&&S.each(L,function(G,B){this[G]=B},{}),exportFilter:h[3],get:"get"+T,set:"set"+T}},{});new function(){var h;function _(je,be,k){var ye=new S,Ce=je.getTranslation();if(be){var X;je.isInvertible()?(je=je._shiftless(),X=je._inverseTransform(Ce),Ce=null):X=new r,ye[k?"cx":"x"]=X.x,ye[k?"cy":"y"]=X.y}if(!je.isIdentity()){var Ee=je.decompose();if(Ee){var Fe=[],Ne=Ee.rotation,Ge=Ee.scaling,ze=Ee.skewing;Ce&&!Ce.isZero()&&Fe.push("translate("+h.point(Ce)+")"),Ne&&Fe.push("rotate("+h.number(Ne)+")"),(!u.isZero(Ge.x-1)||!u.isZero(Ge.y-1))&&Fe.push("scale("+h.point(Ge)+")"),ze.x&&Fe.push("skewX("+h.number(ze.x)+")"),ze.y&&Fe.push("skewY("+h.number(ze.y)+")"),ye.transform=Fe.join(" ")}else ye.transform="matrix("+je.getValues().join(",")+")"}return ye}function T(je,be){for(var k=_(je._matrix),ye=je._children,Ce=le.create("g",k,h),X=0,Ee=ye.length;X<Ee;X++){var Fe=ye[X],Ne=Se(Fe,be);if(Ne)if(Fe.isClipMask()){var Ge=le.create("clipPath");Ge.appendChild(Ne),we(Fe,Ge,"clip"),le.set(Ce,{"clip-path":"url(#"+Ge.id+")"})}else Ce.appendChild(Ne)}return Ce}function L(je,be){var k=_(je._matrix,!0),ye=je.getSize(),Ce=je.getImage();return k.x-=ye.width/2,k.y-=ye.height/2,k.width=ye.width,k.height=ye.height,k.href=be.embedImages==!1&&Ce&&Ce.src||je.toDataURL(),le.create("image",k,h)}function G(je,be){var k=be.matchShapes;if(k){var ye=je.toShape(!1);if(ye)return B(ye)}var Ce=je._segments,X=Ce.length,Ee,Fe=_(je._matrix);if(k&&X>=2&&!je.hasHandles())if(X>2){Ee=je._closed?"polygon":"polyline";for(var Ne=[],Ge=0;Ge<X;Ge++)Ne.push(h.point(Ce[Ge]._point));Fe.points=Ne.join(" ")}else{Ee="line";var ze=Ce[0]._point,We=Ce[1]._point;Fe.set({x1:ze.x,y1:ze.y,x2:We.x,y2:We.y})}else Ee="path",Fe.d=je.getPathData(null,be.precision);return le.create(Ee,Fe,h)}function B(je){var be=je._type,k=je._radius,ye=_(je._matrix,!0,be!=="rectangle");if(be==="rectangle"){be="rect";var Ce=je._size,X=Ce.width,Ee=Ce.height;ye.x-=X/2,ye.y-=Ee/2,ye.width=X,ye.height=Ee,k.isZero()&&(k=null)}return k&&(be==="circle"?ye.r=k:(ye.rx=k.width,ye.ry=k.height)),le.create(be,ye,h)}function W(je,be){var k=_(je._matrix),ye=je.getPathData(null,be.precision);return ye&&(k.d=ye),le.create("path",k,h)}function F(je,be){var k=_(je._matrix,!0),ye=je._definition,Ce=ue(ye,"symbol"),X=ye._item,Ee=X.getStrokeBounds();return Ce||(Ce=le.create("symbol",{viewBox:h.rectangle(Ee)}),Ce.appendChild(Se(X,be)),we(ye,Ce,"symbol")),k.href="#"+Ce.id,k.x+=Ee.x,k.y+=Ee.y,k.width=Ee.width,k.height=Ee.height,k.overflow="visible",le.create("use",k,h)}function Y(je){var be=ue(je,"color");if(!be){var k=je.getGradient(),ye=k._radial,Ce=je.getOrigin(),X=je.getDestination(),Ee;if(ye){Ee={cx:Ce.x,cy:Ce.y,r:Ce.getDistance(X)};var Fe=je.getHighlight();Fe&&(Ee.fx=Fe.x,Ee.fy=Fe.y)}else Ee={x1:Ce.x,y1:Ce.y,x2:X.x,y2:X.y};Ee.gradientUnits="userSpaceOnUse",be=le.create((ye?"radial":"linear")+"Gradient",Ee,h);for(var Ne=k._stops,Ge=0,ze=Ne.length;Ge<ze;Ge++){var We=Ne[Ge],Qe=We._color,rt=Qe.getAlpha(),et=We._offset;Ee={offset:et??Ge/(ze-1)},Qe&&(Ee["stop-color"]=Qe.toCSS(!0)),rt<1&&(Ee["stop-opacity"]=rt),be.appendChild(le.create("stop",Ee,h))}we(je,be,"color")}return"url(#"+be.id+")"}function ie(je){var be=le.create("text",_(je._matrix,!0),h);return be.textContent=je._content,be}var he={Group:T,Layer:T,Raster:L,Path:G,Shape:B,CompoundPath:W,SymbolItem:F,PointText:ie};function U(je,be,k){var ye={},Ce=!k&&je.getParent(),X=[];return je._name!=null&&(ye.id=je._name),S.each(re,function(Ee){var Fe=Ee.get,Ne=Ee.type,Ge=je[Fe]();if(Ee.exportFilter?Ee.exportFilter(je,Ge):!Ce||!S.equals(Ce[Fe](),Ge)){if(Ne==="color"&&Ge!=null){var ze=Ge.getAlpha();ze<1&&(ye[Ee.attribute+"-opacity"]=ze)}Ne==="style"?X.push(Ee.attribute+": "+Ge):ye[Ee.attribute]=Ge==null?"none":Ne==="color"?Ge.gradient?Y(Ge):Ge.toCSS(!0):Ne==="array"?Ge.join(","):Ne==="lookup"?Ee.toSVG[Ge]:Ge}}),X.length&&(ye.style=X.join(";")),ye.opacity===1&&delete ye.opacity,je._visible||(ye.visibility="hidden"),le.set(be,ye,h)}var se;function ue(je,be){return se||(se={ids:{},svgs:{}}),je&&se.svgs[be+"-"+(je._id||je.__id||(je.__id=i.get("svg")))]}function we(je,be,k){se||ue();var ye=se.ids[k]=(se.ids[k]||0)+1;be.id=k+"-"+ye,se.svgs[k+"-"+(je._id||je.__id)]=be}function ce(je,be){var k=je,ye=null;if(se){k=je.nodeName.toLowerCase()==="svg"&&je;for(var Ce in se.svgs)ye||(k||(k=le.create("svg"),k.appendChild(je)),ye=k.insertBefore(le.create("defs"),k.firstChild)),ye.appendChild(se.svgs[Ce]);se=null}return be.asString?new Je.XMLSerializer().serializeToString(k):k}function Se(je,be,k){var ye=he[je._class],Ce=ye&&ye(je,be);if(Ce){var X=be.onExport;X&&(Ce=X(je,Ce,be)||Ce);var Ee=JSON.stringify(je._data);Ee&&Ee!=="{}"&&Ee!=="null"&&Ce.setAttribute("data-paper-data",Ee)}return Ce&&U(je,Ce,k)}function $(je){return je||(je={}),h=new d(je.precision),je}b.inject({exportSVG:function(je){return je=$(je),ce(Se(this,je,!0),je)}}),v.inject({exportSVG:function(je){je=$(je);var be=this._children,k=this.getView(),ye=S.pick(je.bounds,"view"),Ce=je.matrix||ye==="view"&&k._matrix,X=Ce&&s.read([Ce]),Ee=ye==="view"?new o([0,0],k.getViewSize()):ye==="content"?b._getBounds(be,X,{stroke:!0}).rect:o.read([ye],0,{readNull:!0}),Fe={version:"1.1",xmlns:le.svg,"xmlns:xlink":le.xlink};Ee&&(Fe.width=Ee.width,Fe.height=Ee.height,(Ee.x||Ee.x===0||Ee.y||Ee.y===0)&&(Fe.viewBox=h.rectangle(Ee)));var Ne=le.create("svg",Fe,h),Ge=Ne;X&&!X.isIdentity()&&(Ge=Ne.appendChild(le.create("g",_(X),h)));for(var ze=0,We=be.length;ze<We;ze++)Ge.appendChild(Se(be[ze],je,!0));return ce(Ne,je)}})},new function(){var h={},_;function T(be,k,ye,Ce,X,Ee){var Fe=le.get(be,k)||Ee,Ne=Fe==null?Ce?null:ye?"":0:ye?Fe:parseFloat(Fe);return/%\s*$/.test(Fe)?Ne/100*(X?1:_[/x|^width/.test(k)?"width":"height"]):Ne}function L(be,k,ye,Ce,X,Ee,Fe){return k=T(be,k||"x",!1,Ce,X,Ee),ye=T(be,ye||"y",!1,Ce,X,Fe),Ce&&(k==null||ye==null)?null:new r(k,ye)}function G(be,k,ye,Ce,X){return k=T(be,k||"width",!1,Ce,X),ye=T(be,ye||"height",!1,Ce,X),Ce&&(k==null||ye==null)?null:new a(k,ye)}function B(be,k,ye){return be==="none"?null:k==="number"?parseFloat(be):k==="array"?be?be.split(/[\s,]+/g).map(parseFloat):[]:k==="color"?Se(be)||be:k==="lookup"?ye[be]:be}function W(be,k,ye,Ce){var X=be.childNodes,Ee=k==="clippath",Fe=k==="defs",Ne=new x,Ge=Ne._project,ze=Ge._currentStyle,We=[];if(!Ee&&!Fe&&(Ne=ce(Ne,be,Ce),Ge._currentStyle=Ne._style.clone()),Ce)for(var Qe=be.querySelectorAll("defs"),rt=0,et=Qe.length;rt<et;rt++)$(Qe[rt],ye,!1);for(var rt=0,et=X.length;rt<et;rt++){var ut=X[rt],mt;ut.nodeType===1&&!/^defs$/i.test(ut.nodeName)&&(mt=$(ut,ye,!1))&&!(mt instanceof C)&&We.push(mt)}return Ne.addChildren(We),Ee&&(Ne=ce(Ne.reduce(),be,Ce)),Ge._currentStyle=ze,(Ee||Fe)&&(Ne.remove(),Ne=null),Ne}function F(be,k){for(var ye=be.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),Ce=[],X=0,Ee=ye.length;X<Ee;X+=2)Ce.push(new r(parseFloat(ye[X]),parseFloat(ye[X+1])));var Fe=new H(Ce);return k==="polygon"&&Fe.closePath(),Fe}function Y(be){return I.create(be.getAttribute("d"))}function ie(be,k){var ye=(T(be,"href",!0)||"").substring(1),Ce=k==="radialgradient",X;if(ye)X=h[ye].getGradient(),X._radial^Ce&&(X=X.clone(),X._radial=Ce);else{for(var Ee=be.childNodes,Fe=[],Ne=0,Ge=Ee.length;Ne<Ge;Ne++){var ze=Ee[Ne];ze.nodeType===1&&Fe.push(ce(new oe,ze))}X=new J(Fe,Ce)}var We,Qe,rt,et=T(be,"gradientUnits",!0)!=="userSpaceOnUse";Ce?(We=L(be,"cx","cy",!1,et,"50%","50%"),Qe=We.add(T(be,"r",!1,!1,et,"50%"),0),rt=L(be,"fx","fy",!0,et)):(We=L(be,"x1","y1",!1,et,"0%","0%"),Qe=L(be,"x2","y2",!1,et,"100%","0%"));var ut=ce(new K(X,We,Qe,rt),be);return ut._scaleToBounds=et,null}var he={"#document":function(be,k,ye,Ce){for(var X=be.childNodes,Ee=0,Fe=X.length;Ee<Fe;Ee++){var Ne=X[Ee];if(Ne.nodeType===1)return $(Ne,ye,Ce)}},g:W,svg:W,clippath:W,polygon:F,polyline:F,path:Y,lineargradient:ie,radialgradient:ie,image:function(be){var k=new E(T(be,"href",!0));return k.on("load",function(){var ye=G(be);this.setSize(ye);var Ce=L(be).add(ye.divide(2));this._matrix.append(new s().translate(Ce))}),k},symbol:function(be,k,ye,Ce){return new C(W(be,k,ye,Ce),!0)},defs:W,use:function(be){var k=(T(be,"href",!0)||"").substring(1),ye=h[k],Ce=L(be);return ye?ye instanceof C?ye.place(Ce):ye.clone().translate(Ce):null},circle:function(be){return new j.Circle(L(be,"cx","cy"),T(be,"r"))},ellipse:function(be){return new j.Ellipse({center:L(be,"cx","cy"),radius:G(be,"rx","ry")})},rect:function(be){return new j.Rectangle(new o(L(be),G(be)),G(be,"rx","ry"))},line:function(be){return new H.Line(L(be,"x1","y1"),L(be,"x2","y2"))},text:function(be){var k=new V(L(be).add(L(be,"dx","dy")));return k.setContent(be.textContent.trim()||""),k},switch:W};function U(be,k,ye,Ce){if(be.transform){for(var X=(Ce.getAttribute(ye)||"").split(/\)\s*/g),Ee=new s,Fe=0,Ne=X.length;Fe<Ne;Fe++){var Ge=X[Fe];if(!Ge)break;for(var ze=Ge.split(/\(\s*/),We=ze[0],Qe=ze[1].split(/[\s,]+/g),rt=0,et=Qe.length;rt<et;rt++)Qe[rt]=parseFloat(Qe[rt]);switch(We){case"matrix":Ee.append(new s(Qe[0],Qe[1],Qe[2],Qe[3],Qe[4],Qe[5]));break;case"rotate":Ee.rotate(Qe[0],Qe[1]||0,Qe[2]||0);break;case"translate":Ee.translate(Qe[0],Qe[1]||0);break;case"scale":Ee.scale(Qe);break;case"skewX":Ee.skew(Qe[0],0);break;case"skewY":Ee.skew(0,Qe[0]);break}}be.transform(Ee)}}function se(be,k,ye){var Ce=ye==="fill-opacity"?"getFillColor":"getStrokeColor",X=be[Ce]&&be[Ce]();X&&X.setAlpha(parseFloat(k))}var ue=S.set(S.each(re,function(be){this[be.attribute]=function(k,ye){if(k[be.set]&&(k[be.set](B(ye,be.type,be.fromSVG)),be.type==="color")){var Ce=k[be.get]();if(Ce&&Ce._scaleToBounds){var X=k.getBounds();Ce.transform(new s().translate(X.getPoint()).scale(X.getSize()))}}}},{}),{id:function(be,k){h[k]=be,be.setName&&be.setName(k)},"clip-path":function(be,k){var ye=Se(k);if(ye)if(ye=ye.clone(),ye.setClipMask(!0),be instanceof x)be.insertChild(0,ye);else return new x(ye,be)},gradientTransform:U,transform:U,"fill-opacity":se,"stroke-opacity":se,visibility:function(be,k){be.setVisible&&be.setVisible(k==="visible")},display:function(be,k){be.setVisible&&be.setVisible(k!==null)},"stop-color":function(be,k){be.setColor&&be.setColor(k)},"stop-opacity":function(be,k){be._color&&be._color.setAlpha(parseFloat(k))},offset:function(be,k){if(be.setOffset){var ye=k.match(/(.*)%$/);be.setOffset(ye?ye[1]/100:parseFloat(k))}},viewBox:function(be,k,ye,Ce,X){var Ee=new o(B(k,"array")),Fe=G(Ce,null,null,!0),Ne,Ge;if(be instanceof x){var ze=Fe?Fe.divide(Ee.getSize()):1,Ge=new s().scale(ze).translate(Ee.getPoint().negate());Ne=be}else be instanceof C&&(Fe&&Ee.setSize(Fe),Ne=be._item);if(Ne){if(we(Ce,"overflow",X)!=="visible"){var We=new j.Rectangle(Ee);We.setClipMask(!0),Ne.addChild(We)}Ge&&Ne.transform(Ge)}}});function we(be,k,ye){var Ce=be.attributes[k],X=Ce&&Ce.value;if(!X&&be.style){var Ee=S.camelize(k);X=be.style[Ee],!X&&ye.node[Ee]!==ye.parent[Ee]&&(X=ye.node[Ee])}return X?X==="none"?null:X:Ye}function ce(be,k,ye){var Ce=k.parentNode,X={node:Oe.getStyles(k)||{},parent:!ye&&!/^defs$/i.test(Ce.tagName)&&Oe.getStyles(Ce)||{}};return S.each(ue,function(Ee,Fe){var Ne=we(k,Fe,X);be=Ne!==Ye&&Ee(be,Ne,Fe,k,X)||be}),be}function Se(be){var k=be&&be.match(/\((?:["'#]*)([^"')]+)/),ye=k&&k[1],Ce=ye&&h[n?ye.replace(n.location.href.split("#")[0]+"#",""):ye];return Ce&&Ce._scaleToBounds&&(Ce=Ce.clone(),Ce._scaleToBounds=!0),Ce}function $(be,k,ye){var Ce=be.nodeName.toLowerCase(),X=Ce!=="#document",Ee=Z.body,Fe,Ne,Ge;ye&&X&&(_=Le.getView().getSize(),_=G(be,null,null,!0)||_,Fe=le.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),Ne=be.parentNode,Ge=be.nextSibling,Fe.appendChild(be),Ee.appendChild(Fe));var ze=Le.settings,We=ze.applyMatrix,Qe=ze.insertItems;ze.applyMatrix=!1,ze.insertItems=!1;var rt=he[Ce],et=rt&&rt(be,Ce,k,ye)||null;if(ze.insertItems=Qe,ze.applyMatrix=We,et){X&&!(et instanceof x)&&(et=ce(et,be,ye));var ut=k.onImport,mt=X&&be.getAttribute("data-paper-data");ut&&(et=ut(be,et,k)||et),k.expandShapes&&et instanceof j&&(et.remove(),et=et.toPath()),mt&&(et._data=JSON.parse(mt))}return Fe&&(Ee.removeChild(Fe),Ne&&(Ge?Ne.insertBefore(be,Ge):Ne.appendChild(be))),ye&&(h={},et&&S.pick(k.applyMatrix,We)&&et.matrix.apply(!0,!0)),et}function je(be,k,ye){if(!be)return null;k=typeof k=="function"?{onLoad:k}:k||{};var Ce=Le,X=null;function Ee(ze){try{var We=typeof ze=="object"?ze:new Je.DOMParser().parseFromString(ze.trim(),"image/svg+xml");if(!We.nodeName)throw We=null,new Error("Unsupported SVG source: "+be);Le=Ce,X=$(We,k,!0),(!k||k.insert!==!1)&&ye._insertItem(Ye,X);var Qe=k.onLoad;Qe&&Qe(X,ze)}catch(rt){Fe(rt)}}function Fe(ze,We){var Qe=k.onError;if(Qe)Qe(ze,We);else throw new Error(ze)}if(typeof be=="string"&&!/^[\s\S]*</.test(be)){var Ne=Z.getElementById(be);Ne?Ee(Ne):ne.request({url:be,async:!0,onLoad:Ee,onError:Fe})}else if(typeof File<"u"&&be instanceof File){var Ge=new FileReader;return Ge.onload=function(){Ee(Ge.result)},Ge.onerror=function(){Fe(Ge.error)},Ge.readAsText(be)}else Ee(be);return X}b.inject({importSVG:function(be,k){return je(be,k,this)}}),v.inject({importSVG:function(be,k){return this.activate(),je(be,k,this)}})},S.exports.PaperScript=(function(){var h=this,_=h.acorn;if(!_&&typeof Wr<"u")try{_=require("acorn")}catch{}if(!_){var T,L;_=T=L={},function(ce,Se){if(typeof T=="object"&&typeof L=="object")return Se(T);if(typeof Ye=="function"&&Ye.amd)return Ye(["exports"],Se);Se(ce.acorn||(ce.acorn={}))}(this,function(ce){ce.version="0.5.0";var Se,$,je,be;ce.parse=function(Ke,nt){return $=String(Ke),je=$.length,ye(nt),dn(),_t(Se.program)};var k=ce.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function ye(Ke){Se=Ke||{};for(var nt in k)Object.prototype.hasOwnProperty.call(Se,nt)||(Se[nt]=k[nt]);be=Se.sourceFile||null}var Ce=ce.getLineInfo=function(Ke,nt){for(var dt=1,wt=0;;){Gr.lastIndex=wt;var Rt=Gr.exec(Ke);if(Rt&&Rt.index<nt)++dt,wt=Rt.index+Rt[0].length;else break}return{line:dt,column:nt-wt}};ce.tokenize=function(Ke,nt){$=String(Ke),je=$.length,ye(nt),dn();var dt={};function wt(Rt){return mt=Fe,Hr(Rt),dt.start=Ee,dt.end=Fe,dt.startLoc=Ne,dt.endLoc=Ge,dt.type=ze,dt.value=We,dt}return wt.jumpTo=function(Rt,Lt){if(X=Rt,Se.locations){rt=1,et=Gr.lastIndex=0;for(var It;(It=Gr.exec($))&&It.index<Rt;)++rt,et=It.index+It[0].length}Qe=Lt,yr()},wt};var X,Ee,Fe,Ne,Ge,ze,We,Qe,rt,et,ut,mt,bt,xt,He,Ze;function it(Ke,nt){var dt=Ce($,Ke);nt+=" ("+dt.line+":"+dt.column+")";var wt=new SyntaxError(nt);throw wt.pos=Ke,wt.loc=dt,wt.raisedAt=X,wt}var at=[],yt={type:"num"},st={type:"regexp"},Et={type:"string"},gt={type:"name"},jt={type:"eof"},vt={keyword:"break"},Mt={keyword:"case",beforeExpr:!0},Bt={keyword:"catch"},Dt={keyword:"continue"},Nt={keyword:"debugger"},Ht={keyword:"default"},Ft={keyword:"do",isLoop:!0},Vt={keyword:"else",beforeExpr:!0},Ut={keyword:"finally"},ar={keyword:"for",isLoop:!0},tr={keyword:"function"},mr={keyword:"if"},dr={keyword:"return",beforeExpr:!0},vr={keyword:"switch"},hr={keyword:"throw",beforeExpr:!0},pr={keyword:"try"},Tr={keyword:"var"},_r={keyword:"while",isLoop:!0},Kr={keyword:"with"},vn={keyword:"new",beforeExpr:!0},kn={keyword:"this"},un={keyword:"null",atomValue:null},_n={keyword:"true",atomValue:!0},bn={keyword:"false",atomValue:!1},Nr={keyword:"in",binop:7,beforeExpr:!0},qr={break:vt,case:Mt,catch:Bt,continue:Dt,debugger:Nt,default:Ht,do:Ft,else:Vt,finally:Ut,for:ar,function:tr,if:mr,return:dr,switch:vr,throw:hr,try:pr,var:Tr,while:_r,with:Kr,null:un,true:_n,false:bn,new:vn,in:Nr,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:kn,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},gr={type:"[",beforeExpr:!0},Jr={type:"]"},Ur={type:"{",beforeExpr:!0},br={type:"}"},wr={type:"(",beforeExpr:!0},xr={type:")"},Sr={type:",",beforeExpr:!0},Er={type:";",beforeExpr:!0},Yr={type:":",beforeExpr:!0},cn={type:"."},fn={type:"?",beforeExpr:!0},wn={binop:10,beforeExpr:!0},hn={isAssign:!0,beforeExpr:!0},zr={isAssign:!0,beforeExpr:!0},Yn={postfix:!0,prefix:!0,isUpdate:!0},On={prefix:!0,beforeExpr:!0},Pn={binop:1,beforeExpr:!0},xn={binop:2,beforeExpr:!0},Cr={binop:3,beforeExpr:!0},kr={binop:4,beforeExpr:!0},$r={binop:5,beforeExpr:!0},en={binop:6,beforeExpr:!0},Or={binop:7,beforeExpr:!0},tn={binop:8,beforeExpr:!0},Xn={binop:9,prefix:!0,beforeExpr:!0},Ir={binop:10,beforeExpr:!0};ce.tokTypes={bracketL:gr,bracketR:Jr,braceL:Ur,braceR:br,parenL:wr,parenR:xr,comma:Sr,semi:Er,colon:Yr,dot:cn,question:fn,slash:wn,eq:hn,name:gt,eof:jt,num:yt,regexp:st,string:Et};for(var rn in qr)ce.tokTypes["_"+rn]=qr[rn];function Xr(Ke){Ke=Ke.split(" ");var nt="",dt=[];e:for(var wt=0;wt<Ke.length;++wt){for(var Rt=0;Rt<dt.length;++Rt)if(dt[Rt][0].length==Ke[wt].length){dt[Rt].push(Ke[wt]);continue e}dt.push([Ke[wt]])}function Lt(qt){if(qt.length==1)return nt+="return str === "+JSON.stringify(qt[0])+";";nt+="switch(str){";for(var Pr=0;Pr<qt.length;++Pr)nt+="case "+JSON.stringify(qt[Pr])+":";nt+="return true}return false;"}if(dt.length>3){dt.sort(function(qt,Pr){return Pr.length-qt.length}),nt+="switch(str.length){";for(var wt=0;wt<dt.length;++wt){var It=dt[wt];nt+="case "+It[0].length+":",Lt(It)}nt+="}"}else Lt(Ke);return new Function("str",nt)}var Rn=Xr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Ln=Xr("class enum extends super const export import"),Sn=Xr("implements interface let package private protected public static yield"),nn=Xr("eval arguments"),In=Xr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),En=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,jn="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Dn="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",Mn=new RegExp("["+jn+"]"),Fn=new RegExp("["+jn+Dn+"]"),an=/[\n\r\u2028\u2029]/,Gr=/\r\n|[\n\r\u2028\u2029]/g,sn=ce.isIdentifierStart=function(Ke){return Ke<65?Ke===36:Ke<91?!0:Ke<97?Ke===95:Ke<123?!0:Ke>=170&&Mn.test(String.fromCharCode(Ke))},Tn=ce.isIdentifierChar=function(Ke){return Ke<48?Ke===36:Ke<58?!0:Ke<65?!1:Ke<91?!0:Ke<97?Ke===95:Ke<123?!0:Ke>=170&&Fn.test(String.fromCharCode(Ke))};function Dr(){this.line=rt,this.column=X-et}function dn(){rt=1,X=et=0,Qe=!0,yr()}function nr(Ke,nt){Fe=X,Se.locations&&(Ge=new Dr),ze=Ke,yr(),We=nt,Qe=Ke.beforeExpr}function Cn(){var Ke=Se.onComment&&Se.locations&&new Dr,nt=X,dt=$.indexOf("*/",X+=2);if(dt===-1&&it(X-2,"Unterminated comment"),X=dt+2,Se.locations){Gr.lastIndex=nt;for(var wt;(wt=Gr.exec($))&&wt.index<X;)++rt,et=wt.index+wt[0].length}Se.onComment&&Se.onComment(!0,$.slice(nt+2,dt),nt,X,Ke,Se.locations&&new Dr)}function pn(){for(var Ke=X,nt=Se.onComment&&Se.locations&&new Dr,dt=$.charCodeAt(X+=2);X<je&&dt!==10&&dt!==13&&dt!==8232&&dt!==8233;)++X,dt=$.charCodeAt(X);Se.onComment&&Se.onComment(!1,$.slice(Ke+2,X),Ke,X,nt,Se.locations&&new Dr)}function yr(){for(;X<je;){var Ke=$.charCodeAt(X);if(Ke===32)++X;else if(Ke===13){++X;var nt=$.charCodeAt(X);nt===10&&++X,Se.locations&&(++rt,et=X)}else if(Ke===10||Ke===8232||Ke===8233)++X,Se.locations&&(++rt,et=X);else if(Ke>8&&Ke<14)++X;else if(Ke===47){var nt=$.charCodeAt(X+1);if(nt===42)Cn();else if(nt===47)pn();else break}else if(Ke===160)++X;else if(Ke>=5760&&En.test(String.fromCharCode(Ke)))++X;else break}}function Fr(){var Ke=$.charCodeAt(X+1);return Ke>=48&&Ke<=57?zn(!0):(++X,nr(cn))}function Ct(){var Ke=$.charCodeAt(X+1);return Qe?(++X,Un()):Ke===61?Yt(zr,2):Yt(wn,1)}function Zn(){var Ke=$.charCodeAt(X+1);return Ke===61?Yt(zr,2):Yt(Ir,1)}function Bn(Ke){var nt=$.charCodeAt(X+1);return nt===Ke?Yt(Ke===124?Pn:xn,2):nt===61?Yt(zr,2):Yt(Ke===124?Cr:$r,1)}function Zr(){var Ke=$.charCodeAt(X+1);return Ke===61?Yt(zr,2):Yt(kr,1)}function Qn(Ke){var nt=$.charCodeAt(X+1);return nt===Ke?nt==45&&$.charCodeAt(X+2)==62&&an.test($.slice(mt,X))?(X+=3,pn(),yr(),Hr()):Yt(Yn,2):nt===61?Yt(zr,2):Yt(Xn,1)}function Kn(Ke){var nt=$.charCodeAt(X+1),dt=1;return nt===Ke?(dt=Ke===62&&$.charCodeAt(X+2)===62?3:2,$.charCodeAt(X+dt)===61?Yt(zr,dt+1):Yt(tn,dt)):nt==33&&Ke==60&&$.charCodeAt(X+2)==45&&$.charCodeAt(X+3)==45?(X+=4,pn(),yr(),Hr()):(nt===61&&(dt=$.charCodeAt(X+2)===61?3:2),Yt(Or,dt))}function Zt(Ke){var nt=$.charCodeAt(X+1);return nt===61?Yt(en,$.charCodeAt(X+2)===61?3:2):Yt(Ke===61?hn:On,1)}function Nn(Ke){switch(Ke){case 46:return Fr();case 40:return++X,nr(wr);case 41:return++X,nr(xr);case 59:return++X,nr(Er);case 44:return++X,nr(Sr);case 91:return++X,nr(gr);case 93:return++X,nr(Jr);case 123:return++X,nr(Ur);case 125:return++X,nr(br);case 58:return++X,nr(Yr);case 63:return++X,nr(fn);case 48:var nt=$.charCodeAt(X+1);if(nt===120||nt===88)return Jn();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return zn(!1);case 34:case 39:return $n(Ke);case 47:return Ct();case 37:case 42:return Zn();case 124:case 38:return Bn(Ke);case 94:return Zr();case 43:case 45:return Qn(Ke);case 60:case 62:return Kn(Ke);case 61:case 33:return Zt(Ke);case 126:return Yt(On,1)}return!1}function Hr(Ke){if(Ke?X=Ee+1:Ee=X,Se.locations&&(Ne=new Dr),Ke)return Un();if(X>=je)return nr(jt);var nt=$.charCodeAt(X);if(sn(nt)||nt===92)return gn();var dt=Nn(nt);if(dt===!1){var wt=String.fromCharCode(nt);if(wt==="\\"||Mn.test(wt))return gn();it(X,"Unexpected character '"+wt+"'")}return dt}function Yt(Ke,nt){var dt=$.slice(X,X+nt);X+=nt,nr(Ke,dt)}function Un(){for(var Rt="",Ke,nt,dt=X;;){X>=je&&it(dt,"Unterminated regular expression");var wt=$.charAt(X);if(an.test(wt)&&it(dt,"Unterminated regular expression"),Ke)Ke=!1;else{if(wt==="[")nt=!0;else if(wt==="]"&&nt)nt=!1;else if(wt==="/"&&!nt)break;Ke=wt==="\\"}++X}var Rt=$.slice(dt,X);++X;var Lt=ir();Lt&&!/^[gmsiy]*$/.test(Lt)&&it(dt,"Invalid regexp flag");try{var It=new RegExp(Rt,Lt)}catch(qt){qt instanceof SyntaxError&&it(dt,qt.message),it(qt)}return nr(st,It)}function on(Ke,nt){for(var dt=X,wt=0,Rt=0,Lt=nt??1/0;Rt<Lt;++Rt){var It=$.charCodeAt(X),qt;if(It>=97?qt=It-97+10:It>=65?qt=It-65+10:It>=48&&It<=57?qt=It-48:qt=1/0,qt>=Ke)break;++X,wt=wt*Ke+qt}return X===dt||nt!=null&&X-dt!==nt?null:wt}function Jn(){X+=2;var Ke=on(16);return Ke==null&&it(Ee+2,"Expected hexadecimal number"),sn($.charCodeAt(X))&&it(X,"Identifier directly after number"),nr(yt,Ke)}function zn(Ke){var nt=X,dt=!1,wt=$.charCodeAt(X)===48;!Ke&&on(10)===null&&it(nt,"Invalid number"),$.charCodeAt(X)===46&&(++X,on(10),dt=!0);var Rt=$.charCodeAt(X);(Rt===69||Rt===101)&&(Rt=$.charCodeAt(++X),(Rt===43||Rt===45)&&++X,on(10)===null&&it(nt,"Invalid number"),dt=!0),sn($.charCodeAt(X))&&it(X,"Identifier directly after number");var Lt=$.slice(nt,X),It;return dt?It=parseFloat(Lt):!wt||Lt.length===1?It=parseInt(Lt,10):/[89]/.test(Lt)||Ze?it(nt,"Invalid number"):It=parseInt(Lt,8),nr(yt,It)}function $n(Ke){X++;for(var nt="";;){X>=je&&it(Ee,"Unterminated string constant");var dt=$.charCodeAt(X);if(dt===Ke)return++X,nr(Et,nt);if(dt===92){dt=$.charCodeAt(++X);var wt=/^[0-7]+/.exec($.slice(X,X+3));for(wt&&(wt=wt[0]);wt&&parseInt(wt,8)>255;)wt=wt.slice(0,-1);if(wt==="0"&&(wt=null),++X,wt)Ze&&it(X-2,"Octal literal in strict mode"),nt+=String.fromCharCode(parseInt(wt,8)),X+=wt.length-1;else switch(dt){case 110:nt+=`
`;break;case 114:nt+="\r";break;case 120:nt+=String.fromCharCode(mn(2));break;case 117:nt+=String.fromCharCode(mn(4));break;case 85:nt+=String.fromCharCode(mn(8));break;case 116:nt+="	";break;case 98:nt+="\b";break;case 118:nt+="\v";break;case 102:nt+="\f";break;case 48:nt+="\0";break;case 13:$.charCodeAt(X)===10&&++X;case 10:Se.locations&&(et=X,++rt);break;default:nt+=String.fromCharCode(dt);break}}else(dt===13||dt===10||dt===8232||dt===8233)&&it(Ee,"Unterminated string constant"),nt+=String.fromCharCode(dt),++X}}function mn(Ke){var nt=on(16,Ke);return nt===null&&it(Ee,"Bad character escape sequence"),nt}var Vr;function ir(){Vr=!1;for(var Ke,nt=!0,dt=X;;){var wt=$.charCodeAt(X);if(Tn(wt))Vr&&(Ke+=$.charAt(X)),++X;else if(wt===92){Vr||(Ke=$.slice(dt,X)),Vr=!0,$.charCodeAt(++X)!=117&&it(X,"Expecting Unicode escape sequence \\uXXXX"),++X;var Rt=mn(4),Lt=String.fromCharCode(Rt);Lt||it(X-1,"Invalid Unicode escape"),(nt?sn(Rt):Tn(Rt))||it(X-4,"Invalid Unicode escape"),Ke+=Lt}else break;nt=!1}return Vr?Ke:$.slice(dt,X)}function gn(){var Ke=ir(),nt=gt;return!Vr&&In(Ke)&&(nt=qr[Ke]),nr(nt,Ke)}function A(){ut=Ee,mt=Fe,bt=Ge,Hr()}function z(Ke){if(Ze=Ke,X=Ee,Se.locations)for(;X<et;)et=$.lastIndexOf(`
`,et-2)+1,--rt;yr(),Hr()}function Q(){this.type=null,this.start=Ee,this.end=null}function te(){this.start=Ne,this.end=null,be!==null&&(this.source=be)}function me(){var Ke=new Q;return Se.locations&&(Ke.loc=new te),Se.directSourceFile&&(Ke.sourceFile=Se.directSourceFile),Se.ranges&&(Ke.range=[Ee,0]),Ke}function ke(Ke){var nt=new Q;return nt.start=Ke.start,Se.locations&&(nt.loc=new te,nt.loc.start=Ke.loc.start),Se.ranges&&(nt.range=[Ke.range[0],0]),nt}function Pe(Ke,nt){return Ke.type=nt,Ke.end=mt,Se.locations&&(Ke.loc.end=bt),Se.ranges&&(Ke.range[1]=mt),Ke}function Ue(Ke){return Se.ecmaVersion>=5&&Ke.type==="ExpressionStatement"&&Ke.expression.type==="Literal"&&Ke.expression.value==="use strict"}function Ve(Ke){if(ze===Ke)return A(),!0}function qe(){return!Se.strictSemicolons&&(ze===jt||ze===br||an.test($.slice(mt,Ee)))}function tt(){!Ve(Er)&&!qe()&&ot()}function lt(Ke){ze===Ke?A():ot()}function ot(){it(Ee,"Unexpected token")}function Xe(Ke){Ke.type!=="Identifier"&&Ke.type!=="MemberExpression"&&it(Ke.start,"Assigning to rvalue"),Ze&&Ke.type==="Identifier"&&nn(Ke.name)&&it(Ke.start,"Assigning to "+Ke.name+" in strict mode")}function _t(Ke){ut=mt=X,Se.locations&&(bt=new Dr),xt=Ze=null,He=[],Hr();var nt=Ke||me(),dt=!0;for(Ke||(nt.body=[]);ze!==jt;){var wt=ct();nt.body.push(wt),dt&&Ue(wt)&&z(!0),dt=!1}return Pe(nt,"Program")}var ht={kind:"loop"},pt={kind:"switch"};function ct(){(ze===wn||ze===zr&&We=="/=")&&Hr(!0);var Ke=ze,nt=me();switch(Ke){case vt:case Dt:A();var dt=Ke===vt;Ve(Er)||qe()?nt.label=null:ze!==gt?ot():(nt.label=Jt(),tt());for(var wt=0;wt<He.length;++wt){var Rt=He[wt];if((nt.label==null||Rt.name===nt.label.name)&&(Rt.kind!=null&&(dt||Rt.kind==="loop")||nt.label&&dt))break}return wt===He.length&&it(nt.start,"Unsyntactic "+Ke.keyword),Pe(nt,dt?"BreakStatement":"ContinueStatement");case Nt:return A(),tt(),Pe(nt,"DebuggerStatement");case Ft:return A(),He.push(ht),nt.body=ct(),He.pop(),lt(_r),nt.test=ft(),tt(),Pe(nt,"DoWhileStatement");case ar:if(A(),He.push(ht),lt(wr),ze===Er)return Pt(nt,null);if(ze===Tr){var Lt=me();return A(),kt(Lt,!0),Pe(Lt,"VariableDeclaration"),Lt.declarations.length===1&&Ve(Nr)?At(nt,Lt):Pt(nt,Lt)}var Lt=Ot(!1,!0);return Ve(Nr)?(Xe(Lt),At(nt,Lt)):Pt(nt,Lt);case tr:return A(),or(nt,!0);case mr:return A(),nt.test=ft(),nt.consequent=ct(),nt.alternate=Ve(Vt)?ct():null,Pe(nt,"IfStatement");case dr:return!xt&&!Se.allowReturnOutsideFunction&&it(Ee,"'return' outside of function"),A(),Ve(Er)||qe()?nt.argument=null:(nt.argument=Ot(),tt()),Pe(nt,"ReturnStatement");case vr:A(),nt.discriminant=ft(),nt.cases=[],lt(Ur),He.push(pt);for(var It,qt;ze!=br;)if(ze===Mt||ze===Ht){var Pr=ze===Mt;It&&Pe(It,"SwitchCase"),nt.cases.push(It=me()),It.consequent=[],A(),Pr?It.test=Ot():(qt&&it(ut,"Multiple default clauses"),qt=!0,It.test=null),lt(Yr)}else It||ot(),It.consequent.push(ct());return It&&Pe(It,"SwitchCase"),A(),He.pop(),Pe(nt,"SwitchStatement");case hr:return A(),an.test($.slice(mt,Ee))&&it(mt,"Illegal newline after throw"),nt.argument=Ot(),tt(),Pe(nt,"ThrowStatement");case pr:if(A(),nt.block=Tt(),nt.handler=null,ze===Bt){var ln=me();A(),lt(wr),ln.param=Jt(),Ze&&nn(ln.param.name)&&it(ln.param.start,"Binding "+ln.param.name+" in strict mode"),lt(xr),ln.guard=null,ln.body=Tt(),nt.handler=Pe(ln,"CatchClause")}return nt.guardedHandlers=at,nt.finalizer=Ve(Ut)?Tt():null,!nt.handler&&!nt.finalizer&&it(nt.start,"Missing catch or finally clause"),Pe(nt,"TryStatement");case Tr:return A(),kt(nt),tt(),Pe(nt,"VariableDeclaration");case _r:return A(),nt.test=ft(),He.push(ht),nt.body=ct(),He.pop(),Pe(nt,"WhileStatement");case Kr:return Ze&&it(Ee,"'with' in strict mode"),A(),nt.object=ft(),nt.body=ct(),Pe(nt,"WithStatement");case Ur:return Tt();case Er:return A(),Pe(nt,"EmptyStatement");default:var ei=We,Gn=Ot();if(Ke===gt&&Gn.type==="Identifier"&&Ve(Yr)){for(var wt=0;wt<He.length;++wt)He[wt].name===ei&&it(Gn.start,"Label '"+ei+"' is already declared");var Li=ze.isLoop?"loop":ze===vr?"switch":null;return He.push({name:ei,kind:Li}),nt.body=ct(),He.pop(),nt.label=Gn,Pe(nt,"LabeledStatement")}else return nt.expression=Gn,tt(),Pe(nt,"ExpressionStatement")}}function ft(){lt(wr);var Ke=Ot();return lt(xr),Ke}function Tt(Ke){var nt=me(),dt=!0,wt=!1,Rt;for(nt.body=[],lt(Ur);!Ve(br);){var Lt=ct();nt.body.push(Lt),dt&&Ke&&Ue(Lt)&&(Rt=wt,z(wt=!0)),dt=!1}return wt&&!Rt&&z(!1),Pe(nt,"BlockStatement")}function Pt(Ke,nt){return Ke.init=nt,lt(Er),Ke.test=ze===Er?null:Ot(),lt(Er),Ke.update=ze===xr?null:Ot(),lt(xr),Ke.body=ct(),He.pop(),Pe(Ke,"ForStatement")}function At(Ke,nt){return Ke.left=nt,Ke.right=Ot(),lt(xr),Ke.body=ct(),He.pop(),Pe(Ke,"ForInStatement")}function kt(Ke,nt){for(Ke.declarations=[],Ke.kind="var";;){var dt=me();if(dt.id=Jt(),Ze&&nn(dt.id.name)&&it(dt.id.start,"Binding "+dt.id.name+" in strict mode"),dt.init=Ve(hn)?Ot(!0,nt):null,Ke.declarations.push(Pe(dt,"VariableDeclarator")),!Ve(Sr))break}return Ke}function Ot(Ke,nt){var dt=Xt(nt);if(!Ke&&ze===Sr){var wt=ke(dt);for(wt.expressions=[dt];Ve(Sr);)wt.expressions.push(Xt(nt));return Pe(wt,"SequenceExpression")}return dt}function Xt(Ke){var nt=rr(Ke);if(ze.isAssign){var dt=ke(nt);return dt.operator=We,dt.left=nt,A(),dt.right=Xt(Ke),Xe(nt),Pe(dt,"AssignmentExpression")}return nt}function rr(Ke){var nt=sr(Ke);if(Ve(fn)){var dt=ke(nt);return dt.test=nt,dt.consequent=Ot(!0),lt(Yr),dt.alternate=Ot(!0,Ke),Pe(dt,"ConditionalExpression")}return nt}function sr(Ke){return ur(cr(),-1,Ke)}function ur(Ke,nt,dt){var wt=ze.binop;if(wt!=null&&(!dt||ze!==Nr)&&wt>nt){var Rt=ke(Ke);Rt.left=Ke,Rt.operator=We;var Lt=ze;A(),Rt.right=ur(cr(),wt,dt);var It=Pe(Rt,Lt===Pn||Lt===xn?"LogicalExpression":"BinaryExpression");return ur(It,nt,dt)}return Ke}function cr(){if(ze.prefix){var Ke=me(),nt=ze.isUpdate;return Ke.operator=We,Ke.prefix=!0,Qe=!0,A(),Ke.argument=cr(),nt?Xe(Ke.argument):Ze&&Ke.operator==="delete"&&Ke.argument.type==="Identifier"&&it(Ke.start,"Deleting local variable in strict mode"),Pe(Ke,nt?"UpdateExpression":"UnaryExpression")}for(var dt=jr();ze.postfix&&!qe();){var Ke=ke(dt);Ke.operator=We,Ke.prefix=!1,Ke.argument=dt,Xe(dt),A(),dt=Pe(Ke,"UpdateExpression")}return dt}function jr(){return zt(Qt())}function zt(Ke,nt){if(Ve(cn)){var dt=ke(Ke);return dt.object=Ke,dt.property=Jt(!0),dt.computed=!1,zt(Pe(dt,"MemberExpression"),nt)}else if(Ve(gr)){var dt=ke(Ke);return dt.object=Ke,dt.property=Ot(),dt.computed=!0,lt(Jr),zt(Pe(dt,"MemberExpression"),nt)}else if(!nt&&Ve(wr)){var dt=ke(Ke);return dt.callee=Ke,dt.arguments=Kt(xr,!1),zt(Pe(dt,"CallExpression"),nt)}else return Ke}function Qt(){switch(ze){case kn:var wt=me();return A(),Pe(wt,"ThisExpression");case gt:return Jt();case yt:case Et:case st:var wt=me();return wt.value=We,wt.raw=$.slice(Ee,Fe),A(),Pe(wt,"Literal");case un:case _n:case bn:var wt=me();return wt.value=ze.atomValue,wt.raw=ze.keyword,A(),Pe(wt,"Literal");case wr:var Ke=Ne,nt=Ee;A();var dt=Ot();return dt.start=nt,dt.end=Fe,Se.locations&&(dt.loc.start=Ke,dt.loc.end=Ge),Se.ranges&&(dt.range=[nt,Fe]),lt(xr),dt;case gr:var wt=me();return A(),wt.elements=Kt(Jr,!0,!0),Pe(wt,"ArrayExpression");case Ur:return fr();case tr:var wt=me();return A(),or(wt,!1);case vn:return Wt();default:ot()}}function Wt(){var Ke=me();return A(),Ke.callee=zt(Qt(),!0),Ve(wr)?Ke.arguments=Kt(xr,!1):Ke.arguments=at,Pe(Ke,"NewExpression")}function fr(){var Ke=me(),nt=!0,dt=!1;for(Ke.properties=[],A();!Ve(br);){if(nt)nt=!1;else if(lt(Sr),Se.allowTrailingCommas&&Ve(br))break;var wt={key:$t()},Rt=!1,Lt;if(Ve(Yr)?(wt.value=Ot(!0),Lt=wt.kind="init"):Se.ecmaVersion>=5&&wt.key.type==="Identifier"&&(wt.key.name==="get"||wt.key.name==="set")?(Rt=dt=!0,Lt=wt.kind=wt.key.name,wt.key=$t(),ze!==wr&&ot(),wt.value=or(me(),!1)):ot(),wt.key.type==="Identifier"&&(Ze||dt))for(var It=0;It<Ke.properties.length;++It){var qt=Ke.properties[It];if(qt.key.name===wt.key.name){var Pr=Lt==qt.kind||Rt&&qt.kind==="init"||Lt==="init"&&(qt.kind==="get"||qt.kind==="set");Pr&&!Ze&&Lt==="init"&&qt.kind==="init"&&(Pr=!1),Pr&&it(wt.key.start,"Redefinition of property")}}Ke.properties.push(wt)}return Pe(Ke,"ObjectExpression")}function $t(){return ze===yt||ze===Et?Qt():Jt(!0)}function or(Ke,nt){ze===gt?Ke.id=Jt():nt?ot():Ke.id=null,Ke.params=[];var dt=!0;for(lt(wr);!Ve(xr);)dt?dt=!1:lt(Sr),Ke.params.push(Jt());var wt=xt,Rt=He;if(xt=!0,He=[],Ke.body=Tt(!0),xt=wt,He=Rt,Ze||Ke.body.body.length&&Ue(Ke.body.body[0]))for(var Lt=Ke.id?-1:0;Lt<Ke.params.length;++Lt){var It=Lt<0?Ke.id:Ke.params[Lt];if((Sn(It.name)||nn(It.name))&&it(It.start,"Defining '"+It.name+"' in strict mode"),Lt>=0)for(var qt=0;qt<Lt;++qt)It.name===Ke.params[qt].name&&it(It.start,"Argument name clash in strict mode")}return Pe(Ke,nt?"FunctionDeclaration":"FunctionExpression")}function Kt(Ke,nt,dt){for(var wt=[],Rt=!0;!Ve(Ke);){if(Rt)Rt=!1;else if(lt(Sr),nt&&Se.allowTrailingCommas&&Ve(Ke))break;dt&&ze===Sr?wt.push(null):wt.push(Ot(!0))}return wt}function Jt(Ke){var nt=me();return Ke&&Se.forbidReserved=="everywhere"&&(Ke=!1),ze===gt?(!Ke&&(Se.forbidReserved&&(Se.ecmaVersion===3?Rn:Ln)(We)||Ze&&Sn(We))&&$.slice(Ee,Fe).indexOf("\\")==-1&&it(Ee,"The keyword '"+We+"' is reserved"),nt.name=We):Ke&&ze.keyword?nt.name=ze.keyword:ot(),Qe=!1,A(),Pe(nt,"Identifier")}}),_.version||(_=null)}function G(ce,Se){return(h.acorn||_).parse(ce,Se)}var B={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},W={"-":"__negate","+":"__self"},F=S.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(ce){this["__"+ce]="#"+ce},{__self:function(){return this}});r.inject(F),a.inject(F),K.inject(F);function Y(ce,Se,$){var je=B[Se];if(ce&&ce[je]){var be=ce[je]($);return Se==="!="?!be:be}switch(Se){case"+":return ce+$;case"-":return ce-$;case"*":return ce*$;case"/":return ce/$;case"%":return ce%$;case"==":return ce==$;case"!=":return ce!=$}}function ie(ce,Se){var $=W[ce];if(Se&&Se[$])return Se[$]();switch(ce){case"+":return+Se;case"-":return-Se}}function he(ce,Se){if(!ce)return"";Se=Se||{};var $=[];function je(Ze){for(var it=0,at=$.length;it<at;it++){var yt=$[it];if(yt[0]>=Ze)break;Ze+=yt[1]}return Ze}function be(Ze){return ce.substring(je(Ze.range[0]),je(Ze.range[1]))}function k(Ze,it){return ce.substring(je(Ze.range[1]),je(it.range[0]))}function ye(Ze,it){for(var at=je(Ze.range[0]),yt=je(Ze.range[1]),st=0,Et=$.length-1;Et>=0;Et--)if(at>$[Et][0]){st=Et+1;break}$.splice(st,0,[at,it.length-yt+at]),ce=ce.substring(0,at)+it+ce.substring(yt)}function Ce(Ze,it){switch(Ze.type){case"UnaryExpression":if(Ze.operator in W&&Ze.argument.type!=="Literal"){var at=be(Ze.argument);ye(Ze,'$__("'+Ze.operator+'", '+at+")")}break;case"BinaryExpression":if(Ze.operator in B&&Ze.left.type!=="Literal"){var yt=be(Ze.left),st=be(Ze.right),Et=k(Ze.left,Ze.right),gt=Ze.operator;ye(Ze,"__$__("+yt+","+Et.replace(new RegExp("\\"+gt),'"'+gt+'"')+", "+st+")")}break;case"UpdateExpression":case"AssignmentExpression":var jt=it&&it.type;if(!(jt==="ForStatement"||jt==="BinaryExpression"&&/^[=!<>]/.test(it.operator)||jt==="MemberExpression"&&it.computed)){if(Ze.type==="UpdateExpression"){var at=be(Ze.argument),vt="__$__("+at+', "'+Ze.operator[0]+'", 1)',Mt=at+" = "+vt;Ze.prefix?Mt="("+Mt+")":(jt==="AssignmentExpression"||jt==="VariableDeclarator"||jt==="BinaryExpression")&&(be(it.left||it.id)===at&&(Mt=vt),Mt=at+"; "+Mt),ye(Ze,Mt)}else if(/^.=$/.test(Ze.operator)&&Ze.left.type!=="Literal"){var yt=be(Ze.left),st=be(Ze.right),vt=yt+" = __$__("+yt+', "'+Ze.operator[0]+'", '+st+")";ye(Ze,/^\(.*\)$/.test(be(Ze))?"("+vt+")":vt)}}break}}function X(Ze){switch(Ze.type){case"ExportDefaultDeclaration":ye({range:[Ze.start,Ze.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var it=Ze.declaration,at=Ze.specifiers;if(it){var yt=it.declarations;yt&&(yt.forEach(function(Et){ye(Et,"module.exports."+be(Et))}),ye({range:[Ze.start,it.start+it.kind.length]},""))}else if(at){var st=at.map(function(Et){var gt=be(Et);return"module.exports."+gt+" = "+gt+"; "}).join("");st&&ye(Ze,st)}break}}function Ee(Ze,it,at){if(Ze){for(var yt in Ze)if(yt!=="range"&&yt!=="loc"){var st=Ze[yt];if(Array.isArray(st))for(var Et=0,gt=st.length;Et<gt;Et++)Ee(st[Et],Ze,at);else st&&typeof st=="object"&&Ee(st,Ze,at)}at.operatorOverloading!==!1&&Ce(Ze,it),at.moduleExports!==!1&&X(Ze)}}function Fe(Ze){var it="",at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Ze=(Math.abs(Ze)<<1)+(Ze<0?1:0);Ze||!it;){var yt=Ze&31;Ze>>=5,Ze&&(yt|=32),it+=at[yt]}return it}var Ne=Se.url||"",Ge=Se.sourceMaps,ze=Se.paperFeatures||{},We=Se.source||ce,Qe=Se.offset||0,rt=Le.agent,et=rt.versionNumber,ut=!1,mt=/\r\n|\n|\r/mg,bt;if(Ge&&(rt.chrome&&et>=30||rt.webkit&&et>=537.76||rt.firefox&&et>=23||rt.node)){if(rt.node)Qe-=2;else if(n&&Ne&&!n.location.href.indexOf(Ne)){var xt=Z.getElementsByTagName("html")[0].innerHTML;Qe=xt.substr(0,xt.indexOf(ce)+1).match(mt).length+1}ut=Qe>0&&!(rt.chrome&&et>=36||rt.safari&&et>=600||rt.firefox&&et>=40||rt.node);var He=["AA"+Fe(ut?0:Qe)+"A"];He.length=(ce.match(mt)||[]).length+1+(ut?Qe:0),bt={version:3,file:Ne,names:[],mappings:He.join(";AACA"),sourceRoot:"",sources:[Ne],sourcesContent:[We]}}return(ze.operatorOverloading!==!1||ze.moduleExports!==!1)&&Ee(G(ce,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,ze),bt&&(ut&&(ce=new Array(Qe+1).join(`
`)+ce),/^(inline|both)$/.test(Ge)&&(ce+=`
//# sourceMappingURL=data:application/json;base64,`+Je.btoa(unescape(encodeURIComponent(JSON.stringify(bt))))),ce+=`
//# sourceURL=`+(Ne||"paperscript")),{url:Ne,source:We,code:ce,map:bt}}function U(ce,Se,$){Le=Se;var je=Se.getView(),be=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(ce)&&!/\bnew\s+Tool\b/.test(ce)?new de:null,k=be?be._events:[],ye=["onFrame","onResize"].concat(k),Ce=[],X=[],Ee,Fe=typeof ce=="object"?ce:he(ce,$);ce=Fe.code;function Ne(et,ut){for(var mt in et)(ut||!/^_/.test(mt))&&new RegExp("([\\b\\s\\W]|^)"+mt.replace(/\$/g,"\\$")+"\\b").test(ce)&&(Ce.push(mt),X.push(et[mt]))}Ne({__$__:Y,$__:ie,paper:Se,tool:be},!0),Ne(Se),ce="var module = { exports: {} }; "+ce;var Qe=S.each(ye,function(et){new RegExp("\\s+"+et+"\\b").test(ce)&&(Ce.push(et),this.push("module.exports."+et+" = "+et+";"))},[]).join(`
`);Qe&&(ce+=`
`+Qe),ce+=`
return module.exports;`;var Ge=Le.agent;if(Z&&(Ge.chrome||Ge.firefox&&Ge.versionNumber<40)){var ze=Z.createElement("script"),We=Z.head||Z.getElementsByTagName("head")[0];Ge.firefox&&(ce=`
`+ce),ze.appendChild(Z.createTextNode("document.__paperscript__ = function("+Ce+") {"+ce+`
}`)),We.appendChild(ze),Ee=Z.__paperscript__,delete Z.__paperscript__,We.removeChild(ze)}else Ee=Function(Ce,ce);var Qe=Ee&&Ee.apply(Se,X),rt=Qe||{};return S.each(k,function(et){var ut=rt[et];ut&&(be[et]=ut)}),je&&(rt.onResize&&je.setOnResize(rt.onResize),je.emit("resize",{size:je.size,delta:new r}),rt.onFrame&&je.setOnFrame(rt.onFrame),je.requestUpdate()),Qe}function se(ce){if(/^text\/(?:x-|)paperscript$/.test(ce.type)&&m.getAttribute(ce,"ignore")!=="true"){var Se=m.getAttribute(ce,"canvas"),$=Z.getElementById(Se),je=ce.src||ce.getAttribute("data-src"),be=m.hasAttribute(ce,"async"),k="data-paper-scope";if(!$)throw new Error('Unable to find canvas with id "'+Se+'"');var ye=m.get($.getAttribute(k))||new m().setup($);return $.setAttribute(k,ye._id),je?ne.request({url:je,async:be,mimeType:"text/plain",onLoad:function(Ce){U(Ce,ye,je)}}):U(ce.innerHTML,ye,ce.baseURI),ce.setAttribute("data-paper-ignore","true"),ye}}function ue(){S.each(Z&&Z.getElementsByTagName("script"),se)}function we(ce){return ce?se(ce):ue()}return n&&(Z.readyState==="complete"?setTimeout(ue):De.add(n,{load:ue})),{compile:he,execute:U,load:we,parse:G,calculateBinary:Y,calculateUnary:ie}}).call(this);var Le=new(m.inject(S.exports,{Base:S,Numerical:u,Key:ge,DomEvent:De,DomElement:Oe,document:Z,window:n,Symbol:C,PlacedSymbol:M}));return Le.agent.node&&oi(Le),typeof Ye=="function"&&Ye.amd?Ye("paper",Le):$e&&($e.exports=Le),Le}).call(Gt,typeof self=="object"?self:null)})(wi);var Bi=wi.exports;const Lr=yn(Bi);var xi={exports:{}};/*! p5.js v1.7.0 July 10, 2023 */(function($e,Je){(function(Ye){$e.exports=Ye()})(function(){var Ye;return function n(Z,S,y){function m(d,u){if(!S[d]){if(!Z[d]){var i=typeof Wr=="function"&&Wr;if(!u&&i)return i(d,!0);if(f)return f(d,!0);throw(u=new Error("Cannot find module '"+d+"'")).code="MODULE_NOT_FOUND",u}i=S[d]={exports:{}},Z[d][0].call(i.exports,function(r){return m(Z[d][1][r]||r)},i,i.exports,n,Z,S,y)}return S[d].exports}for(var f=typeof Wr=="function"&&Wr,g=0;g<y.length;g++)m(y[g]);return m}({1:[function(n,Z,S){S.byteLength=function(a){var a=i(a),t=a[0],a=a[1];return 3*(t+a)/4-a},S.toByteArray=function(r){var t,a,o=i(r),l=o[0],o=o[1],c=new f(function(v,b){return 3*(v+b)/4-b}(l,o)),s=0,p=0<o?l-4:l;for(a=0;a<p;a+=4)t=m[r.charCodeAt(a)]<<18|m[r.charCodeAt(a+1)]<<12|m[r.charCodeAt(a+2)]<<6|m[r.charCodeAt(a+3)],c[s++]=t>>16&255,c[s++]=t>>8&255,c[s++]=255&t;return o===2&&(t=m[r.charCodeAt(a)]<<2|m[r.charCodeAt(a+1)]>>4,c[s++]=255&t),o===1&&(t=m[r.charCodeAt(a)]<<10|m[r.charCodeAt(a+1)]<<4|m[r.charCodeAt(a+2)]>>2,c[s++]=t>>8&255,c[s++]=255&t),c},S.fromByteArray=function(r){for(var t,a=r.length,l=a%3,o=[],c=0,s=a-l;c<s;c+=16383)o.push(function(p,v,b){for(var x,w=[],j=v;j<b;j+=3)x=(p[j]<<16&16711680)+(p[j+1]<<8&65280)+(255&p[j+2]),w.push(function(E){return y[E>>18&63]+y[E>>12&63]+y[E>>6&63]+y[63&E]}(x));return w.join("")}(r,c,s<c+16383?s:c+16383));return l==1?(t=r[a-1],o.push(y[t>>2]+y[t<<4&63]+"==")):l==2&&(t=(r[a-2]<<8)+r[a-1],o.push(y[t>>10]+y[t>>4&63]+y[t<<2&63]+"=")),o.join("")};for(var y=[],m=[],f=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,u=g.length;d<u;++d)y[d]=g[d],m[g.charCodeAt(d)]=d;function i(r){var t=r.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return r=r.indexOf("="),t=(r=r===-1?t:r)===t?0:4-r%4,[r,t]}m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63},{}],2:[function(n,Z,S){},{}],3:[function(n,Z,S){arguments[4][2][0].apply(S,arguments)},{dup:2}],4:[function(n,Z,S){(function(i){var m=n("base64-js"),f=n("ieee754"),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,d=(S.Buffer=i,S.SlowBuffer=function(q){return+q!=q&&(q=0),i.alloc(+q)},S.INSPECT_MAX_BYTES=50,2147483647);function u(q){if(d<q)throw new RangeError('The value "'+q+'" is invalid for option "size"');return q=new Uint8Array(q),Object.setPrototypeOf(q,i.prototype),q}function i(q,V,K){if(typeof q!="number")return r(q,V,K);if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(q)}function r(q,V,K){if(typeof q=="string"){var J=q,oe=V;if(i.isEncoding(oe=typeof oe=="string"&&oe!==""?oe:"utf8"))return _e=0|c(J,oe),Oe=u(_e),Oe=(J=Oe.write(J,oe))!==_e?Oe.slice(0,J):Oe;throw new TypeError("Unknown encoding: "+oe)}if(ArrayBuffer.isView(q))return l(q);if(q!=null){if(ee(q,ArrayBuffer)||q&&ee(q.buffer,ArrayBuffer)){var _e=q,J=V,Oe=K;if(J<0||_e.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(_e.byteLength<J+(Oe||0))throw new RangeError('"length" is outside of buffer bounds');return _e=J===void 0&&Oe===void 0?new Uint8Array(_e):Oe===void 0?new Uint8Array(_e,J):new Uint8Array(_e,J,Oe),Object.setPrototypeOf(_e,i.prototype),_e}if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(oe=q.valueOf&&q.valueOf(),oe!=null&&oe!==q)return i.from(oe,V,K);var De=function(Te){{var Be,Re;if(i.isBuffer(Te))return Be=0|o(Te.length),(Re=u(Be)).length!==0&&Te.copy(Re,0,0,Be),Re}if(Te.length!==void 0)return typeof Te.length!="number"||fe(Te.length)?u(0):l(Te);if(Te.type==="Buffer"&&Array.isArray(Te.data))return l(Te.data)}(q);if(De)return De;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return i.from(q[Symbol.toPrimitive]("string"),V,K)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}function t(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function a(q){return t(q),u(q<0?0:0|o(q))}function l(q){for(var V=q.length<0?0:0|o(q.length),K=u(V),J=0;J<V;J+=1)K[J]=255&q[J];return K}function o(q){if(d<=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|q}function c(q,V){if(i.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||ee(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var K=q.length,J=2<arguments.length&&arguments[2]===!0;if(!J&&K===0)return 0;for(var oe=!1;;)switch(V){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return R(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return I(q).length;default:if(oe)return J?-1:R(q).length;V=(""+V).toLowerCase(),oe=!0}}function s(q,V,K){var J,oe=!1;if((V=V===void 0||V<0?0:V)>this.length||(K=K===void 0||K>this.length?this.length:K)<=0||(K>>>=0)<=(V>>>=0))return"";for(q=q||"utf8";;)switch(q){case"hex":var _e=this,de=V,Oe=K,Re=_e.length;(!Oe||Oe<0||Re<Oe)&&(Oe=Re);for(var De="",Te=de=!de||de<0?0:de;Te<Oe;++Te)De+=xe[_e[Te]];return De;case"utf8":case"utf-8":return j(this,V,K);case"ascii":var Be=this,Re=V,ve=K,ge="";ve=Math.min(Be.length,ve);for(var Ae=Re;Ae<ve;++Ae)ge+=String.fromCharCode(127&Be[Ae]);return ge;case"latin1":case"binary":var Ie=this,de=V,ae=K,ne="";ae=Math.min(Ie.length,ae);for(var Me=de;Me<ae;++Me)ne+=String.fromCharCode(Ie[Me]);return ne;case"base64":return pe=this,J=K,(le=V)===0&&J===pe.length?m.fromByteArray(pe):m.fromByteArray(pe.slice(le,J));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var pe=V,le=K,re=this.slice(pe,le),Le="",h=0;h<re.length;h+=2)Le+=String.fromCharCode(re[h]+256*re[h+1]);return Le;default:if(oe)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),oe=!0}}function p(q,V,K){var J=q[V];q[V]=q[K],q[K]=J}function v(q,V,K,J,oe){if(q.length===0)return-1;if(typeof K=="string"?(J=K,K=0):2147483647<K?K=2147483647:K<-2147483648&&(K=-2147483648),(K=(K=fe(K=+K)?oe?0:q.length-1:K)<0?q.length+K:K)>=q.length){if(oe)return-1;K=q.length-1}else if(K<0){if(!oe)return-1;K=0}if(typeof V=="string"&&(V=i.from(V,J)),i.isBuffer(V))return V.length===0?-1:b(q,V,K,J,oe);if(typeof V=="number")return V&=255,typeof Uint8Array.prototype.indexOf=="function"?(oe?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(q,V,K):b(q,[V],K,J,oe);throw new TypeError("val must be string, number or Buffer")}function b(q,V,K,J,oe){var _e=1,Oe=q.length,De=V.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(q.length<2||V.length<2)return-1;Oe/=_e=2,De/=2,K/=2}function Te(Ae,Ie){return _e===1?Ae[Ie]:Ae.readUInt16BE(Ie*_e)}if(oe)for(var Be=-1,Re=K;Re<Oe;Re++)if(Te(q,Re)===Te(V,Be===-1?0:Re-Be)){if(Re-(Be=Be===-1?Re:Be)+1===De)return Be*_e}else Be!==-1&&(Re-=Re-Be),Be=-1;else for(Re=K=Oe<K+De?Oe-De:K;0<=Re;Re--){for(var ve=!0,ge=0;ge<De;ge++)if(Te(q,Re+ge)!==Te(V,ge)){ve=!1;break}if(ve)return Re}return-1}function x(q,V,K,J){return H(function(oe){for(var _e=[],Oe=0;Oe<oe.length;++Oe)_e.push(255&oe.charCodeAt(Oe));return _e}(V),q,K,J)}function w(q,V,K,J){return H(function(oe,_e){for(var Oe,De,Te=[],Be=0;Be<oe.length&&!((_e-=2)<0);++Be)De=oe.charCodeAt(Be),Oe=De>>8,De=De%256,Te.push(De),Te.push(Oe);return Te}(V,q.length-K),q,K,J)}function j(q,V,K){K=Math.min(q.length,K);for(var J=[],oe=V;oe<K;){var _e,Oe,De,Te,Be=q[oe],Re=null,ve=239<Be?4:223<Be?3:191<Be?2:1;if(oe+ve<=K)switch(ve){case 1:Be<128&&(Re=Be);break;case 2:(192&(_e=q[oe+1]))==128&&127<(Te=(31&Be)<<6|63&_e)&&(Re=Te);break;case 3:_e=q[oe+1],Oe=q[oe+2],(192&_e)==128&&(192&Oe)==128&&2047<(Te=(15&Be)<<12|(63&_e)<<6|63&Oe)&&(Te<55296||57343<Te)&&(Re=Te);break;case 4:_e=q[oe+1],Oe=q[oe+2],De=q[oe+3],(192&_e)==128&&(192&Oe)==128&&(192&De)==128&&65535<(Te=(15&Be)<<18|(63&_e)<<12|(63&Oe)<<6|63&De)&&Te<1114112&&(Re=Te)}Re===null?(Re=65533,ve=1):65535<Re&&(Re-=65536,J.push(Re>>>10&1023|55296),Re=56320|1023&Re),J.push(Re),oe+=ve}var ge=J,Ae=ge.length;if(Ae<=E)return String.fromCharCode.apply(String,ge);for(var Ie="",de=0;de<Ae;)Ie+=String.fromCharCode.apply(String,ge.slice(de,de+=E));return Ie}S.kMaxLength=d,(i.TYPED_ARRAY_SUPPORT=function(){try{var q=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(q,V),q.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=r,Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(q,V,K){return V=V,K=K,t(q=q),!(q<=0)&&V!==void 0?typeof K=="string"?u(q).fill(V,K):u(q).fill(V):u(q)},i.allocUnsafe=a,i.allocUnsafeSlow=a,i.isBuffer=function(q){return q!=null&&q._isBuffer===!0&&q!==i.prototype},i.compare=function(q,V){if(ee(q,Uint8Array)&&(q=i.from(q,q.offset,q.byteLength)),ee(V,Uint8Array)&&(V=i.from(V,V.offset,V.byteLength)),!i.isBuffer(q)||!i.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===V)return 0;for(var K=q.length,J=V.length,oe=0,_e=Math.min(K,J);oe<_e;++oe)if(q[oe]!==V[oe]){K=q[oe],J=V[oe];break}return K<J?-1:J<K?1:0},i.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(q,V){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return i.alloc(0);if(V===void 0)for(oe=V=0;oe<q.length;++oe)V+=q[oe].length;for(var K=i.allocUnsafe(V),J=0,oe=0;oe<q.length;++oe){var _e=q[oe];if(ee(_e,Uint8Array)&&(_e=i.from(_e)),!i.isBuffer(_e))throw new TypeError('"list" argument must be an Array of Buffers');_e.copy(K,J),J+=_e.length}return K},i.byteLength=c,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<q;V+=2)p(this,V,V+1);return this},i.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<q;V+=4)p(this,V,V+3),p(this,V+1,V+2);return this},i.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<q;V+=8)p(this,V,V+7),p(this,V+1,V+6),p(this,V+2,V+5),p(this,V+3,V+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var q=this.length;return q===0?"":arguments.length===0?j(this,0,q):s.apply(this,arguments)},i.prototype.equals=function(q){if(i.isBuffer(q))return this===q||i.compare(this,q)===0;throw new TypeError("Argument must be a Buffer")},i.prototype.inspect=function(){var V="",q=S.INSPECT_MAX_BYTES,V=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim();return this.length>q&&(V+=" ... "),"<Buffer "+V+">"},g&&(i.prototype[g]=i.prototype.inspect),i.prototype.compare=function(q,V,K,J,oe){if(ee(q,Uint8Array)&&(q=i.from(q,q.offset,q.byteLength)),!i.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(K===void 0&&(K=q?q.length:0),J===void 0&&(J=0),oe===void 0&&(oe=this.length),(V=V===void 0?0:V)<0||K>q.length||J<0||oe>this.length)throw new RangeError("out of range index");if(oe<=J&&K<=V)return 0;if(oe<=J)return-1;if(K<=V)return 1;if(this===q)return 0;for(var _e=(oe>>>=0)-(J>>>=0),Oe=(K>>>=0)-(V>>>=0),De=Math.min(_e,Oe),Te=this.slice(J,oe),Be=q.slice(V,K),Re=0;Re<De;++Re)if(Te[Re]!==Be[Re]){_e=Te[Re],Oe=Be[Re];break}return _e<Oe?-1:Oe<_e?1:0},i.prototype.includes=function(q,V,K){return this.indexOf(q,V,K)!==-1},i.prototype.indexOf=function(q,V,K){return v(this,q,V,K,!0)},i.prototype.lastIndexOf=function(q,V,K){return v(this,q,V,K,!1)},i.prototype.write=function(q,V,K,J){if(V===void 0)J="utf8",K=this.length,V=0;else if(K===void 0&&typeof V=="string")J=V,K=this.length,V=0;else{if(!isFinite(V))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");V>>>=0,isFinite(K)?(K>>>=0,J===void 0&&(J="utf8")):(J=K,K=void 0)}var oe=this.length-V;if((K===void 0||oe<K)&&(K=oe),0<q.length&&(K<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");J=J||"utf8";for(var _e,Oe,De,Te=!1;;)switch(J){case"hex":var Be=this,Re=q,ve=V,ge=K,Ae=(ve=Number(ve)||0,Be.length-ve);(!ge||Ae<(ge=Number(ge)))&&(ge=Ae),(Ae=Re.length)/2<ge&&(ge=Ae/2);for(var Ie=0;Ie<ge;++Ie){var de=parseInt(Re.substr(2*Ie,2),16);if(fe(de))return Ie;Be[ve+Ie]=de}return Ie;case"utf8":case"utf-8":return Ae=V,De=K,H(R(q,(Oe=this).length-Ae),Oe,Ae,De);case"ascii":return x(this,q,V,K);case"latin1":case"binary":return x(this,q,V,K);case"base64":return Oe=this,De=V,_e=K,H(I(q),Oe,De,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,q,V,K);default:if(Te)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),Te=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function M(q,V,K){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(K<q+V)throw new RangeError("Trying to access beyond buffer length")}function C(q,V,K,J,oe,_e){if(!i.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe<V||V<_e)throw new RangeError('"value" argument is out of bounds');if(K+J>q.length)throw new RangeError("Index out of range")}function P(q,V,K,J){if(K+J>q.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function O(q,V,K,J,oe){return V=+V,K>>>=0,oe||P(q,0,K,4),f.write(q,V,K,J,23,4),K+4}function D(q,V,K,J,oe){return V=+V,K>>>=0,oe||P(q,0,K,8),f.write(q,V,K,J,52,8),K+8}i.prototype.slice=function(q,V){var K=this.length,K=((q=~~q)<0?(q+=K)<0&&(q=0):K<q&&(q=K),(V=V===void 0?K:~~V)<0?(V+=K)<0&&(V=0):K<V&&(V=K),V<q&&(V=q),this.subarray(q,V));return Object.setPrototypeOf(K,i.prototype),K},i.prototype.readUIntLE=function(q,V,K){q>>>=0,V>>>=0,K||M(q,V,this.length);for(var J=this[q],oe=1,_e=0;++_e<V&&(oe*=256);)J+=this[q+_e]*oe;return J},i.prototype.readUIntBE=function(q,V,K){q>>>=0,V>>>=0,K||M(q,V,this.length);for(var J=this[q+--V],oe=1;0<V&&(oe*=256);)J+=this[q+--V]*oe;return J},i.prototype.readUInt8=function(q,V){return q>>>=0,V||M(q,1,this.length),this[q]},i.prototype.readUInt16LE=function(q,V){return q>>>=0,V||M(q,2,this.length),this[q]|this[q+1]<<8},i.prototype.readUInt16BE=function(q,V){return q>>>=0,V||M(q,2,this.length),this[q]<<8|this[q+1]},i.prototype.readUInt32LE=function(q,V){return q>>>=0,V||M(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},i.prototype.readUInt32BE=function(q,V){return q>>>=0,V||M(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},i.prototype.readIntLE=function(q,V,K){q>>>=0,V>>>=0,K||M(q,V,this.length);for(var J=this[q],oe=1,_e=0;++_e<V&&(oe*=256);)J+=this[q+_e]*oe;return(oe*=128)<=J&&(J-=Math.pow(2,8*V)),J},i.prototype.readIntBE=function(q,V,K){q>>>=0,V>>>=0,K||M(q,V,this.length);for(var J=V,oe=1,_e=this[q+--J];0<J&&(oe*=256);)_e+=this[q+--J]*oe;return(oe*=128)<=_e&&(_e-=Math.pow(2,8*V)),_e},i.prototype.readInt8=function(q,V){return q>>>=0,V||M(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},i.prototype.readInt16LE=function(q,V){return q>>>=0,V||M(q,2,this.length),V=this[q]|this[q+1]<<8,32768&V?4294901760|V:V},i.prototype.readInt16BE=function(q,V){return q>>>=0,V||M(q,2,this.length),V=this[q+1]|this[q]<<8,32768&V?4294901760|V:V},i.prototype.readInt32LE=function(q,V){return q>>>=0,V||M(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},i.prototype.readInt32BE=function(q,V){return q>>>=0,V||M(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},i.prototype.readFloatLE=function(q,V){return q>>>=0,V||M(q,4,this.length),f.read(this,q,!0,23,4)},i.prototype.readFloatBE=function(q,V){return q>>>=0,V||M(q,4,this.length),f.read(this,q,!1,23,4)},i.prototype.readDoubleLE=function(q,V){return q>>>=0,V||M(q,8,this.length),f.read(this,q,!0,52,8)},i.prototype.readDoubleBE=function(q,V){return q>>>=0,V||M(q,8,this.length),f.read(this,q,!1,52,8)},i.prototype.writeUIntLE=function(q,V,K,J){q=+q,V>>>=0,K>>>=0,J||C(this,q,V,K,Math.pow(2,8*K)-1,0);var oe=1,_e=0;for(this[V]=255&q;++_e<K&&(oe*=256);)this[V+_e]=q/oe&255;return V+K},i.prototype.writeUIntBE=function(q,V,K,J){q=+q,V>>>=0,K>>>=0,J||C(this,q,V,K,Math.pow(2,8*K)-1,0);var oe=K-1,_e=1;for(this[V+oe]=255&q;0<=--oe&&(_e*=256);)this[V+oe]=q/_e&255;return V+K},i.prototype.writeUInt8=function(q,V,K){return q=+q,V>>>=0,K||C(this,q,V,1,255,0),this[V]=255&q,V+1},i.prototype.writeUInt16LE=function(q,V,K){return q=+q,V>>>=0,K||C(this,q,V,2,65535,0),this[V]=255&q,this[V+1]=q>>>8,V+2},i.prototype.writeUInt16BE=function(q,V,K){return q=+q,V>>>=0,K||C(this,q,V,2,65535,0),this[V]=q>>>8,this[V+1]=255&q,V+2},i.prototype.writeUInt32LE=function(q,V,K){return q=+q,V>>>=0,K||C(this,q,V,4,4294967295,0),this[V+3]=q>>>24,this[V+2]=q>>>16,this[V+1]=q>>>8,this[V]=255&q,V+4},i.prototype.writeUInt32BE=function(q,V,K){return q=+q,V>>>=0,K||C(this,q,V,4,4294967295,0),this[V]=q>>>24,this[V+1]=q>>>16,this[V+2]=q>>>8,this[V+3]=255&q,V+4},i.prototype.writeIntLE=function(q,V,K,J){q=+q,V>>>=0,J||C(this,q,V,K,(J=Math.pow(2,8*K-1))-1,-J);var oe=0,_e=1,Oe=0;for(this[V]=255&q;++oe<K&&(_e*=256);)q<0&&Oe===0&&this[V+oe-1]!==0&&(Oe=1),this[V+oe]=(q/_e>>0)-Oe&255;return V+K},i.prototype.writeIntBE=function(q,V,K,J){q=+q,V>>>=0,J||C(this,q,V,K,(J=Math.pow(2,8*K-1))-1,-J);var oe=K-1,_e=1,Oe=0;for(this[V+oe]=255&q;0<=--oe&&(_e*=256);)q<0&&Oe===0&&this[V+oe+1]!==0&&(Oe=1),this[V+oe]=(q/_e>>0)-Oe&255;return V+K},i.prototype.writeInt8=function(q,V,K){return q=+q,V>>>=0,K||C(this,q,V,1,127,-128),this[V]=255&(q=q<0?255+q+1:q),V+1},i.prototype.writeInt16LE=function(q,V,K){return q=+q,V>>>=0,K||C(this,q,V,2,32767,-32768),this[V]=255&q,this[V+1]=q>>>8,V+2},i.prototype.writeInt16BE=function(q,V,K){return q=+q,V>>>=0,K||C(this,q,V,2,32767,-32768),this[V]=q>>>8,this[V+1]=255&q,V+2},i.prototype.writeInt32LE=function(q,V,K){return q=+q,V>>>=0,K||C(this,q,V,4,2147483647,-2147483648),this[V]=255&q,this[V+1]=q>>>8,this[V+2]=q>>>16,this[V+3]=q>>>24,V+4},i.prototype.writeInt32BE=function(q,V,K){return q=+q,V>>>=0,K||C(this,q,V,4,2147483647,-2147483648),this[V]=(q=q<0?4294967295+q+1:q)>>>24,this[V+1]=q>>>16,this[V+2]=q>>>8,this[V+3]=255&q,V+4},i.prototype.writeFloatLE=function(q,V,K){return O(this,q,V,!0,K)},i.prototype.writeFloatBE=function(q,V,K){return O(this,q,V,!1,K)},i.prototype.writeDoubleLE=function(q,V,K){return D(this,q,V,!0,K)},i.prototype.writeDoubleBE=function(q,V,K){return D(this,q,V,!1,K)},i.prototype.copy=function(q,V,K,J){if(!i.isBuffer(q))throw new TypeError("argument should be a Buffer");if(K=K||0,J||J===0||(J=this.length),V>=q.length&&(V=q.length),(J=0<J&&J<K?K:J)===K||q.length===0||this.length===0)return 0;if((V=V||0)<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length);var oe=(J=q.length-V<J-K?q.length-V+K:J)-K;if(this===q&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(V,K,J);else if(this===q&&K<V&&V<J)for(var _e=oe-1;0<=_e;--_e)q[_e+V]=this[_e+K];else Uint8Array.prototype.set.call(q,this.subarray(K,J),V);return oe},i.prototype.fill=function(q,V,K,J){if(typeof q=="string"){if(typeof V=="string"?(J=V,V=0,K=this.length):typeof K=="string"&&(J=K,K=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!i.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var oe;q.length===1&&(oe=q.charCodeAt(0),(J==="utf8"&&oe<128||J==="latin1")&&(q=oe))}else typeof q=="number"?q&=255:typeof q=="boolean"&&(q=Number(q));if(V<0||this.length<V||this.length<K)throw new RangeError("Out of range index");var _e;if(!(K<=V))if(V>>>=0,K=K===void 0?this.length:K>>>0,typeof(q=q||0)=="number")for(_e=V;_e<K;++_e)this[_e]=q;else{var Oe=i.isBuffer(q)?q:i.from(q,J),De=Oe.length;if(De===0)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(_e=0;_e<K-V;++_e)this[_e+V]=Oe[_e%De]}return this};var N=/[^+/0-9A-Za-z-_]/g;function R(q,V){V=V||1/0;for(var K,J=q.length,oe=null,_e=[],Oe=0;Oe<J;++Oe){if(55295<(K=q.charCodeAt(Oe))&&K<57344){if(!oe){if(56319<K){-1<(V-=3)&&_e.push(239,191,189);continue}if(Oe+1===J){-1<(V-=3)&&_e.push(239,191,189);continue}oe=K;continue}if(K<56320){-1<(V-=3)&&_e.push(239,191,189),oe=K;continue}K=65536+(oe-55296<<10|K-56320)}else oe&&-1<(V-=3)&&_e.push(239,191,189);if(oe=null,K<128){if(--V<0)break;_e.push(K)}else if(K<2048){if((V-=2)<0)break;_e.push(K>>6|192,63&K|128)}else if(K<65536){if((V-=3)<0)break;_e.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((V-=4)<0)break;_e.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return _e}function I(q){return m.toByteArray(function(V){if((V=(V=V.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;V.length%4!=0;)V+="=";return V}(q))}function H(q,V,K,J){for(var oe=0;oe<J&&!(oe+K>=V.length||oe>=q.length);++oe)V[oe+K]=q[oe];return oe}function ee(q,V){return q instanceof V||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===V.name}function fe(q){return q!=q}var xe=function(){for(var q="0123456789abcdef",V=new Array(256),K=0;K<16;++K)for(var J=16*K,oe=0;oe<16;++oe)V[J+oe]=q[K]+q[oe];return V}()}).call(this,n("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:244}],5:[function(n,Z,S){Z.exports=function(y){if(typeof y!="function")throw TypeError(String(y)+" is not a function");return y}},{}],6:[function(n,Z,S){var y=n("../internals/is-object");Z.exports=function(m){if(y(m)||m===null)return m;throw TypeError("Can't set "+String(m)+" as a prototype")}},{"../internals/is-object":74}],7:[function(f,Z,S){var y=f("../internals/well-known-symbol"),m=f("../internals/object-create"),f=f("../internals/object-define-property"),g=y("unscopables"),d=Array.prototype;d[g]==null&&f.f(d,g,{configurable:!0,value:m(null)}),Z.exports=function(u){d[g][u]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(n,Z,S){var y=n("../internals/string-multibyte").charAt;Z.exports=function(m,f,g){return f+(g?y(m,f).length:1)}},{"../internals/string-multibyte":123}],9:[function(n,Z,S){Z.exports=function(y,m,f){if(y instanceof m)return y;throw TypeError("Incorrect "+(f?f+" ":"")+"invocation")}},{}],10:[function(n,Z,S){var y=n("../internals/is-object");Z.exports=function(m){if(y(m))return m;throw TypeError(String(m)+" is not an object")}},{"../internals/is-object":74}],11:[function(n,Z,S){Z.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(P,Z,S){function y(D){return u(D)&&i(O,r(D))}var m,f=P("../internals/array-buffer-native"),g=P("../internals/descriptors"),d=P("../internals/global"),u=P("../internals/is-object"),i=P("../internals/has"),r=P("../internals/classof"),t=P("../internals/create-non-enumerable-property"),a=P("../internals/redefine"),l=P("../internals/object-define-property").f,o=P("../internals/object-get-prototype-of"),c=P("../internals/object-set-prototype-of"),E=P("../internals/well-known-symbol"),P=P("../internals/uid"),s=d.Int8Array,p=s&&s.prototype,v=d.Uint8ClampedArray,v=v&&v.prototype,b=s&&o(s),x=p&&o(p),w=Object.prototype,j=w.isPrototypeOf,E=E("toStringTag"),M=P("TYPED_ARRAY_TAG"),C=f&&!!c&&r(d.opera)!=="Opera",P=!1,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(m in O)d[m]||(C=!1);if((!C||typeof b!="function"||b===Function.prototype)&&(b=function(){throw TypeError("Incorrect invocation")},C))for(m in O)d[m]&&c(d[m],b);if((!C||!x||x===w)&&(x=b.prototype,C))for(m in O)d[m]&&c(d[m].prototype,x);if(C&&o(v)!==x&&c(v,x),g&&!i(x,E))for(m in P=!0,l(x,E,{get:function(){return u(this)?this[M]:void 0}}),O)d[m]&&t(d[m],M,m);Z.exports={NATIVE_ARRAY_BUFFER_VIEWS:C,TYPED_ARRAY_TAG:P&&M,aTypedArray:function(D){if(y(D))return D;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(D){if(c){if(j.call(b,D))return D}else for(var N in O)if(i(O,m)&&(N=d[N],N&&(D===N||j.call(N,D))))return D;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(D,N,R){if(g){if(R)for(var I in O)I=d[I],I&&i(I.prototype,D)&&delete I.prototype[D];x[D]&&!R||a(x,D,!R&&C&&p[D]||N)}},exportTypedArrayStaticMethod:function(D,N,R){var I,H;if(g){if(c){if(R)for(I in O)(H=d[I])&&i(H,D)&&delete H[D];if(b[D]&&!R)return;try{return a(b,D,!R&&C&&s[D]||N)}catch{}}for(I in O)!(H=d[I])||H[D]&&!R||a(H,D,N)}},isView:function(D){return D=r(D),D==="DataView"||i(O,D)},isTypedArray:y,TypedArray:b,TypedArrayPrototype:x}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(K,Z,S){function y(ve){return[255&ve]}function m(ve){return[255&ve,ve>>8&255]}function f(ve){return[255&ve,ve>>8&255,ve>>16&255,ve>>24&255]}function g(ve){return ve[3]<<24|ve[2]<<16|ve[1]<<8|ve[0]}function d(ve){return _e(ve,23,4)}function u(ve){return _e(ve,52,8)}function i(ve,ge){P(ve[ee],ge,{get:function(){return N(this)[ge]}})}function r(ne,ge,ae,Ie){if(ae=w(ae),ne=N(ne),ae+ge>ne.byteLength)throw oe(fe);var de=N(ne.buffer).bytes,ae=ae+ne.byteOffset,ne=de.slice(ae,ae+ge);return Ie?ne:ne.reverse()}function t(ve,ge,Ae,Ie,de,ae){if(Ae=w(Ae),ve=N(ve),Ae+ge>ve.byteLength)throw oe(fe);for(var ne=N(ve.buffer).bytes,Me=Ae+ve.byteOffset,pe=Ie(+de),le=0;le<ge;le++)ne[Me+le]=pe[ae?le:ge-le-1]}var a=K("../internals/global"),l=K("../internals/descriptors"),o=K("../internals/array-buffer-native"),c=K("../internals/create-non-enumerable-property"),s=K("../internals/redefine-all"),p=K("../internals/fails"),v=K("../internals/an-instance"),b=K("../internals/to-integer"),x=K("../internals/to-length"),w=K("../internals/to-index"),j=K("../internals/ieee754"),E=K("../internals/object-get-prototype-of"),M=K("../internals/object-set-prototype-of"),C=K("../internals/object-get-own-property-names").f,P=K("../internals/object-define-property").f,O=K("../internals/array-fill"),D=K("../internals/set-to-string-tag"),K=K("../internals/internal-state"),N=K.get,R=K.set,I="ArrayBuffer",H="DataView",ee="prototype",fe="Wrong index",xe=a[I],q=xe,V=a[H],K=V&&V[ee],J=Object.prototype,oe=a.RangeError,_e=j.pack,Oe=j.unpack;if(o){if(!p(function(){xe(1)})||!p(function(){new xe(-1)})||p(function(){return new xe,new xe(1.5),new xe(NaN),xe.name!=I})){for(var De,a=(q=function(Ae){return v(this,q),new xe(w(Ae))})[ee]=xe[ee],Te=C(xe),Be=0;Te.length>Be;)(De=Te[Be++])in q||c(q,De,xe[De]);a.constructor=q}M&&E(K)!==J&&M(K,J);var j=new V(new q(2)),Re=K.setInt8;j.setInt8(0,2147483648),j.setInt8(1,2147483649),!j.getInt8(0)&&j.getInt8(1)||s(K,{setInt8:function(ge,Ae){Re.call(this,ge,Ae<<24>>24)},setUint8:function(ge,Ae){Re.call(this,ge,Ae<<24>>24)}},{unsafe:!0})}else q=function(ve){v(this,q,I),ve=w(ve),R(this,{bytes:O.call(new Array(ve),0),byteLength:ve}),l||(this.byteLength=ve)},V=function(ve,de,Ae){v(this,V,H),v(ve,q,H);var Ie=N(ve).byteLength,de=b(de);if(de<0||Ie<de)throw oe("Wrong offset");if(Ie<de+(Ae=Ae===void 0?Ie-de:x(Ae)))throw oe("Wrong length");R(this,{buffer:ve,byteLength:Ae,byteOffset:de}),l||(this.buffer=ve,this.byteLength=Ae,this.byteOffset=de)},l&&(i(q,"byteLength"),i(V,"buffer"),i(V,"byteLength"),i(V,"byteOffset")),s(V[ee],{getInt8:function(ve){return r(this,1,ve)[0]<<24>>24},getUint8:function(ve){return r(this,1,ve)[0]},getInt16:function(ve){return ve=r(this,2,ve,1<arguments.length?arguments[1]:void 0),(ve[1]<<8|ve[0])<<16>>16},getUint16:function(ve){return ve=r(this,2,ve,1<arguments.length?arguments[1]:void 0),ve[1]<<8|ve[0]},getInt32:function(ve){return g(r(this,4,ve,1<arguments.length?arguments[1]:void 0))},getUint32:function(ve){return g(r(this,4,ve,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(ve){return Oe(r(this,4,ve,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(ve){return Oe(r(this,8,ve,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(ve,ge){t(this,1,ve,y,ge)},setUint8:function(ve,ge){t(this,1,ve,y,ge)},setInt16:function(ve,ge){t(this,2,ve,m,ge,2<arguments.length?arguments[2]:void 0)},setUint16:function(ve,ge){t(this,2,ve,m,ge,2<arguments.length?arguments[2]:void 0)},setInt32:function(ve,ge){t(this,4,ve,f,ge,2<arguments.length?arguments[2]:void 0)},setUint32:function(ve,ge){t(this,4,ve,f,ge,2<arguments.length?arguments[2]:void 0)},setFloat32:function(ve,ge){t(this,4,ve,d,ge,2<arguments.length?arguments[2]:void 0)},setFloat64:function(ve,ge){t(this,8,ve,u,ge,2<arguments.length?arguments[2]:void 0)}});D(q,I),D(V,H),Z.exports={ArrayBuffer:q,DataView:V}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(n,Z,S){var y=n("../internals/to-object"),m=n("../internals/to-absolute-index"),f=n("../internals/to-length"),g=Math.min;Z.exports=[].copyWithin||function(l,u){var i=y(this),r=f(i.length),t=m(l,r),a=m(u,r),l=2<arguments.length?arguments[2]:void 0,o=g((l===void 0?r:m(l,r))-a,r-t),c=1;for(a<t&&t<a+o&&(c=-1,a+=o-1,t+=o-1);0<o--;)a in i?i[t]=i[a]:delete i[t],t+=c,a+=c;return i}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(n,Z,S){var y=n("../internals/to-object"),m=n("../internals/to-absolute-index"),f=n("../internals/to-length");Z.exports=function(g){for(var d=y(this),u=f(d.length),r=arguments.length,i=m(1<r?arguments[1]:void 0,u),r=2<r?arguments[2]:void 0,t=r===void 0?u:m(r,u);i<t;)d[i++]=g;return d}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(f,Z,S){var y=f("../internals/array-iteration").forEach,m=f("../internals/array-method-is-strict"),f=f("../internals/array-method-uses-to-length"),m=m("forEach"),f=f("forEach");Z.exports=m&&f?[].forEach:function(g){return y(this,g,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(n,Z,S){var y=n("../internals/function-bind-context"),m=n("../internals/to-object"),f=n("../internals/call-with-safe-iteration-closing"),g=n("../internals/is-array-iterator-method"),d=n("../internals/to-length"),u=n("../internals/create-property"),i=n("../internals/get-iterator-method");Z.exports=function(v){var t,a,l,o,c,s,p=m(v),v=typeof this=="function"?this:Array,b=arguments.length,x=1<b?arguments[1]:void 0,w=x!==void 0,j=i(p),E=0;if(w&&(x=y(x,2<b?arguments[2]:void 0,2)),j==null||v==Array&&g(j))for(a=new v(t=d(p.length));E<t;E++)s=w?x(p[E],E):p[E],u(a,E,s);else for(c=(o=j.call(p)).next,a=new v;!(l=c.call(o)).done;E++)s=w?f(o,x,[l.value,E],!0):l.value,u(a,E,s);return a.length=E,a}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(n,Z,S){function y(d){return function(u,i,r){var t,a=m(u),l=f(a.length),o=g(r,l);if(d&&i!=i){for(;o<l;)if((t=a[o++])!=t)return!0}else for(;o<l;o++)if((d||o in a)&&a[o]===i)return d||o||0;return!d&&-1}}var m=n("../internals/to-indexed-object"),f=n("../internals/to-length"),g=n("../internals/to-absolute-index");Z.exports={includes:y(!0),indexOf:y(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(n,Z,S){function y(r){var t=r==1,a=r==2,l=r==3,o=r==4,c=r==6,s=r==5||c;return function(p,v,b,x){for(var w,j,E=g(p),M=f(E),C=m(v,b,3),P=d(M.length),O=0,v=x||u,D=t?v(p,P):a?v(p,0):void 0;O<P;O++)if((s||O in M)&&(j=C(w=M[O],O,E),r)){if(t)D[O]=j;else if(j)switch(r){case 3:return!0;case 5:return w;case 6:return O;case 2:i.call(D,w)}else if(o)return!1}return c?-1:l||o?o:D}}var m=n("../internals/function-bind-context"),f=n("../internals/indexed-object"),g=n("../internals/to-object"),d=n("../internals/to-length"),u=n("../internals/array-species-create"),i=[].push;Z.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(r,Z,S){var y=r("../internals/to-indexed-object"),m=r("../internals/to-integer"),f=r("../internals/to-length"),i=r("../internals/array-method-is-strict"),r=r("../internals/array-method-uses-to-length"),g=Math.min,d=[].lastIndexOf,u=!!d&&1/[1].lastIndexOf(1,-0)<0,i=i("lastIndexOf"),r=r("indexOf",{ACCESSORS:!0,1:0});Z.exports=u||!i||!r?function(t){if(u)return d.apply(this,arguments)||0;var a=y(this),l=f(a.length),o=l-1;for((o=1<arguments.length?g(o,m(arguments[1])):o)<0&&(o=l+o);0<=o;o--)if(o in a&&a[o]===t)return o||0;return-1}:d},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(n,Z,S){var y=n("../internals/fails"),m=n("../internals/well-known-symbol"),f=n("../internals/engine-v8-version"),g=m("species");Z.exports=function(d){return 51<=f||!y(function(){var u=[];return(u.constructor={})[g]=function(){return{foo:1}},u[d](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(n,Z,S){var y=n("../internals/fails");Z.exports=function(m,f){var g=[][m];return!!g&&y(function(){g.call(null,f||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(n,Z,S){function y(i){throw i}var m=n("../internals/descriptors"),f=n("../internals/fails"),g=n("../internals/has"),d=Object.defineProperty,u={};Z.exports=function(i,r){var t,a,l,o;return g(u,i)?u[i]:(t=[][i],a=!!g(r=r||{},"ACCESSORS")&&r.ACCESSORS,l=g(r,0)?r[0]:y,o=g(r,1)?r[1]:void 0,u[i]=!!t&&!f(function(){if(a&&!m)return!0;var c={length:-1};a?d(c,1,{enumerable:!0,get:y}):c[1]=1,t.call(c,l,o)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(n,Z,S){function y(u){return function(i,r,t,a){m(r);var l=f(i),o=g(l),c=d(l.length),s=u?c-1:0,p=u?-1:1;if(t<2)for(;;){if(s in o){a=o[s],s+=p;break}if(s+=p,u?s<0:c<=s)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=s:s<c;s+=p)s in o&&(a=r(a,o[s],s,l));return a}}var m=n("../internals/a-function"),f=n("../internals/to-object"),g=n("../internals/indexed-object"),d=n("../internals/to-length");Z.exports={left:y(!1),right:y(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(n,Z,S){var y=n("../internals/is-object"),m=n("../internals/is-array"),f=n("../internals/well-known-symbol")("species");Z.exports=function(g,d){var u;return new((u=m(g)&&(typeof(u=g.constructor)=="function"&&(u===Array||m(u.prototype))||y(u)&&(u=u[f])===null)?void 0:u)===void 0?Array:u)(d===0?0:d)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(n,Z,S){var y=n("../internals/an-object");Z.exports=function(m,f,g,d){try{return d?f(y(g)[0],g[1]):f(g)}catch(u){throw d=m.return,d!==void 0&&y(d.call(m)),u}}},{"../internals/an-object":10}],27:[function(n,Z,S){var y=n("../internals/well-known-symbol")("iterator"),m=!1;try{var f=0,g={next:function(){return{done:!!f++}},return:function(){m=!0}};g[y]=function(){return this},Array.from(g,function(){throw 2})}catch{}Z.exports=function(d,u){if(!u&&!m)return!1;var i=!1;try{var r={};r[y]=function(){return{next:function(){return{done:i=!0}}}},d(r)}catch{}return i}},{"../internals/well-known-symbol":148}],28:[function(n,Z,S){var y={}.toString;Z.exports=function(m){return y.call(m).slice(8,-1)}},{}],29:[function(n,Z,S){var y=n("../internals/to-string-tag-support"),m=n("../internals/classof-raw"),f=n("../internals/well-known-symbol")("toStringTag"),g=m(function(){return arguments}())=="Arguments";Z.exports=y?m:function(d){var u;return d===void 0?"Undefined":d===null?"Null":typeof(u=function(i,r){try{return i[r]}catch{}}(d=Object(d),f))=="string"?u:g?m(d):(u=m(d))=="Object"&&typeof d.callee=="function"?"Arguments":u}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(l,Z,S){var y=l("../internals/object-define-property").f,m=l("../internals/object-create"),f=l("../internals/redefine-all"),g=l("../internals/function-bind-context"),d=l("../internals/an-instance"),u=l("../internals/iterate"),i=l("../internals/define-iterator"),r=l("../internals/set-species"),t=l("../internals/descriptors"),a=l("../internals/internal-metadata").fastKey,l=l("../internals/internal-state"),o=l.set,c=l.getterFor;Z.exports={getConstructor:function(s,p,v,b){function x(M,C,P){var O,D=E(M),N=w(M,C);return N?N.value=P:(D.last=N={index:O=a(C,!0),key:C,value:P,previous:C=D.last,next:void 0,removed:!1},D.first||(D.first=N),C&&(C.next=N),t?D.size++:M.size++,O!=="F"&&(D.index[O]=N)),M}function w(O,C){var P,O=E(O),D=a(C);if(D!=="F")return O.index[D];for(P=O.first;P;P=P.next)if(P.key==C)return P}var j=s(function(M,C){d(M,j,p),o(M,{type:p,index:m(null),first:void 0,last:void 0,size:0}),t||(M.size=0),C!=null&&u(C,M[b],M,v)}),E=c(p);return f(j.prototype,{clear:function(){for(var M=E(this),C=M.index,P=M.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=void 0),delete C[P.index],P=P.next;M.first=M.last=void 0,t?M.size=0:this.size=0},delete:function(D){var C,P,O=E(this),D=w(this,D);return D&&(C=D.next,P=D.previous,delete O.index[D.index],D.removed=!0,P&&(P.next=C),C&&(C.previous=P),O.first==D&&(O.first=C),O.last==D&&(O.last=P),t?O.size--:this.size--),!!D},forEach:function(M){for(var C,P=E(this),O=g(M,1<arguments.length?arguments[1]:void 0,3);C=C?C.next:P.first;)for(O(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(M){return!!w(this,M)}}),f(j.prototype,v?{get:function(M){return M=w(this,M),M&&M.value},set:function(M,C){return x(this,M===0?0:M,C)}}:{add:function(M){return x(this,M=M===0?0:M,M)}}),t&&y(j.prototype,"size",{get:function(){return E(this).size}}),j},setStrong:function(s,p,v){var b=p+" Iterator",x=c(p),w=c(b);i(s,p,function(j,E){o(this,{type:b,target:j,state:x(j),kind:E,last:void 0})},function(){for(var j=w(this),E=j.kind,M=j.last;M&&M.removed;)M=M.previous;return j.target&&(j.last=M=M?M.next:j.state.first)?E=="keys"?{value:M.key,done:!1}:E=="values"?{value:M.value,done:!1}:{value:[M.key,M.value],done:!1}:{value:j.target=void 0,done:!0}},v?"entries":"values",!v,!0),r(p)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(o,Z,S){function y(x){return x.frozen||(x.frozen=new m)}function m(){this.entries=[]}function f(x,w){return p(x.entries,function(j){return j[0]===w})}var g=o("../internals/redefine-all"),d=o("../internals/internal-metadata").getWeakData,u=o("../internals/an-object"),i=o("../internals/is-object"),r=o("../internals/an-instance"),t=o("../internals/iterate"),a=o("../internals/array-iteration"),l=o("../internals/has"),o=o("../internals/internal-state"),c=o.set,s=o.getterFor,p=a.find,v=a.findIndex,b=0;m.prototype={get:function(x){if(x=f(this,x),x)return x[1]},has:function(x){return!!f(this,x)},set:function(x,w){var j=f(this,x);j?j[1]=w:this.entries.push([x,w])},delete:function(x){var w=v(this.entries,function(j){return j[0]===x});return~w&&this.entries.splice(w,1),!!~w}},Z.exports={getConstructor:function(x,w,j,E){function M(O,D,N){var R=P(O),I=d(u(D),!0);return I===!0?y(R).set(D,N):I[R.id]=N,O}var C=x(function(O,D){r(O,C,w),c(O,{type:w,id:b++,frozen:void 0}),D!=null&&t(D,O[E],O,j)}),P=s(w);return g(C.prototype,{delete:function(O){var D,N=P(this);return!!i(O)&&((D=d(O))===!0?y(N).delete(O):D&&l(D,N.id)&&delete D[N.id])},has:function(O){var D,N=P(this);return!!i(O)&&((D=d(O))===!0?y(N).has(O):D&&l(D,N.id))}}),g(C.prototype,j?{get:function(O){var D,N=P(this);if(i(O))return(D=d(O))===!0?y(N).get(O):D?D[N.id]:void 0},set:function(O,D){return M(this,O,D)}}:{add:function(O){return M(this,O,!0)}}),C}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(n,Z,S){var y=n("../internals/export"),m=n("../internals/global"),f=n("../internals/is-forced"),g=n("../internals/redefine"),d=n("../internals/internal-metadata"),u=n("../internals/iterate"),i=n("../internals/an-instance"),r=n("../internals/is-object"),t=n("../internals/fails"),a=n("../internals/check-correctness-of-iteration"),l=n("../internals/set-to-string-tag"),o=n("../internals/inherit-if-required");Z.exports=function(c,s,p){function v(I){var H=D[I];g(D,I,I=="add"?function(ee){return H.call(this,ee===0?0:ee),this}:I=="delete"?function(ee){return!(C&&!r(ee))&&H.call(this,ee===0?0:ee)}:I=="get"?function(ee){return C&&!r(ee)?void 0:H.call(this,ee===0?0:ee)}:I=="has"?function(ee){return!(C&&!r(ee))&&H.call(this,ee===0?0:ee)}:function(ee,fe){return H.call(this,ee===0?0:ee,fe),this})}var b,x,w,j,E,M=c.indexOf("Map")!==-1,C=c.indexOf("Weak")!==-1,P=M?"set":"add",O=m[c],D=O&&O.prototype,N=O,R={};return f(c,typeof O!="function"||!(C||D.forEach&&!t(function(){new O().entries().next()})))?(N=p.getConstructor(s,c,M,P),d.REQUIRED=!0):f(c,!0)&&(x=(b=new N)[P](C?{}:-0,1)!=b,w=t(function(){b.has(1)}),j=a(function(I){new O(I)}),E=!C&&t(function(){for(var I=new O,H=5;H--;)I[P](H,H);return!I.has(-0)}),j||(((N=s(function(I,H){return i(I,N,c),I=o(new O,I,N),H!=null&&u(H,I[P],I,M),I})).prototype=D).constructor=N),(w||E)&&(v("delete"),v("has"),M&&v("get")),(E||x)&&v(P),C&&D.clear&&delete D.clear),R[c]=N,y({global:!0,forced:N!=O},R),l(N,c),C||p.setStrong(N,c,M),N}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(n,Z,S){var y=n("../internals/has"),m=n("../internals/own-keys"),f=n("../internals/object-get-own-property-descriptor"),g=n("../internals/object-define-property");Z.exports=function(d,u){for(var i=m(u),r=g.f,t=f.f,a=0;a<i.length;a++){var l=i[a];y(d,l)||r(d,l,t(u,l))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(n,Z,S){var y=n("../internals/well-known-symbol")("match");Z.exports=function(m){var f=/./;try{"/./"[m](f)}catch{try{return f[y]=!1,"/./"[m](f)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(n,Z,S){n=n("../internals/fails"),Z.exports=!n(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},{"../internals/fails":51}],36:[function(n,Z,S){var y=n("../internals/require-object-coercible"),m=/"/g;Z.exports=function(i,g,d,u){var i=String(y(i)),r="<"+g;return d!==""&&(r+=" "+d+'="'+String(u).replace(m,"&quot;")+'"'),r+">"+i+"</"+g+">"}},{"../internals/require-object-coercible":113}],37:[function(n,Z,S){function y(){return this}var m=n("../internals/iterators-core").IteratorPrototype,f=n("../internals/object-create"),g=n("../internals/create-property-descriptor"),d=n("../internals/set-to-string-tag"),u=n("../internals/iterators");Z.exports=function(i,r,t){return r+=" Iterator",i.prototype=f(m,{next:g(1,t)}),d(i,r,!1,!0),u[r]=y,i}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(n,Z,S){var y=n("../internals/descriptors"),m=n("../internals/object-define-property"),f=n("../internals/create-property-descriptor");Z.exports=y?function(g,d,u){return m.f(g,d,f(1,u))}:function(g,d,u){return g[d]=u,g}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(n,Z,S){Z.exports=function(y,m){return{enumerable:!(1&y),configurable:!(2&y),writable:!(4&y),value:m}}},{}],40:[function(n,Z,S){var y=n("../internals/to-primitive"),m=n("../internals/object-define-property"),f=n("../internals/create-property-descriptor");Z.exports=function(g,d,u){d=y(d),d in g?m.f(g,d,f(0,u)):g[d]=u}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(o,Z,S){function y(){return this}var m=o("../internals/export"),f=o("../internals/create-iterator-constructor"),g=o("../internals/object-get-prototype-of"),d=o("../internals/object-set-prototype-of"),u=o("../internals/set-to-string-tag"),i=o("../internals/create-non-enumerable-property"),r=o("../internals/redefine"),t=o("../internals/well-known-symbol"),a=o("../internals/is-pure"),l=o("../internals/iterators"),o=o("../internals/iterators-core"),c=o.IteratorPrototype,s=o.BUGGY_SAFARI_ITERATORS,p=t("iterator"),v="values",b="entries";Z.exports=function(x,w,j,R,M,C,P){f(j,w,R);function O(q){if(q===M&&fe)return fe;if(!s&&q in H)return H[q];switch(q){case"keys":case v:case b:return function(){return new j(this,q)}}return function(){return new j(this)}}var D,N,R=w+" Iterator",I=!1,H=x.prototype,ee=H[p]||H["@@iterator"]||M&&H[M],fe=!s&&ee||O(M),xe=w=="Array"&&H.entries||ee;if(xe&&(xe=g(xe.call(new x)),c!==Object.prototype&&xe.next&&(a||g(xe)===c||(d?d(xe,c):typeof xe[p]!="function"&&i(xe,p,y)),u(xe,R,!0,!0),a&&(l[R]=y))),M==v&&ee&&ee.name!==v&&(I=!0,fe=function(){return ee.call(this)}),a&&!P||H[p]===fe||i(H,p,fe),l[w]=fe,M)if(D={values:O(v),keys:C?fe:O("keys"),entries:O(b)},P)for(N in D)!s&&!I&&N in H||r(H,N,D[N]);else m({target:w,proto:!0,forced:s||I},D);return D}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(n,Z,S){var y=n("../internals/path"),m=n("../internals/has"),f=n("../internals/well-known-symbol-wrapped"),g=n("../internals/object-define-property").f;Z.exports=function(d){var u=y.Symbol||(y.Symbol={});m(u,d)||g(u,d,{value:f.f(d)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(n,Z,S){n=n("../internals/fails"),Z.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(m,Z,S){var y=m("../internals/global"),m=m("../internals/is-object"),f=y.document,g=m(f)&&m(f.createElement);Z.exports=function(d){return g?f.createElement(d):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(n,Z,S){Z.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(n,Z,S){n=n("../internals/engine-user-agent"),Z.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},{"../internals/engine-user-agent":47}],47:[function(n,Z,S){n=n("../internals/get-built-in"),Z.exports=n("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(f,Z,S){var y,m,g=f("../internals/global"),f=f("../internals/engine-user-agent"),g=g.process,g=g&&g.versions,g=g&&g.v8;g?m=(y=g.split("."))[0]+y[1]:f&&(!(y=f.match(/Edge\/(\d+)/))||74<=y[1])&&(y=f.match(/Chrome\/(\d+)/))&&(m=y[1]),Z.exports=m&&+m},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(n,Z,S){Z.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(n,Z,S){var y=n("../internals/global"),m=n("../internals/object-get-own-property-descriptor").f,f=n("../internals/create-non-enumerable-property"),g=n("../internals/redefine"),d=n("../internals/set-global"),u=n("../internals/copy-constructor-properties"),i=n("../internals/is-forced");Z.exports=function(r,t){var a,l,o,c=r.target,s=r.global,p=r.stat,v=s?y:p?y[c]||d(c,{}):(y[c]||{}).prototype;if(v)for(a in t){if(l=t[a],o=r.noTargetGet?(o=m(v,a))&&o.value:v[a],!i(s?a:c+(p?".":"#")+a,r.forced)&&o!==void 0){if(typeof l==typeof o)continue;u(l,o)}(r.sham||o&&o.sham)&&f(l,"sham",!0),g(v,a,l,r)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(n,Z,S){Z.exports=function(y){try{return!!y()}catch{return!0}}},{}],52:[function(t,Z,S){t("../modules/es.regexp.exec");var y=t("../internals/redefine"),m=t("../internals/fails"),f=t("../internals/well-known-symbol"),g=t("../internals/regexp-exec"),d=t("../internals/create-non-enumerable-property"),u=f("species"),i=!m(function(){var o=/./;return o.exec=function(){var c=[];return c.groups={a:"7"},c},"".replace(o,"$<a>")!=="7"}),r="a".replace(/./,"$0")==="$0",t=f("replace"),a=!!/./[t]&&/./[t]("a","$0")==="",l=!m(function(){var c=/(?:)/,o=c.exec,c=(c.exec=function(){return o.apply(this,arguments)},"ab".split(c));return c.length!==2||c[0]!=="a"||c[1]!=="b"});Z.exports=function(o,c,s,p){var v,b,x=f(o),w=!m(function(){var E={};return E[x]=function(){return 7},""[o](E)!=7}),j=w&&!m(function(){var E=!1,M=/a/;return o==="split"&&((M={constructor:{}}).constructor[u]=function(){return M},M.flags="",M[x]=/./[x]),M.exec=function(){return E=!0,null},M[x](""),!E});w&&j&&(o!=="replace"||i&&r&&!a)&&(o!=="split"||l)||(v=/./[x],s=(j=s(x,""[o],function(E,M,C,P,O){return M.exec===g?w&&!O?{done:!0,value:v.call(M,C,P)}:{done:!0,value:E.call(C,M,P)}:{done:!1}},{REPLACE_KEEPS_$0:r,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:a}))[0],b=j[1],y(String.prototype,o,s),y(RegExp.prototype,x,c==2?function(E,M){return b.call(E,this,M)}:function(E){return b.call(E,this)})),p&&d(RegExp.prototype[x],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":185}],53:[function(n,Z,S){n=n("../internals/fails"),Z.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(n,Z,S){var y=n("../internals/a-function");Z.exports=function(m,f,g){if(y(m),f===void 0)return m;switch(g){case 0:return function(){return m.call(f)};case 1:return function(d){return m.call(f,d)};case 2:return function(d,u){return m.call(f,d,u)};case 3:return function(d,u,i){return m.call(f,d,u,i)}}return function(){return m.apply(f,arguments)}}},{"../internals/a-function":5}],55:[function(n,Z,S){var y=n("../internals/a-function"),m=n("../internals/is-object"),f=[].slice,g={};Z.exports=Function.bind||function(d){var u=y(this),i=f.call(arguments,1),r=function(){var t=i.concat(f.call(arguments));if(this instanceof r){var a=u,l=t.length,o=t;if(!(l in g)){for(var c=[],s=0;s<l;s++)c[s]="a["+s+"]";g[l]=Function("C,a","return new C("+c.join(",")+")")}return g[l](a,o)}return u.apply(d,t)};return m(u.prototype)&&(r.prototype=u.prototype),r}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(n,Z,S){function y(g){return typeof g=="function"?g:void 0}var m=n("../internals/path"),f=n("../internals/global");Z.exports=function(g,d){return arguments.length<2?y(m[g])||y(f[g]):m[g]&&m[g][d]||f[g]&&f[g][d]}},{"../internals/global":59,"../internals/path":104}],57:[function(n,Z,S){var y=n("../internals/classof"),m=n("../internals/iterators"),f=n("../internals/well-known-symbol")("iterator");Z.exports=function(g){if(g!=null)return g[f]||g["@@iterator"]||m[y(g)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(n,Z,S){var y=n("../internals/an-object"),m=n("../internals/get-iterator-method");Z.exports=function(f){var g=m(f);if(typeof g!="function")throw TypeError(String(f)+" is not iterable");return y(g.call(f))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(n,Z,S){(function(y){function m(f){return f&&f.Math==Math&&f}Z.exports=m(typeof globalThis=="object"&&globalThis)||m(typeof window=="object"&&window)||m(typeof self=="object"&&self)||m(typeof y=="object"&&y)||Function("return this")()}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(n,Z,S){var y={}.hasOwnProperty;Z.exports=function(m,f){return y.call(m,f)}},{}],61:[function(n,Z,S){Z.exports={}},{}],62:[function(n,Z,S){var y=n("../internals/global");Z.exports=function(m,f){var g=y.console;g&&g.error&&(arguments.length===1?g.error(m):g.error(m,f))}},{"../internals/global":59}],63:[function(n,Z,S){n=n("../internals/get-built-in"),Z.exports=n("document","documentElement")},{"../internals/get-built-in":56}],64:[function(n,Z,S){var y=n("../internals/descriptors"),m=n("../internals/fails"),f=n("../internals/document-create-element");Z.exports=!y&&!m(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(n,Z,S){var y=Math.abs,m=Math.pow,f=Math.floor,g=Math.log,d=Math.LN2;Z.exports={pack:function(u,i,s){var t,a,l,o=new Array(s),c=8*s-i-1,s=(1<<c)-1,p=s>>1,v=i===23?m(2,-24)-m(2,-77):0,b=u<0||u===0&&1/u<0?1:0,x=0;for((u=y(u))!=u||u===1/0?(a=u!=u?1:0,t=s):(t=f(g(u)/d),u*(l=m(2,-t))<1&&(t--,l*=2),2<=(u+=1<=t+p?v/l:v*m(2,1-p))*l&&(t++,l/=2),s<=t+p?(a=0,t=s):1<=t+p?(a=(u*l-1)*m(2,i),t+=p):(a=u*m(2,p-1)*m(2,i),t=0));8<=i;o[x++]=255&a,a/=256,i-=8);for(t=t<<i|a,c+=i;0<c;o[x++]=255&t,t/=256,c-=8);return o[--x]|=128*b,o},unpack:function(u,i){var r,t=u.length,s=8*t-i-1,a=(1<<s)-1,l=a>>1,o=s-7,c=t-1,s=u[c--],p=127&s;for(s>>=7;0<o;p=256*p+u[c],c--,o-=8);for(r=p&(1<<-o)-1,p>>=-o,o+=i;0<o;r=256*r+u[c],c--,o-=8);if(p===0)p=1-l;else{if(p===a)return r?NaN:s?-1/0:1/0;r+=m(2,i),p-=l}return(s?-1:1)*r*m(2,p-i)}}},{}],66:[function(n,Z,S){var y=n("../internals/fails"),m=n("../internals/classof-raw"),f="".split;Z.exports=y(function(){return!Object("z").propertyIsEnumerable(0)})?function(g){return m(g)=="String"?f.call(g,""):Object(g)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(n,Z,S){var y=n("../internals/is-object"),m=n("../internals/object-set-prototype-of");Z.exports=function(f,g,d){return m&&typeof(g=g.constructor)=="function"&&g!==d&&y(g=g.prototype)&&g!==d.prototype&&m(f,g),f}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(y,Z,S){var y=y("../internals/shared-store"),m=Function.toString;typeof y.inspectSource!="function"&&(y.inspectSource=function(f){return m.call(f)}),Z.exports=y.inspectSource},{"../internals/shared-store":119}],69:[function(n,Z,S){function y(o){d(o,r,{value:{objectID:"O"+ ++t,weakData:{}}})}var m=n("../internals/hidden-keys"),f=n("../internals/is-object"),g=n("../internals/has"),d=n("../internals/object-define-property").f,u=n("../internals/uid"),i=n("../internals/freezing"),r=u("meta"),t=0,a=Object.isExtensible||function(){return!0},l=Z.exports={REQUIRED:!1,fastKey:function(o,c){if(!f(o))return typeof o=="symbol"?o:(typeof o=="string"?"S":"P")+o;if(!g(o,r)){if(!a(o))return"F";if(!c)return"E";y(o)}return o[r].objectID},getWeakData:function(o,c){if(!g(o,r)){if(!a(o))return!0;if(!c)return!1;y(o)}return o[r].weakData},onFreeze:function(o){return i&&l.REQUIRED&&a(o)&&!g(o,r)&&y(o),o}};m[r]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(s,Z,S){var y,m,f,g,d,u,i,r,t=s("../internals/native-weak-map"),p=s("../internals/global"),a=s("../internals/is-object"),l=s("../internals/create-non-enumerable-property"),o=s("../internals/has"),c=s("../internals/shared-key"),s=s("../internals/hidden-keys"),p=p.WeakMap;i=t?(y=new p,m=y.get,f=y.has,g=y.set,d=function(v,b){return g.call(y,v,b),b},u=function(v){return m.call(y,v)||{}},function(v){return f.call(y,v)}):(s[r=c("state")]=!0,d=function(v,b){return l(v,r,b),b},u=function(v){return o(v,r)?v[r]:{}},function(v){return o(v,r)}),Z.exports={set:d,get:u,has:i,enforce:function(v){return i(v)?u(v):d(v,{})},getterFor:function(v){return function(b){if(a(b)&&(b=u(b)).type===v)return b;throw TypeError("Incompatible receiver, "+v+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(n,Z,S){var y=n("../internals/well-known-symbol"),m=n("../internals/iterators"),f=y("iterator"),g=Array.prototype;Z.exports=function(d){return d!==void 0&&(m.Array===d||g[f]===d)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(n,Z,S){var y=n("../internals/classof-raw");Z.exports=Array.isArray||function(m){return y(m)=="Array"}},{"../internals/classof-raw":28}],73:[function(n,Z,S){function y(r,t){return(r=d[g(r)])==i||r!=u&&(typeof t=="function"?m(t):!!t)}var m=n("../internals/fails"),f=/#|\.prototype\./,g=y.normalize=function(r){return String(r).replace(f,".").toLowerCase()},d=y.data={},u=y.NATIVE="N",i=y.POLYFILL="P";Z.exports=y},{"../internals/fails":51}],74:[function(n,Z,S){Z.exports=function(y){return typeof y=="object"?y!==null:typeof y=="function"}},{}],75:[function(n,Z,S){Z.exports=!1},{}],76:[function(n,Z,S){var y=n("../internals/is-object"),m=n("../internals/classof-raw"),f=n("../internals/well-known-symbol")("match");Z.exports=function(g){var d;return y(g)&&((d=g[f])!==void 0?!!d:m(g)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(n,Z,S){function y(r,t){this.stopped=r,this.result=t}var m=n("../internals/an-object"),f=n("../internals/is-array-iterator-method"),g=n("../internals/to-length"),d=n("../internals/function-bind-context"),u=n("../internals/get-iterator-method"),i=n("../internals/call-with-safe-iteration-closing");(Z.exports=function(r,t,a,l,o){var c,s,p,v,b,x,w=d(t,a,l?2:1);if(o)c=r;else{if(typeof(t=u(r))!="function")throw TypeError("Target is not iterable");if(f(t)){for(s=0,p=g(r.length);s<p;s++)if((v=l?w(m(x=r[s])[0],x[1]):w(r[s]))&&v instanceof y)return v;return new y(!1)}c=t.call(r)}for(b=c.next;!(x=b.call(c)).done;)if(typeof(v=i(c,w,x.value,l))=="object"&&v&&v instanceof y)return v;return new y(!1)}).stop=function(r){return new y(!0,r)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(u,Z,S){var y,m,f=u("../internals/object-get-prototype-of"),g=u("../internals/create-non-enumerable-property"),d=u("../internals/has"),i=u("../internals/well-known-symbol"),u=u("../internals/is-pure"),i=i("iterator"),r=!1;[].keys&&("next"in(m=[].keys())?(f=f(f(m)))!==Object.prototype&&(y=f):r=!0),y==null&&(y={}),u||d(y,i)||g(y,i,function(){return this}),Z.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:r}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(n,Z,S){Z.exports={}},{}],80:[function(n,Z,S){Z.exports=Math.sign||function(y){return(y=+y)==0||y!=y?y:y<0?-1:1}},{}],81:[function(l,Z,S){var y,m,f,g,d,u,i,r,t=l("../internals/global"),b=l("../internals/object-get-own-property-descriptor").f,v=l("../internals/classof-raw"),a=l("../internals/task").set,l=l("../internals/engine-is-ios"),o=t.MutationObserver||t.WebKitMutationObserver,c=t.process,s=t.Promise,p=v(c)=="process",v=b(t,"queueMicrotask"),b=v&&v.value;b||(y=function(){var x,w;for(p&&(x=c.domain)&&x.exit();m;){w=m.fn,m=m.next;try{w()}catch(j){throw m?g():f=void 0,j}}f=void 0,x&&x.enter()},g=p?function(){c.nextTick(y)}:o&&!l?(d=!0,u=document.createTextNode(""),new o(y).observe(u,{characterData:!0}),function(){u.data=d=!d}):s&&s.resolve?(i=s.resolve(void 0),r=i.then,function(){r.call(i,y)}):function(){a.call(t,y)}),Z.exports=b||function(x){x={fn:x,next:void 0},f&&(f.next=x),m||(m=x,g()),f=x}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(n,Z,S){n=n("../internals/global"),Z.exports=n.Promise},{"../internals/global":59}],83:[function(n,Z,S){n=n("../internals/fails"),Z.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(n,Z,S){var y=n("../internals/fails"),m=n("../internals/well-known-symbol"),f=n("../internals/is-pure"),g=m("iterator");Z.exports=!y(function(){var d=new URL("b?a=1&b=2&c=3","http://a"),u=d.searchParams,i="";return d.pathname="c%20d",u.forEach(function(r,t){u.delete("b"),i+=t+r}),f&&!d.toJSON||!u.sort||d.href!=="http://a/c%20d?a=1&c=3"||u.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!u[g]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||i!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(y,Z,S){var m=y("../internals/global"),y=y("../internals/inspect-source"),m=m.WeakMap;Z.exports=typeof m=="function"&&/native code/.test(y(m))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(n,Z,S){function y(f){var g,d;this.promise=new f(function(u,i){if(g!==void 0||d!==void 0)throw TypeError("Bad Promise constructor");g=u,d=i}),this.resolve=m(g),this.reject=m(d)}var m=n("../internals/a-function");Z.exports.f=function(f){return new y(f)}},{"../internals/a-function":5}],87:[function(n,Z,S){var y=n("../internals/is-regexp");Z.exports=function(m){if(y(m))throw TypeError("The method doesn't accept regular expressions");return m}},{"../internals/is-regexp":76}],88:[function(n,Z,S){var y=n("../internals/global").isFinite;Z.exports=Number.isFinite||function(m){return typeof m=="number"&&y(m)}},{"../internals/global":59}],89:[function(n,Z,S){var y=n("../internals/descriptors"),m=n("../internals/fails"),f=n("../internals/object-keys"),g=n("../internals/object-get-own-property-symbols"),d=n("../internals/object-property-is-enumerable"),u=n("../internals/to-object"),i=n("../internals/indexed-object"),r=Object.assign,t=Object.defineProperty;Z.exports=!r||m(function(){var a,l,o,c;return!(!y||r({b:1},r(t({},"a",{enumerable:!0,get:function(){t(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(l={},c="abcdefghijklmnopqrst",(a={})[o=Symbol()]=7,c.split("").forEach(function(s){l[s]=s}),r({},a)[o]!=7||f(r({},l)).join("")!=c)})?function(a,l){for(var o=u(a),c=arguments.length,s=1,p=g.f,v=d.f;s<c;)for(var b,x=i(arguments[s++]),w=p?f(x).concat(p(x)):f(x),j=w.length,E=0;E<j;)b=w[E++],y&&!v.call(x,b)||(o[b]=x[b]);return o}:r},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(t,Z,S){function y(){}var m,f=t("../internals/an-object"),g=t("../internals/object-define-properties"),d=t("../internals/enum-bug-keys"),u=t("../internals/hidden-keys"),i=t("../internals/html"),r=t("../internals/document-create-element"),t=t("../internals/shared-key"),a="prototype",l="script",o=t("IE_PROTO"),c=function(p){return"<"+l+">"+p+"</"+l+">"},s=function(){try{m=document.domain&&new ActiveXObject("htmlfile")}catch{}s=m?((p=m).write(c("")),p.close(),v=p.parentWindow.Object,p=null,v):(p=r("iframe"),v="java"+l+":",p.style.display="none",i.appendChild(p),p.src=String(v),(v=p.contentWindow.document).open(),v.write(c("document.F=Object")),v.close(),v.F);for(var p,v,b=d.length;b--;)delete s[a][d[b]];return s()};u[o]=!0,Z.exports=Object.create||function(p,v){var b;return p!==null?(y[a]=f(p),b=new y,y[a]=null,b[o]=p):b=s(),v===void 0?b:g(b,v)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(n,Z,S){var y=n("../internals/descriptors"),m=n("../internals/object-define-property"),f=n("../internals/an-object"),g=n("../internals/object-keys");Z.exports=y?Object.defineProperties:function(d,u){f(d);for(var i,r=g(u),t=r.length,a=0;a<t;)m.f(d,i=r[a++],u[i]);return d}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(n,Z,S){var y=n("../internals/descriptors"),m=n("../internals/ie8-dom-define"),f=n("../internals/an-object"),g=n("../internals/to-primitive"),d=Object.defineProperty;S.f=y?d:function(u,i,r){if(f(u),i=g(i,!0),f(r),m)try{return d(u,i,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(u[i]=r.value),u}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(n,Z,S){var y=n("../internals/descriptors"),m=n("../internals/object-property-is-enumerable"),f=n("../internals/create-property-descriptor"),g=n("../internals/to-indexed-object"),d=n("../internals/to-primitive"),u=n("../internals/has"),i=n("../internals/ie8-dom-define"),r=Object.getOwnPropertyDescriptor;S.f=y?r:function(t,a){if(t=g(t),a=d(a,!0),i)try{return r(t,a)}catch{}if(u(t,a))return f(!m.f.call(t,a),t[a])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(n,Z,S){var y=n("../internals/to-indexed-object"),m=n("../internals/object-get-own-property-names").f,f={}.toString,g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Z.exports.f=function(d){if(!g||f.call(d)!="[object Window]")return m(y(d));try{return m(d)}catch{return g.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(n,Z,S){var y=n("../internals/object-keys-internal"),m=n("../internals/enum-bug-keys").concat("length","prototype");S.f=Object.getOwnPropertyNames||function(f){return y(f,m)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(n,Z,S){S.f=Object.getOwnPropertySymbols},{}],97:[function(g,Z,S){var y=g("../internals/has"),m=g("../internals/to-object"),f=g("../internals/shared-key"),g=g("../internals/correct-prototype-getter"),d=f("IE_PROTO"),u=Object.prototype;Z.exports=g?Object.getPrototypeOf:function(i){return i=m(i),y(i,d)?i[d]:typeof i.constructor=="function"&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?u:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(n,Z,S){var y=n("../internals/has"),m=n("../internals/to-indexed-object"),f=n("../internals/array-includes").indexOf,g=n("../internals/hidden-keys");Z.exports=function(d,u){var i,r=m(d),t=0,a=[];for(i in r)!y(g,i)&&y(r,i)&&a.push(i);for(;u.length>t;)!y(r,i=u[t++])||~f(a,i)||a.push(i);return a}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(n,Z,S){var y=n("../internals/object-keys-internal"),m=n("../internals/enum-bug-keys");Z.exports=Object.keys||function(f){return y(f,m)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(n,Z,S){var y={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,f=m&&!y.call({1:2},1);S.f=f?function(g){return g=m(this,g),!!g&&g.enumerable}:y},{}],101:[function(n,Z,S){var y=n("../internals/an-object"),m=n("../internals/a-possible-prototype");Z.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,g=!1,d={};try{(f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(d,[]),g=d instanceof Array}catch{}return function(u,i){return y(u),m(i),g?f.call(u,i):u.__proto__=i,u}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(n,Z,S){var y=n("../internals/to-string-tag-support"),m=n("../internals/classof");Z.exports=y?{}.toString:function(){return"[object "+m(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(n,Z,S){var y=n("../internals/get-built-in"),m=n("../internals/object-get-own-property-names"),f=n("../internals/object-get-own-property-symbols"),g=n("../internals/an-object");Z.exports=y("Reflect","ownKeys")||function(d){var u=m.f(g(d)),i=f.f;return i?u.concat(i(d)):u}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(n,Z,S){n=n("../internals/global"),Z.exports=n},{"../internals/global":59}],105:[function(n,Z,S){Z.exports=function(y){try{return{error:!1,value:y()}}catch(m){return{error:!0,value:m}}}},{}],106:[function(n,Z,S){var y=n("../internals/an-object"),m=n("../internals/is-object"),f=n("../internals/new-promise-capability");Z.exports=function(g,d){return y(g),m(d)&&d.constructor===g?d:((0,(g=f.f(g)).resolve)(d),g.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(n,Z,S){var y=n("../internals/redefine");Z.exports=function(m,f,g){for(var d in f)y(m,d,f[d],g);return m}},{"../internals/redefine":108}],108:[function(u,Z,S){var y=u("../internals/global"),m=u("../internals/create-non-enumerable-property"),f=u("../internals/has"),g=u("../internals/set-global"),d=u("../internals/inspect-source"),u=u("../internals/internal-state"),i=u.get,r=u.enforce,t=String(String).split("String");(Z.exports=function(a,l,o,v){var s=!!v&&!!v.unsafe,p=!!v&&!!v.enumerable,v=!!v&&!!v.noTargetGet;typeof o=="function"&&(typeof l!="string"||f(o,"name")||m(o,"name",l),r(o).source=t.join(typeof l=="string"?l:"")),a===y?p?a[l]=o:g(l,o):(s?!v&&a[l]&&(p=!0):delete a[l],p?a[l]=o:m(a,l,o))})(Function.prototype,"toString",function(){return typeof this=="function"&&i(this).source||d(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(n,Z,S){var y=n("./classof-raw"),m=n("./regexp-exec");Z.exports=function(f,g){var d=f.exec;if(typeof d=="function"){if(d=d.call(f,g),typeof d!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return d}if(y(f)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return m.call(f,g)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(g,Z,S){var y,m,f=g("./regexp-flags"),g=g("./regexp-sticky-helpers"),d=RegExp.prototype.exec,u=String.prototype.replace,i=d,r=(y=/a/,m=/b*/g,d.call(y,"a"),d.call(m,"a"),y.lastIndex!==0||m.lastIndex!==0),t=g.UNSUPPORTED_Y||g.BROKEN_CARET,a=/()??/.exec("")[1]!==void 0;Z.exports=i=r||a||t?function(l){var o,c,s,p,v=this,b=t&&v.sticky,x=f.call(v),w=v.source,j=0,E=l;return b&&((x=x.replace("y","")).indexOf("g")===-1&&(x+="g"),E=String(l).slice(v.lastIndex),0<v.lastIndex&&(!v.multiline||v.multiline&&l[v.lastIndex-1]!==`
`)&&(w="(?: "+w+")",E=" "+E,j++),c=new RegExp("^(?:"+w+")",x)),a&&(c=new RegExp("^"+w+"$(?!\\s)",x)),r&&(o=v.lastIndex),s=d.call(b?c:v,E),b?s?(s.input=s.input.slice(j),s[0]=s[0].slice(j),s.index=v.lastIndex,v.lastIndex+=s[0].length):v.lastIndex=0:r&&s&&(v.lastIndex=v.global?s.index+s[0].length:o),a&&s&&1<s.length&&u.call(s[0],c,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(s[p]=void 0)}),s}:i},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(n,Z,S){var y=n("../internals/an-object");Z.exports=function(){var m=y(this),f="";return m.global&&(f+="g"),m.ignoreCase&&(f+="i"),m.multiline&&(f+="m"),m.dotAll&&(f+="s"),m.unicode&&(f+="u"),m.sticky&&(f+="y"),f}},{"../internals/an-object":10}],112:[function(n,Z,S){n=n("./fails");function y(m,f){return RegExp(m,f)}S.UNSUPPORTED_Y=n(function(){var m=y("a","y");return m.lastIndex=2,m.exec("abcd")!=null}),S.BROKEN_CARET=n(function(){var m=y("^r","gy");return m.lastIndex=2,m.exec("str")!=null})},{"./fails":51}],113:[function(n,Z,S){Z.exports=function(y){if(y==null)throw TypeError("Can't call method on "+y);return y}},{}],114:[function(n,Z,S){Z.exports=Object.is||function(y,m){return y===m?y!==0||1/y==1/m:y!=y&&m!=m}},{}],115:[function(n,Z,S){var y=n("../internals/global"),m=n("../internals/create-non-enumerable-property");Z.exports=function(f,g){try{m(y,f,g)}catch{y[f]=g}return g}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(n,Z,S){var y=n("../internals/get-built-in"),m=n("../internals/object-define-property"),f=n("../internals/well-known-symbol"),g=n("../internals/descriptors"),d=f("species");Z.exports=function(i){var i=y(i),r=m.f;g&&i&&!i[d]&&r(i,d,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(n,Z,S){var y=n("../internals/object-define-property").f,m=n("../internals/has"),f=n("../internals/well-known-symbol")("toStringTag");Z.exports=function(g,d,u){g&&!m(g=u?g:g.prototype,f)&&y(g,f,{configurable:!0,value:d})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(n,Z,S){var y=n("../internals/shared"),m=n("../internals/uid"),f=y("keys");Z.exports=function(g){return f[g]||(f[g]=m(g))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(y,Z,S){var f=y("../internals/global"),y=y("../internals/set-global"),m="__core-js_shared__",f=f[m]||y(m,{});Z.exports=f},{"../internals/global":59,"../internals/set-global":115}],120:[function(n,Z,S){var y=n("../internals/is-pure"),m=n("../internals/shared-store");(Z.exports=function(f,g){return m[f]||(m[f]=g!==void 0?g:{})})("versions",[]).push({version:"3.6.5",mode:y?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(n,Z,S){var y=n("../internals/an-object"),m=n("../internals/a-function"),f=n("../internals/well-known-symbol")("species");Z.exports=function(u,d){var u=y(u).constructor;return u===void 0||(u=y(u)[f])==null?d:m(u)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(n,Z,S){var y=n("../internals/fails");Z.exports=function(m){return y(function(){var f=""[m]('"');return f!==f.toLowerCase()||3<f.split('"').length})}},{"../internals/fails":51}],123:[function(n,Z,S){function y(g){return function(r,t){var i,r=String(f(r)),t=m(t),a=r.length;return t<0||a<=t?g?"":void 0:(i=r.charCodeAt(t))<55296||56319<i||t+1===a||(a=r.charCodeAt(t+1))<56320||57343<a?g?r.charAt(t):i:g?r.slice(t,t+2):a-56320+(i-55296<<10)+65536}}var m=n("../internals/to-integer"),f=n("../internals/require-object-coercible");Z.exports={codeAt:y(!1),charAt:y(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(n,Z,S){n=n("../internals/engine-user-agent"),Z.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},{"../internals/engine-user-agent":47}],125:[function(n,Z,S){function y(u){return function(a,c,o){var a=String(g(a)),l=a.length,o=o===void 0?" ":String(o),c=m(c);return c<=l||o==""?a:((l=f.call(o,d((c=c-l)/o.length))).length>c&&(l=l.slice(0,c)),u?a+l:l+a)}}var m=n("../internals/to-length"),f=n("../internals/string-repeat"),g=n("../internals/require-object-coercible"),d=Math.ceil;Z.exports={start:y(!1),end:y(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(n,Z,S){function y(s){return s+22+75*(s<26)}function m(s){var p,v=[],b=(s=function(ee){for(var fe=[],xe=0,q=ee.length;xe<q;){var V,K=ee.charCodeAt(xe++);55296<=K&&K<=56319&&xe<q?(64512&(V=ee.charCodeAt(xe++)))==56320?fe.push(((1023&K)<<10)+(1023&V)+65536):(fe.push(K),xe--):fe.push(K)}return fe}(s)).length,x=128,w=0,j=72;for(P=0;P<s.length;P++)(p=s[P])<128&&v.push(c(p));var E=v.length,M=E;for(E&&v.push("-");M<b;){for(var C=f,P=0;P<s.length;P++)x<=(p=s[P])&&p<C&&(C=p);var O=M+1;if(C-x>o((f-w)/O))throw RangeError(a);for(w+=(C-x)*O,x=C,P=0;P<s.length;P++){if((p=s[P])<x&&++w>f)throw RangeError(a);if(p==x){for(var D=w,N=g;;N+=g){var R=N<=j?1:j+d<=N?d:N-j;if(D<R)break;var I=D-R,H=g-R;v.push(c(y(R+I%H))),D=o(I/H)}v.push(c(y(D))),j=function(ee,fe,xe){var q=0;for(ee=xe?o(ee/i):ee>>1,ee+=o(ee/fe);l*d>>1<ee;q+=g)ee=o(ee/l);return o(q+(l+1)*ee/(ee+u))}(w,O,M==E),w=0,++M}}++w,++x}return v.join("")}var f=2147483647,g=36,d=26,u=38,i=700,r=/[^\0-\u007E]/,t=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",l=g-1,o=Math.floor,c=String.fromCharCode;Z.exports=function(s){for(var p,v=[],b=s.toLowerCase().replace(t,".").split("."),x=0;x<b.length;x++)p=b[x],v.push(r.test(p)?"xn--"+m(p):p);return v.join(".")}},{}],127:[function(n,Z,S){var y=n("../internals/to-integer"),m=n("../internals/require-object-coercible");Z.exports="".repeat||function(f){var g=String(m(this)),d="",u=y(f);if(u<0||u==1/0)throw RangeError("Wrong number of repetitions");for(;0<u;(u>>>=1)&&(g+=g))1&u&&(d+=g);return d}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(n,Z,S){var y=n("../internals/fails"),m=n("../internals/whitespaces");Z.exports=function(f){return y(function(){return!!m[f]()||"​᠎"[f]()!="​᠎"||m[f].name!==f})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(f,Z,S){function y(u){return function(i){return i=String(m(i)),1&u&&(i=i.replace(g,"")),i=2&u?i.replace(d,""):i}}var m=f("../internals/require-object-coercible"),f="["+f("../internals/whitespaces")+"]",g=RegExp("^"+f+f+"*"),d=RegExp(f+f+"*$");Z.exports={start:y(1),end:y(2),trim:y(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(l,Z,S){function y(M){return function(){E(M)}}function m(M){E(M.data)}function f(M){d.postMessage(M+"",o.protocol+"//"+o.host)}var g,d=l("../internals/global"),u=l("../internals/fails"),i=l("../internals/classof-raw"),r=l("../internals/function-bind-context"),t=l("../internals/html"),a=l("../internals/document-create-element"),l=l("../internals/engine-is-ios"),o=d.location,c=d.setImmediate,s=d.clearImmediate,p=d.process,v=d.MessageChannel,b=d.Dispatch,x=0,w={},j="onreadystatechange",E=function(M){var C;w.hasOwnProperty(M)&&(C=w[M],delete w[M],C())};c&&s||(c=function(M){for(var C=[],P=1;P<arguments.length;)C.push(arguments[P++]);return w[++x]=function(){(typeof M=="function"?M:Function(M)).apply(void 0,C)},g(x),x},s=function(M){delete w[M]},i(p)=="process"?g=function(M){p.nextTick(y(M))}:b&&b.now?g=function(M){b.now(y(M))}:v&&!l?(l=(i=new v).port2,i.port1.onmessage=m,g=r(l.postMessage,l,1)):!d.addEventListener||typeof postMessage!="function"||d.importScripts||u(f)||o.protocol==="file:"?g=j in a("script")?function(M){t.appendChild(a("script"))[j]=function(){t.removeChild(this),E(M)}}:function(M){setTimeout(y(M),0)}:(g=f,d.addEventListener("message",m,!1))),Z.exports={set:c,clear:s}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(n,Z,S){var y=n("../internals/classof-raw");Z.exports=function(m){if(typeof m!="number"&&y(m)!="Number")throw TypeError("Incorrect invocation");return+m}},{"../internals/classof-raw":28}],132:[function(n,Z,S){var y=n("../internals/to-integer"),m=Math.max,f=Math.min;Z.exports=function(g,d){return g=y(g),g<0?m(g+d,0):f(g,d)}},{"../internals/to-integer":135}],133:[function(n,Z,S){var y=n("../internals/to-integer"),m=n("../internals/to-length");Z.exports=function(g){if(g===void 0)return 0;var g=y(g),d=m(g);if(g!==d)throw RangeError("Wrong length or index");return d}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(n,Z,S){var y=n("../internals/indexed-object"),m=n("../internals/require-object-coercible");Z.exports=function(f){return y(m(f))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(n,Z,S){var y=Math.ceil,m=Math.floor;Z.exports=function(f){return isNaN(f=+f)?0:(0<f?m:y)(f)}},{}],136:[function(n,Z,S){var y=n("../internals/to-integer"),m=Math.min;Z.exports=function(f){return 0<f?m(y(f),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(n,Z,S){var y=n("../internals/require-object-coercible");Z.exports=function(m){return Object(y(m))}},{"../internals/require-object-coercible":113}],138:[function(n,Z,S){var y=n("../internals/to-positive-integer");Z.exports=function(m,f){if(m=y(m),m%f)throw RangeError("Wrong offset");return m}},{"../internals/to-positive-integer":139}],139:[function(n,Z,S){var y=n("../internals/to-integer");Z.exports=function(m){if(m=y(m),m<0)throw RangeError("The argument can't be less than 0");return m}},{"../internals/to-integer":135}],140:[function(n,Z,S){var y=n("../internals/is-object");Z.exports=function(m,f){if(!y(m))return m;var g,d;if(f&&typeof(g=m.toString)=="function"&&!y(d=g.call(m))||typeof(g=m.valueOf)=="function"&&!y(d=g.call(m))||!f&&typeof(g=m.toString)=="function"&&!y(d=g.call(m)))return d;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(n,Z,S){var y={};y[n("../internals/well-known-symbol")("toStringTag")]="z",Z.exports=String(y)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(n,Z,S){function y(de,ae){for(var ne=0,Me=ae.length,pe=new(ve(de))(Me);ne<Me;)pe[ne]=ae[ne++];return pe}function m(de,ae){V(de,ae,{get:function(){return xe(this)[ae]}})}function f(de){return de instanceof _e||(de=E(de))=="ArrayBuffer"||de=="SharedArrayBuffer"}function g(de,ae){return ge(de)&&typeof ae!="symbol"&&ae in de&&String(+ae)==String(ae)}function d(de,ae){return g(de,ae=w(ae,!0))?s(2,de[ae]):K(de,ae)}function u(de,ae,ne){return!(g(de,ae=w(ae,!0))&&M(ne)&&j(ne,"value"))||j(ne,"get")||j(ne,"set")||ne.configurable||j(ne,"writable")&&!ne.writable||j(ne,"enumerable")&&!ne.enumerable?V(de,ae,ne):(de[ae]=ne.value,de)}var i=n("../internals/export"),r=n("../internals/global"),t=n("../internals/descriptors"),a=n("../internals/typed-array-constructors-require-wrappers"),l=n("../internals/array-buffer-view-core"),o=n("../internals/array-buffer"),c=n("../internals/an-instance"),s=n("../internals/create-property-descriptor"),p=n("../internals/create-non-enumerable-property"),v=n("../internals/to-length"),b=n("../internals/to-index"),x=n("../internals/to-offset"),w=n("../internals/to-primitive"),j=n("../internals/has"),E=n("../internals/classof"),M=n("../internals/is-object"),C=n("../internals/object-create"),P=n("../internals/object-set-prototype-of"),O=n("../internals/object-get-own-property-names").f,D=n("../internals/typed-array-from"),N=n("../internals/array-iteration").forEach,R=n("../internals/set-species"),I=n("../internals/object-define-property"),H=n("../internals/object-get-own-property-descriptor"),ee=n("../internals/internal-state"),fe=n("../internals/inherit-if-required"),xe=ee.get,q=ee.set,V=I.f,K=H.f,J=Math.round,oe=r.RangeError,_e=o.ArrayBuffer,Oe=o.DataView,De=l.NATIVE_ARRAY_BUFFER_VIEWS,Te=l.TYPED_ARRAY_TAG,Be=l.TypedArray,Re=l.TypedArrayPrototype,ve=l.aTypedArrayConstructor,ge=l.isTypedArray,Ae="BYTES_PER_ELEMENT",Ie="Wrong length";t?(De||(H.f=d,I.f=u,m(Re,"buffer"),m(Re,"byteOffset"),m(Re,"byteLength"),m(Re,"length")),i({target:"Object",stat:!0,forced:!De},{getOwnPropertyDescriptor:d,defineProperty:u}),Z.exports=function(T,ae,ne){function Me(G,B){V(G,B,{get:function(){var W=this,F=B;return(W=xe(W)).view[re](F*pe+W.byteOffset,!0)},set:function(W){var F=this,Y=B;F=xe(F),ne&&(W=(W=J(W))<0?0:255<W?255:255&W),F.view[Le](Y*pe+F.byteOffset,W,!0)},enumerable:!0})}var pe=T.match(/\d+$/)[0]/8,le=T+(ne?"Clamped":"")+"Array",re="get"+T,Le="set"+T,h=r[le],_=h,T=_&&_.prototype,L={};De?a&&(_=ae(function(G,B,W,F){return c(G,_,le),fe(M(B)?f(B)?F!==void 0?new h(B,x(W,pe),F):W!==void 0?new h(B,x(W,pe)):new h(B):ge(B)?y(_,B):D.call(_,B):new h(b(B)),G,_)}),P&&P(_,Be),N(O(h),function(G){G in _||p(_,G,h[G])}),_.prototype=T):(_=ae(function(G,B,W,F){c(G,_,le);var Y,ie,he=0,U=0;if(M(B)){if(!f(B))return ge(B)?y(_,B):D.call(_,B);var se=B,U=x(W,pe),W=B.byteLength;if(F===void 0){if(W%pe||(Y=W-U)<0)throw oe(Ie)}else if(W<(Y=v(F)*pe)+U)throw oe(Ie);ie=Y/pe}else ie=b(B),se=new _e(Y=ie*pe);for(q(G,{buffer:se,byteOffset:U,byteLength:Y,length:ie,view:new Oe(se)});he<ie;)Me(G,he++)}),P&&P(_,Be),T=_.prototype=C(Re)),T.constructor!==_&&p(T,"constructor",_),Te&&p(T,Te,le),L[le]=_,i({global:!0,forced:_!=h,sham:!De},L),Ae in _||p(_,Ae,pe),Ae in T||p(T,Ae,pe),R(le)}):Z.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(g,Z,S){var y=g("../internals/global"),m=g("../internals/fails"),f=g("../internals/check-correctness-of-iteration"),g=g("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,d=y.ArrayBuffer,u=y.Int8Array;Z.exports=!g||!m(function(){u(1)})||!m(function(){new u(-1)})||!f(function(i){new u,new u(null),new u(1.5),new u(i)},!0)||m(function(){return new u(new d(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(n,Z,S){var y=n("../internals/to-object"),m=n("../internals/to-length"),f=n("../internals/get-iterator-method"),g=n("../internals/is-array-iterator-method"),d=n("../internals/function-bind-context"),u=n("../internals/array-buffer-view-core").aTypedArrayConstructor;Z.exports=function(i){var r,t,a,l,o,c,s=y(i),p=arguments.length,v=1<p?arguments[1]:void 0,b=v!==void 0,x=f(s);if(x!=null&&!g(x))for(c=(o=x.call(s)).next,s=[];!(l=c.call(o)).done;)s.push(l.value);for(b&&2<p&&(v=d(v,arguments[2],2)),t=m(s.length),a=new(u(this))(t),r=0;r<t;r++)a[r]=b?v(s[r],r):s[r];return a}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(n,Z,S){var y=0,m=Math.random();Z.exports=function(f){return"Symbol("+String(f===void 0?"":f)+")_"+(++y+m).toString(36)}},{}],146:[function(n,Z,S){n=n("../internals/native-symbol"),Z.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(n,Z,S){n=n("../internals/well-known-symbol"),S.f=n},{"../internals/well-known-symbol":148}],148:[function(u,Z,S){var y=u("../internals/global"),m=u("../internals/shared"),f=u("../internals/has"),g=u("../internals/uid"),d=u("../internals/native-symbol"),u=u("../internals/use-symbol-as-uid"),i=m("wks"),r=y.Symbol,t=u?r:r&&r.withoutSetter||g;Z.exports=function(a){return f(i,a)||(d&&f(r,a)?i[a]=r[a]:i[a]=t("Symbol."+a)),i[a]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(n,Z,S){Z.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],150:[function(f,Z,S){var y=f("../internals/export"),m=f("../internals/global"),d=f("../internals/array-buffer"),f=f("../internals/set-species"),g="ArrayBuffer",d=d[g];y({global:!0,forced:m[g]!==d},{ArrayBuffer:d}),f(g)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(s,Z,S){var y=s("../internals/export"),m=s("../internals/fails"),f=s("../internals/is-array"),g=s("../internals/is-object"),d=s("../internals/to-object"),u=s("../internals/to-length"),i=s("../internals/create-property"),r=s("../internals/array-species-create"),t=s("../internals/array-method-has-species-support"),c=s("../internals/well-known-symbol"),s=s("../internals/engine-v8-version"),a=c("isConcatSpreadable"),l=9007199254740991,o="Maximum allowed index exceeded",c=51<=s||!m(function(){var p=[];return p[a]=!1,p.concat()[0]!==p}),s=t("concat");y({target:"Array",proto:!0,forced:!c||!s},{concat:function(p){for(var v,b,x,w,j,E=d(this),M=r(E,0),C=0,P=-1,O=arguments.length;P<O;P++)if(j=void 0,!g(w=x=P===-1?E:arguments[P])||((j=w[a])!==void 0?!j:!f(w))){if(l<=C)throw TypeError(o);i(M,C++,x)}else{if(b=u(x.length),l<C+b)throw TypeError(o);for(v=0;v<b;v++,C++)v in x&&i(M,C,x[v])}return M.length=C,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(f,Z,S){var y=f("../internals/export"),m=f("../internals/array-copy-within"),f=f("../internals/add-to-unscopables");y({target:"Array",proto:!0},{copyWithin:m}),f("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(g,Z,S){var y=g("../internals/export"),m=g("../internals/array-iteration").every,f=g("../internals/array-method-is-strict"),g=g("../internals/array-method-uses-to-length"),f=f("every"),g=g("every");y({target:"Array",proto:!0,forced:!f||!g},{every:function(d){return m(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(f,Z,S){var y=f("../internals/export"),m=f("../internals/array-fill"),f=f("../internals/add-to-unscopables");y({target:"Array",proto:!0},{fill:m}),f("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(g,Z,S){var y=g("../internals/export"),m=g("../internals/array-iteration").filter,f=g("../internals/array-method-has-species-support"),g=g("../internals/array-method-uses-to-length"),f=f("filter"),g=g("filter");y({target:"Array",proto:!0,forced:!f||!g},{filter:function(d){return m(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(m,Z,S){var y=m("../internals/export"),m=m("../internals/array-for-each");y({target:"Array",proto:!0,forced:[].forEach!=m},{forEach:m})},{"../internals/array-for-each":16,"../internals/export":50}],157:[function(n,Z,S){var y=n("../internals/export"),m=n("../internals/array-from");y({target:"Array",stat:!0,forced:!n("../internals/check-correctness-of-iteration")(function(f){Array.from(f)})},{from:m})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],158:[function(n,Z,S){var y=n("../internals/export"),m=n("../internals/array-includes").includes,f=n("../internals/add-to-unscopables");y({target:"Array",proto:!0,forced:!n("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(g){return m(this,g,1<arguments.length?arguments[1]:void 0)}}),f("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(u,Z,S){var y=u("../internals/export"),m=u("../internals/array-includes").indexOf,d=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),f=[].indexOf,g=!!f&&1/[1].indexOf(1,-0)<0,d=d("indexOf"),u=u("indexOf",{ACCESSORS:!0,1:0});y({target:"Array",proto:!0,forced:g||!d||!u},{indexOf:function(i){return g?f.apply(this,arguments)||0:m(this,i,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(d,Z,S){var y=d("../internals/to-indexed-object"),m=d("../internals/add-to-unscopables"),f=d("../internals/iterators"),g=d("../internals/internal-state"),d=d("../internals/define-iterator"),u="Array Iterator",i=g.set,r=g.getterFor(u);Z.exports=d(Array,"Array",function(t,a){i(this,{type:u,target:y(t),index:0,kind:a})},function(){var t=r(this),a=t.target,l=t.kind,o=t.index++;return!a||o>=a.length?{value:t.target=void 0,done:!0}:l=="keys"?{value:o,done:!1}:l=="values"?{value:a[o],done:!1}:{value:[o,a[o]],done:!1}},"values"),f.Arguments=f.Array,m("keys"),m("values"),m("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],161:[function(d,Z,S){var y=d("../internals/export"),g=d("../internals/indexed-object"),m=d("../internals/to-indexed-object"),d=d("../internals/array-method-is-strict"),f=[].join,g=g!=Object,d=d("join",",");y({target:"Array",proto:!0,forced:g||!d},{join:function(u){return f.call(m(this),u===void 0?",":u)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],162:[function(m,Z,S){var y=m("../internals/export"),m=m("../internals/array-last-index-of");y({target:"Array",proto:!0,forced:m!==[].lastIndexOf},{lastIndexOf:m})},{"../internals/array-last-index-of":20,"../internals/export":50}],163:[function(g,Z,S){var y=g("../internals/export"),m=g("../internals/array-iteration").map,f=g("../internals/array-method-has-species-support"),g=g("../internals/array-method-uses-to-length"),f=f("map"),g=g("map");y({target:"Array",proto:!0,forced:!f||!g},{map:function(d){return m(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(a,Z,S){var y=a("../internals/export"),m=a("../internals/is-object"),f=a("../internals/is-array"),g=a("../internals/to-absolute-index"),d=a("../internals/to-length"),u=a("../internals/to-indexed-object"),i=a("../internals/create-property"),r=a("../internals/well-known-symbol"),t=a("../internals/array-method-has-species-support"),a=a("../internals/array-method-uses-to-length"),t=t("slice"),a=a("slice",{ACCESSORS:!0,0:0,1:2}),l=r("species"),o=[].slice,c=Math.max;y({target:"Array",proto:!0,forced:!t||!a},{slice:function(s,p){var v,b,x,w=u(this),j=d(w.length),E=g(s,j),M=g(p===void 0?j:p,j);if(f(w)&&((v=typeof(v=w.constructor)=="function"&&(v===Array||f(v.prototype))||m(v)&&(v=v[l])===null?void 0:v)===Array||v===void 0))return o.call(w,E,M);for(b=new(v===void 0?Array:v)(c(M-E,0)),x=0;E<M;E++,x++)E in w&&i(b,x,w[E]);return b.length=x,b}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],165:[function(g,Z,S){var y=g("../internals/export"),m=g("../internals/array-iteration").some,f=g("../internals/array-method-is-strict"),g=g("../internals/array-method-uses-to-length"),f=f("some"),g=g("some");y({target:"Array",proto:!0,forced:!f||!g},{some:function(d){return m(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],166:[function(t,Z,S){var y=t("../internals/export"),m=t("../internals/to-absolute-index"),f=t("../internals/to-integer"),g=t("../internals/to-length"),d=t("../internals/to-object"),u=t("../internals/array-species-create"),i=t("../internals/create-property"),r=t("../internals/array-method-has-species-support"),t=t("../internals/array-method-uses-to-length"),r=r("splice"),t=t("splice",{ACCESSORS:!0,0:0,1:2}),a=Math.max,l=Math.min;y({target:"Array",proto:!0,forced:!r||!t},{splice:function(C,c){var s,p,v,b,x,w,j=d(this),E=g(j.length),M=m(C,E),C=arguments.length;if(C===0?s=p=0:p=C===1?(s=0,E-M):(s=C-2,l(a(f(c),0),E-M)),9007199254740991<E+s-p)throw TypeError("Maximum allowed length exceeded");for(v=u(j,p),b=0;b<p;b++)(x=M+b)in j&&i(v,b,j[x]);if(s<(v.length=p)){for(b=M;b<E-p;b++)w=b+s,(x=b+p)in j?j[w]=j[x]:delete j[w];for(b=E;E-p+s<b;b--)delete j[b-1]}else if(p<s)for(b=E-p;M<b;b--)w=b+s-1,(x=b+p-1)in j?j[w]=j[x]:delete j[w];for(b=0;b<s;b++)j[b+M]=arguments[b+2];return j.length=E-p+s,v}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],167:[function(m,Z,S){var y=m("../internals/descriptors"),m=m("../internals/object-define-property").f,f=Function.prototype,g=f.toString,d=/^\s*function ([^ (]*)/;!y||"name"in f||m(f,"name",{configurable:!0,get:function(){try{return g.call(this).match(d)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],168:[function(m,Z,S){var y=m("../internals/collection"),m=m("../internals/collection-strong");Z.exports=y("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},m)},{"../internals/collection":32,"../internals/collection-strong":30}],169:[function(y,Z,S){var y=y("../internals/export"),m=Math.hypot,f=Math.abs,g=Math.sqrt;y({target:"Math",stat:!0,forced:!!m&&m(1/0,NaN)!==1/0},{hypot:function(d,u){for(var i,r,t=0,a=0,l=arguments.length,o=0;a<l;)o<(i=f(arguments[a++]))?(t=t*(r=o/i)*r+1,o=i):t+=0<i?(r=i/o)*r:i;return o===1/0?1/0:o*g(t)}})},{"../internals/export":50}],170:[function(n,Z,S){n("../internals/export")({target:"Math",stat:!0},{sign:n("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],171:[function(n,Z,S){function y(P){var O,D,N,R,I,H,ee,fe=t(P,!1);if(typeof fe=="string"&&2<fe.length){if((P=(fe=p(fe)).charCodeAt(0))===43||P===45){if((O=fe.charCodeAt(2))===88||O===120)return NaN}else if(P===48){switch(fe.charCodeAt(1)){case 66:case 98:D=2,N=49;break;case 79:case 111:D=8,N=55;break;default:return+fe}for(I=(R=fe.slice(2)).length,H=0;H<I;H++)if((ee=R.charCodeAt(H))<48||N<ee)return NaN;return parseInt(R,D)}}return+fe}var m=n("../internals/descriptors"),f=n("../internals/global"),g=n("../internals/is-forced"),d=n("../internals/redefine"),u=n("../internals/has"),i=n("../internals/classof-raw"),r=n("../internals/inherit-if-required"),t=n("../internals/to-primitive"),a=n("../internals/fails"),l=n("../internals/object-create"),o=n("../internals/object-get-own-property-names").f,c=n("../internals/object-get-own-property-descriptor").f,s=n("../internals/object-define-property").f,p=n("../internals/string-trim").trim,v="Number",b=f[v],x=b.prototype,w=i(l(x))==v;if(g(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var j,E=function(O){var O=arguments.length<1?0:O,D=this;return D instanceof E&&(w?a(function(){x.valueOf.call(D)}):i(D)!=v)?r(new b(y(O)),D,E):y(O)},M=m?o(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;M.length>C;C++)u(b,j=M[C])&&!u(E,j)&&s(E,j,c(b,j));(E.prototype=x).constructor=E,d(f,v,E)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],172:[function(n,Z,S){n("../internals/export")({target:"Number",stat:!0},{isFinite:n("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],173:[function(u,Z,S){function y(t,a,l){return a===0?l:a%2==1?y(t,a-1,l*t):y(t*t,a/2,l)}var m=u("../internals/export"),f=u("../internals/to-integer"),g=u("../internals/this-number-value"),d=u("../internals/string-repeat"),u=u("../internals/fails"),i=1 .toFixed,r=Math.floor;m({target:"Number",proto:!0,forced:i&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!u(function(){i.call({})})},{toFixed:function(v){function a(j,E){for(var M=-1,C=E;++M<6;)C+=j*b[M],b[M]=C%1e7,C=r(C/1e7)}function l(j){for(var E=6,M=0;0<=--E;)M+=b[E],b[E]=r(M/j),M=M%j*1e7}function o(){for(var j,E=6,M="";0<=--E;)M===""&&E!==0&&b[E]===0||(j=String(b[E]),M=M===""?j:M+d.call("0",7-j.length)+j);return M}var c,s,p=g(this),v=f(v),b=[0,0,0,0,0,0],x="",w="0";if(v<0||20<v)throw RangeError("Incorrect fraction digits");if(p!=p)return"NaN";if(p<=-1e21||1e21<=p)return String(p);if(p<0&&(x="-",p=-p),1e-21<p)if(p=(c=function(j){for(var E=0,M=j;4096<=M;)E+=12,M/=4096;for(;2<=M;)E+=1,M/=2;return E}(p*y(2,69,1))-69)<0?p*y(2,-c,1):p/y(2,c,1),p*=4503599627370496,0<(c=52-c)){for(a(0,p),s=v;7<=s;)a(1e7,0),s-=7;for(a(y(10,s,1),0),s=c-1;23<=s;)l(1<<23),s-=23;l(1<<s),a(1,1),l(2),w=o()}else a(0,p),a(1<<-c,0),w=o()+d.call("0",v);return w=0<v?x+((p=w.length)<=v?"0."+d.call("0",v-p)+w:w.slice(0,p-v)+"."+w.slice(p-v)):x+w}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],174:[function(m,Z,S){var y=m("../internals/export"),m=m("../internals/object-assign");y({target:"Object",stat:!0,forced:Object.assign!==m},{assign:m})},{"../internals/export":50,"../internals/object-assign":89}],175:[function(n,Z,S){var y=n("../internals/export"),m=n("../internals/iterate"),f=n("../internals/create-property");y({target:"Object",stat:!0},{fromEntries:function(g){var d={};return m(g,function(u,i){f(d,u,i)},void 0,!0),d}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],176:[function(g,Z,S){var y=g("../internals/export"),d=g("../internals/fails"),m=g("../internals/to-indexed-object"),f=g("../internals/object-get-own-property-descriptor").f,g=g("../internals/descriptors"),d=d(function(){f(1)});y({target:"Object",stat:!0,forced:!g||d,sham:!g},{getOwnPropertyDescriptor:function(u,i){return f(m(u),i)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],177:[function(f,Z,S){var y=f("../internals/export"),m=f("../internals/fails"),f=f("../internals/object-get-own-property-names-external").f;y({target:"Object",stat:!0,forced:m(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:f})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],178:[function(d,Z,S){var y=d("../internals/export"),m=d("../internals/fails"),f=d("../internals/to-object"),g=d("../internals/object-get-prototype-of"),d=d("../internals/correct-prototype-getter");y({target:"Object",stat:!0,forced:m(function(){g(1)}),sham:!d},{getPrototypeOf:function(u){return g(f(u))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],179:[function(n,Z,S){var y=n("../internals/export"),m=n("../internals/to-object"),f=n("../internals/object-keys");y({target:"Object",stat:!0,forced:n("../internals/fails")(function(){f(1)})},{keys:function(g){return f(m(g))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],180:[function(f,Z,S){var y=f("../internals/to-string-tag-support"),m=f("../internals/redefine"),f=f("../internals/object-to-string");y||m(Object.prototype,"toString",f,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],181:[function(ne,Z,S){var y,m,f,g,d=ne("../internals/export"),u=ne("../internals/is-pure"),i=ne("../internals/global"),r=ne("../internals/get-built-in"),t=ne("../internals/native-promise-constructor"),a=ne("../internals/redefine"),l=ne("../internals/redefine-all"),o=ne("../internals/set-to-string-tag"),c=ne("../internals/set-species"),s=ne("../internals/is-object"),p=ne("../internals/a-function"),v=ne("../internals/an-instance"),b=ne("../internals/classof-raw"),x=ne("../internals/inspect-source"),w=ne("../internals/iterate"),j=ne("../internals/check-correctness-of-iteration"),E=ne("../internals/species-constructor"),M=ne("../internals/task").set,C=ne("../internals/microtask"),P=ne("../internals/promise-resolve"),O=ne("../internals/host-report-errors"),D=ne("../internals/new-promise-capability"),N=ne("../internals/perform"),R=ne("../internals/internal-state"),I=ne("../internals/is-forced"),Me=ne("../internals/well-known-symbol"),H=ne("../internals/engine-v8-version"),ee=Me("species"),fe="Promise",xe=R.get,q=R.set,V=R.getterFor(fe),K=t,J=i.TypeError,oe=i.document,_e=i.process,Oe=r("fetch"),De=D.f,Te=De,Be=b(_e)=="process",Re=!!(oe&&oe.createEvent&&i.dispatchEvent),ve="unhandledrejection",ge="rejectionhandled",Ae=1,Ie=2,de=1,ae=2,ne=I(fe,function(){var L,G;return x(K)===String(K)&&(H===66||!Be&&typeof PromiseRejectionEvent!="function")?!0:!(!u||K.prototype.finally)||!(51<=H&&/native code/.test(K))&&(G=function(B){B(function(){},function(){})},((L=K.resolve(1)).constructor={})[ee]=G,!(L.then(function(){})instanceof G))}),Me=ne||!j(function(L){K.all(L).catch(function(){})}),pe=function(L){var G;return!(!s(L)||typeof(G=L.then)!="function")&&G},le=function(L,G,B){var W;G.notified||(G.notified=!0,W=G.reactions,C(function(){for(var F,Y,ie=G.value,he=G.state==Ae,U=0;W.length>U;){var se,ue,we,ce=W[U++],Se=he?ce.ok:ce.fail,$=ce.resolve,je=ce.reject,be=ce.domain;try{Se?(he||(G.rejection===ae&&function(k,ye){M.call(i,function(){Be?_e.emit("rejectionHandled",k):re(ge,k,ye.value)})}(L,G),G.rejection=de),Se===!0?se=ie:(be&&be.enter(),se=Se(ie),be&&(be.exit(),we=!0)),se===ce.promise?je(J("Promise-chain cycle")):(ue=pe(se))?ue.call(se,$,je):$(se)):je(ie)}catch(k){be&&!we&&be.exit(),je(k)}}G.reactions=[],G.notified=!1,B&&!G.rejection&&(F=L,Y=G,M.call(i,function(){var k=Y.value,ye=Le(Y);if(ye&&(ye=N(function(){Be?_e.emit("unhandledRejection",k,F):re(ve,F,k)}),Y.rejection=Be||Le(Y)?ae:de,ye.error))throw ye.value}))}))},re=function(L,G,B){var W;Re?((W=oe.createEvent("Event")).promise=G,W.reason=B,W.initEvent(L,!1,!0),i.dispatchEvent(W)):W={promise:G,reason:B},(G=i["on"+L])?G(W):L===ve&&O("Unhandled promise rejection",B)},Le=function(L){return L.rejection!==de&&!L.parent},h=function(L,G,B,W){return function(F){L(G,B,F,W)}},_=function(L,G,B,W){G.done||(G.done=!0,(G=W||G).value=B,G.state=Ie,le(L,G,!0))},T=function(L,G,B,W){if(!G.done){G.done=!0,W&&(G=W);try{if(L===B)throw J("Promise can't be resolved itself");var F=pe(B);F?C(function(){var Y={done:!1};try{F.call(B,h(T,L,Y,G),h(_,L,Y,G))}catch(ie){_(L,Y,ie,G)}}):(G.value=B,G.state=Ae,le(L,G,!1))}catch(Y){_(L,{done:!1},Y,G)}}};ne&&(K=function(L){v(this,K,fe),p(L),y.call(this);var G=xe(this);try{L(h(T,this,G),h(_,this,G))}catch(B){_(this,G,B)}},(y=function(L){q(this,{type:fe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=l(K.prototype,{then:function(L,G){var B=V(this),W=De(E(this,K));return W.ok=typeof L!="function"||L,W.fail=typeof G=="function"&&G,W.domain=Be?_e.domain:void 0,B.parent=!0,B.reactions.push(W),B.state!=0&&le(this,B,!1),W.promise},catch:function(L){return this.then(void 0,L)}}),m=function(){var L=new y,G=xe(L);this.promise=L,this.resolve=h(T,L,G),this.reject=h(_,L,G)},D.f=De=function(L){return L===K||L===f?new m:Te(L)},u||typeof t!="function"||(g=t.prototype.then,a(t.prototype,"then",function(L,G){var B=this;return new K(function(W,F){g.call(B,W,F)}).then(L,G)},{unsafe:!0}),typeof Oe=="function"&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(L){return P(K,Oe.apply(i,arguments))}}))),d({global:!0,wrap:!0,forced:ne},{Promise:K}),o(K,fe,!1,!0),c(fe),f=r(fe),d({target:fe,stat:!0,forced:ne},{reject:function(L){var G=De(this);return G.reject.call(void 0,L),G.promise}}),d({target:fe,stat:!0,forced:u||ne},{resolve:function(L){return P(u&&this===f?K:this,L)}}),d({target:fe,stat:!0,forced:Me},{all:function(L){var G=this,B=De(G),W=B.resolve,F=B.reject,Y=N(function(){var ie=p(G.resolve),he=[],U=0,se=1;w(L,function(ue){var we=U++,ce=!1;he.push(void 0),se++,ie.call(G,ue).then(function(Se){ce||(ce=!0,he[we]=Se,--se||W(he))},F)}),--se||W(he)});return Y.error&&F(Y.value),B.promise},race:function(L){var G=this,B=De(G),W=B.reject,F=N(function(){var Y=p(G.resolve);w(L,function(ie){Y.call(G,ie).then(B.resolve,W)})});return F.error&&W(F.value),B.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],182:[function(i,Z,S){var y=i("../internals/export"),l=i("../internals/get-built-in"),m=i("../internals/a-function"),f=i("../internals/an-object"),g=i("../internals/is-object"),d=i("../internals/object-create"),u=i("../internals/function-bind"),i=i("../internals/fails"),r=l("Reflect","construct"),t=i(function(){function o(){}return!(r(function(){},[],o)instanceof o)}),a=!i(function(){r(function(){})}),l=t||a;y({target:"Reflect",stat:!0,forced:l,sham:l},{construct:function(o,c){m(o),f(c);var s=arguments.length<3?o:m(arguments[2]);if(a&&!t)return r(o,c,s);if(o==s){switch(c.length){case 0:return new o;case 1:return new o(c[0]);case 2:return new o(c[0],c[1]);case 3:return new o(c[0],c[1],c[2]);case 4:return new o(c[0],c[1],c[2],c[3])}var p=[null];return p.push.apply(p,c),new(u.apply(o,p))}return p=s.prototype,s=d(g(p)?p:Object.prototype),p=Function.apply.call(o,s,c),g(p)?p:s}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],183:[function(n,Z,S){var y=n("../internals/export"),m=n("../internals/is-object"),f=n("../internals/an-object"),g=n("../internals/has"),d=n("../internals/object-get-own-property-descriptor"),u=n("../internals/object-get-prototype-of");y({target:"Reflect",stat:!0},{get:function i(r,t){var a,l=arguments.length<3?r:arguments[2];return f(r)===l?r[t]:(a=d.f(r,t))?g(a,"value")?a.value:a.get===void 0?void 0:a.get.call(l):m(a=u(r))?i(a,t,l):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],184:[function(n,Z,S){var y=n("../internals/descriptors"),m=n("../internals/global"),f=n("../internals/is-forced"),g=n("../internals/inherit-if-required"),d=n("../internals/object-define-property").f,u=n("../internals/object-get-own-property-names").f,i=n("../internals/is-regexp"),r=n("../internals/regexp-flags"),t=n("../internals/regexp-sticky-helpers"),a=n("../internals/redefine"),l=n("../internals/fails"),o=n("../internals/internal-state").set,c=n("../internals/set-species"),s=n("../internals/well-known-symbol")("match"),p=m.RegExp,v=p.prototype,b=/a/g,x=/a/g,w=new p(b)!==b,j=t.UNSUPPORTED_Y;if(y&&f("RegExp",!w||j||l(function(){return x[s]=!1,p(b)!=b||p(x)==x||p(b,"i")!="/a/i"}))){for(var E=function(P,O){var D,N=this instanceof E,R=i(P),I=O===void 0;return!N&&R&&P.constructor===E&&I?P:(w?R&&!I&&(P=P.source):P instanceof E&&(I&&(O=r.call(P)),P=P.source),j&&(D=!!O&&-1<O.indexOf("y"))&&(O=O.replace(/y/g,"")),R=g(w?new p(P,O):p(P,O),N?this:v,E),j&&D&&o(R,{sticky:D}),R)},M=u(p),C=0;M.length>C;)(function(P){P in E||d(E,P,{configurable:!0,get:function(){return p[P]},set:function(O){p[P]=O}})})(M[C++]);(v.constructor=E).prototype=v,a(m,"RegExp",E)}c("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],185:[function(m,Z,S){var y=m("../internals/export"),m=m("../internals/regexp-exec");y({target:"RegExp",proto:!0,forced:/./.exec!==m},{exec:m})},{"../internals/export":50,"../internals/regexp-exec":110}],186:[function(g,Z,S){var y=g("../internals/redefine"),m=g("../internals/an-object"),i=g("../internals/fails"),f=g("../internals/regexp-flags"),g="toString",d=RegExp.prototype,u=d[g],i=i(function(){return u.call({source:"a",flags:"b"})!="/a/b"}),r=u.name!=g;(i||r)&&y(RegExp.prototype,g,function(){var t=m(this),a=String(t.source),l=t.flags;return"/"+a+"/"+String(l===void 0&&t instanceof RegExp&&!("flags"in d)?f.call(t):l)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],187:[function(m,Z,S){var y=m("../internals/collection"),m=m("../internals/collection-strong");Z.exports=y("Set",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},m)},{"../internals/collection":32,"../internals/collection-strong":30}],188:[function(u,Z,S){var y=u("../internals/export"),m=u("../internals/object-get-own-property-descriptor").f,f=u("../internals/to-length"),g=u("../internals/not-a-regexp"),d=u("../internals/require-object-coercible"),t=u("../internals/correct-is-regexp-logic"),u=u("../internals/is-pure"),i="".endsWith,r=Math.min,t=t("endsWith");y({target:"String",proto:!0,forced:!!(u||t||!(y=m(String.prototype,"endsWith"))||y.writable)&&!t},{endsWith:function(a){var l=String(d(this)),o=(g(a),1<arguments.length?arguments[1]:void 0),c=f(l.length),o=o===void 0?c:r(f(o),c),c=String(a);return i?i.call(l,c,o):l.slice(o-c.length,o)===c}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],189:[function(n,Z,S){var y=n("../internals/export"),m=n("../internals/not-a-regexp"),f=n("../internals/require-object-coercible");y({target:"String",proto:!0,forced:!n("../internals/correct-is-regexp-logic")("includes")},{includes:function(g){return!!~String(f(this)).indexOf(m(g),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],190:[function(f,Z,S){var y=f("../internals/string-multibyte").charAt,m=f("../internals/internal-state"),f=f("../internals/define-iterator"),g="String Iterator",d=m.set,u=m.getterFor(g);f(String,"String",function(i){d(this,{type:g,string:String(i),index:0})},function(){var i=u(this),r=i.string,t=i.index;return t>=r.length?{value:void 0,done:!0}:(r=y(r,t),i.index+=r.length,{value:r,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],191:[function(n,Z,S){var y=n("../internals/fix-regexp-well-known-symbol-logic"),m=n("../internals/an-object"),f=n("../internals/to-length"),g=n("../internals/require-object-coercible"),d=n("../internals/advance-string-index"),u=n("../internals/regexp-exec-abstract");y("match",1,function(i,r,t){return[function(a){var l=g(this),o=a==null?void 0:a[i];return o!==void 0?o.call(a,l):new RegExp(a)[i](String(l))},function(a){var l=t(r,a,this);if(l.done)return l.value;var o=m(a),c=String(this);if(!o.global)return u(o,c);for(var s=o.unicode,p=[],v=o.lastIndex=0;(b=u(o,c))!==null;){var b=String(b[0]);(p[v]=b)===""&&(o.lastIndex=d(c,f(o.lastIndex),s)),v++}return v===0?null:p}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],192:[function(n,Z,S){var y=n("../internals/export"),m=n("../internals/string-pad").start;y({target:"String",proto:!0,forced:n("../internals/string-pad-webkit-bug")},{padStart:function(f){return m(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],193:[function(n,Z,S){n("../internals/export")({target:"String",proto:!0},{repeat:n("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],194:[function(n,Z,S){var y=n("../internals/fix-regexp-well-known-symbol-logic"),m=n("../internals/an-object"),f=n("../internals/to-object"),g=n("../internals/to-length"),d=n("../internals/to-integer"),u=n("../internals/require-object-coercible"),i=n("../internals/advance-string-index"),r=n("../internals/regexp-exec-abstract"),t=Math.max,a=Math.min,l=Math.floor,o=/\$([$&'`]|\d\d?|<[^>]*>)/g,c=/\$([$&'`]|\d\d?)/g;y("replace",2,function(s,p,v,b){var x=b.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=b.REPLACE_KEEPS_$0,j=x?"$":"$0";return[function(E,M){var C=u(this),P=E==null?void 0:E[s];return P!==void 0?P.call(E,C,M):p.call(String(C),E,M)},function(E,M){if(!x&&w||typeof M=="string"&&M.indexOf(j)===-1){var C=v(p,E,this,M);if(C.done)return C.value}for(var P,O=m(E),D=String(this),N=typeof M=="function",R=(N||(M=String(M)),O.global),I=(R&&(P=O.unicode,O.lastIndex=0),[]);(q=r(O,D))!==null&&(I.push(q),R);)String(q[0])===""&&(O.lastIndex=i(D,g(O.lastIndex),P));for(var H,ee="",fe=0,xe=0;xe<I.length;xe++){for(var q=I[xe],V=String(q[0]),K=t(a(d(q.index),D.length),0),J=[],oe=1;oe<q.length;oe++)J.push((H=q[oe])===void 0?H:String(H));var _e=q.groups,Oe=N?(Oe=[V].concat(J,K,D),_e!==void 0&&Oe.push(_e),String(M.apply(void 0,Oe))):function(De,Te,Be,Re,ve,ge){var Ae=Be+De.length,Ie=Re.length,de=c;return ve!==void 0&&(ve=f(ve),de=o),p.call(ge,de,function(ae,ne){var Me;switch(ne.charAt(0)){case"$":return"$";case"&":return De;case"`":return Te.slice(0,Be);case"'":return Te.slice(Ae);case"<":Me=ve[ne.slice(1,-1)];break;default:var pe,le=+ne;if(le==0)return ae;if(Ie<le)return(pe=l(le/10))!==0&&pe<=Ie?Re[pe-1]===void 0?ne.charAt(1):Re[pe-1]+ne.charAt(1):ae;Me=Re[le-1]}return Me===void 0?"":Me})}(V,D,K,J,_e,M);fe<=K&&(ee+=D.slice(fe,K)+Oe,fe=K+V.length)}return ee+D.slice(fe)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],195:[function(n,Z,S){var y=n("../internals/fix-regexp-well-known-symbol-logic"),m=n("../internals/an-object"),f=n("../internals/require-object-coercible"),g=n("../internals/same-value"),d=n("../internals/regexp-exec-abstract");y("search",1,function(u,i,r){return[function(t){var a=f(this),l=t==null?void 0:t[u];return l!==void 0?l.call(t,a):new RegExp(t)[u](String(a))},function(t){var a,l=r(i,t,this);return l.done?l.value:(l=m(t),t=String(this),a=l.lastIndex,g(a,0)||(l.lastIndex=0),t=d(l,t),g(l.lastIndex,a)||(l.lastIndex=a),t===null?-1:t.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],196:[function(a,Z,S){var y=a("../internals/fix-regexp-well-known-symbol-logic"),m=a("../internals/is-regexp"),f=a("../internals/an-object"),g=a("../internals/require-object-coercible"),d=a("../internals/species-constructor"),u=a("../internals/advance-string-index"),i=a("../internals/to-length"),r=a("../internals/regexp-exec-abstract"),t=a("../internals/regexp-exec"),a=a("../internals/fails"),l=[].push,o=Math.min,c=4294967295,s=!a(function(){return!RegExp(c,"y")});y("split",2,function(p,v,b){var x="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(w,j){var E=String(g(this)),M=j===void 0?c:j>>>0;if(M==0)return[];if(w===void 0)return[E];if(!m(w))return v.call(E,w,M);for(var C,P,O,D=[],j=(w.ignoreCase?"i":"")+(w.multiline?"m":"")+(w.unicode?"u":"")+(w.sticky?"y":""),N=0,R=new RegExp(w.source,j+"g");(C=t.call(R,E))&&!(N<(P=R.lastIndex)&&(D.push(E.slice(N,C.index)),1<C.length&&C.index<E.length&&l.apply(D,C.slice(1)),O=C[0].length,N=P,D.length>=M));)R.lastIndex===C.index&&R.lastIndex++;return N===E.length?!O&&R.test("")||D.push(""):D.push(E.slice(N)),D.length>M?D.slice(0,M):D}:"0".split(void 0,0).length?function(w,j){return w===void 0&&j===0?[]:v.call(this,w,j)}:v;return[function(w,j){var E=g(this),M=w==null?void 0:w[p];return M!==void 0?M.call(w,E,j):x.call(String(E),w,j)},function(C,j){var E=b(x,C,this,j,x!==v);if(E.done)return E.value;var E=f(C),M=String(this),C=d(E,RegExp),P=E.unicode,O=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(s?"y":"g"),D=new C(s?E:"^(?:"+E.source+")",O),N=j===void 0?c:j>>>0;if(N==0)return[];if(M.length===0)return r(D,M)===null?[M]:[];for(var R=0,I=0,H=[];I<M.length;){D.lastIndex=s?I:0;var ee,fe=r(D,s?M:M.slice(I));if(fe===null||(ee=o(i(D.lastIndex+(s?0:I)),M.length))===R)I=u(M,I,P);else{if(H.push(M.slice(R,I)),H.length===N)return H;for(var xe=1;xe<=fe.length-1;xe++)if(H.push(fe[xe]),H.length===N)return H;I=R=ee}}return H.push(M.slice(R)),H}]},!s)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],197:[function(u,Z,S){var y=u("../internals/export"),m=u("../internals/object-get-own-property-descriptor").f,f=u("../internals/to-length"),g=u("../internals/not-a-regexp"),d=u("../internals/require-object-coercible"),t=u("../internals/correct-is-regexp-logic"),u=u("../internals/is-pure"),i="".startsWith,r=Math.min,t=t("startsWith");y({target:"String",proto:!0,forced:!!(u||t||!(y=m(String.prototype,"startsWith"))||y.writable)&&!t},{startsWith:function(c){var l=String(d(this)),o=(g(c),f(r(1<arguments.length?arguments[1]:void 0,l.length))),c=String(c);return i?i.call(l,c,o):l.slice(o,o+c.length)===c}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],198:[function(n,Z,S){var y=n("../internals/export"),m=n("../internals/create-html");y({target:"String",proto:!0,forced:n("../internals/string-html-forced")("sub")},{sub:function(){return m(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],199:[function(n,Z,S){var y=n("../internals/export"),m=n("../internals/string-trim").trim;y({target:"String",proto:!0,forced:n("../internals/string-trim-forced")("trim")},{trim:function(){return m(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],200:[function(o,Z,S){var y,m,f,g,d,u=o("../internals/export"),i=o("../internals/descriptors"),r=o("../internals/global"),t=o("../internals/has"),a=o("../internals/is-object"),l=o("../internals/object-define-property").f,o=o("../internals/copy-constructor-properties"),c=r.Symbol;!i||typeof c!="function"||"description"in c.prototype&&c().description===void 0||(y={},o(m=function(){var s=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),p=this instanceof m?new c(s):s===void 0?c():c(s);return s===""&&(y[p]=!0),p},c),(r=m.prototype=c.prototype).constructor=m,f=r.toString,g=String(c("test"))=="Symbol(test)",d=/^Symbol\((.*)\)[^)]+$/,l(r,"description",{configurable:!0,get:function(){var s=a(this)?this.valueOf():this,p=f.call(s);return t(y,s)?"":(s=g?p.slice(7,-1):p.replace(d,"$1"))===""?void 0:s}}),u({global:!0,forced:!0},{Symbol:m}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],201:[function(n,Z,S){n("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],202:[function(Te,Z,S){function y(F,Y){var ie=Me[F]=E(ge[De]);return Be(ie,{type:Oe,tag:F,description:Y}),t||(ie.description=Y),ie}function m(F,he){v(F);var ie=x(he),he=M(ie).concat(W(ie));return oe(he,function(U){t&&!B.call(ie,U)||G(F,U,ie[U])}),F}function f(he,U){var ie,he=x(he),U=w(U,!0);if(he!==ve||!c(Me,U)||c(pe,U))return!(ie=Ie(he,U))||!c(Me,U)||c(he,_e)&&he[_e][U]||(ie.enumerable=!0),ie}function g(Y){var Y=ae(x(Y)),ie=[];return oe(Y,function(he){c(Me,he)||c(fe,he)||ie.push(he)}),ie}var d=Te("../internals/export"),u=Te("../internals/global"),i=Te("../internals/get-built-in"),r=Te("../internals/is-pure"),t=Te("../internals/descriptors"),a=Te("../internals/native-symbol"),l=Te("../internals/use-symbol-as-uid"),o=Te("../internals/fails"),c=Te("../internals/has"),s=Te("../internals/is-array"),p=Te("../internals/is-object"),v=Te("../internals/an-object"),b=Te("../internals/to-object"),x=Te("../internals/to-indexed-object"),w=Te("../internals/to-primitive"),j=Te("../internals/create-property-descriptor"),E=Te("../internals/object-create"),M=Te("../internals/object-keys"),C=Te("../internals/object-get-own-property-names"),P=Te("../internals/object-get-own-property-names-external"),O=Te("../internals/object-get-own-property-symbols"),D=Te("../internals/object-get-own-property-descriptor"),N=Te("../internals/object-define-property"),R=Te("../internals/object-property-is-enumerable"),I=Te("../internals/create-non-enumerable-property"),H=Te("../internals/redefine"),ee=Te("../internals/shared"),Le=Te("../internals/shared-key"),fe=Te("../internals/hidden-keys"),xe=Te("../internals/uid"),q=Te("../internals/well-known-symbol"),V=Te("../internals/well-known-symbol-wrapped"),K=Te("../internals/define-well-known-symbol"),J=Te("../internals/set-to-string-tag"),h=Te("../internals/internal-state"),oe=Te("../internals/array-iteration").forEach,_e=Le("hidden"),Oe="Symbol",De="prototype",Te=q("toPrimitive"),Be=h.set,Re=h.getterFor(Oe),ve=Object[De],ge=u.Symbol,Ae=i("JSON","stringify"),Ie=D.f,de=N.f,ae=P.f,ne=R.f,Me=ee("symbols"),pe=ee("op-symbols"),le=ee("string-to-symbol-registry"),re=ee("symbol-to-string-registry"),Le=ee("wks"),h=u.QObject,_=!h||!h[De]||!h[De].findChild,T=t&&o(function(){return E(de({},"a",{get:function(){return de(this,"a",{value:7}).a}})).a!=7})?function(F,Y,ie){var he=Ie(ve,Y);he&&delete ve[Y],de(F,Y,ie),he&&F!==ve&&de(ve,Y,he)}:de,L=l?function(F){return typeof F=="symbol"}:function(F){return Object(F)instanceof ge},G=function(F,Y,ie){return F===ve&&G(pe,Y,ie),v(F),Y=w(Y,!0),v(ie),(c(Me,Y)?(ie.enumerable?(c(F,_e)&&F[_e][Y]&&(F[_e][Y]=!1),ie=E(ie,{enumerable:j(0,!1)})):(c(F,_e)||de(F,_e,j(1,{})),F[_e][Y]=!0),T):de)(F,Y,ie)},B=function(Y){var Y=w(Y,!0),ie=ne.call(this,Y);return!(this===ve&&c(Me,Y)&&!c(pe,Y))&&(!(ie||!c(this,Y)||!c(Me,Y)||c(this,_e)&&this[_e][Y])||ie)},W=function(ie){var Y=ie===ve,ie=ae(Y?pe:x(ie)),he=[];return oe(ie,function(U){!c(Me,U)||Y&&!c(ve,U)||he.push(Me[U])}),he};a||(H((ge=function(){if(this instanceof ge)throw TypeError("Symbol is not a constructor");var F=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,Y=xe(F),ie=function(he){this===ve&&ie.call(pe,he),c(this,_e)&&c(this[_e],Y)&&(this[_e][Y]=!1),T(this,Y,j(1,he))};return t&&_&&T(ve,Y,{configurable:!0,set:ie}),y(Y,F)})[De],"toString",function(){return Re(this).tag}),H(ge,"withoutSetter",function(F){return y(xe(F),F)}),R.f=B,N.f=G,D.f=f,C.f=P.f=g,O.f=W,V.f=function(F){return y(q(F),F)},t&&(de(ge[De],"description",{configurable:!0,get:function(){return Re(this).description}}),r||H(ve,"propertyIsEnumerable",B,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:ge}),oe(M(Le),function(F){K(F)}),d({target:Oe,stat:!0,forced:!a},{for:function(ie){var Y,ie=String(ie);return c(le,ie)?le[ie]:(Y=ge(ie),le[ie]=Y,re[Y]=ie,Y)},keyFor:function(F){if(!L(F))throw TypeError(F+" is not a symbol");if(c(re,F))return re[F]},useSetter:function(){_=!0},useSimple:function(){_=!1}}),d({target:"Object",stat:!0,forced:!a,sham:!t},{create:function(F,Y){return Y===void 0?E(F):m(E(F),Y)},defineProperty:G,defineProperties:m,getOwnPropertyDescriptor:f}),d({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:g,getOwnPropertySymbols:W}),d({target:"Object",stat:!0,forced:o(function(){O.f(1)})},{getOwnPropertySymbols:function(F){return O.f(b(F))}}),Ae&&d({target:"JSON",stat:!0,forced:!a||o(function(){var F=ge();return Ae([F])!="[null]"||Ae({a:F})!="{}"||Ae(Object(F))!="{}"})},{stringify:function(F,Y,ie){for(var he,U=[F],se=1;se<arguments.length;)U.push(arguments[se++]);if((p(he=Y)||F!==void 0)&&!L(F))return s(Y)||(Y=function(ue,we){if(typeof he=="function"&&(we=he.call(this,ue,we)),!L(we))return we}),U[1]=Y,Ae.apply(null,U)}}),ge[De][Te]||I(ge[De],Te,ge[De].valueOf),J(ge,Oe),fe[_e]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],203:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-copy-within"),f=y.aTypedArray;(0,y.exportTypedArrayMethod)("copyWithin",function(g,d){return m.call(f(this),g,d,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],204:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-iteration").every,f=y.aTypedArray;(0,y.exportTypedArrayMethod)("every",function(g){return m(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],205:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-fill"),f=y.aTypedArray;(0,y.exportTypedArrayMethod)("fill",function(g){return m.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],206:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-iteration").filter,f=n("../internals/species-constructor"),g=y.aTypedArray,d=y.aTypedArrayConstructor;(0,y.exportTypedArrayMethod)("filter",function(u){for(var i=m(g(this),u,1<arguments.length?arguments[1]:void 0),u=f(this,this.constructor),r=0,t=i.length,a=new(d(u))(t);r<t;)a[r]=i[r++];return a})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],207:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-iteration").findIndex,f=y.aTypedArray;(0,y.exportTypedArrayMethod)("findIndex",function(g){return m(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],208:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-iteration").find,f=y.aTypedArray;(0,y.exportTypedArrayMethod)("find",function(g){return m(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],209:[function(n,Z,S){n("../internals/typed-array-constructor")("Float32",function(y){return function(m,f,g){return y(this,m,f,g)}})},{"../internals/typed-array-constructor":142}],210:[function(n,Z,S){n("../internals/typed-array-constructor")("Float64",function(y){return function(m,f,g){return y(this,m,f,g)}})},{"../internals/typed-array-constructor":142}],211:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-iteration").forEach,f=y.aTypedArray;(0,y.exportTypedArrayMethod)("forEach",function(g){m(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-includes").includes,f=y.aTypedArray;(0,y.exportTypedArrayMethod)("includes",function(g){return m(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],213:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-includes").indexOf,f=y.aTypedArray;(0,y.exportTypedArrayMethod)("indexOf",function(g){return m(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],214:[function(n,Z,S){n("../internals/typed-array-constructor")("Int16",function(y){return function(m,f,g){return y(this,m,f,g)}})},{"../internals/typed-array-constructor":142}],215:[function(n,Z,S){n("../internals/typed-array-constructor")("Int32",function(y){return function(m,f,g){return y(this,m,f,g)}})},{"../internals/typed-array-constructor":142}],216:[function(m,Z,S){function y(){return f.call(u(this))}var t=m("../internals/global"),r=m("../internals/array-buffer-view-core"),i=m("../modules/es.array.iterator"),m=m("../internals/well-known-symbol")("iterator"),t=t.Uint8Array,f=i.values,g=i.keys,d=i.entries,u=r.aTypedArray,i=r.exportTypedArrayMethod,r=t&&t.prototype[m],t=!!r&&(r.name=="values"||r.name==null);i("entries",function(){return d.call(u(this))}),i("keys",function(){return g.call(u(this))}),i("values",y,!t),i(m,y,!t)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],217:[function(m,Z,S){var m=m("../internals/array-buffer-view-core"),y=m.aTypedArray,m=m.exportTypedArrayMethod,f=[].join;m("join",function(g){return f.apply(y(this),arguments)})},{"../internals/array-buffer-view-core":12}],218:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-last-index-of"),f=y.aTypedArray;(0,y.exportTypedArrayMethod)("lastIndexOf",function(g){return m.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],219:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-iteration").map,f=n("../internals/species-constructor"),g=y.aTypedArray,d=y.aTypedArrayConstructor;(0,y.exportTypedArrayMethod)("map",function(u){return m(g(this),u,1<arguments.length?arguments[1]:void 0,function(i,r){return new(d(f(i,i.constructor)))(r)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],220:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-reduce").right,f=y.aTypedArray;(0,y.exportTypedArrayMethod)("reduceRight",function(g){return m(f(this),g,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],221:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-reduce").left,f=y.aTypedArray;(0,y.exportTypedArrayMethod)("reduce",function(g){return m(f(this),g,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],222:[function(m,Z,S){var m=m("../internals/array-buffer-view-core"),y=m.aTypedArray,m=m.exportTypedArrayMethod,f=Math.floor;m("reverse",function(){for(var g,d=y(this).length,u=f(d/2),i=0;i<u;)g=this[i],this[i++]=this[--d],this[d]=g;return this})},{"../internals/array-buffer-view-core":12}],223:[function(d,Z,S){var y=d("../internals/array-buffer-view-core"),m=d("../internals/to-length"),f=d("../internals/to-offset"),g=d("../internals/to-object"),d=d("../internals/fails"),u=y.aTypedArray;(0,y.exportTypedArrayMethod)("set",function(i){u(this);var r=f(1<arguments.length?arguments[1]:void 0,1),t=this.length,a=g(i),l=m(a.length),o=0;if(t<l+r)throw RangeError("Wrong length");for(;o<l;)this[r+o]=a[o++]},d(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],224:[function(m,Z,S){var d=m("../internals/array-buffer-view-core"),y=m("../internals/species-constructor"),m=m("../internals/fails"),f=d.aTypedArray,g=d.aTypedArrayConstructor,d=d.exportTypedArrayMethod,u=[].slice;d("slice",function(i,r){for(var t=u.call(f(this),i,r),i=y(this,this.constructor),a=0,l=t.length,o=new(g(i))(l);a<l;)o[a]=t[a++];return o},m(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],225:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/array-iteration").some,f=y.aTypedArray;(0,y.exportTypedArrayMethod)("some",function(g){return m(f(this),g,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],226:[function(m,Z,S){var m=m("../internals/array-buffer-view-core"),y=m.aTypedArray,m=m.exportTypedArrayMethod,f=[].sort;m("sort",function(g){return f.call(y(this),g)})},{"../internals/array-buffer-view-core":12}],227:[function(n,Z,S){var y=n("../internals/array-buffer-view-core"),m=n("../internals/to-length"),f=n("../internals/to-absolute-index"),g=n("../internals/species-constructor"),d=y.aTypedArray;(0,y.exportTypedArrayMethod)("subarray",function(a,i){var r=d(this),t=r.length,a=f(a,t);return new(g(r,r.constructor))(r.buffer,r.byteOffset+a*r.BYTES_PER_ELEMENT,m((i===void 0?t:f(i,t))-a))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],228:[function(m,Z,S){var d=m("../internals/global"),y=m("../internals/array-buffer-view-core"),m=m("../internals/fails"),f=d.Int8Array,g=y.aTypedArray,d=y.exportTypedArrayMethod,u=[].toLocaleString,i=[].slice,r=!!f&&m(function(){u.call(new f(1))});d("toLocaleString",function(){return u.apply(r?i.call(g(this)):g(this),arguments)},m(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!m(function(){f.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],229:[function(m,Z,S){var y=m("../internals/array-buffer-view-core").exportTypedArrayMethod,d=m("../internals/fails"),m=m("../internals/global").Uint8Array,m=m&&m.prototype||{},f=[].toString,g=[].join,d=(d(function(){f.call({})})&&(f=function(){return g.call(this)}),m.toString!=f);y("toString",f,d)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],230:[function(n,Z,S){n("../internals/typed-array-constructor")("Uint16",function(y){return function(m,f,g){return y(this,m,f,g)}})},{"../internals/typed-array-constructor":142}],231:[function(n,Z,S){n("../internals/typed-array-constructor")("Uint32",function(y){return function(m,f,g){return y(this,m,f,g)}})},{"../internals/typed-array-constructor":142}],232:[function(n,Z,S){n("../internals/typed-array-constructor")("Uint8",function(y){return function(m,f,g){return y(this,m,f,g)}})},{"../internals/typed-array-constructor":142}],233:[function(n,Z,S){n("../internals/typed-array-constructor")("Uint8",function(y){return function(m,f,g){return y(this,m,f,g)}},!0)},{"../internals/typed-array-constructor":142}],234:[function(c,v,S){function y(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}}var m,f,g,d,u,s=c("../internals/global"),i=c("../internals/redefine-all"),r=c("../internals/internal-metadata"),t=c("../internals/collection"),a=c("../internals/collection-weak"),l=c("../internals/is-object"),o=c("../internals/internal-state").enforce,c=c("../internals/native-weak-map"),s=!s.ActiveXObject&&"ActiveXObject"in s,p=Object.isExtensible,v=v.exports=t("WeakMap",y,a);c&&s&&(m=a.getConstructor(y,"WeakMap",!0),r.REQUIRED=!0,t=v.prototype,f=t.delete,g=t.has,d=t.get,u=t.set,i(t,{delete:function(b){var x;return l(b)&&!p(b)?((x=o(this)).frozen||(x.frozen=new m),f.call(this,b)||x.frozen.delete(b)):f.call(this,b)},has:function(b){var x;return l(b)&&!p(b)?((x=o(this)).frozen||(x.frozen=new m),g.call(this,b)||x.frozen.has(b)):g.call(this,b)},get:function(b){var x;return!l(b)||p(b)||((x=o(this)).frozen||(x.frozen=new m),g.call(this,b))?d.call(this,b):x.frozen.get(b)},set:function(b,x){var w;return!l(b)||p(b)||((w=o(this)).frozen||(w.frozen=new m),g.call(this,b))?u.call(this,b,x):w.frozen.set(b,x),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],235:[function(n,Z,S){var y,m=n("../internals/global"),f=n("../internals/dom-iterables"),g=n("../internals/array-for-each"),d=n("../internals/create-non-enumerable-property");for(y in f){var u=m[y],u=u&&u.prototype;if(u&&u.forEach!==g)try{d(u,"forEach",g)}catch{u.forEach=g}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],236:[function(u,Z,S){var y,m=u("../internals/global"),f=u("../internals/dom-iterables"),g=u("../modules/es.array.iterator"),d=u("../internals/create-non-enumerable-property"),u=u("../internals/well-known-symbol"),i=u("iterator"),r=u("toStringTag"),t=g.values;for(y in f){var a=m[y],l=a&&a.prototype;if(l){if(l[i]!==t)try{d(l,i,t)}catch{l[i]=t}if(l[r]||d(l,r,y),f[y]){for(var o in g)if(l[o]!==g[o])try{d(l,o,g[o])}catch{l[o]=g[o]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],237:[function(_e,Z,S){_e("../modules/es.array.iterator");function y(Oe){try{return decodeURIComponent(Oe)}catch{return Oe}}function m(Oe){return K[Oe]}function f(Oe){return encodeURIComponent(Oe).replace(V,m)}function g(Oe){this.entries.length=0,J(this.entries,Oe)}function d(Oe,De){if(Oe<De)throw TypeError("Not enough arguments")}function u(){s(this,u,N);var Oe,De,Te,Be,Re,ve,ge,Ae,Ie=0<arguments.length?arguments[0]:void 0,de=[];if(I(this,{type:N,entries:de,updateURL:function(){},updateSearchParams:g}),Ie!==void 0)if(w(Ie))if(typeof(Oe=C(Ie))=="function")for(Te=(De=Oe.call(Ie)).next;!(Be=Te.call(De)).done;){if((ve=(Re=(Be=M(x(Be.value))).next).call(Be)).done||(ge=Re.call(Be)).done||!Re.call(Be).done)throw TypeError("Expected sequence with length 2");de.push({key:ve.value+"",value:ge.value+""})}else for(Ae in Ie)p(Ie,Ae)&&de.push({key:Ae,value:Ie[Ae]+""});else J(de,typeof Ie=="string"?Ie.charAt(0)==="?"?Ie.slice(1):Ie:Ie+"")}var i=_e("../internals/export"),D=_e("../internals/get-built-in"),r=_e("../internals/native-url"),t=_e("../internals/redefine"),a=_e("../internals/redefine-all"),l=_e("../internals/set-to-string-tag"),o=_e("../internals/create-iterator-constructor"),c=_e("../internals/internal-state"),s=_e("../internals/an-instance"),p=_e("../internals/has"),v=_e("../internals/function-bind-context"),b=_e("../internals/classof"),x=_e("../internals/an-object"),w=_e("../internals/is-object"),j=_e("../internals/object-create"),E=_e("../internals/create-property-descriptor"),M=_e("../internals/get-iterator"),C=_e("../internals/get-iterator-method"),_e=_e("../internals/well-known-symbol"),P=D("fetch"),O=D("Headers"),D=_e("iterator"),N="URLSearchParams",R=N+"Iterator",I=c.set,H=c.getterFor(N),ee=c.getterFor(R),fe=/\+/g,xe=Array(4),q=function(Oe){var De,Te=Oe.replace(fe," "),Be=4;try{return decodeURIComponent(Te)}catch{for(;Be;)Te=Te.replace((De=Be--,xe[De-1]||(xe[De-1]=RegExp("((?:%[\\da-f]{2}){"+De+"})","gi"))),y);return Te}},V=/[!'()~]|%20/g,K={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},J=function(Oe,De){if(De)for(var Te,Be=De.split("&"),Re=0;Re<Be.length;)(Te=Be[Re++]).length&&(Te=Te.split("="),Oe.push({key:q(Te.shift()),value:q(Te.join("="))}))},oe=o(function(Oe,De){I(this,{type:R,iterator:M(H(Oe).entries),kind:De})},"Iterator",function(){var De=ee(this),Oe=De.kind,De=De.iterator.next(),Te=De.value;return De.done||(De.value=Oe==="keys"?Te.key:Oe==="values"?Te.value:[Te.key,Te.value]),De}),_e=u.prototype;a(_e,{append:function(Oe,De){d(arguments.length,2);var Te=H(this);Te.entries.push({key:Oe+"",value:De+""}),Te.updateURL()},delete:function(Oe){d(arguments.length,1);for(var De=H(this),Te=De.entries,Be=Oe+"",Re=0;Re<Te.length;)Te[Re].key===Be?Te.splice(Re,1):Re++;De.updateURL()},get:function(Oe){d(arguments.length,1);for(var De=H(this).entries,Te=Oe+"",Be=0;Be<De.length;Be++)if(De[Be].key===Te)return De[Be].value;return null},getAll:function(Oe){d(arguments.length,1);for(var De=H(this).entries,Te=Oe+"",Be=[],Re=0;Re<De.length;Re++)De[Re].key===Te&&Be.push(De[Re].value);return Be},has:function(Oe){d(arguments.length,1);for(var De=H(this).entries,Te=Oe+"",Be=0;Be<De.length;)if(De[Be++].key===Te)return!0;return!1},set:function(Oe,De){d(arguments.length,1);for(var Te,Be=H(this),Re=Be.entries,ve=!1,ge=Oe+"",Ae=De+"",Ie=0;Ie<Re.length;Ie++)(Te=Re[Ie]).key===ge&&(ve?Re.splice(Ie--,1):(ve=!0,Te.value=Ae));ve||Re.push({key:ge,value:Ae}),Be.updateURL()},sort:function(){for(var Oe,De,Te=H(this),Be=Te.entries,Re=Be.slice(),ve=Be.length=0;ve<Re.length;ve++){for(Oe=Re[ve],De=0;De<ve;De++)if(Be[De].key>Oe.key){Be.splice(De,0,Oe);break}De===ve&&Be.push(Oe)}Te.updateURL()},forEach:function(Oe){for(var De,Te=H(this).entries,Be=v(Oe,1<arguments.length?arguments[1]:void 0,3),Re=0;Re<Te.length;)Be((De=Te[Re++]).value,De.key,this)},keys:function(){return new oe(this,"keys")},values:function(){return new oe(this,"values")},entries:function(){return new oe(this,"entries")}},{enumerable:!0}),t(_e,D,_e.entries),t(_e,"toString",function(){for(var Oe,De=H(this).entries,Te=[],Be=0;Be<De.length;)Oe=De[Be++],Te.push(f(Oe.key)+"="+f(Oe.value));return Te.join("&")},{enumerable:!0}),l(u,N),i({global:!0,forced:!r},{URLSearchParams:u}),r||typeof P!="function"||typeof O!="function"||i({global:!0,enumerable:!0,forced:!0},{fetch:function(Re){var De,Te,Be,Re=[Re];return 1<arguments.length&&(w(De=arguments[1])&&(Te=De.body,b(Te)===N&&((Be=De.headers?new O(De.headers):new O).has("content-type")||Be.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),De=j(De,{body:E(0,String(Te)),headers:E(0,Be)}))),Re.push(De)),P.apply(this,Re)}}),Z.exports={URLSearchParams:u,getState:H}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],238:[function(M,Z,S){M("../modules/es.string.iterator");function y(He){var Ze,it,at,yt;if(typeof He=="number"){for(Ze=[],it=0;it<4;it++)Ze.unshift(He%256),He=R(He/256);return Ze.join(".")}if(typeof He!="object")return He;for(Ze="",at=ge(He),it=0;it<8;it++)yt&&He[it]===0||(yt=yt&&!1,at===it?(Ze+=it?":":"::",yt=!0):(Ze+=He[it].toString(16),it<7&&(Ze+=":")));return"["+Ze+"]"}function m(He){return!He.host||He.cannotBeABaseURL||He.scheme=="file"}function f(He,Ze,it,at){var yt,st,Et,gt=it||L,jt=0,vt="",Mt=!1,Bt=!1,Dt=!1;for(it||(He.scheme="",He.username="",He.password="",He.host=null,He.port=null,He.path=[],He.query=null,He.fragment=null,He.cannotBeABaseURL=!1,Ze=Ze.replace(Be,"")),Ze=Ze.replace(Re,""),yt=b(Ze);jt<=yt.length;){switch(st=yt[jt],gt){case L:if(!st||!q.test(st)){if(it)return ee;gt=B;continue}vt+=st.toLowerCase(),gt=G;break;case G:if(st&&(V.test(st)||st=="+"||st=="-"||st=="."))vt+=st.toLowerCase();else{if(st!=":"){if(it)return ee;vt="",gt=B,jt=0;continue}if(it&&(pe(He)!=p(Me,vt)||vt=="file"&&(le(He)||He.port!==null)||He.scheme=="file"&&!He.host))return;if(He.scheme=vt,it)return void(pe(He)&&Me[He.scheme]==He.port&&(He.port=null));vt="",He.scheme=="file"?gt=Se:pe(He)&&at&&at.scheme==He.scheme?gt=W:pe(He)?gt=he:yt[jt+1]=="/"?(gt=F,jt++):(He.cannotBeABaseURL=!0,He.path.push(""),gt=ye)}break;case B:if(!at||at.cannotBeABaseURL&&st!="#")return ee;if(at.cannotBeABaseURL&&st=="#"){He.scheme=at.scheme,He.path=at.path.slice(),He.query=at.query,He.fragment="",He.cannotBeABaseURL=!0,gt=X;break}gt=at.scheme=="file"?Se:Y;continue;case W:if(st!="/"||yt[jt+1]!="/"){gt=Y;continue}gt=U,jt++;break;case F:if(st=="/"){gt=se;break}gt=k;continue;case Y:if(He.scheme=at.scheme,st==u)He.username=at.username,He.password=at.password,He.host=at.host,He.port=at.port,He.path=at.path.slice(),He.query=at.query;else if(st=="/"||st=="\\"&&pe(He))gt=ie;else if(st=="?")He.username=at.username,He.password=at.password,He.host=at.host,He.port=at.port,He.path=at.path.slice(),He.query="",gt=Ce;else{if(st!="#"){He.username=at.username,He.password=at.password,He.host=at.host,He.port=at.port,He.path=at.path.slice(),He.path.pop(),gt=k;continue}He.username=at.username,He.password=at.password,He.host=at.host,He.port=at.port,He.path=at.path.slice(),He.query=at.query,He.fragment="",gt=X}break;case ie:if(!pe(He)||st!="/"&&st!="\\"){if(st!="/"){He.username=at.username,He.password=at.password,He.host=at.host,He.port=at.port,gt=k;continue}gt=se}else gt=U;break;case he:if(gt=U,st!="/"||vt.charAt(jt+1)!="/")continue;jt++;break;case U:if(st=="/"||st=="\\")break;gt=se;continue;case se:if(st=="@"){Mt&&(vt="%40"+vt);for(var Mt=!0,Nt=b(vt),Ht=0;Ht<Nt.length;Ht++){var Ft=Nt[Ht];Ft!=":"||Dt?(Ft=ne(Ft,ae),Dt?He.password+=Ft:He.username+=Ft):Dt=!0}vt=""}else if(st==u||st=="/"||st=="?"||st=="#"||st=="\\"&&pe(He)){if(Mt&&vt=="")return H;jt-=b(vt).length+1,vt="",gt=ue}else vt+=st;break;case ue:case we:if(it&&He.scheme=="file"){gt=je;continue}if(st!=":"||Bt){if(st==u||st=="/"||st=="?"||st=="#"||st=="\\"&&pe(He)){if(pe(He)&&vt=="")return fe;if(it&&vt==""&&(le(He)||He.port!==null))return;if(Et=ve(He,vt))return Et;if(vt="",gt=be,it)return;continue}st=="["?Bt=!0:st=="]"&&(Bt=!1),vt+=st}else{if(vt=="")return fe;if(Et=ve(He,vt))return Et;if(vt="",gt=ce,it==we)return}break;case ce:if(!K.test(st)){if(st==u||st=="/"||st=="?"||st=="#"||st=="\\"&&pe(He)||it){if(vt!=""){var Vt=parseInt(vt,10);if(65535<Vt)return xe;He.port=pe(He)&&Vt===Me[He.scheme]?null:Vt,vt=""}if(it)return;gt=be;continue}return xe}vt+=st;break;case Se:if(He.scheme="file",st=="/"||st=="\\")gt=$;else{if(!at||at.scheme!="file"){gt=k;continue}if(st==u)He.host=at.host,He.path=at.path.slice(),He.query=at.query;else if(st=="?")He.host=at.host,He.path=at.path.slice(),He.query="",gt=Ce;else{if(st!="#"){Le(yt.slice(jt).join(""))||(He.host=at.host,He.path=at.path.slice(),h(He)),gt=k;continue}He.host=at.host,He.path=at.path.slice(),He.query=at.query,He.fragment="",gt=X}}break;case $:if(st=="/"||st=="\\"){gt=je;break}at&&at.scheme=="file"&&!Le(yt.slice(jt).join(""))&&(re(at.path[0],!0)?He.path.push(at.path[0]):He.host=at.host),gt=k;continue;case je:if(st==u||st=="/"||st=="\\"||st=="?"||st=="#"){if(!it&&re(vt))gt=k;else{if(vt==""){if(He.host="",it)return}else{if(Et=ve(He,vt))return Et;if(He.host=="localhost"&&(He.host=""),it)return;vt=""}gt=be}continue}vt+=st;break;case be:if(pe(He)){if(gt=k,st!="/"&&st!="\\")continue}else if(it||st!="?")if(it||st!="#"){if(st!=u&&(gt=k,st!="/"))continue}else He.fragment="",gt=X;else He.query="",gt=Ce;break;case k:if(st==u||st=="/"||st=="\\"&&pe(He)||!it&&(st=="?"||st=="#")){if(T(vt)?(h(He),st=="/"||st=="\\"&&pe(He)||He.path.push("")):_(vt)?st=="/"||st=="\\"&&pe(He)||He.path.push(""):(He.scheme=="file"&&!He.path.length&&re(vt)&&(He.host&&(He.host=""),vt=vt.charAt(0)+":"),He.path.push(vt)),vt="",He.scheme=="file"&&(st==u||st=="?"||st=="#"))for(;1<He.path.length&&He.path[0]==="";)He.path.shift();st=="?"?(He.query="",gt=Ce):st=="#"&&(He.fragment="",gt=X)}else vt+=ne(st,de);break;case ye:st=="?"?(He.query="",gt=Ce):st=="#"?(He.fragment="",gt=X):st!=u&&(He.path[0]+=ne(st,Ae));break;case Ce:it||st!="#"?st!=u&&(st=="'"&&pe(He)?He.query+="%27":He.query+=st=="#"?"%23":ne(st,Ae)):(He.fragment="",gt=X);break;case X:st!=u&&(He.fragment+=ne(st,Ie))}jt++}}function g(st){var Ze,it,at=s(this,g,"URL"),yt=1<arguments.length?arguments[1]:void 0,st=String(st),Et=D(at,{type:"URL"});if(yt!==void 0){if(yt instanceof g)Ze=N(yt);else if(it=f(Ze={},String(yt)))throw TypeError(it)}if(it=f(Et,st,null,Ze))throw TypeError(it);var gt=Et.searchParams=new P;(yt=O(gt)).updateSearchParams(Et.query),yt.updateURL=function(){Et.query=String(gt)||null},a||(at.href=Fe.call(at),at.origin=Ne.call(at),at.protocol=Ge.call(at),at.username=ze.call(at),at.password=We.call(at),at.host=Qe.call(at),at.hostname=rt.call(at),at.port=et.call(at),at.pathname=ut.call(at),at.search=mt.call(at),at.searchParams=bt.call(at),at.hash=xt.call(at))}function d(He,Ze){return{get:He,set:Ze,configurable:!0,enumerable:!0}}var u,i,r,t=M("../internals/export"),a=M("../internals/descriptors"),l=M("../internals/native-url"),Ee=M("../internals/global"),o=M("../internals/object-define-properties"),c=M("../internals/redefine"),s=M("../internals/an-instance"),p=M("../internals/has"),v=M("../internals/object-assign"),b=M("../internals/array-from"),x=M("../internals/string-multibyte").codeAt,w=M("../internals/string-punycode-to-ascii"),j=M("../internals/set-to-string-tag"),E=M("../modules/web.url-search-params"),M=M("../internals/internal-state"),C=Ee.URL,P=E.URLSearchParams,O=E.getState,D=M.set,N=M.getterFor("URL"),R=Math.floor,I=Math.pow,H="Invalid authority",ee="Invalid scheme",fe="Invalid host",xe="Invalid port",q=/[A-Za-z]/,V=/[\d+-.A-Za-z]/,K=/\d/,J=/^(0x|0X)/,oe=/^[0-7]+$/,_e=/^\d+$/,Oe=/^[\dA-Fa-f]+$/,De=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Te=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Be=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Re=/[\u0009\u000A\u000D]/g,ve=function(He,Ze){var it,at,yt;if(Ze.charAt(0)=="[")return Ze.charAt(Ze.length-1)=="]"&&(it=function(st){var Et=[0,0,0,0,0,0,0,0],gt=0,jt=null,vt=0,Mt,Bt,Dt,Nt,Ht,Ft,Vt,Ut=function(){return st.charAt(vt)};if(Ut()==":"){if(st.charAt(1)!=":")return;vt+=2,gt++,jt=gt}for(;Ut();){if(gt==8)return;if(Ut()==":"){if(jt!==null)return;vt++,gt++,jt=gt;continue}for(Mt=Bt=0;Bt<4&&Oe.test(Ut());)Mt=Mt*16+parseInt(Ut(),16),vt++,Bt++;if(Ut()=="."){if(Bt==0||(vt-=Bt,gt>6))return;for(Dt=0;Ut();){if(Nt=null,Dt>0)if(Ut()=="."&&Dt<4)vt++;else return;if(!K.test(Ut()))return;for(;K.test(Ut());){if(Ht=parseInt(Ut(),10),Nt===null)Nt=Ht;else{if(Nt==0)return;Nt=Nt*10+Ht}if(Nt>255)return;vt++}Et[gt]=Et[gt]*256+Nt,Dt++,(Dt==2||Dt==4)&&gt++}if(Dt!=4)return;break}else if(Ut()==":"){if(vt++,!Ut())return}else if(Ut())return;Et[gt++]=Mt}if(jt!==null)for(Ft=gt-jt,gt=7;gt!=0&&Ft>0;)Vt=Et[gt],Et[gt--]=Et[jt+Ft-1],Et[jt+--Ft]=Vt;else if(gt!=8)return;return Et}(Ze.slice(1,-1)))?void(He.host=it):fe;if(pe(He))return Ze=w(Ze),De.test(Ze)||(it=function(st){var Et=st.split("."),gt,jt,vt,Mt,Bt,Dt,Nt;if(Et.length&&Et[Et.length-1]==""&&Et.pop(),(gt=Et.length)>4)return st;for(jt=[],vt=0;vt<gt;vt++){if(Mt=Et[vt],Mt=="")return st;if(Bt=10,Mt.length>1&&Mt.charAt(0)=="0"&&(Bt=J.test(Mt)?16:8,Mt=Mt.slice(Bt==8?1:2)),Mt==="")Dt=0;else{if(!(Bt==10?_e:Bt==8?oe:Oe).test(Mt))return st;Dt=parseInt(Mt,Bt)}jt.push(Dt)}for(vt=0;vt<gt;vt++)if(Dt=jt[vt],vt==gt-1){if(Dt>=I(256,5-gt))return null}else if(Dt>255)return null;for(Nt=jt.pop(),vt=0;vt<jt.length;vt++)Nt+=jt[vt]*I(256,3-vt);return Nt}(Ze))===null?fe:void(He.host=it);if(Te.test(Ze))return fe;for(it="",at=b(Ze),yt=0;yt<at.length;yt++)it+=ne(at[yt],Ae);He.host=it},ge=function(He){for(var Ze=null,it=1,at=null,yt=0,st=0;st<8;st++)He[st]!==0?(it<yt&&(Ze=at,it=yt),at=null,yt=0):(at===null&&(at=st),++yt);return it<yt&&(Ze=at,it=yt),Ze},Ae={},Ie=v({},Ae,{" ":1,'"':1,"<":1,">":1,"`":1}),de=v({},Ie,{"#":1,"?":1,"{":1,"}":1}),ae=v({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ne=function(He,Ze){var it=x(He,0);return 32<it&&it<127&&!p(Ze,He)?He:encodeURIComponent(He)},Me={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(He){return p(Me,He.scheme)},le=function(He){return He.username!=""||He.password!=""},re=function(He,Ze){return He.length==2&&q.test(He.charAt(0))&&((He=He.charAt(1))==":"||!Ze&&He=="|")},Le=function(He){return 1<He.length&&re(He.slice(0,2))&&(He.length==2||(He=He.charAt(2))==="/"||He==="\\"||He==="?"||He==="#")},h=function(He){var Ze=He.path,it=Ze.length;!it||He.scheme=="file"&&it==1&&re(Ze[0],!0)||Ze.pop()},_=function(He){return He==="."||He.toLowerCase()==="%2e"},T=function(He){return(He=He.toLowerCase())===".."||He==="%2e."||He===".%2e"||He==="%2e%2e"},L={},G={},B={},W={},F={},Y={},ie={},he={},U={},se={},ue={},we={},ce={},Se={},$={},je={},be={},k={},ye={},Ce={},X={},Ee=g.prototype,Fe=function(){var He=N(this),Ze=He.scheme,it=He.username,at=He.password,yt=He.host,st=He.port,Et=He.path,gt=He.query,jt=He.fragment,vt=Ze+":";return yt!==null?(vt+="//",le(He)&&(vt+=it+(at?":"+at:"")+"@"),vt+=y(yt),st!==null&&(vt+=":"+st)):Ze=="file"&&(vt+="//"),vt+=He.cannotBeABaseURL?Et[0]:Et.length?"/"+Et.join("/"):"",gt!==null&&(vt+="?"+gt),jt!==null&&(vt+="#"+jt),vt},Ne=function(){var He=N(this),Ze=He.scheme,it=He.port;if(Ze=="blob")try{return new URL(Ze.path[0]).origin}catch{return"null"}return Ze!="file"&&pe(He)?Ze+"://"+y(He.host)+(it!==null?":"+it:""):"null"},Ge=function(){return N(this).scheme+":"},ze=function(){return N(this).username},We=function(){return N(this).password},Qe=function(){var Ze=N(this),He=Ze.host,Ze=Ze.port;return He===null?"":Ze===null?y(He):y(He)+":"+Ze},rt=function(){var He=N(this).host;return He===null?"":y(He)},et=function(){var He=N(this).port;return He===null?"":String(He)},ut=function(){var He=N(this),Ze=He.path;return He.cannotBeABaseURL?Ze[0]:Ze.length?"/"+Ze.join("/"):""},mt=function(){var He=N(this).query;return He?"?"+He:""},bt=function(){return N(this).searchParams},xt=function(){var He=N(this).fragment;return He?"#"+He:""};a&&o(Ee,{href:d(Fe,function(it){var Ze=N(this),it=String(it),it=f(Ze,it);if(it)throw TypeError(it);O(Ze.searchParams).updateSearchParams(Ze.query)}),origin:d(Ne),protocol:d(Ge,function(He){var Ze=N(this);f(Ze,String(He)+":",L)}),username:d(ze,function(He){var Ze=N(this),it=b(String(He));if(!m(Ze)){Ze.username="";for(var at=0;at<it.length;at++)Ze.username+=ne(it[at],ae)}}),password:d(We,function(He){var Ze=N(this),it=b(String(He));if(!m(Ze)){Ze.password="";for(var at=0;at<it.length;at++)Ze.password+=ne(it[at],ae)}}),host:d(Qe,function(He){var Ze=N(this);Ze.cannotBeABaseURL||f(Ze,String(He),ue)}),hostname:d(rt,function(He){var Ze=N(this);Ze.cannotBeABaseURL||f(Ze,String(He),we)}),port:d(et,function(He){var Ze=N(this);m(Ze)||((He=String(He))==""?Ze.port=null:f(Ze,He,ce))}),pathname:d(ut,function(He){var Ze=N(this);Ze.cannotBeABaseURL||(Ze.path=[],f(Ze,He+"",be))}),search:d(mt,function(He){var Ze=N(this);(He=String(He))==""?Ze.query=null:(He.charAt(0)=="?"&&(He=He.slice(1)),Ze.query="",f(Ze,He,Ce)),O(Ze.searchParams).updateSearchParams(Ze.query)}),searchParams:d(bt),hash:d(xt,function(He){var Ze=N(this);(He=String(He))==""?Ze.fragment=null:(He.charAt(0)=="#"&&(He=He.slice(1)),Ze.fragment="",f(Ze,He,X))})}),c(Ee,"toJSON",function(){return Fe.call(this)},{enumerable:!0}),c(Ee,"toString",function(){return Fe.call(this)},{enumerable:!0}),C&&(i=C.createObjectURL,r=C.revokeObjectURL,i&&c(g,"createObjectURL",function(He){return i.apply(C,arguments)}),r&&c(g,"revokeObjectURL",function(He){return r.apply(C,arguments)})),j(g,"URL"),t({global:!0,forced:!l,sham:!a},{URL:g})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":190,"../modules/web.url-search-params":237}],239:[function(n,Z,S){Z.exports=n("./").polyfill()},{"./":240}],240:[function(n,Z,S){(function(y,m){var f,g;f=this,g=function(){function d(ve){return typeof ve=="function"}var u=Array.isArray||function(ve){return Object.prototype.toString.call(ve)==="[object Array]"},i=0,r=void 0,t=void 0,a=function(ve,ge){v[i]=ve,v[i+1]=ge,(i+=2)===2&&(t?t(b):P())},l=typeof window<"u"?window:void 0,o=l||{},o=o.MutationObserver||o.WebKitMutationObserver,c=typeof self>"u"&&y!==void 0&&{}.toString.call(y)==="[object process]",s=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function p(){var ve=setTimeout;return function(){return ve(b,1)}}var v=new Array(1e3);function b(){for(var ve=0;ve<i;ve+=2)(0,v[ve])(v[ve+1]),v[ve]=void 0,v[ve+1]=void 0;i=0}function x(){try{var ve=Function("return this")().require("vertx");return(r=ve.runOnLoop||ve.runOnContext)!==void 0?function(){r(b)}:p()}catch{return p()}}var w,j,E,P=void 0;function M(ve,ge){var Ae,Ie=this,de=new this.constructor(D),ae=(de[O]===void 0&&Oe(de),Ie._state);return ae?(Ae=arguments[ae-1],a(function(){return oe(ae,de,Ae,Ie._result)})):K(Ie,de,ve,ge),de}function C(ve){var ge;return ve&&typeof ve=="object"&&ve.constructor===this?ve:(fe(ge=new this(D),ve),ge)}var P=c?function(){return y.nextTick(b)}:o?(j=0,c=new o(b),E=document.createTextNode(""),c.observe(E,{characterData:!0}),function(){E.data=j=++j%2}):s?((w=new MessageChannel).port1.onmessage=b,function(){return w.port2.postMessage(0)}):(l===void 0&&typeof n=="function"?x:p)(),O=Math.random().toString(36).substring(2);function D(){}var N=void 0,R=1,I=2;function H(ve,ge,Ae){a(function(Ie){var de=!1,ae=function(ne,Me,pe,le){try{ne.call(Me,pe,le)}catch(re){return re}}(Ae,ge,function(ne){de||(de=!0,(ge!==ne?fe:q)(Ie,ne))},function(ne){de||(de=!0,V(Ie,ne))},Ie._label);!de&&ae&&(de=!0,V(Ie,ae))},ve)}function ee(ve,ge,Ae){var Ie,de;ge.constructor===ve.constructor&&Ae===M&&ge.constructor.resolve===C?(Ie=ve,(de=ge)._state===R?q(Ie,de._result):de._state===I?V(Ie,de._result):K(de,void 0,function(ae){return fe(Ie,ae)},function(ae){return V(Ie,ae)})):Ae!==void 0&&d(Ae)?H(ve,ge,Ae):q(ve,ge)}function fe(ve,ge){if(ve===ge)V(ve,new TypeError("You cannot resolve a promise with itself"));else if(Ae=typeof ge,ge===null||Ae!="object"&&Ae!="function")q(ve,ge);else{Ae=void 0;try{Ae=ge.then}catch(Ie){return void V(ve,Ie)}ee(ve,ge,Ae)}var Ae}function xe(ve){ve._onerror&&ve._onerror(ve._result),J(ve)}function q(ve,ge){ve._state===N&&(ve._result=ge,ve._state=R,ve._subscribers.length!==0&&a(J,ve))}function V(ve,ge){ve._state===N&&(ve._state=I,ve._result=ge,a(xe,ve))}function K(ve,ge,Ae,Ie){var de=ve._subscribers,ae=de.length;ve._onerror=null,de[ae]=ge,de[ae+R]=Ae,de[ae+I]=Ie,ae===0&&ve._state&&a(J,ve)}function J(ve){var ge=ve._subscribers,Ae=ve._state;if(ge.length!==0){for(var Ie,de=void 0,ae=ve._result,ne=0;ne<ge.length;ne+=3)Ie=ge[ne],de=ge[ne+Ae],Ie?oe(Ae,Ie,de,ae):de(ae);ve._subscribers.length=0}}function oe(ve,ge,Ae,Ie){var de=d(Ae),ae=void 0,ne=void 0,Me=!0;if(de){try{ae=Ae(Ie)}catch(pe){Me=!1,ne=pe}if(ge===ae)return void V(ge,new TypeError("A promises callback cannot return that same promise."))}else ae=Ie;ge._state===N&&(de&&Me?fe(ge,ae):Me===!1?V(ge,ne):ve===R?q(ge,ae):ve===I&&V(ge,ae))}var _e=0;function Oe(ve){ve[O]=_e++,ve._state=void 0,ve._result=void 0,ve._subscribers=[]}Te.prototype._enumerate=function(ve){for(var ge=0;this._state===N&&ge<ve.length;ge++)this._eachEntry(ve[ge],ge)},Te.prototype._eachEntry=function(ve,ge){var Ae=this._instanceConstructor,Ie=Ae.resolve;if(Ie===C){var de,ae=void 0,ne=void 0,Me=!1;try{ae=ve.then}catch(pe){Me=!0,ne=pe}ae===M&&ve._state!==N?this._settledAt(ve._state,ge,ve._result):typeof ae!="function"?(this._remaining--,this._result[ge]=ve):Ae===Be?(de=new Ae(D),Me?V(de,ne):ee(de,ve,ae),this._willSettleAt(de,ge)):this._willSettleAt(new Ae(function(pe){return pe(ve)}),ge)}else this._willSettleAt(Ie(ve),ge)},Te.prototype._settledAt=function(ve,ge,Ae){var Ie=this.promise;Ie._state===N&&(this._remaining--,ve===I?V(Ie,Ae):this._result[ge]=Ae),this._remaining===0&&q(Ie,this._result)},Te.prototype._willSettleAt=function(ve,ge){var Ae=this;K(ve,void 0,function(Ie){return Ae._settledAt(R,ge,Ie)},function(Ie){return Ae._settledAt(I,ge,Ie)})};var De=Te;function Te(ve,ge){this._instanceConstructor=ve,this.promise=new ve(D),this.promise[O]||Oe(this.promise),u(ge)?(this.length=ge.length,this._remaining=ge.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ge),this._remaining!==0)||q(this.promise,this._result)):V(this.promise,new Error("Array Methods must be provided an Array"))}Re.prototype.catch=function(ve){return this.then(null,ve)},Re.prototype.finally=function(ve){var ge=this.constructor;return d(ve)?this.then(function(Ae){return ge.resolve(ve()).then(function(){return Ae})},function(Ae){return ge.resolve(ve()).then(function(){throw Ae})}):this.then(ve,ve)};var Be=Re;function Re(ve){if(this[O]=_e++,this._result=this._state=void 0,this._subscribers=[],D!==ve){if(typeof ve!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Re))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ge=this;try{ve(function(Ae){fe(ge,Ae)},function(Ae){V(ge,Ae)})}catch(Ae){V(ge,Ae)}}}return Be.prototype.then=M,Be.all=function(ve){return new De(this,ve).promise},Be.race=function(ve){var ge=this;return u(ve)?new ge(function(Ae,Ie){for(var de=ve.length,ae=0;ae<de;ae++)ge.resolve(ve[ae]).then(Ae,Ie)}):new ge(function(Ae,Ie){return Ie(new TypeError("You must pass an array to race."))})},Be.resolve=C,Be.reject=function(ve){var ge=new this(D);return V(ge,ve),ge},Be._setScheduler=function(ve){t=ve},Be._setAsap=function(ve){a=ve},Be._asap=a,Be.polyfill=function(){var ve=void 0;if(m!==void 0)ve=m;else if(typeof self<"u")ve=self;else try{ve=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ge=ve.Promise;if(ge){var Ae=null;try{Ae=Object.prototype.toString.call(ge.resolve())}catch{}if(Ae==="[object Promise]"&&!ge.cast)return}ve.Promise=Be},Be.Promise=Be},typeof S=="object"&&Z!==void 0?Z.exports=g():f.ES6Promise=g()}).call(this,n("_process"),typeof Gt<"u"?Gt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:249}],241:[function(n,Z,S){var y,m;y=this,m=function(f,g){var d=5e3,u="callback";function i(t){try{delete window[t]}catch{window[t]=void 0}}function r(t){t=document.getElementById(t),t&&document.getElementsByTagName("head")[0].removeChild(t)}g.exports=function(t){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],l=t,o=a.timeout||d,c=a.jsonpCallback||u,s=void 0;return new Promise(function(p,v){var b=a.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),x=c+"_"+b,w=(window[b]=function(j){p({ok:!0,json:function(){return Promise.resolve(j)}}),s&&clearTimeout(s),r(x),i(b)},l+=l.indexOf("?")===-1?"?":"&",document.createElement("script"));w.setAttribute("src",""+l+c+"="+b),a.charset&&w.setAttribute("charset",a.charset),w.id=x,document.getElementsByTagName("head")[0].appendChild(w),s=setTimeout(function(){v(new Error("JSONP request to "+t+" timed out")),i(b),r(x),window[b]=function(){i(b)}},o),w.onerror=function(){v(new Error("JSONP request to "+t+" failed")),i(b),r(x),s&&clearTimeout(s)}})}},S!==void 0&&Z!==void 0?m(0,Z):(m(m={exports:{}},m),y.fetchJsonp=m.exports)},{}],242:[function(n,Z,S){var y=function(m){var f,g,d,u,i,r,t,a,l,o,c;if(!(m===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return c=m.document,f=function(){return m.URL||m.webkitURL||m},g=c.createElementNS("http://www.w3.org/1999/xhtml","a"),d="download"in g,u=/constructor/i.test(m.HTMLElement)||m.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),r=function(s){(m.setImmediate||m.setTimeout)(function(){throw s},0)},t=4e4,a=function(s){setTimeout(function(){typeof s=="string"?f().revokeObjectURL(s):s.remove()},t)},l=function(s){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s},c=(o=function(s,p,j){j||(s=l(s));var b,x,w=this,j=s.type==="application/octet-stream",E=function(){for(var M=w,C="writestart progress write writeend".split(" "),P=void 0,O=(C=[].concat(C)).length;O--;){var D=M["on"+C[O]];if(typeof D=="function")try{D.call(M,P||M)}catch(N){r(N)}}};w.readyState=w.INIT,d?(b=f().createObjectURL(s),setTimeout(function(){var M,C;g.href=b,g.download=p,M=g,C=new MouseEvent("click"),M.dispatchEvent(C),E(),a(b),w.readyState=w.DONE})):(i||j&&u)&&m.FileReader?((x=new FileReader).onloadend=function(){var M=i?x.result:x.result.replace(/^data:[^;]*;/,"data:attachment/file;");m.open(M,"_blank")||(m.location.href=M),M=void 0,w.readyState=w.DONE,E()},x.readAsDataURL(s),w.readyState=w.INIT):(b=b||f().createObjectURL(s),!j&&m.open(b,"_blank")||(m.location.href=b),w.readyState=w.DONE,E(),a(b))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(s,p,v){return p=p||s.name||"download",v||(s=l(s)),navigator.msSaveOrOpenBlob(s,p)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=c.onwritestart=c.onprogress=c.onwrite=c.onabort=c.onerror=c.onwriteend=null,function(s,p,v){return new o(s,p||s.name||"download",v)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);Z!==void 0&&Z.exports?Z.exports.saveAs=y:Ye!=null},{}],243:[function(n,Z,S){var y,m=Object.defineProperty,f=(m(S,"__esModule",{value:!0}),S),g={GIFEncoder:()=>E,applyPalette:()=>function(N,R,I="rgb565"){if(!N||!N.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(N instanceof Uint8Array||N instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<R.length)throw new Error("applyPalette() only works with 256 colors or less");const H=new Uint32Array(N.buffer),ee=H.length,fe=I==="rgb444"?4096:65536,xe=new Uint8Array(ee),q=new Array(fe);if(I==="rgba4444")for(let Re=0;Re<ee;Re++){var oe=H[Re],V=oe>>24&255,K=oe>>16&255,J=oe>>8&255,oe=255&oe,_e=a(oe,J,K,V),_e=_e in q?q[_e]:q[_e]=function(ve,ge,Ae,Ie,de){let ae=0,ne=1e100;for(let re=0;re<de.length;re++){var Me,pe=de[re],le=x(pe[3]-Ie);le>ne||(Me=pe[0],(le+=x(Me-ve))>ne||(Me=pe[1],(le+=x(Me-ge))>ne||(Me=pe[2],(le+=x(Me-Ae))>ne||(ne=le,ae=re))))}return ae}(oe,J,K,V,R);xe[Re]=_e}else{const Re=I==="rgb444"?l:t;for(let ve=0;ve<ee;ve++){var Te=H[ve],Oe=Te>>16&255,De=Te>>8&255,Te=255&Te,Be=Re(Te,De,Oe),Be=Be in q?q[Be]:q[Be]=function(ge,Ae,Ie,de){let ae=0,ne=1e100;for(let re=0;re<de.length;re++){var Me,pe=de[re],le=x(pe[0]-ge);le>ne||(Me=pe[1],(le+=x(Me-Ae))>ne||(Me=pe[2],(le+=x(Me-Ie))>ne||(ne=le,ae=re)))}return ae}(Te,De,Oe,R);xe[ve]=Be}}return xe},default:()=>D,nearestColor:()=>function(N,R,I=v){return N[w(N,R,I)]},nearestColorIndex:()=>w,nearestColorIndexWithDistance:()=>j,prequantize:()=>function(N,{roundRGB:R=5,roundAlpha:I=10,oneBitAlpha:H=null}={}){const ee=new Uint32Array(N.buffer);for(let K=0;K<ee.length;K++){var V=ee[K];let J=V>>24&255;var fe,xe=V>>16&255,q=V>>8&255,V=255&V;J=b(J,I),H&&(fe=typeof H=="number"?H:127,J=J<=fe?0:255),V=b(V,R),q=b(q,R),xe=b(xe,R),ee[K]=J<<24|xe<<16|q<<8|V<<0}},quantize:()=>function(N,R,I={}){var{format:H="rgb565",clearAlpha:ee=!0,clearAlphaColor:fe=0,clearAlphaThreshold:xe=0,oneBitAlpha:q=!1}=I;if(!N||!N.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(N instanceof Uint8Array||N instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");N=new Uint32Array(N.buffer);let V=I.useSqrt!==!1;const K=H==="rgba4444",J=function(Le,h){const _=h==="rgb444"?4096:65536,T=new Array(_),L=Le.length;if(h==="rgba4444")for(let $=0;$<L;++$){var F=Le[$],G=F>>24&255,B=F>>16&255,W=F>>8&255,F=255&F,Y=a(F,W,B,G);let je=Y in T?T[Y]:T[Y]=p();je.rc+=F,je.gc+=W,je.bc+=B,je.ac+=G,je.cnt++}else if(h==="rgb444")for(let $=0;$<L;++$){var U=Le[$],ie=U>>16&255,he=U>>8&255,U=255&U,se=l(U,he,ie);let je=se in T?T[se]:T[se]=p();je.rc+=U,je.gc+=he,je.bc+=ie,je.cnt++}else for(let $=0;$<L;++$){var ce=Le[$],ue=ce>>16&255,we=ce>>8&255,ce=255&ce,Se=t(ce,we,ue);let je=Se in T?T[Se]:T[Se]=p();je.rc+=ce,je.gc+=we,je.bc+=ue,je.cnt++}return T}(N,H),oe=J.length,_e=oe-1,Oe=new Uint32Array(oe+1);for(var De=0,Te=0;Te<oe;++Te){const Le=J[Te];Le!=null&&(pe=1/Le.cnt,K&&(Le.ac*=pe),Le.rc*=pe,Le.gc*=pe,Le.bc*=pe,J[De++]=Le)}c(R)/De<.022&&(V=!1);for(var Be,Re,ve,Te=0;Te<De-1;++Te)J[Te].fw=Te+1,J[Te+1].bk=Te,V&&(J[Te].cnt=Math.sqrt(J[Te].cnt));for(V&&(J[Te].cnt=Math.sqrt(J[Te].cnt)),Te=0;Te<De;++Te){s(J,Te,!1);var ge=J[Te].err;for(Re=++Oe[0];1<Re&&(ve=Re>>1,!(J[Be=Oe[ve]].err<=ge));Re=ve)Oe[Re]=Be;Oe[Re]=Te}var Ae,Ie=De-R;for(Te=0;Te<Ie;){for(;;){var de=Oe[1];if((Ae=J[de]).tm>=Ae.mtm&&J[Ae.nn].mtm<=Ae.tm)break;for(Ae.mtm==_e?de=Oe[1]=Oe[Oe[0]--]:(s(J,de,!1),Ae.tm=Te),ge=J[de].err,Re=1;(ve=Re+Re)<=Oe[0]&&(ve<Oe[0]&&J[Oe[ve]].err>J[Oe[ve+1]].err&&ve++,!(ge<=J[Be=Oe[ve]].err));Re=ve)Oe[Re]=Be;Oe[Re]=de}var ae=J[Ae.nn],ne=Ae.cnt,Me=ae.cnt,pe=1/(ne+Me);K&&(Ae.ac=pe*(ne*Ae.ac+Me*ae.ac)),Ae.rc=pe*(ne*Ae.rc+Me*ae.rc),Ae.gc=pe*(ne*Ae.gc+Me*ae.gc),Ae.bc=pe*(ne*Ae.bc+Me*ae.bc),Ae.cnt+=ae.cnt,Ae.mtm=++Te,J[ae.bk].fw=ae.fw,J[ae.fw].bk=ae.bk,ae.mtm=_e}let le=[];for(Te=0;;0){let Le=o(Math.round(J[Te].rc),0,255),h=o(Math.round(J[Te].gc),0,255),_=o(Math.round(J[Te].bc),0,255),T=255;K&&(T=o(Math.round(J[Te].ac),0,255),q&&(re=typeof q=="number"?q:127,T=T<=re?0:255),ee&&T<=xe&&(Le=h=_=fe,T=0));var re=K?[Le,h,_,T]:[Le,h,_];if(function(L,G){for(let F=0;F<L.length;F++){var W=L[F],B=W[0]===G[0]&&W[1]===G[1]&&W[2]===G[2],W=!(4<=W.length&&4<=G.length)||W[3]===G[3];if(B&&W)return!0}return!1}(le,re)||le.push(re),(Te=J[Te].fw)==0)break}return le},snapColorsToPalette:()=>function(N,R,I=5){if(N.length&&R.length){var H=N.map(V=>V.slice(0,3)),ee=I*I,fe=N[0].length;for(let V=0;V<R.length;V++){let K=R[V];K=K.length<fe?[K[0],K[1],K[2],255]:K.length>fe?K.slice(0,3):K.slice();var q=j(H,K.slice(0,3),v),xe=q[0],q=q[1];0<q&&q<=ee&&(N[xe]=K)}}}};for(y in g)m(f,y,{get:g[y],enumerable:!0});var d={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function u(N=256){let R=0,I=new Uint8Array(N);return{get buffer(){return I.buffer},reset(){R=0},bytesView(){return I.subarray(0,R)},bytes(){return I.slice(0,R)},writeByte(ee){H(R+1),I[R]=ee,R++},writeBytes(ee,fe=0,xe=ee.length){H(R+xe);for(let q=0;q<xe;q++)I[R++]=ee[q+fe]},writeBytesView(ee,fe=0,xe=ee.byteLength){H(R+xe),I.set(ee.subarray(fe,fe+xe),R),R+=xe}};function H(ee){var fe=I.length;if(!(ee<=fe)){ee=Math.max(ee,fe*(fe<1048576?2:1.125)>>>0),fe!=0&&(ee=Math.max(ee,256));const xe=I;I=new Uint8Array(ee),0<R&&I.set(xe.subarray(0,R),0)}}}var i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],r=function(N,R,I,K,ee=u(512),fe=new Uint8Array(256),xe=new Int32Array(5003),q=new Int32Array(5003)){var V=xe.length,K=Math.max(2,K);fe.fill(0),q.fill(0),xe.fill(-1);let J=0,oe=0;var _e=K+1;const Oe=_e;let De=!1,Te=Oe,Be=(1<<Te)-1;var Re=1<<_e-1;const ve=1+Re;let ge=2+Re,Ae=0,Ie=I[0],de=0;for(let re=V;re<65536;re*=2)++de;de=8-de,ee.writeByte(K),le(Re);var ae=I.length;for(let re=1;re<ae;re++)e:{var ne=I[re],Me=(ne<<12)+Ie;let Le=ne<<de^Ie;if(xe[Le]===Me)Ie=q[Le];else{for(var pe=Le===0?1:V-Le;0<=xe[Le];)if((Le-=pe)<0&&(Le+=V),xe[Le]===Me){Ie=q[Le];break e}le(Ie),Ie=ne,ge<4096?(q[Le]=ge++,xe[Le]=Me):(xe.fill(-1),ge=2+Re,De=!0,le(Re))}}return le(Ie),le(ve),ee.writeByte(0),ee.bytesView();function le(re){for(J&=i[oe],0<oe?J|=re<<oe:J=re,oe+=Te;8<=oe;)fe[Ae++]=255&J,254<=Ae&&(ee.writeByte(Ae),ee.writeBytesView(fe,0,Ae),Ae=0),J>>=8,oe-=8;if((ge>Be||De)&&(De?(Te=Oe,Be=(1<<Te)-1,De=!1):(++Te,Be=Te===12?1<<Te:(1<<Te)-1)),re==ve){for(;0<oe;)fe[Ae++]=255&J,254<=Ae&&(ee.writeByte(Ae),ee.writeBytesView(fe,0,Ae),Ae=0),J>>=8,oe-=8;0<Ae&&(ee.writeByte(Ae),ee.writeBytesView(fe,0,Ae),Ae=0)}}};function t(N,R,I){return N<<8&63488|R<<2&992|I>>3}function a(N,R,I,H){return N>>4|240&R|(240&I)<<4|(240&H)<<8}function l(N,R,I){return N>>4<<8|240&R|I>>4}function o(N,R,I){return N<R?R:I<N?I:N}function c(N){return N*N}function s(N,R,I){var H=0,ee=1e100;const fe=N[R];for(var xe=fe.cnt,q=fe.ac,V=fe.rc,K=fe.gc,J=fe.bc,oe=fe.fw;oe!=0;oe=N[oe].fw){var _e,Oe=N[oe],De=Oe.cnt,De=xe*De/(xe+De);ee<=De||(_e=0,I&&ee<=(_e+=De*c(Oe.ac-q))||ee<=(_e+=De*c(Oe.rc-V))||ee<=(_e+=De*c(Oe.gc-K))||ee<=(_e+=De*c(Oe.bc-J))||(ee=_e,H=oe))}fe.err=ee,fe.nn=H}function p(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function v(N,R){for(var I=0,H=0;H<N.length;H++){var ee=N[H]-R[H];I+=ee*ee}return I}function b(N,R){return 1<R?Math.round(N/R)*R:N}function x(N){return N*N}function w(N,R,I=v){let H=1/0,ee=-1;for(let xe=0;xe<N.length;xe++){var fe=I(R,N[xe]);fe<H&&(H=fe,ee=xe)}return ee}function j(N,R,I=v){let H=1/0,ee=-1;for(let xe=0;xe<N.length;xe++){var fe=I(R,N[xe]);fe<H&&(H=fe,ee=xe)}return[ee,H]}function E(N={}){const{initialCapacity:R=4096,auto:I=!0}=N,H=u(R),ee=new Uint8Array(256),fe=new Int32Array(5003),xe=new Int32Array(5003);let q=!1;return{reset(){H.reset(),q=!1},finish(){H.writeByte(d.trailer)},bytes(){return H.bytes()},bytesView(){return H.bytesView()},get buffer(){return H.buffer},get stream(){return H},writeHeader:V,writeFrame(K,J,oe,Ie={}){var{transparent:Oe=!1,transparentIndex:De=0,delay:pe=0,palette:Te=null,repeat:ae=0,colorDepth:Be=8,dispose:Re=-1}=Ie;let ve=!1;if(I?q||(ve=!0,V(),q=!0):ve=!!Ie.first,J=Math.max(0,Math.floor(J)),oe=Math.max(0,Math.floor(oe)),ve){if(!Te)throw new Error("First frame must include a { palette } option");var[Ie,ne,Ae,Me,de=8]=[H,J,oe,Te,Be];Me=O(Me.length)-1,de=128|de-1<<4|Me,C(Ie,ne),C(Ie,Ae),Ie.writeBytes([de,0,0]),M(H,Te),0<=ae&&(Me=H,ne=ae,Me.writeByte(33),Me.writeByte(255),Me.writeByte(11),P(Me,"NETSCAPE2.0"),Me.writeByte(3),Me.writeByte(1),C(Me,ne),Me.writeByte(0))}var ge,Ae=Math.round(pe/10),Ie=H,de=Re,ae=Ae,ne=Oe,Me=De,pe=(Ie.writeByte(33),Ie.writeByte(249),Ie.writeByte(4),Me<0&&(Me=0,ne=!1),ne=ne?(ge=1,2):ge=0,0<=de&&(ne=7&de),ne<<=2,Ie.writeByte(0|ne|ge),C(Ie,ae),Ie.writeByte(Me||0),Ie.writeByte(0),!!Te&&!ve);Re=H,Oe=J,De=oe,ge=pe?Te:null,Re.writeByte(44),C(Re,0),C(Re,0),C(Re,Oe),C(Re,De),ge?(Oe=O(ge.length)-1,Re.writeByte(128|Oe)):Re.writeByte(0),pe&&M(H,Te),[ae,Ie,De,Oe,Re=8,pe,Te,K]=[H,K,J,oe,Be,ee,fe,xe],r(De,Oe,Ie,Re,ae,pe,Te,K)}};function V(){P(H,"GIF89a")}}function M(N,R){var I=1<<O(R.length);for(let H=0;H<I;H++){let ee=[0,0,0];H<R.length&&(ee=R[H]),N.writeByte(ee[0]),N.writeByte(ee[1]),N.writeByte(ee[2])}}function C(N,R){N.writeByte(255&R),N.writeByte(R>>8&255)}function P(N,R){for(var I=0;I<R.length;I++)N.writeByte(R.charCodeAt(I))}function O(N){return Math.max(Math.ceil(Math.log2(N)),1)}var D=E},{}],244:[function(n,Z,S){S.read=function(y,m,f,g,s){var u,i,r=8*s-g-1,t=(1<<r)-1,a=t>>1,l=-7,o=f?s-1:0,c=f?-1:1,s=y[m+o];for(o+=c,u=s&(1<<-l)-1,s>>=-l,l+=r;0<l;u=256*u+y[m+o],o+=c,l-=8);for(i=u&(1<<-l)-1,u>>=-l,l+=g;0<l;i=256*i+y[m+o],o+=c,l-=8);if(u===0)u=1-a;else{if(u===t)return i?NaN:1/0*(s?-1:1);i+=Math.pow(2,g),u-=a}return(s?-1:1)*i*Math.pow(2,u-g)},S.write=function(y,m,f,g,d,p){var i,r,t=8*p-d-1,a=(1<<t)-1,l=a>>1,o=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=g?0:p-1,s=g?1:-1,p=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(r=isNaN(m)?1:0,i=a):(i=Math.floor(Math.log(m)/Math.LN2),m*(g=Math.pow(2,-i))<1&&(i--,g*=2),2<=(m+=1<=i+l?o/g:o*Math.pow(2,1-l))*g&&(i++,g/=2),a<=i+l?(r=0,i=a):1<=i+l?(r=(m*g-1)*Math.pow(2,d),i+=l):(r=m*Math.pow(2,l-1)*Math.pow(2,d),i=0));8<=d;y[f+c]=255&r,c+=s,r/=256,d-=8);for(i=i<<d|r,t+=d;0<t;y[f+c]=255&i,c+=s,i/=256,t-=8);y[f+c-s]|=128*p}},{}],245:[function(n,Z,S){var y;function m(B,W){return B.b===W.b&&B.a===W.a}function f(B,W){return B.b<W.b||B.b===W.b&&B.a<=W.a}function g(B,W,F){var Y=W.b-B.b,ie=F.b-W.b;return 0<Y+ie?Y<ie?W.a-B.a+Y/(Y+ie)*(B.a-F.a):W.a-F.a+ie/(Y+ie)*(F.a-B.a):0}function d(B,W,F){var Y=W.b-B.b,ie=F.b-W.b;return 0<Y+ie?(W.a-F.a)*Y+(W.a-B.a)*ie:0}function u(B,W){return B.a<W.a||B.a===W.a&&B.b<=W.b}function i(B,W,F){var Y=W.a-B.a,ie=F.a-W.a;return 0<Y+ie?Y<ie?W.b-B.b+Y/(Y+ie)*(B.b-F.b):W.b-F.b+ie/(Y+ie)*(F.b-B.b):0}function r(B,W,F){var Y=W.a-B.a,ie=F.a-W.a;return 0<Y+ie?(W.b-F.b)*Y+(W.b-B.b)*ie:0}function t(B,W,F,Y){return(B=B<0?0:B)<=(F=F<0?0:F)?F===0?(W+Y)/2:W+B/(B+F)*(Y-W):Y+F/(B+F)*(W-Y)}function a(B){var W=p(B.b);return b(W,B.c),b(W.b,B.c),x(W,B.a),W}function l(B,W){var F=!1,Y=!1;B!==W&&(W.a!==B.a&&(Y=!0,j(W.a,B.a)),W.d!==B.d&&(F=!0,E(W.d,B.d)),v(W,B),Y||(b(W,B.a),B.a.c=B),F||(x(W,B.d),B.d.a=B))}function o(B){var W=B.b,F=!1;B.d!==B.b.d&&(F=!0,E(B.d,B.b.d)),B.c===B?j(B.a,null):(B.b.d.a=B.b.e,B.a.c=B.c,v(B,B.b.e),F||x(B,B.d)),W.c===W?(j(W.a,null),E(W.d,null)):(B.d.a=W.b.e,W.a.c=W.c,v(W,W.b.e)),w(B)}function c(B){var W=p(B),F=W.b;return v(W,B.e),W.a=B.b.a,b(F,W.a),W.d=F.d=B.d,W=W.b,v(B.b,B.b.b.e),v(B.b,W),B.b.a=W.a,W.b.a.c=W.b,W.b.d=B.b.d,W.f=B.f,W.b.f=B.b.f,W}function s(B,W){var F=!1,Y=p(B),ie=Y.b;return W.d!==B.d&&(F=!0,E(W.d,B.d)),v(Y,B.e),v(ie,W),Y.a=B.b.a,ie.a=W.a,Y.d=ie.d=B.d,B.d.a=ie,F||x(Y,B.d),Y}function p(B){var W=new Ae,F=new Ae,Y=B.b.h;return(((F.h=Y).b.h=W).h=B).b.h=F,W.b=F,((W.c=W).e=F).b=W,(F.c=F).e=W}function v(B,W){var F=B.c,Y=W.c;F.b.e=W,(Y.b.e=B).c=Y,W.c=F}function b(B,W){var F=W.f,Y=new de(W,F);for(F.e=Y,F=(W.f=Y).c=B;F.a=Y,(F=F.c)!==B;);}function x(B,W){var F=W.d,Y=new ge(W,F);for(F.b=Y,(W.d=Y).a=B,Y.c=W.c,F=B;F.d=Y,(F=F.e)!==B;);}function w(B){var W=B.h;B=B.b.h,(W.b.h=B).b.h=W}function j(B,W){for(var F=B.c,Y=F;Y.a=W,(Y=Y.c)!==F;);F=B.f,((Y=B.e).f=F).e=Y}function E(B,W){for(var F=B.a,Y=F;Y.d=W,(Y=Y.e)!==F;);F=B.d,((Y=B.b).d=F).b=Y}function M(B){var W=0;return Math.abs(B[1])>Math.abs(B[0])&&(W=1),W=Math.abs(B[2])>Math.abs(B[W])?2:W}function C(B,W){B.f+=W.f,B.b.f+=W.b.f}function P(B,W,F){return B=B.a,W=W.a,F=F.a,W.b.a===B?F.b.a===B?f(W.a,F.a)?d(F.b.a,W.a,F.a)<=0:0<=d(W.b.a,F.a,W.a):d(F.b.a,B,F.a)<=0:F.b.a===B?0<=d(W.b.a,B,W.a):(W=g(W.b.a,B,W.a),(B=g(F.b.a,B,F.a))<=W)}function O(B){B.a.i=null;var W=B.e;W.a.c=W.c,W.c.a=W.a,B.e=null}function D(B,W){o(B.a),B.c=!1,(B.a=W).i=B}function N(B){for(var W=B.a.a;(B=G(B)).a.a===W;);return B.c&&(D(B,W=s(L(B).a.b,B.a.e)),B=G(B)),B}function R(B,W,F){var Y=new T;return Y.a=F,Y.e=De(B.f,W.e,Y),F.i=Y}function I(B,W){switch(B.s){case 100130:return(1&W)!=0;case 100131:return W!==0;case 100132:return 0<W;case 100133:return W<0;case 100134:return 2<=W||W<=-2}return!1}function H(B){var W=B.a,F=W.d;F.c=B.d,F.a=W,O(B)}function ee(B,W,F){for(W=(B=W).a;B!==F;){B.c=!1;var Y=L(B),ie=Y.a;if(ie.a!==W.a){if(!Y.c){H(B);break}D(Y,ie=s(W.c.b,ie.b))}W.c!==ie&&(l(ie.b.e,ie),l(W,ie)),H(B),W=Y.a,B=Y}return W}function fe(B,W,F,Y,ie,he){for(var U=!0;R(B,W,F.b),(F=F.c)!==Y;);for(ie===null&&(ie=L(W).a.b.c);(F=(Y=L(W)).a.b).a===ie.a;)F.c!==ie&&(l(F.b.e,F),l(ie.b.e,F)),Y.f=W.f-F.f,Y.d=I(B,Y.f),W.b=!0,!U&&K(B,W)&&(C(F,ie),O(W),o(ie)),U=!1,W=Y,ie=F;W.b=!0,he&&oe(B,W)}function xe(B,W,F,Y,ie){var he=[W.g[0],W.g[1],W.g[2]];W.d=null,W.d=B.o&&B.o(he,F,Y,B.c)||null,W.d===null&&(ie?B.n||(ve(B,100156),B.n=!0):W.d=F[0])}function q(B,W,F){var Y=[null,null,null,null];Y[0]=W.a.d,Y[1]=F.a.d,xe(B,W.a,Y,[.5,.5,0,0],!1),l(W,F)}function V(B,W,F,Y,ie){var he=Math.abs(W.b-B.b)+Math.abs(W.a-B.a),U=Math.abs(F.b-B.b)+Math.abs(F.a-B.a),se=ie+1;Y[ie]=.5*U/(he+U),Y[se]=.5*he/(he+U),B.g[0]+=Y[ie]*W.g[0]+Y[se]*F.g[0],B.g[1]+=Y[ie]*W.g[1]+Y[se]*F.g[1],B.g[2]+=Y[ie]*W.g[2]+Y[se]*F.g[2]}function K(B,W){var F=L(W),Y=W.a,ie=F.a;if(f(Y.a,ie.a)){if(0<d(ie.b.a,Y.a,ie.a))return;if(m(Y.a,ie.a)){if(Y.a!==ie.a){var F=B.e,he=Y.a.h;if(0<=he){var U=(F=F.b).d,se=F.e,ue=F.c,we=ue[he];U[we]=U[F.a],(ue[U[we]]=we)<=--F.a&&(we<=1||f(se[U[we>>1]],se[U[we]])?h:_)(F,we),se[he]=null,ue[he]=F.b,F.b=he}else for(F.c[-(he+1)]=null;0<F.a&&F.c[F.d[F.a-1]]===null;)--F.a;q(B,ie.b.e,Y)}}else c(ie.b),l(Y,ie.b.e),W.b=F.b=!0}else{if(d(Y.b.a,ie.a,Y.a)<0)return;G(W).b=W.b=!0,c(Y.b),l(ie.b.e,Y)}return 1}function J(B,W){var F=L(W),Y=W.a,ie=F.a,he=Y.a,U=ie.a,se=Y.b.a,ue=ie.b.a,we=new de;if(d(se,B.a,he),d(ue,B.a,U),!(he===U||Math.min(he.a,se.a)>Math.max(U.a,ue.a))){if(f(he,U)){if(0<d(ue,he,U))return}else if(d(se,U,he)<0)return;var ce,Se,$=se,je=he,be=ue,k=U;if(f($,je)||(ce=$,$=je,je=ce),f(be,k)||(ce=be,be=k,k=ce),f($,be)||(ce=$,$=be,be=ce,ce=je,je=k,k=ce),f(be,je)?f(je,k)?((ce=g($,be,je))+(Se=g(be,je,k))<0&&(ce=-ce,Se=-Se),we.b=t(ce,be.b,Se,je.b)):((ce=d($,be,je))+(Se=-d($,k,je))<0&&(ce=-ce,Se=-Se),we.b=t(ce,be.b,Se,k.b)):we.b=(be.b+je.b)/2,u($,je)||(ce=$,$=je,je=ce),u(be,k)||(ce=be,be=k,k=ce),u($,be)||(ce=$,$=be,be=ce,ce=je,je=k,k=ce),u(be,je)?u(je,k)?((ce=i($,be,je))+(Se=i(be,je,k))<0&&(ce=-ce,Se=-Se),we.a=t(ce,be.a,Se,je.a)):((ce=r($,be,je))+(Se=-r($,k,je))<0&&(ce=-ce,Se=-Se),we.a=t(ce,be.a,Se,k.a)):we.a=(be.a+je.a)/2,f(we,B.a)&&(we.b=B.a.b,we.a=B.a.a),$=f(he,U)?he:U,f($,we)&&(we.b=$.b,we.a=$.a),m(we,he)||m(we,U))return K(B,W),0;if(!m(se,B.a)&&0<=d(se,B.a,we)||!m(ue,B.a)&&d(ue,B.a,we)<=0){if(ue===B.a)c(Y.b),l(ie.b,Y),Y=L(W=N(W)).a,ee(B,L(W),F),fe(B,W,Y.b.e,Y,Y,!0);else{if(se!==B.a)return 0<=d(se,B.a,we)&&(G(W).b=W.b=!0,c(Y.b),Y.a.b=B.a.b,Y.a.a=B.a.a),void(d(ue,B.a,we)<=0&&(W.b=F.b=!0,c(ie.b),ie.a.b=B.a.b,ie.a.a=B.a.a));for(c(ie.b),l(Y.e,ie.b.e),U=(he=F=W).a.b.a;(he=G(he)).a.b.a===U;);he=L(W=he).a.b.c,F.a=ie.b.e,fe(B,W,(ie=ee(B,F,null)).c,Y.b.c,he,!0)}return 1}c(Y.b),c(ie.b),l(ie.b.e,Y),Y.a.b=we.b,Y.a.a=we.a,Y.a.h=ne(B.e,Y.a),Y=Y.a,ie=[0,0,0,0],we=[he.d,se.d,U.d,ue.d],Y.g[0]=Y.g[1]=Y.g[2]=0,V(Y,he,se,ie,0),V(Y,U,ue,ie,2),xe(B,Y,we,ie,!0),G(W).b=W.b=F.b=!0}}function oe(B,W){for(var F=L(W);;){for(;F.b;)F=L(W=F);if(!W.b&&((W=G(F=W))===null||!W.b))break;W.b=!1;var Y=W.a,ie=F.a;if(he=Y.b.a!==ie.b.a)e:{var he,U=L(he=W),se=he.a,ue=U.a,we=void 0;if(f(se.b.a,ue.b.a)){if(d(se.b.a,ue.b.a,se.a)<0){he=!1;break e}G(he).b=he.b=!0,we=c(se),l(ue.b,we),we.d.c=he.d}else{if(0<d(ue.b.a,se.b.a,ue.a)){he=!1;break e}he.b=U.b=!0,we=c(ue),l(se.e,ue.b),we.b.d.c=he.d}he=!0}if(he&&(F.c?(O(F),o(ie),ie=(F=L(W)).a):W.c&&(O(W),o(Y),Y=(W=G(F)).a)),Y.a!==ie.a){if(Y.b.a===ie.b.a||W.c||F.c||Y.b.a!==B.a&&ie.b.a!==B.a)K(B,W);else if(J(B,W))break}Y.a===ie.a&&Y.b.a===ie.b.a&&(C(ie,Y),O(W),o(Y),W=G(F))}}function _e(B,W){var F=new T,Y=a(B.b);Y.a.b=4e150,Y.a.a=W,Y.b.a.b=-4e150,Y.b.a.a=W,B.a=Y.b.a,F.a=Y,F.f=0,F.d=!1,F.c=!1,F.h=!0,F.b=!1,Y=De(Y=B.f,Y.a,F),F.e=Y}function Oe(B){this.a=new Te,this.b=B,this.c=P}function De(B,W,F){for(;(W=W.c).b!==null&&!B.c(B.b,W.b,F););return B=new Te(F,W.a,W),W.a.c=B,W.a=B}function Te(B,W,F){this.b=B||null,this.a=W||this,this.c=F||this}function Be(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Re(B,W){if(B.d!==W)for(;B.d!==W;)if(B.d<W)switch(B.d){case 0:ve(B,100151),B.u(null);break;case 1:ve(B,100152),B.t()}else switch(B.d){case 2:ve(B,100154),B.v();break;case 1:ve(B,100153),B.w()}}function ve(B,W){B.p&&B.p(W,B.c)}function ge(B,W){this.b=B||this,this.d=W||this,this.a=null,this.c=!1}function Ae(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ie(){this.c=new de,this.a=new ge,this.b=new Ae,this.d=new Ae,this.b.b=this.d,this.d.b=this.b}function de(B,W){this.e=B||this,this.f=W||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ae(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new pe}function ne(B,W){var F,Y,ie;return B.e?(2*(Y=++(F=B.b).a)>F.f&&(F.f*=2,F.c=le(F.c,F.f+1)),F.b===0?ie=Y:(ie=F.b,F.b=F.c[F.b]),F.e[ie]=W,F.c[ie]=Y,F.d[Y]=ie,F.h&&_(F,Y),ie):(F=B.a++,B.c[F]=W,-(F+1))}function Me(B){if(B.a===0)return Le(B.b);var W=B.c[B.d[B.a-1]];if(B.b.a!==0&&f(re(B.b),W))return Le(B.b);for(;--B.a,0<B.a&&B.c[B.d[B.a-1]]===null;);return W}function pe(){this.d=le([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function le(B,W){for(var F=Array(W),Y=0;Y<B.length;Y++)F[Y]=B[Y];for(;Y<W;Y++)F[Y]=0;return F}function re(B){return B.e[B.d[1]]}function Le(B){var W=B.d,F=B.e,Y=B.c,ie=W[1],he=F[ie];return 0<B.a&&(W[1]=W[B.a],Y[W[1]]=1,F[ie]=null,Y[ie]=B.b,B.b=ie,0<--B.a&&h(B,1)),he}function h(B,W){for(var F=B.d,Y=B.e,ie=B.c,he=W,U=F[he];;){var se=he<<1,ue=(se<B.a&&f(Y[F[se+1]],Y[F[se]])&&(se+=1),F[se]);if(se>B.a||f(Y[U],Y[ue])){ie[F[he]=U]=he;break}ie[F[he]=ue]=he,he=se}}function _(B,W){for(var F=B.d,Y=B.e,ie=B.c,he=W,U=F[he];;){var se=he>>1,ue=F[se];if(se==0||f(Y[ue],Y[U])){ie[F[he]=U]=he;break}ie[F[he]=ue]=he,he=se}}function T(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function L(B){return B.e.c.b}function G(B){return B.e.a.b}(y=Be.prototype).x=function(){Re(this,0)},y.B=function(B,W){switch(B){case 100142:return;case 100140:switch(W){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=W)}break;case 100141:return void(this.m=!!W);default:return void ve(this,100900)}ve(this,100901)},y.y=function(B){switch(B){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ve(this,100900)}return!1},y.A=function(B,W,F){this.j[0]=B,this.j[1]=W,this.j[2]=F},y.z=function(B,W){var F=W||null;switch(B){case 100100:case 100106:this.h=F;break;case 100104:case 100110:this.l=F;break;case 100101:case 100107:this.k=F;break;case 100102:case 100108:this.i=F;break;case 100103:case 100109:this.p=F;break;case 100105:case 100111:this.o=F;break;case 100112:this.r=F;break;default:ve(this,100900)}},y.C=function(B,W){var F=!1,Y=[0,0,0];Re(this,2);for(var ie=0;ie<3;++ie){var he=B[ie];he<-1e150&&(he=-1e150,F=!0),1e150<he&&(he=1e150,F=!0),Y[ie]=he}F&&ve(this,100155),(F=this.q)===null?l(F=a(this.b),F.b):(c(F),F=F.e),F.a.d=W,F.a.g[0]=Y[0],F.a.g[1]=Y[1],F.a.g[2]=Y[2],F.f=1,F.b.f=-1,this.q=F},y.u=function(B){Re(this,0),this.d=1,this.b=new Ie,this.c=B},y.t=function(){Re(this,1),this.d=2,this.q=null},y.v=function(){Re(this,2),this.d=1},y.w=function(){Re(this,1),this.d=0;var B,W,F=this.j[0],Y=this.j[1],ie=this.j[2],he=!1,U=[F,Y,ie];if(F===0&&Y===0&&ie===0){for(var Y=[-2e150,-2e150,-2e150],se=[2e150,2e150,2e150],ie=[],ue=[],F=(he=this.b.c).e;F!==he;F=F.e)for(var we=0;we<3;++we){var ce=F.g[we];ce<se[we]&&(se[we]=ce,ue[we]=F),ce>Y[we]&&(Y[we]=ce,ie[we]=F)}if(Y[1]-se[1]>Y[F=0]-se[0]&&(F=1),se[F=Y[2]-se[2]>Y[F]-se[F]?2:F]>=Y[F])U[0]=0,U[1]=0,U[2]=1;else{for(se=ue[F],ie=ie[F],ue=[Y=0,0,0],se=[se.g[0]-ie.g[0],se.g[1]-ie.g[1],se.g[2]-ie.g[2]],we=[0,0,0],F=he.e;F!==he;F=F.e)we[0]=F.g[0]-ie.g[0],we[1]=F.g[1]-ie.g[1],we[2]=F.g[2]-ie.g[2],ue[0]=se[1]*we[2]-se[2]*we[1],ue[1]=se[2]*we[0]-se[0]*we[2],ue[2]=se[0]*we[1]-se[1]*we[0],Y<(ce=ue[0]*ue[0]+ue[1]*ue[1]+ue[2]*ue[2])&&(Y=ce,U[0]=ue[0],U[1]=ue[1],U[2]=ue[2]);Y<=0&&(U[0]=U[1]=U[2]=0,U[M(se)]=1)}he=!0}for(ue=M(U),F=this.b.c,Y=(ue+1)%3,ie=(ue+2)%3,ue=0<U[ue]?1:-1,U=F.e;U!==F;U=U.e)U.b=U.g[Y],U.a=ue*U.g[ie];if(he){for(U=0,F=(he=this.b.a).b;F!==he;F=F.b)if(!((Y=F.a).f<=0))for(;U+=(Y.a.b-Y.b.a.b)*(Y.a.a+Y.b.a.a),(Y=Y.e)!==F.a;);if(U<0)for(he=(U=this.b.c).e;he!==U;he=he.e)he.a=-he.a}for(this.n=!1,U=this.b.b,F=U.h;F!==U;F=he)he=F.h,Y=F.e,m(F.a,F.b.a)&&F.e.e!==F&&(q(this,Y,F),o(F),Y=(F=Y).e),Y.e===F&&(Y!==F&&(Y!==he&&Y!==he.b||(he=he.h),o(Y)),F!==he&&F!==he.b||(he=he.h),o(F));for(this.e=U=new ae,he=this.b.c,F=he.e;F!==he;F=F.e)F.h=ne(U,F);var Se=U;Se.d=[];for(var $=0;$<Se.a;$++)Se.d[$]=$;Se.d.sort(function(k){return function(ye,Ce){return f(k[ye],k[Ce])?1:-1}}(Se.c)),Se.e=!0;for(var je=Se.b,be=je.a;1<=be;--be)h(je,be);for(je.h=!0,this.f=new Oe(this),_e(this,-4e150),_e(this,4e150);(U=Me(this.e))!==null;){for(;;){e:if((F=this.e).a===0)he=re(F.b);else if(he=F.c[F.d[F.a-1]],F.b.a!==0&&f(F=re(F.b),he)){he=F;break e}if(he===null||!m(he,U))break;he=Me(this.e),q(this,U.c,he.c)}(function k(ye,Ce){for(var X,Ee=(ye.a=Ce).c;Ee.i===null;)if((Ee=Ee.c)===Ce.c){var Ee=ye,Fe=Ce;(We=new T).a=Fe.c.b;for(var Qe=(Ne=Ee.f).a;(Qe=Qe.a).b!==null&&!Ne.c(Ne.b,We,Qe.b););var Ne,Ge,ze=L(Ne=Qe.b),We=Ne.a,Qe=ze.a;return void(d(We.b.a,Fe,We.a)===0?m((We=Ne.a).a,Fe)||m(We.b.a,Fe)||(c(We.b),Ne.c&&(o(We.c),Ne.c=!1),l(Fe.c,We),k(Ee,Fe)):(Ge=f(Qe.b.a,We.b.a)?Ne:ze,ze=void 0,Ne.d||Ge.c?(ze=Ge===Ne?s(Fe.c.b,We.e):s(Qe.b.c.b,Fe.c).b,Ge.c?D(Ge,ze):((Ne=R(We=Ee,Ne,ze)).f=G(Ne).f+Ne.a.f,Ne.d=I(We,Ne.f)),k(Ee,Fe)):fe(Ee,Ne,Fe.c,Fe.c,null,!0)))}Ne=(We=L(Ee=N(Ee.i))).a,(We=ee(ye,We,null)).c===Ne?(We=(Ne=We).c,Qe=L(Ee),ze=Ee.a,Ge=Qe.a,X=!1,ze.b.a!==Ge.b.a&&J(ye,Ee),m(ze.a,ye.a)&&(l(We.b.e,ze),We=L(Ee=N(Ee)).a,ee(ye,L(Ee),Qe),X=!0),m(Ge.a,ye.a)&&(l(Ne,Ge.b.e),Ne=ee(ye,Qe,null),X=!0),X?fe(ye,Ee,Ne.c,We,We,!0):(Fe=f(Ge.a,ze.a)?Ge.b.e:ze,fe(ye,Ee,Fe=s(Ne.c.b,Fe),Fe.c,Fe.c,!1),Fe.b.i.c=!0,oe(ye,Ee))):fe(ye,Ee,We.c,Ne,Ne,!0)})(this,U)}for(this.a=this.f.a.a.b.a.a,U=0;(he=this.f.a.a.b)!==null;)he.h||++U,O(he);for(this.f=null,(U=this.e).b=null,U.d=null,this.e=U.c=null,U=this.b,F=U.a.b;F!==U.a;F=he)he=F.b,(F=F.a).e.e===F&&(C(F.c,F),o(F));if(!this.n){if(U=this.b,this.m)for(F=U.b.h;F!==U.b;F=he)he=F.h,F.b.d.c!==F.d.c?F.f=F.d.c?1:-1:o(F);else for(F=U.a.b;F!==U.a;F=he)if(he=F.b,F.c){for(F=F.a;f(F.b.a,F.a);F=F.c.b);for(;f(F.a,F.b.a);F=F.e);for(Y=F.c.b,ie=void 0;F.e!==Y;)if(f(F.b.a,Y.a)){for(;Y.e!==F&&(f((W=Y.e).b.a,W.a)||d(Y.a,Y.b.a,Y.e.b.a)<=0);)Y=(ie=s(Y.e,Y)).b;Y=Y.c.b}else{for(;Y.e!==F&&(f((B=F.c.b).a,B.b.a)||0<=d(F.b.a,F.a,F.c.b.a));)F=(ie=s(F,F.c.b)).b;F=F.e}for(;Y.e.e!==F;)ie=s(Y.e,Y),Y=ie.b}if(this.h||this.i||this.k||this.l)if(this.m){for(he=(U=this.b).a.b;he!==U.a;he=he.b)if(he.c){for(this.h&&this.h(2,this.c),F=he.a;this.k&&this.k(F.a.d,this.c),(F=F.e)!==he.a;);this.i&&this.i(this.c)}}else{for(U=this.b,he=!!this.l,F=!1,Y=-1,ie=U.a.d;ie!==U.a;ie=ie.d)if(ie.c)for(F||(this.h&&this.h(4,this.c),F=!0),ue=ie.a;he&&(se=ue.b.d.c?0:1,Y!==se&&(Y=se,this.l&&this.l(!!Y,this.c))),this.k&&this.k(ue.a.d,this.c),(ue=ue.e)!==ie.a;);F&&this.i&&this.i(this.c)}if(this.r){for(U=this.b,F=U.a.b;F!==U.a;F=he)if(he=F.b,!F.c){for(ie=(Y=F.a).e,ue=void 0;ie=(ue=ie).e,(ue.d=null)===ue.b.d&&(ue.c===ue?j(ue.a,null):(ue.a.c=ue.c,v(ue,ue.b.e)),(se=ue.b).c===se?j(se.a,null):(se.a.c=se.c,v(se,se.b.e)),w(ue)),ue!==Y;);Y=F.d,((F=F.b).d=Y).b=F}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Be,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Be.prototype.gluDeleteTess=Be.prototype.x,Be.prototype.gluTessProperty=Be.prototype.B,Be.prototype.gluGetTessProperty=Be.prototype.y,Be.prototype.gluTessNormal=Be.prototype.A,Be.prototype.gluTessCallback=Be.prototype.z,Be.prototype.gluTessVertex=Be.prototype.C,Be.prototype.gluTessBeginPolygon=Be.prototype.u,Be.prototype.gluTessBeginContour=Be.prototype.t,Be.prototype.gluTessEndContour=Be.prototype.v,Be.prototype.gluTessEndPolygon=Be.prototype.w,Z!==void 0&&(Z.exports=this.libtess)},{}],246:[function(n,Z,S){function y(f,g,d,u){var i=0,r=(u=u===void 0?{}:u).loop===void 0?null:u.loop,t=u.palette===void 0?null:u.palette;if(g<=0||d<=0||65535<g||65535<d)throw new Error("Width/Height invalid.");function a(x){if(x=x.length,x<2||256<x||x&x-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return x}f[i++]=71,f[i++]=73,f[i++]=70,f[i++]=56,f[i++]=57,f[i++]=97;var l=0,o=0;if(t!==null){for(var c=a(t);c>>=1;)++l;if(c=1<<l,--l,u.background!==void 0){if(c<=(o=u.background))throw new Error("Background index out of range.");if(o===0)throw new Error("Background index explicitly passed as 0.")}}if(f[i++]=255&g,f[i++]=g>>8&255,f[i++]=255&d,f[i++]=d>>8&255,f[i++]=(t!==null?128:0)|l,f[i++]=o,f[i++]=0,t!==null)for(var s=0,p=t.length;s<p;++s){var v=t[s];f[i++]=v>>16&255,f[i++]=v>>8&255,f[i++]=255&v}if(r!==null){if(r<0||65535<r)throw new Error("Loop count invalid.");f[i++]=33,f[i++]=255,f[i++]=11,f[i++]=78,f[i++]=69,f[i++]=84,f[i++]=83,f[i++]=67,f[i++]=65,f[i++]=80,f[i++]=69,f[i++]=50,f[i++]=46,f[i++]=48,f[i++]=3,f[i++]=1,f[i++]=255&r,f[i++]=r>>8&255,f[i++]=0}var b=!1;this.addFrame=function(x,w,j,E,M,C){if(b===!0&&(--i,b=!1),C=C===void 0?{}:C,x<0||w<0||65535<x||65535<w)throw new Error("x/y invalid.");if(j<=0||E<=0||65535<j||65535<E)throw new Error("Width/Height invalid.");if(M.length<j*E)throw new Error("Not enough pixels for the frame size.");var P=!0,O=C.palette;if(O==null&&(P=!1,O=t),O==null)throw new Error("Must supply either a local or global palette.");for(var N=a(O),D=0;N>>=1;)++D;var N=1<<D,R=C.delay===void 0?0:C.delay,I=C.disposal===void 0?0:C.disposal;if(I<0||3<I)throw new Error("Disposal out of range.");var H=!1,ee=0;if(C.transparent!==void 0&&C.transparent!==null&&(H=!0,(ee=C.transparent)<0||N<=ee))throw new Error("Transparent color index.");if(I===0&&!H&&R===0||(f[i++]=33,f[i++]=249,f[i++]=4,f[i++]=I<<2|(H===!0?1:0),f[i++]=255&R,f[i++]=R>>8&255,f[i++]=ee,f[i++]=0),f[i++]=44,f[i++]=255&x,f[i++]=x>>8&255,f[i++]=255&w,f[i++]=w>>8&255,f[i++]=255&j,f[i++]=j>>8&255,f[i++]=255&E,f[i++]=E>>8&255,f[i++]=P===!0?128|D-1:0,P===!0)for(var fe=0,xe=O.length;fe<xe;++fe){var q=O[fe];f[i++]=q>>16&255,f[i++]=q>>8&255,f[i++]=255&q}return i=function(V,K,J,oe){V[K++]=J;var _e=K++,Oe=1<<J,De=Oe-1,Te=1+Oe,Be=1+Te,Re=J+1,ve=0,ge=0;function Ae(Le){for(;Le<=ve;)V[K++]=255&ge,ge>>=8,ve-=8,K===_e+256&&(V[_e]=255,_e=K++)}function Ie(Le){ge|=Le<<ve,ve+=Re,Ae(8)}var de=oe[0]&De,ae={};Ie(Oe);for(var ne=1,Me=oe.length;ne<Me;++ne){var pe=oe[ne]&De,le=de<<8|pe,re=ae[le];if(re===void 0){for(ge|=de<<ve,ve+=Re;8<=ve;)V[K++]=255&ge,ge>>=8,ve-=8,K===_e+256&&(V[_e]=255,_e=K++);Be===4096?(Ie(Oe),Be=1+Te,Re=J+1,ae={}):(1<<Re<=Be&&++Re,ae[le]=Be++),de=pe}else de=re}return Ie(de),Ie(Te),Ae(1),_e+1===K?V[_e]=0:(V[_e]=K-_e-1,V[K++]=0),K}(f,i,D<2?2:D,M)},this.end=function(){return b===!1&&(f[i++]=59,b=!0),i},this.getOutputBuffer=function(){return f},this.setOutputBuffer=function(x){f=x},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(x){i=x}}function m(f,g,d,u){for(var i=f[g++],r=1<<i,t=1+r,a=1+t,l=i+1,o=(1<<l)-1,c=0,s=0,p=0,v=f[g++],b=new Int32Array(4096),x=null;;){for(;c<16&&v!==0;)s|=f[g++]<<c,c+=8,v===1?v=f[g++]:--v;if(c<l)break;var w=s&o;if(s>>=l,c-=l,w==r)a=1+t,o=(1<<(l=i+1))-1,x=null;else{if(w==t)break;for(var j=w<a?w:x,E=0,M=j;r<M;)M=b[M]>>8,++E;var C=M;if(u<p+E+(j!==w?1:0))return void console.log("Warning, gif stream longer than expected.");d[p++]=C;var P=p+=E;for(j!==w&&(d[p++]=C),M=j;E--;)M=b[M],d[--P]=255&M,M>>=8;x!==null&&a<4096&&(b[a++]=x<<8|C,o+1<=a&&l<12&&(++l,o=o<<1|1)),x=w}}p!==u&&console.log("Warning, gif stream shorter than expected.")}try{S.GifWriter=y,S.GifReader=function(f){var g=0;if(f[g++]!==71||f[g++]!==73||f[g++]!==70||f[g++]!==56||(f[g++]+1&253)!=56||f[g++]!==97)throw new Error("Invalid GIF 87a/89a header.");var d=f[g++]|f[g++]<<8,u=f[g++]|f[g++]<<8,i=f[g++],r=1<<1+(7&i),t=(f[g++],f[g++],null),a=null,l=(i>>7&&(t=g,g+=3*(a=r)),!0),o=[],c=0,s=null,p=0,v=null;for(this.width=d,this.height=u;l&&g<f.length;)switch(f[g++]){case 33:switch(f[g++]){case 255:if(f[g]!==11||f[g+1]==78&&f[g+2]==69&&f[g+3]==84&&f[g+4]==83&&f[g+5]==67&&f[g+6]==65&&f[g+7]==80&&f[g+8]==69&&f[g+9]==50&&f[g+10]==46&&f[g+11]==48&&f[g+12]==3&&f[g+13]==1&&f[g+16]==0)g+=14,v=f[g++]|f[g++]<<8,g++;else for(g+=12;;){if(!(0<=(x=f[g++])))throw Error("Invalid block size");if(x===0)break;g+=x}break;case 249:if(f[g++]!==4||f[g+4]!==0)throw new Error("Invalid graphics extension block.");var b=f[g++],c=f[g++]|f[g++]<<8,s=f[g++];!(1&b)&&(s=null),p=b>>2&7,g++;break;case 254:for(;;){if(!(0<=(x=f[g++])))throw Error("Invalid block size");if(x===0)break;g+=x}break;default:throw new Error("Unknown graphic control label: 0x"+f[g-1].toString(16))}break;case 44:var x,w=f[g++]|f[g++]<<8,j=f[g++]|f[g++]<<8,E=f[g++]|f[g++]<<8,M=f[g++]|f[g++]<<8,R=f[g++],C=R>>6&1,P=1<<1+(7&R),O=t,D=a,N=!1,R=(R>>7&&(N=!0,O=g,g+=3*(D=P)),g);for(g++;;){if(!(0<=(x=f[g++])))throw Error("Invalid block size");if(x===0)break;g+=x}o.push({x:w,y:j,width:E,height:M,has_local_palette:N,palette_offset:O,palette_size:D,data_offset:R,data_length:g-R,transparent_index:s,interlaced:!!C,delay:c,disposal:p});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+f[g-1].toString(16))}this.numFrames=function(){return o.length},this.loopCount=function(){return v},this.frameInfo=function(I){if(I<0||I>=o.length)throw new Error("Frame index out of range.");return o[I]},this.decodeAndBlitFrameBGRA=function(I,H){for(var I=this.frameInfo(I),ee=I.width*I.height,fe=new Uint8Array(ee),xe=(m(f,I.data_offset,fe,ee),I.palette_offset),q=I.transparent_index,V=(q===null&&(q=256),I.width),K=d-V,J=V,oe=4*(I.y*d+I.x),_e=4*((I.y+I.height)*d+I.x),Oe=oe,De=4*K,Te=(I.interlaced===!0&&(De+=4*d*7),8),Be=0,Re=fe.length;Be<Re;++Be){var ve,ge,Ae=fe[Be];J===0&&(J=V,_e<=(Oe+=De)&&(De=4*K+4*d*(Te-1),Oe=oe+(V+K)*(Te<<1),Te>>=1)),Ae===q?Oe+=4:(ve=f[xe+3*Ae],ge=f[xe+3*Ae+1],Ae=f[xe+3*Ae+2],H[Oe++]=Ae,H[Oe++]=ge,H[Oe++]=ve,H[Oe++]=255),--J}},this.decodeAndBlitFrameRGBA=function(I,H){for(var I=this.frameInfo(I),ee=I.width*I.height,fe=new Uint8Array(ee),xe=(m(f,I.data_offset,fe,ee),I.palette_offset),q=I.transparent_index,V=(q===null&&(q=256),I.width),K=d-V,J=V,oe=4*(I.y*d+I.x),_e=4*((I.y+I.height)*d+I.x),Oe=oe,De=4*K,Te=(I.interlaced===!0&&(De+=4*d*7),8),Be=0,Re=fe.length;Be<Re;++Be){var ve,ge,Ae=fe[Be];J===0&&(J=V,_e<=(Oe+=De)&&(De=4*K+4*d*(Te-1),Oe=oe+(V+K)*(Te<<1),Te>>=1)),Ae===q?Oe+=4:(ve=f[xe+3*Ae],ge=f[xe+3*Ae+1],Ae=f[xe+3*Ae+2],H[Oe++]=ve,H[Oe++]=ge,H[Oe++]=Ae,H[Oe++]=255),--J}}}}catch{}},{}],247:[function(n,Z,S){(function(y){var m,f;m=this,f=function(g){function d(me){if(this==null)throw TypeError();var z,Q=String(this),te=Q.length,me=me?Number(me):0;if(!((me=me!=me?0:me)<0||te<=me))return 55296<=(z=Q.charCodeAt(me))&&z<=56319&&me+1<te&&56320<=(te=Q.charCodeAt(me+1))&&te<=57343?1024*(z-55296)+te-56320+65536:z}String.prototype.codePointAt||((u=function(){try{var A={},z=Object.defineProperty,Q=z(A,A,A)&&z}catch{}return Q}())?u(String.prototype,"codePointAt",{value:d,configurable:!0,writable:!0}):String.prototype.codePointAt=d);var u,i=0,r=-3;function t(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function a(A,z){this.source=A,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=z,this.destLen=0,this.ltree=new t,this.dtree=new t}var l=new t,o=new t,c=new Uint8Array(30),s=new Uint16Array(30),p=new Uint8Array(30),v=new Uint16Array(30),b=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=new t,w=new Uint8Array(320);function j(A,z,Q,te){for(var me,ke=0;ke<Q;++ke)A[ke]=0;for(ke=0;ke<30-Q;++ke)A[ke+Q]=ke/Q|0;for(me=te,ke=0;ke<30;++ke)z[ke]=me,me+=1<<A[ke]}var E=new Uint16Array(16);function M(A,z,Q,te){for(var me,ke=0;ke<16;++ke)A.table[ke]=0;for(ke=0;ke<te;++ke)A.table[z[Q+ke]]++;for(ke=me=A.table[0]=0;ke<16;++ke)E[ke]=me,me+=A.table[ke];for(ke=0;ke<te;++ke)z[Q+ke]&&(A.trans[E[z[Q+ke]]++]=ke)}function C(A,z,Q){if(!z)return Q;for(;A.bitcount<24;)A.tag|=A.source[A.sourceIndex++]<<A.bitcount,A.bitcount+=8;var te=A.tag&65535>>>16-z;return A.tag>>>=z,A.bitcount-=z,te+Q}function P(A,z){for(;A.bitcount<24;)A.tag|=A.source[A.sourceIndex++]<<A.bitcount,A.bitcount+=8;for(var Q=0,te=0,me=0,ke=A.tag;te=2*te+(1&ke),ke>>>=1,Q+=z.table[++me],0<=(te-=z.table[me]););return A.tag=ke,A.bitcount-=me,z.trans[Q+te]}function O(A,z,Q){for(;;){var te=P(A,z);if(te===256)return i;if(te<256)A.dest[A.destLen++]=te;else for(var me,ke=C(A,c[te-=257],s[te]),te=P(A,Q),Pe=me=A.destLen-C(A,p[te],v[te]);Pe<me+ke;++Pe)A.dest[A.destLen++]=A.dest[Pe]}}for(var D=l,N=o,R=0;R<7;++R)D.table[R]=0;for(D.table[7]=24,D.table[8]=152,D.table[9]=112,R=0;R<24;++R)D.trans[R]=256+R;for(R=0;R<144;++R)D.trans[24+R]=R;for(R=0;R<8;++R)D.trans[168+R]=280+R;for(R=0;R<112;++R)D.trans[176+R]=144+R;for(R=0;R<5;++R)N.table[R]=0;for(N.table[5]=32,R=0;R<32;++R)N.trans[R]=R;j(c,s,4,3),j(p,v,2,1),c[28]=0,s[28]=258;var I=function(A,z){var Q,te,me,ke=new a(A,z);do{switch(me=void 0,(te=ke).bitcount--||(te.tag=te.source[te.sourceIndex++],te.bitcount=7),me=1&te.tag,te.tag>>>=1,te=me,C(ke,2,0)){case 0:Q=function(ft){for(var Tt,Pt;8<ft.bitcount;)ft.sourceIndex--,ft.bitcount-=8;if((Tt=256*ft.source[ft.sourceIndex+1]+ft.source[ft.sourceIndex])!==(65535&~(256*ft.source[ft.sourceIndex+3]+ft.source[ft.sourceIndex+2])))return r;for(ft.sourceIndex+=4,Pt=Tt;Pt;--Pt)ft.dest[ft.destLen++]=ft.source[ft.sourceIndex++];return ft.bitcount=0,i}(ke);break;case 1:Q=O(ke,l,o);break;case 2:pt=ht=_t=ct=Pe=Xe=ot=lt=tt=qe=Ve=Ue=void 0;for(var Pe,Ue=ke,Ve=ke.ltree,qe=ke.dtree,tt=C(Ue,5,257),lt=C(Ue,5,1),ot=C(Ue,4,4),Xe=0;Xe<19;++Xe)w[Xe]=0;for(Xe=0;Xe<ot;++Xe){var _t=C(Ue,3,0);w[b[Xe]]=_t}for(M(x,w,0,19),Pe=0;Pe<tt+lt;){var ht=P(Ue,x);switch(ht){case 16:for(var pt=w[Pe-1],ct=C(Ue,2,3);ct;--ct)w[Pe++]=pt;break;case 17:for(ct=C(Ue,3,3);ct;--ct)w[Pe++]=0;break;case 18:for(ct=C(Ue,7,11);ct;--ct)w[Pe++]=0;break;default:w[Pe++]=ht}}M(Ve,w,0,tt),M(qe,w,tt,lt),Q=O(ke,ke.ltree,ke.dtree);break;default:Q=r}if(Q!==i)throw new Error("Data error")}while(!te);return ke.destLen<ke.dest.length?typeof ke.dest.slice=="function"?ke.dest.slice(0,ke.destLen):ke.dest.subarray(0,ke.destLen):ke.dest};function H(A,z,Q,te,me){return Math.pow(1-me,3)*A+3*Math.pow(1-me,2)*me*z+3*(1-me)*Math.pow(me,2)*Q+Math.pow(me,3)*te}function ee(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function fe(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function xe(A){throw new Error(A)}function q(A,z){A||xe(z)}ee.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},ee.prototype.addPoint=function(A,z){typeof A=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=A,this.x2=A),A<this.x1&&(this.x1=A),A>this.x2&&(this.x2=A)),typeof z=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=z,this.y2=z),z<this.y1&&(this.y1=z),z>this.y2&&(this.y2=z))},ee.prototype.addX=function(A){this.addPoint(A,null)},ee.prototype.addY=function(A){this.addPoint(null,A)},ee.prototype.addBezier=function(A,z,Q,te,me,ke,Pe,Ue){var Ve=[A,z],qe=[Q,te],tt=[me,ke],lt=[Pe,Ue];this.addPoint(A,z),this.addPoint(Pe,Ue);for(var ot=0;ot<=1;ot++){var Xe,_t=6*Ve[ot]-12*qe[ot]+6*tt[ot],ht=-3*Ve[ot]+9*qe[ot]-9*tt[ot]+3*lt[ot],pt=3*qe[ot]-3*Ve[ot];ht==0?_t==0||0<(Xe=-pt/_t)&&Xe<1&&(ot===0&&this.addX(H(Ve[ot],qe[ot],tt[ot],lt[ot],Xe)),ot===1&&this.addY(H(Ve[ot],qe[ot],tt[ot],lt[ot],Xe))):(Xe=Math.pow(_t,2)-4*pt*ht)<0||(0<(pt=(-_t+Math.sqrt(Xe))/(2*ht))&&pt<1&&(ot===0&&this.addX(H(Ve[ot],qe[ot],tt[ot],lt[ot],pt)),ot===1&&this.addY(H(Ve[ot],qe[ot],tt[ot],lt[ot],pt))),0<(pt=(-_t-Math.sqrt(Xe))/(2*ht))&&pt<1&&(ot===0&&this.addX(H(Ve[ot],qe[ot],tt[ot],lt[ot],pt)),ot===1&&this.addY(H(Ve[ot],qe[ot],tt[ot],lt[ot],pt))))}},ee.prototype.addQuad=function(A,z,Q,te,me,ke){Q=A+2/3*(Q-A),te=z+2/3*(te-z),this.addBezier(A,z,Q,te,Q+1/3*(me-A),te+1/3*(ke-z),me,ke)},fe.prototype.moveTo=function(A,z){this.commands.push({type:"M",x:A,y:z})},fe.prototype.lineTo=function(A,z){this.commands.push({type:"L",x:A,y:z})},fe.prototype.curveTo=fe.prototype.bezierCurveTo=function(A,z,Q,te,me,ke){this.commands.push({type:"C",x1:A,y1:z,x2:Q,y2:te,x:me,y:ke})},fe.prototype.quadTo=fe.prototype.quadraticCurveTo=function(A,z,Q,te){this.commands.push({type:"Q",x1:A,y1:z,x:Q,y:te})},fe.prototype.close=fe.prototype.closePath=function(){this.commands.push({type:"Z"})},fe.prototype.extend=function(A){var z;if(A.commands)A=A.commands;else if(A instanceof ee)return z=A,this.moveTo(z.x1,z.y1),this.lineTo(z.x2,z.y1),this.lineTo(z.x2,z.y2),this.lineTo(z.x1,z.y2),void this.close();Array.prototype.push.apply(this.commands,A)},fe.prototype.getBoundingBox=function(){for(var A=new ee,z=0,Q=0,te=0,me=0,ke=0;ke<this.commands.length;ke++){var Pe=this.commands[ke];switch(Pe.type){case"M":A.addPoint(Pe.x,Pe.y),z=te=Pe.x,Q=me=Pe.y;break;case"L":A.addPoint(Pe.x,Pe.y),te=Pe.x,me=Pe.y;break;case"Q":A.addQuad(te,me,Pe.x1,Pe.y1,Pe.x,Pe.y),te=Pe.x,me=Pe.y;break;case"C":A.addBezier(te,me,Pe.x1,Pe.y1,Pe.x2,Pe.y2,Pe.x,Pe.y),te=Pe.x,me=Pe.y;break;case"Z":te=z,me=Q;break;default:throw new Error("Unexpected path command "+Pe.type)}}return A.isEmpty()&&A.addPoint(0,0),A},fe.prototype.draw=function(A){A.beginPath();for(var z=0;z<this.commands.length;z+=1){var Q=this.commands[z];Q.type==="M"?A.moveTo(Q.x,Q.y):Q.type==="L"?A.lineTo(Q.x,Q.y):Q.type==="C"?A.bezierCurveTo(Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y):Q.type==="Q"?A.quadraticCurveTo(Q.x1,Q.y1,Q.x,Q.y):Q.type==="Z"&&A.closePath()}this.fill&&(A.fillStyle=this.fill,A.fill()),this.stroke&&(A.strokeStyle=this.stroke,A.lineWidth=this.strokeWidth,A.stroke())},fe.prototype.toPathData=function(A){function z(){for(var ke=arguments,Pe="",Ue=0;Ue<arguments.length;Ue+=1){var Ve=ke[Ue];0<=Ve&&0<Ue&&(Pe+=" "),Pe+=(Ve=Ve,Math.round(Ve)===Ve?""+Math.round(Ve):Ve.toFixed(A))}return Pe}A=A!==void 0?A:2;for(var Q="",te=0;te<this.commands.length;te+=1){var me=this.commands[te];me.type==="M"?Q+="M"+z(me.x,me.y):me.type==="L"?Q+="L"+z(me.x,me.y):me.type==="C"?Q+="C"+z(me.x1,me.y1,me.x2,me.y2,me.x,me.y):me.type==="Q"?Q+="Q"+z(me.x1,me.y1,me.x,me.y):me.type==="Z"&&(Q+="Z")}return Q},fe.prototype.toSVG=function(A){var z=(z='<path d="')+this.toPathData(A)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?z+=' fill="none"':z+=' fill="'+this.fill+'"'),this.stroke&&(z+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),z+="/>"},fe.prototype.toDOMElement=function(z){var z=this.toPathData(z),Q=document.createElementNS("http://www.w3.org/2000/svg","path");return Q.setAttribute("d",z),Q};var V={fail:xe,argument:q,assert:q},K={},J={},oe={};function _e(A){return function(){return A}}J.BYTE=function(A){return V.argument(0<=A&&A<=255,"Byte value should be between 0 and 255."),[A]},oe.BYTE=_e(1),J.CHAR=function(A){return[A.charCodeAt(0)]},oe.CHAR=_e(1),J.CHARARRAY=function(A){for(var z=[],Q=0;Q<A.length;Q+=1)z[Q]=A.charCodeAt(Q);return z},oe.CHARARRAY=function(A){return A.length},J.USHORT=function(A){return[A>>8&255,255&A]},oe.USHORT=_e(2),J.SHORT=function(A){return[(A=32768<=A?-(65536-A):A)>>8&255,255&A]},oe.SHORT=_e(2),J.UINT24=function(A){return[A>>16&255,A>>8&255,255&A]},oe.UINT24=_e(3),J.ULONG=function(A){return[A>>24&255,A>>16&255,A>>8&255,255&A]},oe.ULONG=_e(4),J.LONG=function(A){return[(A=2147483648<=A?-(4294967296-A):A)>>24&255,A>>16&255,A>>8&255,255&A]},oe.LONG=_e(4),J.FIXED=J.ULONG,oe.FIXED=oe.ULONG,J.FWORD=J.SHORT,oe.FWORD=oe.SHORT,J.UFWORD=J.USHORT,oe.UFWORD=oe.USHORT,J.LONGDATETIME=function(A){return[0,0,0,0,A>>24&255,A>>16&255,A>>8&255,255&A]},oe.LONGDATETIME=_e(8),J.TAG=function(A){return V.argument(A.length===4,"Tag should be exactly 4 ASCII characters."),[A.charCodeAt(0),A.charCodeAt(1),A.charCodeAt(2),A.charCodeAt(3)]},oe.TAG=_e(4),J.Card8=J.BYTE,oe.Card8=oe.BYTE,J.Card16=J.USHORT,oe.Card16=oe.USHORT,J.OffSize=J.BYTE,oe.OffSize=oe.BYTE,J.SID=J.USHORT,oe.SID=oe.USHORT,J.NUMBER=function(A){return-107<=A&&A<=107?[A+139]:108<=A&&A<=1131?[247+((A-=108)>>8),255&A]:-1131<=A&&A<=-108?[251+((A=-A-108)>>8),255&A]:-32768<=A&&A<=32767?J.NUMBER16(A):J.NUMBER32(A)},oe.NUMBER=function(A){return J.NUMBER(A).length},J.NUMBER16=function(A){return[28,A>>8&255,255&A]},oe.NUMBER16=_e(3),J.NUMBER32=function(A){return[29,A>>24&255,A>>16&255,A>>8&255,255&A]},oe.NUMBER32=_e(5),J.REAL=function(A){for(var z=A.toString(),Q=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(z),te=(Q&&(Q=parseFloat("1e"+((Q[2]?+Q[2]:0)+Q[1].length)),z=(Math.round(A*Q)/Q).toString()),""),me=0,ke=z.length;me<ke;me+=1){var Pe=z[me];te+=Pe==="e"?z[++me]==="-"?"c":"b":Pe==="."?"a":Pe==="-"?"e":Pe}for(var Ue=[30],Ve=0,qe=(te+=1&te.length?"f":"ff").length;Ve<qe;Ve+=2)Ue.push(parseInt(te.substr(Ve,2),16));return Ue},oe.REAL=function(A){return J.REAL(A).length},J.NAME=J.CHARARRAY,oe.NAME=oe.CHARARRAY,J.STRING=J.CHARARRAY,oe.STRING=oe.CHARARRAY,K.UTF8=function(A,z,Q){for(var te=[],me=Q,ke=0;ke<me;ke++,z+=1)te[ke]=A.getUint8(z);return String.fromCharCode.apply(null,te)},K.UTF16=function(A,z,Q){for(var te=[],me=Q/2,ke=0;ke<me;ke++,z+=2)te[ke]=A.getUint16(z);return String.fromCharCode.apply(null,te)},J.UTF16=function(A){for(var z=[],Q=0;Q<A.length;Q+=1){var te=A.charCodeAt(Q);z[z.length]=te>>8&255,z[z.length]=255&te}return z},oe.UTF16=function(A){return 2*A.length};var Oe,De={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},Te=(K.MACSTRING=function(A,z,Q,te){var me=De[te];if(me!==void 0){for(var ke="",Pe=0;Pe<Q;Pe++){var Ue=A.getUint8(z+Pe);ke+=Ue<=127?String.fromCharCode(Ue):me[127&Ue]}return ke}},typeof WeakMap=="function"&&new WeakMap);function Be(A){return-128<=A&&A<=127}J.MACSTRING=function(A,z){var Q=function(Pe){if(!Oe)for(var Ue in Oe={},De)Oe[Ue]=new String(Ue);var Ve=Oe[Pe];if(Ve!==void 0){if(Te){var qe=Te.get(Ve);if(qe!==void 0)return qe}var tt=De[Pe];if(tt!==void 0){for(var lt={},ot=0;ot<tt.length;ot++)lt[tt.charCodeAt(ot)]=ot+128;return Te&&Te.set(Ve,lt),lt}}}(z);if(Q!==void 0){for(var te=[],me=0;me<A.length;me++){var ke=A.charCodeAt(me);if(128<=ke&&(ke=Q[ke])===void 0)return;te[me]=ke}return te}},oe.MACSTRING=function(A,z){return A=J.MACSTRING(A,z),A!==void 0?A.length:0},J.VARDELTAS=function(A){for(var te=0,z=[];te<A.length;)var Q=A[te],te=(Q===0?function(me,ke,Pe){for(var Ue=0,Ve=me.length;ke<Ve&&Ue<64&&me[ke]===0;)++ke,++Ue;return Pe.push(128|Ue-1),ke}:-128<=Q&&Q<=127?function(me,ke,Pe){for(var Ue=0,Ve=me.length,qe=ke;qe<Ve&&Ue<64;){var tt=me[qe];if(!Be(tt)||tt===0&&qe+1<Ve&&me[qe+1]===0)break;++qe,++Ue}Pe.push(Ue-1);for(var lt=ke;lt<qe;++lt)Pe.push(me[lt]+256&255);return qe}:function(me,ke,Pe){for(var Ue=0,Ve=me.length,qe=ke;qe<Ve&&Ue<64;){var tt=me[qe];if(tt===0||Be(tt)&&qe+1<Ve&&Be(me[qe+1]))break;++qe,++Ue}Pe.push(64|Ue-1);for(var lt=ke;lt<qe;++lt){var ot=me[lt];Pe.push(ot+65536>>8&255,ot+256&255)}return qe})(A,te,z);return z},J.INDEX=function(A){for(var z=1,Q=[z],te=[],me=0;me<A.length;me+=1){var ke=J.OBJECT(A[me]);Array.prototype.push.apply(te,ke),z+=ke.length,Q.push(z)}if(te.length===0)return[0,0];for(var Pe=[],Ue=1+Math.floor(Math.log(z)/Math.log(2))/8|0,Ve=[void 0,J.BYTE,J.USHORT,J.UINT24,J.ULONG][Ue],qe=0;qe<Q.length;qe+=1){var tt=Ve(Q[qe]);Array.prototype.push.apply(Pe,tt)}return Array.prototype.concat(J.Card16(A.length),J.OffSize(Ue),Pe,te)},oe.INDEX=function(A){return J.INDEX(A).length},J.DICT=function(A){for(var z=[],Q=Object.keys(A),te=Q.length,me=0;me<te;me+=1){var ke=parseInt(Q[me],0),Pe=A[ke];z=(z=z.concat(J.OPERAND(Pe.value,Pe.type))).concat(J.OPERATOR(ke))}return z},oe.DICT=function(A){return J.DICT(A).length},J.OPERATOR=function(A){return A<1200?[A]:[12,A-1200]},J.OPERAND=function(A,z){var Q=[];if(Array.isArray(z))for(var te=0;te<z.length;te+=1)V.argument(A.length===z.length,"Not enough arguments given for type"+z),Q=Q.concat(J.OPERAND(A[te],z[te]));else if(z==="SID")Q=Q.concat(J.NUMBER(A));else if(z==="offset")Q=Q.concat(J.NUMBER32(A));else if(z==="number")Q=Q.concat(J.NUMBER(A));else{if(z!=="real")throw new Error("Unknown operand type "+z);Q=Q.concat(J.REAL(A))}return Q},J.OP=J.BYTE,oe.OP=oe.BYTE;var Re=typeof WeakMap=="function"&&new WeakMap;function ve(A,z,Q){for(var te=0;te<z.length;te+=1){var me=z[te];this[me.name]=me.value}if(this.tableName=A,this.fields=z,Q)for(var ke=Object.keys(Q),Pe=0;Pe<ke.length;Pe+=1){var Ue=ke[Pe],Ve=Q[Ue];this[Ue]!==void 0&&(this[Ue]=Ve)}}function ge(A,z,Q){Q===void 0&&(Q=z.length);var te=new Array(z.length+1);te[0]={name:A+"Count",type:"USHORT",value:Q};for(var me=0;me<z.length;me++)te[me+1]={name:A+me,type:"USHORT",value:z[me]};return te}function Ae(A,z,Q){var te=z.length,me=new Array(te+1);me[0]={name:A+"Count",type:"USHORT",value:te};for(var ke=0;ke<te;ke++)me[ke+1]={name:A+ke,type:"TABLE",value:Q(z[ke],ke)};return me}function Ie(A,z,Q){var te=z.length,me=[];me[0]={name:A+"Count",type:"USHORT",value:te};for(var ke=0;ke<te;ke++)me=me.concat(Q(z[ke],ke));return me}function de(A){A.format===1?ve.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ge("glyph",A.glyphs))):V.assert(!1,"Can't create coverage table format 2 yet.")}function ae(A){ve.call(this,"scriptListTable",Ie("scriptRecord",A,function(z,Q){var te=z.script,me=te.defaultLangSys;return V.assert(!!me,"Unable to write GSUB: script "+z.tag+" has no default language system."),[{name:"scriptTag"+Q,type:"TAG",value:z.tag},{name:"script"+Q,type:"TABLE",value:new ve("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ve("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:me.reqFeatureIndex}].concat(ge("featureIndex",me.featureIndexes)))}].concat(Ie("langSys",te.langSysRecords,function(ke,Pe){var Ue=ke.langSys;return[{name:"langSysTag"+Pe,type:"TAG",value:ke.tag},{name:"langSys"+Pe,type:"TABLE",value:new ve("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Ue.reqFeatureIndex}].concat(ge("featureIndex",Ue.featureIndexes)))}]})))}]}))}function ne(A){ve.call(this,"featureListTable",Ie("featureRecord",A,function(z,Q){var te=z.feature;return[{name:"featureTag"+Q,type:"TAG",value:z.tag},{name:"feature"+Q,type:"TABLE",value:new ve("featureTable",[{name:"featureParams",type:"USHORT",value:te.featureParams}].concat(ge("lookupListIndex",te.lookupListIndexes)))}]}))}function Me(A,z){ve.call(this,"lookupListTable",Ae("lookup",A,function(Q){var te=z[Q.lookupType];return V.assert(!!te,"Unable to write GSUB lookup type "+Q.lookupType+" tables."),new ve("lookupTable",[{name:"lookupType",type:"USHORT",value:Q.lookupType},{name:"lookupFlag",type:"USHORT",value:Q.lookupFlag}].concat(Ae("subtable",Q.subtables,te)))}))}J.CHARSTRING=function(A){if(Re){var z=Re.get(A);if(z!==void 0)return z}for(var ke=[],Q=A.length,te=0;te<Q;te+=1)var me=A[te],ke=ke.concat(J[me.type](me.value));return Re&&Re.set(A,ke),ke},oe.CHARSTRING=function(A){return J.CHARSTRING(A).length},J.OBJECT=function(A){var z=J[A.type];return V.argument(z!==void 0,"No encoding function for type "+A.type),z(A.value)},oe.OBJECT=function(A){var z=oe[A.type];return V.argument(z!==void 0,"No sizeOf function for type "+A.type),z(A.value)},J.TABLE=function(A){for(var z=[],Q=A.fields.length,te=[],me=[],ke=0;ke<Q;ke+=1){var Pe=A.fields[ke],Ve=J[Pe.type],Ue=(V.argument(Ve!==void 0,"No encoding function for field type "+Pe.type+" ("+Pe.name+")"),A[Pe.name]),Ve=Ve(Ue=Ue===void 0?Pe.value:Ue);Pe.type==="TABLE"?(me.push(z.length),z=z.concat([0,0]),te.push(Ve)):z=z.concat(Ve)}for(var qe=0;qe<te.length;qe+=1){var tt=me[qe],lt=z.length;V.argument(lt<65536,"Table "+A.tableName+" too big."),z[tt]=lt>>8,z[tt+1]=255&lt,z=z.concat(te[qe])}return z},oe.TABLE=function(A){for(var z=0,Q=A.fields.length,te=0;te<Q;te+=1){var me=A.fields[te],ke=oe[me.type],Pe=(V.argument(ke!==void 0,"No sizeOf function for field type "+me.type+" ("+me.name+")"),A[me.name]);z+=ke(Pe=Pe===void 0?me.value:Pe),me.type==="TABLE"&&(z+=2)}return z},J.RECORD=J.TABLE,oe.RECORD=oe.TABLE,J.LITERAL=function(A){return A},oe.LITERAL=function(A){return A.length},ve.prototype.encode=function(){return J.TABLE(this)},ve.prototype.sizeOf=function(){return oe.TABLE(this)};var pe={Table:ve,Record:ve,Coverage:(de.prototype=Object.create(ve.prototype)).constructor=de,ScriptList:(ae.prototype=Object.create(ve.prototype)).constructor=ae,FeatureList:(ne.prototype=Object.create(ve.prototype)).constructor=ne,LookupList:(Me.prototype=Object.create(ve.prototype)).constructor=Me,ushortList:ge,tableList:Ae,recordList:Ie};function le(A,z){return A.getUint8(z)}function re(A,z){return A.getUint16(z,!1)}function Le(A,z){return A.getUint32(z,!1)}function h(A,z){return A.getInt16(z,!1)+A.getUint16(z+2,!1)/65535}var _={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function T(A,z){this.data=A,this.offset=z,this.relativeOffset=0}T.prototype.parseByte=function(){var A=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,A},T.prototype.parseChar=function(){var A=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,A},T.prototype.parseCard8=T.prototype.parseByte,T.prototype.parseCard16=T.prototype.parseUShort=function(){var A=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,A},T.prototype.parseSID=T.prototype.parseUShort,T.prototype.parseOffset16=T.prototype.parseUShort,T.prototype.parseShort=function(){var A=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,A},T.prototype.parseF2Dot14=function(){var A=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,A},T.prototype.parseOffset32=T.prototype.parseULong=function(){var A=Le(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,A},T.prototype.parseFixed=function(){var A=h(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,A},T.prototype.parseString=function(A){var z=this.data,Q=this.offset+this.relativeOffset,te="";this.relativeOffset+=A;for(var me=0;me<A;me++)te+=String.fromCharCode(z.getUint8(Q+me));return te},T.prototype.parseTag=function(){return this.parseString(4)},T.prototype.parseLongDateTime=function(){var A=Le(this.data,this.offset+this.relativeOffset+4);return A-=2082844800,this.relativeOffset+=8,A},T.prototype.parseVersion=function(A){var z=re(this.data,this.offset+this.relativeOffset),Q=re(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,z+Q/(A=A===void 0?4096:A)/10},T.prototype.skip=function(A,z){this.relativeOffset+=_[A]*(z=z===void 0?1:z)},T.prototype.parseULongList=function(A){A===void 0&&(A=this.parseULong());for(var z=new Array(A),Q=this.data,te=this.offset+this.relativeOffset,me=0;me<A;me++)z[me]=Q.getUint32(te),te+=4;return this.relativeOffset+=4*A,z},T.prototype.parseOffset16List=T.prototype.parseUShortList=function(A){A===void 0&&(A=this.parseUShort());for(var z=new Array(A),Q=this.data,te=this.offset+this.relativeOffset,me=0;me<A;me++)z[me]=Q.getUint16(te),te+=2;return this.relativeOffset+=2*A,z},T.prototype.parseShortList=function(A){for(var z=new Array(A),Q=this.data,te=this.offset+this.relativeOffset,me=0;me<A;me++)z[me]=Q.getInt16(te),te+=2;return this.relativeOffset+=2*A,z},T.prototype.parseByteList=function(A){for(var z=new Array(A),Q=this.data,te=this.offset+this.relativeOffset,me=0;me<A;me++)z[me]=Q.getUint8(te++);return this.relativeOffset+=A,z},T.prototype.parseList=function(A,z){z||(z=A,A=this.parseUShort());for(var Q=new Array(A),te=0;te<A;te++)Q[te]=z.call(this);return Q},T.prototype.parseList32=function(A,z){z||(z=A,A=this.parseULong());for(var Q=new Array(A),te=0;te<A;te++)Q[te]=z.call(this);return Q},T.prototype.parseRecordList=function(A,z){z||(z=A,A=this.parseUShort());for(var Q=new Array(A),te=Object.keys(z),me=0;me<A;me++){for(var ke={},Pe=0;Pe<te.length;Pe++){var Ue=te[Pe],Ve=z[Ue];ke[Ue]=Ve.call(this)}Q[me]=ke}return Q},T.prototype.parseRecordList32=function(A,z){z||(z=A,A=this.parseULong());for(var Q=new Array(A),te=Object.keys(z),me=0;me<A;me++){for(var ke={},Pe=0;Pe<te.length;Pe++){var Ue=te[Pe],Ve=z[Ue];ke[Ue]=Ve.call(this)}Q[me]=ke}return Q},T.prototype.parseStruct=function(A){if(typeof A=="function")return A.call(this);for(var z=Object.keys(A),Q={},te=0;te<z.length;te++){var me=z[te],ke=A[me];Q[me]=ke.call(this)}return Q},T.prototype.parseValueRecord=function(A){var z;if((A=A===void 0?this.parseUShort():A)!==0)return z={},1&A&&(z.xPlacement=this.parseShort()),2&A&&(z.yPlacement=this.parseShort()),4&A&&(z.xAdvance=this.parseShort()),8&A&&(z.yAdvance=this.parseShort()),16&A&&(z.xPlaDevice=void 0,this.parseShort()),32&A&&(z.yPlaDevice=void 0,this.parseShort()),64&A&&(z.xAdvDevice=void 0,this.parseShort()),128&A&&(z.yAdvDevice=void 0,this.parseShort()),z},T.prototype.parseValueRecordList=function(){for(var A=this.parseUShort(),z=this.parseUShort(),Q=new Array(z),te=0;te<z;te++)Q[te]=this.parseValueRecord(A);return Q},T.prototype.parsePointer=function(A){var z=this.parseOffset16();if(0<z)return new T(this.data,this.offset+z).parseStruct(A)},T.prototype.parsePointer32=function(A){var z=this.parseOffset32();if(0<z)return new T(this.data,this.offset+z).parseStruct(A)},T.prototype.parseListOfLists=function(A){for(var z=this.parseOffset16List(),Q=z.length,te=this.relativeOffset,me=new Array(Q),ke=0;ke<Q;ke++){var Pe=z[ke];if(Pe===0)me[ke]=void 0;else if(this.relativeOffset=Pe,A){for(var Ue=this.parseOffset16List(),Ve=new Array(Ue.length),qe=0;qe<Ue.length;qe++)this.relativeOffset=Pe+Ue[qe],Ve[qe]=A.call(this);me[ke]=Ve}else me[ke]=this.parseUShortList()}return this.relativeOffset=te,me},T.prototype.parseCoverage=function(){var A=this.offset+this.relativeOffset,z=this.parseUShort(),Q=this.parseUShort();if(z===1)return{format:1,glyphs:this.parseUShortList(Q)};if(z!==2)throw new Error("0x"+A.toString(16)+": Coverage format must be 1 or 2.");for(var te=new Array(Q),me=0;me<Q;me++)te[me]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:te}},T.prototype.parseClassDef=function(){var A=this.offset+this.relativeOffset,z=this.parseUShort();if(z===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(z===2)return{format:2,ranges:this.parseRecordList({start:T.uShort,end:T.uShort,classId:T.uShort})};throw new Error("0x"+A.toString(16)+": ClassDef format must be 1 or 2.")},T.list=function(A,z){return function(){return this.parseList(A,z)}},T.list32=function(A,z){return function(){return this.parseList32(A,z)}},T.recordList=function(A,z){return function(){return this.parseRecordList(A,z)}},T.recordList32=function(A,z){return function(){return this.parseRecordList32(A,z)}},T.pointer=function(A){return function(){return this.parsePointer(A)}},T.pointer32=function(A){return function(){return this.parsePointer32(A)}},T.tag=T.prototype.parseTag,T.byte=T.prototype.parseByte,T.uShort=T.offset16=T.prototype.parseUShort,T.uShortList=T.prototype.parseUShortList,T.uLong=T.offset32=T.prototype.parseULong,T.uLongList=T.prototype.parseULongList,T.struct=T.prototype.parseStruct,T.coverage=T.prototype.parseCoverage,T.classDef=T.prototype.parseClassDef;var L={reserved:T.uShort,reqFeatureIndex:T.uShort,featureIndexes:T.uShortList},G=(T.prototype.parseScriptList=function(){return this.parsePointer(T.recordList({tag:T.tag,script:T.pointer({defaultLangSys:T.pointer(L),langSysRecords:T.recordList({tag:T.tag,langSys:T.pointer(L)})})}))||[]},T.prototype.parseFeatureList=function(){return this.parsePointer(T.recordList({tag:T.tag,feature:T.pointer({featureParams:T.offset16,lookupListIndexes:T.uShortList})}))||[]},T.prototype.parseLookupList=function(A){return this.parsePointer(T.list(T.pointer(function(){var z=this.parseUShort(),Q=(V.argument(1<=z&&z<=9,"GPOS/GSUB lookup type "+z+" unknown."),this.parseUShort()),te=16&Q;return{lookupType:z,lookupFlag:Q,subtables:this.parseList(T.pointer(A[z])),markFilteringSet:te?this.parseUShort():void 0}})))||[]},T.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var A=this.parseUShort(),z=this.parseUShort();return V.argument(A===1&&z<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:T.offset32,featureTableSubstitutionOffset:T.offset32})})||[]},{getByte:le,getCard8:le,getUShort:re,getCard16:re,getShort:function(A,z){return A.getInt16(z,!1)},getULong:Le,getFixed:h,getTag:function(A,z){for(var Q="",te=z;te<z+4;te+=1)Q+=String.fromCharCode(A.getInt8(te));return Q},getOffset:function(A,z,Q){for(var te=0,me=0;me<Q;me+=1)te=(te<<=8)+A.getUint8(z+me);return te},getBytes:function(A,z,Q){for(var te=[],me=z;me<Q;me+=1)te.push(A.getUint8(me));return te},bytesToString:function(A){for(var z="",Q=0;Q<A.length;Q+=1)z+=String.fromCharCode(A[Q]);return z},Parser:T}),B={parse:function(A,z){for(var Q={},te=(Q.version=G.getUShort(A,z),V.argument(Q.version===0,"cmap table version should be 0."),Q.numTables=G.getUShort(A,z+2),-1),me=Q.numTables-1;0<=me;--me){var ke=G.getUShort(A,z+4+8*me),Pe=G.getUShort(A,z+4+8*me+2);if(ke===3&&(Pe===0||Pe===1||Pe===10)||ke===0&&(Pe===0||Pe===1||Pe===2||Pe===3||Pe===4)){te=G.getULong(A,z+4+8*me+4);break}}if(te===-1)throw new Error("No valid cmap sub-tables found.");var Ue=new G.Parser(A,z+te);if(Q.format=Ue.parseUShort(),Q.format===12){var Ve,qe=Q,tt=Ue;tt.parseUShort(),qe.length=tt.parseULong(),qe.language=tt.parseULong(),qe.groupCount=Ve=tt.parseULong(),qe.glyphIndexMap={};for(var lt=0;lt<Ve;lt+=1)for(var ot=tt.parseULong(),Xe=tt.parseULong(),_t=tt.parseULong(),ht=ot;ht<=Xe;ht+=1)qe.glyphIndexMap[ht]=_t,_t++}else{if(Q.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+Q.format+").");var pt=Q,ct=A,ft=z,Tt=te;pt.length=Ue.parseUShort(),pt.language=Ue.parseUShort(),pt.segCount=Pt=Ue.parseUShort()>>1,Ue.skip("uShort",3),pt.glyphIndexMap={};for(var Pt,At=new G.Parser(ct,ft+Tt+14),kt=new G.Parser(ct,ft+Tt+16+2*Pt),Ot=new G.Parser(ct,ft+Tt+16+4*Pt),Xt=new G.Parser(ct,ft+Tt+16+6*Pt),rr=ft+Tt+16+8*Pt,sr=0;sr<Pt-1;sr+=1)for(var ur=void 0,cr=At.parseUShort(),jr=kt.parseUShort(),zt=Ot.parseShort(),Qt=Xt.parseUShort(),Wt=jr;Wt<=cr;Wt+=1)Qt!==0?(rr=(rr=Xt.offset+Xt.relativeOffset-2)+Qt+2*(Wt-jr),(ur=G.getUShort(ct,rr))!==0&&(ur=ur+zt&65535)):ur=Wt+zt&65535,pt.glyphIndexMap[Wt]=ur}return Q},make:function(A){for(var z=!0,Q=A.length-1;0<Q;--Q)if(65535<A.get(Q).unicode){console.log("Adding CMAP format 12 (needed!)"),z=!1;break}var te,me,ke=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:z?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:z?12:20}],Pe=(ke=(ke=z?ke:ke.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new pe.Table("cmap",ke));for(Pe.segments=[],Q=0;Q<A.length;Q+=1){for(var Ue=A.get(Q),Ve=0;Ve<Ue.unicodes.length;Ve+=1)te=Ue.unicodes[Ve],me=Q,Pe.segments.push({end:te,start:te,delta:-(te-me),offset:0,glyphIndex:me});Pe.segments=Pe.segments.sort(function(ft,Tt){return ft.start-Tt.start})}Pe.segments.push({end:65535,start:65535,delta:1,offset:0});var qe=Pe.segments.length,tt=0,lt=[],ot=[],Xe=[],_t=[],ht=[],pt=[];for(Q=0;Q<qe;Q+=1){var ct=Pe.segments[Q];ct.end<=65535&&ct.start<=65535?(lt=lt.concat({name:"end_"+Q,type:"USHORT",value:ct.end}),ot=ot.concat({name:"start_"+Q,type:"USHORT",value:ct.start}),Xe=Xe.concat({name:"idDelta_"+Q,type:"SHORT",value:ct.delta}),_t=_t.concat({name:"idRangeOffset_"+Q,type:"USHORT",value:ct.offset}),ct.glyphId!==void 0&&(ht=ht.concat({name:"glyph_"+Q,type:"USHORT",value:ct.glyphId}))):tt+=1,z||ct.glyphIndex===void 0||(pt=(pt=(pt=pt.concat({name:"cmap12Start_"+Q,type:"ULONG",value:ct.start})).concat({name:"cmap12End_"+Q,type:"ULONG",value:ct.end})).concat({name:"cmap12Glyph_"+Q,type:"ULONG",value:ct.glyphIndex}))}return Pe.segCountX2=2*(qe-tt),Pe.searchRange=2*Math.pow(2,Math.floor(Math.log(qe-tt)/Math.log(2))),Pe.entrySelector=Math.log(Pe.searchRange/2)/Math.log(2),Pe.rangeShift=Pe.segCountX2-Pe.searchRange,Pe.fields=Pe.fields.concat(lt),Pe.fields.push({name:"reservedPad",type:"USHORT",value:0}),Pe.fields=Pe.fields.concat(ot),Pe.fields=Pe.fields.concat(Xe),Pe.fields=Pe.fields.concat(_t),Pe.fields=Pe.fields.concat(ht),Pe.cmap4Length=14+2*lt.length+2+2*ot.length+2*Xe.length+2*_t.length+2*ht.length,z||(ke=16+4*pt.length,Pe.cmap12Offset=20+Pe.cmap4Length,Pe.fields=Pe.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:ke},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:pt.length/3}]),Pe.fields=Pe.fields.concat(pt)),Pe}},W=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],F=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Y=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ie=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function he(A){this.font=A}function U(A){this.cmap=A}function se(A,z){this.encoding=A,this.charset=z}function ue(A){switch(A.version){case 1:this.names=ie.slice();break;case 2:this.names=new Array(A.numberOfGlyphs);for(var z=0;z<A.numberOfGlyphs;z++)A.glyphNameIndex[z]<ie.length?this.names[z]=ie[A.glyphNameIndex[z]]:this.names[z]=A.names[A.glyphNameIndex[z]-ie.length];break;case 2.5:this.names=new Array(A.numberOfGlyphs);for(var Q=0;Q<A.numberOfGlyphs;Q++)this.names[Q]=ie[Q+A.glyphNameIndex[Q]];break;default:this.names=[]}}he.prototype.charToGlyphIndex=function(A){var z=A.codePointAt(0),Q=this.font.glyphs;if(Q){for(var te=0;te<Q.length;te+=1)for(var me=Q.get(te),ke=0;ke<me.unicodes.length;ke+=1)if(me.unicodes[ke]===z)return te}return null},U.prototype.charToGlyphIndex=function(A){return this.cmap.glyphIndexMap[A.codePointAt(0)]||0},se.prototype.charToGlyphIndex=function(A){return A=A.codePointAt(0),A=this.encoding[A],this.charset.indexOf(A)},ue.prototype.nameToGlyphIndex=function(A){return this.names.indexOf(A)},ue.prototype.glyphIndexToName=function(A){return this.names[A]};var we={line:function(A,z,Q,te,me){A.beginPath(),A.moveTo(z,Q),A.lineTo(te,me),A.stroke()}};function ce(A){this.bindConstructorValues(A)}function Se(A,z,Q){Object.defineProperty(A,z,{get:function(){return A.path,A[Q]},set:function(te){A[Q]=te},enumerable:!0,configurable:!0})}function $(A,z){if(this.font=A,this.glyphs={},Array.isArray(z))for(var Q=0;Q<z.length;Q++)this.glyphs[Q]=z[Q];this.length=z&&z.length||0}ce.prototype.bindConstructorValues=function(A){var z;this.index=A.index||0,this.name=A.name||null,this.unicode=A.unicode||void 0,this.unicodes=A.unicodes||A.unicode!==void 0?[A.unicode]:[],A.xMin&&(this.xMin=A.xMin),A.yMin&&(this.yMin=A.yMin),A.xMax&&(this.xMax=A.xMax),A.yMax&&(this.yMax=A.yMax),A.advanceWidth&&(this.advanceWidth=A.advanceWidth),Object.defineProperty(this,"path",(A=A.path,z=A||new fe,{configurable:!0,get:function(){return z=typeof z=="function"?z():z},set:function(Q){z=Q}}))},ce.prototype.addUnicode=function(A){this.unicodes.length===0&&(this.unicode=A),this.unicodes.push(A)},ce.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ce.prototype.getPath=function(A,z,Q,te,me){A=A!==void 0?A:0,z=z!==void 0?z:0,Q=Q!==void 0?Q:72;for(var ke,Pe,Ue=(te=te||{}).xScale,Ve=te.yScale,qe=((ke=te.hinting&&me&&me.hinting?this.path&&me.hinting.exec(this,Q):ke)?(Pe=me.hinting.getCommands(ke),A=Math.round(A),z=Math.round(z),Ue=Ve=1):(Pe=this.path.commands,te=1/this.path.unitsPerEm*Q,Ue===void 0&&(Ue=te),Ve===void 0&&(Ve=te)),new fe),tt=0;tt<Pe.length;tt+=1){var lt=Pe[tt];lt.type==="M"?qe.moveTo(A+lt.x*Ue,z+-lt.y*Ve):lt.type==="L"?qe.lineTo(A+lt.x*Ue,z+-lt.y*Ve):lt.type==="Q"?qe.quadraticCurveTo(A+lt.x1*Ue,z+-lt.y1*Ve,A+lt.x*Ue,z+-lt.y*Ve):lt.type==="C"?qe.curveTo(A+lt.x1*Ue,z+-lt.y1*Ve,A+lt.x2*Ue,z+-lt.y2*Ve,A+lt.x*Ue,z+-lt.y*Ve):lt.type==="Z"&&qe.closePath()}return qe},ce.prototype.getContours=function(){if(this.points===void 0)return[];for(var A=[],z=[],Q=0;Q<this.points.length;Q+=1){var te=this.points[Q];z.push(te),te.lastPointOfContour&&(A.push(z),z=[])}return V.argument(z.length===0,"There are still points left in the current contour."),A},ce.prototype.getMetrics=function(){for(var A=this.path.commands,z=[],Q=[],te=0;te<A.length;te+=1){var me=A[te];me.type!=="Z"&&(z.push(me.x),Q.push(me.y)),me.type!=="Q"&&me.type!=="C"||(z.push(me.x1),Q.push(me.y1)),me.type==="C"&&(z.push(me.x2),Q.push(me.y2))}var ke={xMin:Math.min.apply(null,z),yMin:Math.min.apply(null,Q),xMax:Math.max.apply(null,z),yMax:Math.max.apply(null,Q),leftSideBearing:this.leftSideBearing};return isFinite(ke.xMin)||(ke.xMin=0),isFinite(ke.xMax)||(ke.xMax=this.advanceWidth),isFinite(ke.yMin)||(ke.yMin=0),isFinite(ke.yMax)||(ke.yMax=0),ke.rightSideBearing=this.advanceWidth-ke.leftSideBearing-(ke.xMax-ke.xMin),ke},ce.prototype.draw=function(A,z,Q,te,me){this.getPath(z,Q,te,me).draw(A)},ce.prototype.drawPoints=function(A,z,Q,te){function me(tt,lt,ot,Xe){var _t=2*Math.PI;A.beginPath();for(var ht=0;ht<tt.length;ht+=1)A.moveTo(lt+tt[ht].x*Xe,ot+tt[ht].y*Xe),A.arc(lt+tt[ht].x*Xe,ot+tt[ht].y*Xe,2,0,_t,!1);A.closePath(),A.fill()}z=z!==void 0?z:0,Q=Q!==void 0?Q:0;for(var te=1/this.path.unitsPerEm*(te=te!==void 0?te:24),ke=[],Pe=[],Ue=this.path,Ve=0;Ve<Ue.commands.length;Ve+=1){var qe=Ue.commands[Ve];qe.x!==void 0&&ke.push({x:qe.x,y:-qe.y}),qe.x1!==void 0&&Pe.push({x:qe.x1,y:-qe.y1}),qe.x2!==void 0&&Pe.push({x:qe.x2,y:-qe.y2})}A.fillStyle="blue",me(ke,z,Q,te),A.fillStyle="red",me(Pe,z,Q,te)},ce.prototype.drawMetrics=function(A,z,Q,te){z=z!==void 0?z:0,Q=Q!==void 0?Q:0,te=1/this.path.unitsPerEm*(te=te!==void 0?te:24),A.lineWidth=1,A.strokeStyle="black",we.line(A,z,-1e4,z,1e4),we.line(A,-1e4,Q,1e4,Q);var me=this.xMin||0,ke=this.yMin||0,Pe=this.xMax||0,Ue=this.yMax||0,Ve=this.advanceWidth||0;A.strokeStyle="blue",we.line(A,z+me*te,-1e4,z+me*te,1e4),we.line(A,z+Pe*te,-1e4,z+Pe*te,1e4),we.line(A,-1e4,Q+-ke*te,1e4,Q+-ke*te),we.line(A,-1e4,Q+-Ue*te,1e4,Q+-Ue*te),A.strokeStyle="green",we.line(A,z+Ve*te,-1e4,z+Ve*te,1e4)},$.prototype.get=function(A){return typeof this.glyphs[A]=="function"&&(this.glyphs[A]=this.glyphs[A]()),this.glyphs[A]},$.prototype.push=function(A,z){this.glyphs[A]=z,this.length++};var je={GlyphSet:$,glyphLoader:function(A,z){return new ce({index:z,font:A})},ttfGlyphLoader:function(A,z,Q,te,me,ke){return function(){var Pe=new ce({index:z,font:A});return Pe.path=function(){Q(Pe,te,me);var Ue=ke(A.glyphs,Pe);return Ue.unitsPerEm=A.unitsPerEm,Ue},Se(Pe,"xMin","_xMin"),Se(Pe,"xMax","_xMax"),Se(Pe,"yMin","_yMin"),Se(Pe,"yMax","_yMax"),Pe}},cffGlyphLoader:function(A,z,Q,te){return function(){var me=new ce({index:z,font:A});return me.path=function(){var ke=Q(A,me,te);return ke.unitsPerEm=A.unitsPerEm,ke},me}}};function be(A){return A=A.length<1240?107:A.length<33900?1131:32768,A}function k(A,z,Q){var te,me=[],ke=[],Pe=G.getCard16(A,z);if(Pe!==0){for(var Ue=G.getByte(A,z+2),Ve=z+(Pe+1)*Ue+2,qe=z+3,tt=0;tt<Pe+1;tt+=1)me.push(G.getOffset(A,qe,Ue)),qe+=Ue;te=Ve+me[Pe]}else te=z+2;for(var lt=0;lt<me.length-1;lt+=1){var ot=G.getBytes(A,Ve+me[lt],Ve+me[lt+1]);Q&&(ot=Q(ot)),ke.push(ot)}return{objects:ke,startOffset:z,endOffset:te}}function ye(A,z){if(z===28)return A.parseByte()<<8|A.parseByte();if(z===29)return A.parseByte()<<24|A.parseByte()<<16|A.parseByte()<<8|A.parseByte();if(z===30){for(var Q=A,te="",me=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Pe=Q.parseByte(),ke=Pe>>4,Pe=15&Pe;if(ke==15||(te+=me[ke],Pe==15))break;te+=me[Pe]}return parseFloat(te)}if(32<=z&&z<=246)return z-139;if(247<=z&&z<=250)return 256*(z-247)+A.parseByte()+108;if(251<=z&&z<=254)return 256*-(z-251)-A.parseByte()-108;throw new Error("Invalid b0 "+z)}function Ce(A,z,Q){var te=new G.Parser(A,z=z!==void 0?z:0),me=[],ke=[];for(Q=Q!==void 0?Q:A.length;te.relativeOffset<Q;){var Pe=te.parseByte();Pe<=21?(Pe===12&&(Pe=1200+te.parseByte()),me.push([Pe,ke]),ke=[]):ke.push(ye(te,Pe))}for(var Ue=me,Ve={},qe=0;qe<Ue.length;qe+=1){var tt=Ue[qe][0],lt=Ue[qe][1],ot=void 0,ot=lt.length===1?lt[0]:lt;if(Ve.hasOwnProperty(tt)&&!isNaN(Ve[tt]))throw new Error("Object "+Ve+" already has key "+tt);Ve[tt]=ot}return Ve}function X(A,z){return z=z<=390?W[z]:A[z-391]}function Ee(A,z,Q){for(var te,me={},ke=0;ke<z.length;ke+=1){var Pe=z[ke];if(Array.isArray(Pe.type)){var Ue=[];Ue.length=Pe.type.length;for(var Ve=0;Ve<Pe.type.length;Ve++)(te=A[Pe.op]!==void 0?A[Pe.op][Ve]:void 0)===void 0&&(te=Pe.value!==void 0&&Pe.value[Ve]!==void 0?Pe.value[Ve]:null),Pe.type[Ve]==="SID"&&(te=X(Q,te)),Ue[Ve]=te;me[Pe.name]=Ue}else(te=A[Pe.op])===void 0&&(te=Pe.value!==void 0?Pe.value:null),Pe.type==="SID"&&(te=X(Q,te)),me[Pe.name]=te}return me}var Fe=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ne=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ge(A,z,Q,te){return Ee(Ce(A,z,Q),Ne,te)}function ze(A,z,Q,te){for(var me=[],ke=0;ke<Q.length;ke+=1){var Pe=new DataView(new Uint8Array(Q[ke]).buffer),Pe=(Ue=te,Ee(Ce(Pe,0,Pe.byteLength),Fe,Ue)),Ue=(Pe._subrs=[],Pe._subrsBias=0,Pe.private[0]),Ve=Pe.private[1];Ue!==0&&Ve!==0&&(Ue=Ge(A,Ve+z,Ue,te),Pe._defaultWidthX=Ue.defaultWidthX,Pe._nominalWidthX=Ue.nominalWidthX,Ue.subrs!==0&&(Ve=k(A,Ve+Ue.subrs+z),Pe._subrs=Ve.objects,Pe._subrsBias=be(Pe._subrs)),Pe._privateDict=Ue),me.push(Pe)}return me}function We(A,z,Q){var te,me,ke,Pe,Ue,Ve,qe,tt,lt,ot=new fe,Xe=[],_t=0,ht=!1,pt=!1,ct=0,ft=0,Tt=(lt=(A.isCIDFont?(Ue=A.tables.cff.topDict._fdSelect[z.index],Ue=A.tables.cff.topDict._fdArray[Ue],Ve=Ue._subrs,qe=Ue._subrsBias,tt=Ue._defaultWidthX,Ue):(Ve=A.tables.cff.topDict._subrs,qe=A.tables.cff.topDict._subrsBias,tt=A.tables.cff.topDict._defaultWidthX,A.tables.cff.topDict))._nominalWidthX,tt);function Pt(kt,Ot){pt&&ot.closePath(),ot.moveTo(kt,Ot),pt=!0}function At(){Xe.length%2==0||ht||(Tt=Xe.shift()+lt),_t+=Xe.length>>1,Xe.length=0,ht=!0}return function kt(Ot){for(var Xt,rr,sr,ur,cr,jr,zt,Qt,Wt,fr,$t,or,Kt=0;Kt<Ot.length;){var Jt=Ot[Kt];switch(Kt+=1,Jt){case 1:case 3:At();break;case 4:1<Xe.length&&!ht&&(Tt=Xe.shift()+lt,ht=!0),ft+=Xe.pop(),Pt(ct,ft);break;case 5:for(;0<Xe.length;)ct+=Xe.shift(),ft+=Xe.shift(),ot.lineTo(ct,ft);break;case 6:for(;0<Xe.length&&(ct+=Xe.shift(),ot.lineTo(ct,ft),Xe.length!==0);)ft+=Xe.shift(),ot.lineTo(ct,ft);break;case 7:for(;0<Xe.length&&(ft+=Xe.shift(),ot.lineTo(ct,ft),Xe.length!==0);)ct+=Xe.shift(),ot.lineTo(ct,ft);break;case 8:for(;0<Xe.length;)te=ct+Xe.shift(),me=ft+Xe.shift(),ke=te+Xe.shift(),Pe=me+Xe.shift(),ct=ke+Xe.shift(),ft=Pe+Xe.shift(),ot.curveTo(te,me,ke,Pe,ct,ft);break;case 10:cr=Xe.pop()+qe,(jr=Ve[cr])&&kt(jr);break;case 11:return;case 12:switch(Jt=Ot[Kt],Kt+=1,Jt){case 35:te=ct+Xe.shift(),me=ft+Xe.shift(),ke=te+Xe.shift(),Pe=me+Xe.shift(),zt=ke+Xe.shift(),Qt=Pe+Xe.shift(),Wt=zt+Xe.shift(),fr=Qt+Xe.shift(),$t=Wt+Xe.shift(),or=fr+Xe.shift(),ct=$t+Xe.shift(),ft=or+Xe.shift(),Xe.shift(),ot.curveTo(te,me,ke,Pe,zt,Qt),ot.curveTo(Wt,fr,$t,or,ct,ft);break;case 34:te=ct+Xe.shift(),me=ft,ke=te+Xe.shift(),Pe=me+Xe.shift(),zt=ke+Xe.shift(),Qt=Pe,Wt=zt+Xe.shift(),fr=Pe,$t=Wt+Xe.shift(),or=ft,ct=$t+Xe.shift(),ot.curveTo(te,me,ke,Pe,zt,Qt),ot.curveTo(Wt,fr,$t,or,ct,ft);break;case 36:te=ct+Xe.shift(),me=ft+Xe.shift(),ke=te+Xe.shift(),Pe=me+Xe.shift(),zt=ke+Xe.shift(),Qt=Pe,Wt=zt+Xe.shift(),fr=Pe,$t=Wt+Xe.shift(),or=fr+Xe.shift(),ct=$t+Xe.shift(),ot.curveTo(te,me,ke,Pe,zt,Qt),ot.curveTo(Wt,fr,$t,or,ct,ft);break;case 37:te=ct+Xe.shift(),me=ft+Xe.shift(),ke=te+Xe.shift(),Pe=me+Xe.shift(),zt=ke+Xe.shift(),Qt=Pe+Xe.shift(),Wt=zt+Xe.shift(),fr=Qt+Xe.shift(),$t=Wt+Xe.shift(),or=fr+Xe.shift(),Math.abs($t-ct)>Math.abs(or-ft)?ct=$t+Xe.shift():ft=or+Xe.shift(),ot.curveTo(te,me,ke,Pe,zt,Qt),ot.curveTo(Wt,fr,$t,or,ct,ft);break;default:console.log("Glyph "+z.index+": unknown operator 1200"+Jt),Xe.length=0}break;case 14:0<Xe.length&&!ht&&(Tt=Xe.shift()+lt,ht=!0),pt&&(ot.closePath(),pt=!1);break;case 18:At();break;case 19:case 20:At(),Kt+=_t+7>>3;break;case 21:2<Xe.length&&!ht&&(Tt=Xe.shift()+lt,ht=!0),ft+=Xe.pop(),Pt(ct+=Xe.pop(),ft);break;case 22:1<Xe.length&&!ht&&(Tt=Xe.shift()+lt,ht=!0),Pt(ct+=Xe.pop(),ft);break;case 23:At();break;case 24:for(;2<Xe.length;)te=ct+Xe.shift(),me=ft+Xe.shift(),ke=te+Xe.shift(),Pe=me+Xe.shift(),ct=ke+Xe.shift(),ft=Pe+Xe.shift(),ot.curveTo(te,me,ke,Pe,ct,ft);ct+=Xe.shift(),ft+=Xe.shift(),ot.lineTo(ct,ft);break;case 25:for(;6<Xe.length;)ct+=Xe.shift(),ft+=Xe.shift(),ot.lineTo(ct,ft);te=ct+Xe.shift(),me=ft+Xe.shift(),ke=te+Xe.shift(),Pe=me+Xe.shift(),ct=ke+Xe.shift(),ft=Pe+Xe.shift(),ot.curveTo(te,me,ke,Pe,ct,ft);break;case 26:for(Xe.length%2&&(ct+=Xe.shift());0<Xe.length;)te=ct,me=ft+Xe.shift(),ke=te+Xe.shift(),Pe=me+Xe.shift(),ct=ke,ft=Pe+Xe.shift(),ot.curveTo(te,me,ke,Pe,ct,ft);break;case 27:for(Xe.length%2&&(ft+=Xe.shift());0<Xe.length;)te=ct+Xe.shift(),me=ft,ke=te+Xe.shift(),Pe=me+Xe.shift(),ct=ke+Xe.shift(),ft=Pe,ot.curveTo(te,me,ke,Pe,ct,ft);break;case 28:Xt=Ot[Kt],rr=Ot[Kt+1],Xe.push((Xt<<24|rr<<16)>>16),Kt+=2;break;case 29:cr=Xe.pop()+A.gsubrsBias,(jr=A.gsubrs[cr])&&kt(jr);break;case 30:for(;0<Xe.length&&(te=ct,me=ft+Xe.shift(),ke=te+Xe.shift(),Pe=me+Xe.shift(),ct=ke+Xe.shift(),ft=Pe+(Xe.length===1?Xe.shift():0),ot.curveTo(te,me,ke,Pe,ct,ft),Xe.length!==0);)te=ct+Xe.shift(),me=ft,ke=te+Xe.shift(),Pe=me+Xe.shift(),ft=Pe+Xe.shift(),ct=ke+(Xe.length===1?Xe.shift():0),ot.curveTo(te,me,ke,Pe,ct,ft);break;case 31:for(;0<Xe.length&&(te=ct+Xe.shift(),me=ft,ke=te+Xe.shift(),Pe=me+Xe.shift(),ft=Pe+Xe.shift(),ct=ke+(Xe.length===1?Xe.shift():0),ot.curveTo(te,me,ke,Pe,ct,ft),Xe.length!==0);)te=ct,me=ft+Xe.shift(),ke=te+Xe.shift(),Pe=me+Xe.shift(),ct=ke+Xe.shift(),ft=Pe+(Xe.length===1?Xe.shift():0),ot.curveTo(te,me,ke,Pe,ct,ft);break;default:Jt<32?console.log("Glyph "+z.index+": unknown operator "+Jt):Jt<247?Xe.push(Jt-139):Jt<251?(Xt=Ot[Kt],Kt+=1,Xe.push(256*(Jt-247)+Xt+108)):Jt<255?(Xt=Ot[Kt],Kt+=1,Xe.push(256*-(Jt-251)-Xt-108)):(Xt=Ot[Kt],rr=Ot[Kt+1],sr=Ot[Kt+2],ur=Ot[Kt+3],Kt+=4,Xe.push((Xt<<24|rr<<16|sr<<8|ur)/65536))}}}(Q),z.advanceWidth=Tt,ot}function Qe(A,z){var Q,te=W.indexOf(A);return 0<=te&&(Q=te),0<=(te=z.indexOf(A))?Q=te+W.length:(Q=W.length+z.length,z.push(A)),Q}function rt(A,z,Q){for(var te={},me=0;me<A.length;me+=1){var ke=A[me],Pe=z[ke.name];Pe===void 0||function Ue(Ve,qe){if(Ve===qe)return 1;if(Array.isArray(Ve)&&Array.isArray(qe)&&Ve.length===qe.length){for(var tt=0;tt<Ve.length;tt+=1)if(!Ue(Ve[tt],qe[tt]))return;return 1}}(Pe,ke.value)||(ke.type==="SID"&&(Pe=Qe(Pe,Q)),te[ke.op]={name:ke.name,type:ke.type,value:Pe})}return te}function et(A,z){var Q=new pe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return Q.dict=rt(Fe,A,z),Q}function ut(A){var z=new pe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return z.topDicts=[{name:"topDict_0",type:"TABLE",value:A}],z}function mt(A){for(var z=new pe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Q=0;Q<A.length;Q+=1){var te=A.get(Q),me=function(ke){for(var Pe=[],Ue=ke.path,Ve=(Pe.push({name:"width",type:"NUMBER",value:ke.advanceWidth}),0),qe=0,tt=0;tt<Ue.commands.length;tt+=1){var lt,ot,Xe,_t,ht=void 0,pt=void 0,ct=Ue.commands[tt];(ct=ct.type==="Q"?{type:"C",x:ct.x,y:ct.y,x1:1/3*Ve+2/3*ct.x1,y1:1/3*qe+2/3*ct.y1,x2:1/3*ct.x+2/3*ct.x1,y2:1/3*ct.y+2/3*ct.y1}:ct).type==="M"?(ht=Math.round(ct.x-Ve),pt=Math.round(ct.y-qe),Pe.push({name:"dx",type:"NUMBER",value:ht}),Pe.push({name:"dy",type:"NUMBER",value:pt}),Pe.push({name:"rmoveto",type:"OP",value:21}),Ve=Math.round(ct.x),qe=Math.round(ct.y)):ct.type==="L"?(ht=Math.round(ct.x-Ve),pt=Math.round(ct.y-qe),Pe.push({name:"dx",type:"NUMBER",value:ht}),Pe.push({name:"dy",type:"NUMBER",value:pt}),Pe.push({name:"rlineto",type:"OP",value:5}),Ve=Math.round(ct.x),qe=Math.round(ct.y)):ct.type==="C"&&(lt=Math.round(ct.x1-Ve),ot=Math.round(ct.y1-qe),Xe=Math.round(ct.x2-ct.x1),_t=Math.round(ct.y2-ct.y1),ht=Math.round(ct.x-ct.x2),pt=Math.round(ct.y-ct.y2),Pe.push({name:"dx1",type:"NUMBER",value:lt}),Pe.push({name:"dy1",type:"NUMBER",value:ot}),Pe.push({name:"dx2",type:"NUMBER",value:Xe}),Pe.push({name:"dy2",type:"NUMBER",value:_t}),Pe.push({name:"dx",type:"NUMBER",value:ht}),Pe.push({name:"dy",type:"NUMBER",value:pt}),Pe.push({name:"rrcurveto",type:"OP",value:8}),Ve=Math.round(ct.x),qe=Math.round(ct.y))}return Pe.push({name:"endchar",type:"OP",value:14}),Pe}(te);z.charStrings.push({name:te.name,type:"CHARSTRING",value:me})}return z}var bt={parse:function(A,z,Q){Q.tables.cff={},Ue=A,te=z,(me={}).formatMajor=G.getCard8(Ue,te),me.formatMinor=G.getCard8(Ue,te+1),me.size=G.getCard8(Ue,te+2),me.offsetSize=G.getCard8(Ue,te+3),me.startOffset=te,me.endOffset=te+4;var Ue=k(A,me.endOffset,G.bytesToString),te=k(A,Ue.endOffset),me=k(A,te.endOffset,G.bytesToString),Ue=k(A,me.endOffset);if(Q.gsubrs=Ue.objects,Q.gsubrsBias=be(Q.gsubrs),(Ue=ze(A,z,te.objects,me.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Ue.length);if(te=Ue[0],(Q.tables.cff.topDict=te)._privateDict&&(Q.defaultWidthX=te._privateDict.defaultWidthX,Q.nominalWidthX=te._privateDict.nominalWidthX),te.ros[0]!==void 0&&te.ros[1]!==void 0&&(Q.isCIDFont=!0),Q.isCIDFont){var Ue=te.fdArray,ke=te.fdSelect;if(Ue===0||ke===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Ue=ze(A,z,k(A,Ue+=z).objects,me.objects),te._fdArray=Ue,te._fdSelect=function(ot,Xe,_t,ht){var pt,ct=[],ft=new G.Parser(ot,Xe);if((ot=ft.parseCard8())===0)for(var Tt=0;Tt<_t;Tt++){if(ht<=(pt=ft.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+pt+" (FD count "+ht+")");ct.push(pt)}else{if(ot!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ot);var Pt,At=ft.parseCard16(),kt=ft.parseCard16();if(kt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+kt);for(var Ot=0;Ot<At;Ot++){if(pt=ft.parseCard8(),Pt=ft.parseCard16(),ht<=pt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+pt+" (FD count "+ht+")");if(_t<Pt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Pt);for(;kt<Pt;kt++)ct.push(pt);kt=Pt}if(Pt!==_t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Pt)}return ct}(A,ke+=z,Q.numGlyphs,Ue.length)}var ke=z+te.private[1],Ue=Ge(A,ke,te.private[0],me.objects),Pe=(Q.defaultWidthX=Ue.defaultWidthX,Q.nominalWidthX=Ue.nominalWidthX,Ue.subrs!==0?(ke=k(A,ke+Ue.subrs),Q.subrs=ke.objects,Q.subrsBias=be(Q.subrs)):(Q.subrs=[],Q.subrsBias=0),k(A,z+te.charStrings)),Ue=(Q.nGlyphs=Pe.objects.length,function(tt,lt,ot,Xe){var _t=new G.Parser(tt,lt),ht=(--ot,[".notdef"]);if((tt=_t.parseCard8())===0)for(var pt=0;pt<ot;pt+=1)ct=_t.parseSID(),ht.push(X(Xe,ct));else if(tt===1)for(;ht.length<=ot;)for(var ct=_t.parseSID(),ft=_t.parseCard8(),Tt=0;Tt<=ft;Tt+=1)ht.push(X(Xe,ct)),ct+=1;else{if(tt!==2)throw new Error("Unknown charset format "+tt);for(;ht.length<=ot;){ct=_t.parseSID(),ft=_t.parseCard16();for(var Pt=0;Pt<=ft;Pt+=1)ht.push(X(Xe,ct)),ct+=1}}return ht}(A,z+te.charset,Q.nGlyphs,me.objects));te.encoding===0?Q.cffEncoding=new se(F,Ue):te.encoding===1?Q.cffEncoding=new se(Y,Ue):Q.cffEncoding=function(tt,lt,ot){var Xe={},_t=new G.Parser(tt,lt);if((tt=_t.parseCard8())===0)for(var ht=_t.parseCard8(),pt=0;pt<ht;pt+=1)Xe[ft=_t.parseCard8()]=pt;else{if(tt!==1)throw new Error("Unknown encoding format "+tt);for(var ct=_t.parseCard8(),ft=1,Tt=0;Tt<ct;Tt+=1)for(var Pt=_t.parseCard8(),At=_t.parseCard8(),kt=Pt;kt<=Pt+At;kt+=1)Xe[kt]=ft,ft+=1}return new se(Xe,ot)}(A,z+te.encoding,Ue),Q.encoding=Q.encoding||Q.cffEncoding,Q.glyphs=new je.GlyphSet(Q);for(var Ve=0;Ve<Q.nGlyphs;Ve+=1){var qe=Pe.objects[Ve];Q.glyphs.push(Ve,je.cffGlyphLoader(Q,Ve,We,qe))}},make:function(A,tt){for(var Q,te=new pe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),me=1/tt.unitsPerEm,me={version:tt.version,fullName:tt.fullName,familyName:tt.familyName,weight:tt.weightName,fontBBox:tt.fontBBox||[0,0,0,0],fontMatrix:[me,0,0,me,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},ke=[],Pe=1;Pe<A.length;Pe+=1)Q=A.get(Pe),ke.push(Q.name);var Ue,Ve,qe=[],tt=(te.header=new pe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),te.nameIndex=function(ot){var Xe=new pe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Xe.names=[];for(var _t=0;_t<ot.length;_t+=1)Xe.names.push({name:"name_"+_t,type:"NAME",value:ot[_t]});return Xe}([tt.postScriptName]),et(me,qe)),lt=(te.topDictIndex=ut(tt),te.globalSubrIndex=new pe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),te.charsets=function(ot,Xe){for(var _t=new pe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),ht=0;ht<ot.length;ht+=1){var pt=Qe(ot[ht],Xe);_t.fields.push({name:"glyph_"+ht,type:"SID",value:pt})}return _t}(ke,qe),te.charStringsIndex=mt(A),te.privateDict=(lt={},Ue=qe,(Ve=new pe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=rt(Ne,lt,Ue),Ve),te.stringIndex=function(ot){var Xe=new pe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Xe.strings=[];for(var _t=0;_t<ot.length;_t+=1)Xe.strings.push({name:"string_"+_t,type:"STRING",value:ot[_t]});return Xe}(qe),te.header.sizeOf()+te.nameIndex.sizeOf()+te.topDictIndex.sizeOf()+te.stringIndex.sizeOf()+te.globalSubrIndex.sizeOf());return me.charset=lt,me.encoding=0,me.charStrings=me.charset+te.charsets.sizeOf(),me.private[1]=me.charStrings+te.charStringsIndex.sizeOf(),tt=et(me,qe),te.topDictIndex=ut(tt),te}},xt={parse:function(te,z){var Q={},te=new G.Parser(te,z);return Q.version=te.parseVersion(),Q.fontRevision=Math.round(1e3*te.parseFixed())/1e3,Q.checkSumAdjustment=te.parseULong(),Q.magicNumber=te.parseULong(),V.argument(Q.magicNumber===1594834165,"Font header has wrong magic number."),Q.flags=te.parseUShort(),Q.unitsPerEm=te.parseUShort(),Q.created=te.parseLongDateTime(),Q.modified=te.parseLongDateTime(),Q.xMin=te.parseShort(),Q.yMin=te.parseShort(),Q.xMax=te.parseShort(),Q.yMax=te.parseShort(),Q.macStyle=te.parseUShort(),Q.lowestRecPPEM=te.parseUShort(),Q.fontDirectionHint=te.parseShort(),Q.indexToLocFormat=te.parseShort(),Q.glyphDataFormat=te.parseShort(),Q},make:function(A){var z=Math.round(new Date().getTime()/1e3)+2082844800,Q=z;return A.createdTimestamp&&(Q=A.createdTimestamp+2082844800),new pe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:Q},{name:"modified",type:"LONGDATETIME",value:z},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],A)}},He={parse:function(te,z){var Q={},te=new G.Parser(te,z);return Q.version=te.parseVersion(),Q.ascender=te.parseShort(),Q.descender=te.parseShort(),Q.lineGap=te.parseShort(),Q.advanceWidthMax=te.parseUShort(),Q.minLeftSideBearing=te.parseShort(),Q.minRightSideBearing=te.parseShort(),Q.xMaxExtent=te.parseShort(),Q.caretSlopeRise=te.parseShort(),Q.caretSlopeRun=te.parseShort(),Q.caretOffset=te.parseShort(),te.relativeOffset+=8,Q.metricDataFormat=te.parseShort(),Q.numberOfHMetrics=te.parseUShort(),Q},make:function(A){return new pe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],A)}},Ze={parse:function(A,z,Q,te,me){for(var ke,Pe,Ue=new G.Parser(A,z),Ve=0;Ve<te;Ve+=1){Ve<Q&&(ke=Ue.parseUShort(),Pe=Ue.parseShort());var qe=me.get(Ve);qe.advanceWidth=ke,qe.leftSideBearing=Pe}},make:function(A){for(var z=new pe.Table("hmtx",[]),Q=0;Q<A.length;Q+=1){var me=A.get(Q),te=me.advanceWidth||0,me=me.leftSideBearing||0;z.fields.push({name:"advanceWidth_"+Q,type:"USHORT",value:te}),z.fields.push({name:"leftSideBearing_"+Q,type:"SHORT",value:me})}return z}},it={make:function(A){for(var z=new pe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:A.length}]),Q="",te=12+4*A.length,me=0;me<A.length;++me){var ke=Q.indexOf(A[me]);ke<0&&(ke=Q.length,Q+=A[me]),z.fields.push({name:"offset "+me,type:"USHORT",value:te+ke}),z.fields.push({name:"length "+me,type:"USHORT",value:A[me].length})}return z.fields.push({name:"stringPool",type:"CHARARRAY",value:Q}),z},parse:function(A,z){for(var Q=new G.Parser(A,z),te=Q.parseULong(),me=(V.argument(te===1,"Unsupported ltag table version."),Q.skip("uLong",1),Q.parseULong()),ke=[],Pe=0;Pe<me;Pe++){for(var Ue="",Ve=z+Q.parseUShort(),qe=Q.parseUShort(),tt=Ve;tt<Ve+qe;++tt)Ue+=String.fromCharCode(A.getInt8(tt));ke.push(Ue)}return ke}},at={parse:function(te,z){var Q={},te=new G.Parser(te,z);return Q.version=te.parseVersion(),Q.numGlyphs=te.parseUShort(),Q.version===1&&(Q.maxPoints=te.parseUShort(),Q.maxContours=te.parseUShort(),Q.maxCompositePoints=te.parseUShort(),Q.maxCompositeContours=te.parseUShort(),Q.maxZones=te.parseUShort(),Q.maxTwilightPoints=te.parseUShort(),Q.maxStorage=te.parseUShort(),Q.maxFunctionDefs=te.parseUShort(),Q.maxInstructionDefs=te.parseUShort(),Q.maxStackElements=te.parseUShort(),Q.maxSizeOfInstructions=te.parseUShort(),Q.maxComponentElements=te.parseUShort(),Q.maxComponentDepth=te.parseUShort()),Q},make:function(A){return new pe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:A}])}},yt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],st={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Et={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},gt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},jt="utf-16",vt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Mt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Bt(A,z,Q){switch(A){case 0:return jt;case 1:return Mt[Q]||vt[z];case 3:if(z===1||z===10)return jt}}function Dt(A){var z,Q={};for(z in A)Q[A[z]]=parseInt(z);return Q}function Nt(A,z,Q,te,me,ke){return new pe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:A},{name:"encodingID",type:"USHORT",value:z},{name:"languageID",type:"USHORT",value:Q},{name:"nameID",type:"USHORT",value:te},{name:"length",type:"USHORT",value:me},{name:"offset",type:"USHORT",value:ke}])}function Ht(A,z){if((Q=function(ke,Pe){var Ue=ke.length,Ve=Pe.length-Ue+1;e:for(var qe=0;qe<Ve;qe++)for(;qe<Ve;qe++){for(var tt=0;tt<Ue;tt++)if(Pe[qe+tt]!==ke[tt])continue e;return qe}return-1}(A,z))<0)for(var Q=z.length,te=0,me=A.length;te<me;++te)z.push(A[te]);return Q}var Ft={parse:function(A,z,Q){for(var te={},me=new G.Parser(A,z),z=me.parseUShort(),ke=me.parseUShort(),Pe=me.offset+me.parseUShort(),Ue=0;Ue<ke;Ue++){var _t=me.parseUShort(),Ve=me.parseUShort(),qe=me.parseUShort(),tt=me.parseUShort(),tt=yt[tt]||tt,lt=me.parseUShort(),ot=me.parseUShort(),Xe=function(pt,ct,ft){switch(pt){case 0:if(ct===65535)return"und";if(ft)return ft[ct];break;case 1:return st[ct];case 3:return gt[ct]}}(_t,qe,Q),_t=Bt(_t,Ve,qe);_t!==void 0&&Xe!==void 0&&(Ve=void 0,(Ve=_t===jt?K.UTF16(A,Pe+ot,lt):K.MACSTRING(A,Pe+ot,lt,_t))&&((qe=(qe=te[tt])===void 0?te[tt]={}:qe)[Xe]=Ve))}return z===1&&me.parseUShort(),te},make:function(A,z){var Q,te=[],me={},ke=Dt(yt);for(Q in A){var Pe=ke[Q];if(Pe===void 0&&(Pe=Q),ot=parseInt(Pe),isNaN(ot))throw new Error('Name table entry "'+Q+'" does not exist, see nameTableNames for complete list.');me[ot]=A[Q],te.push(ot)}for(var Ue=Dt(st),Ve=Dt(gt),qe=[],tt=[],lt=0;lt<te.length;lt++){var ot,Xe,_t=me[ot=te[lt]];for(Xe in _t){var ht=_t[Xe],Pt=1,pt=Ue[Xe],ct=Et[pt],ft=Bt(Pt,ct,pt),ft=J.MACSTRING(ht,ft),Tt=(ft===void 0&&(Pt=0,(pt=z.indexOf(Xe))<0&&(pt=z.length,z.push(Xe)),ct=4,ft=J.UTF16(ht)),Ht(ft,tt)),Pt=(qe.push(Nt(Pt,ct,pt,ot,ft.length,Tt)),Ve[Xe]);Pt!==void 0&&(pt=Ht(ct=J.UTF16(ht),tt),qe.push(Nt(3,1,Pt,ot,ct.length,pt)))}}qe.sort(function(Ot,Xt){return Ot.platformID-Xt.platformID||Ot.encodingID-Xt.encodingID||Ot.languageID-Xt.languageID||Ot.nameID-Xt.nameID});for(var At=new pe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:qe.length},{name:"stringOffset",type:"USHORT",value:6+12*qe.length}]),kt=0;kt<qe.length;kt++)At.fields.push({name:"record_"+kt,type:"RECORD",value:qe[kt]});return At.fields.push({name:"strings",type:"LITERAL",value:tt}),At}},Vt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Ut={parse:function(A,z){var Q={},te=new G.Parser(A,z);Q.version=te.parseUShort(),Q.xAvgCharWidth=te.parseShort(),Q.usWeightClass=te.parseUShort(),Q.usWidthClass=te.parseUShort(),Q.fsType=te.parseUShort(),Q.ySubscriptXSize=te.parseShort(),Q.ySubscriptYSize=te.parseShort(),Q.ySubscriptXOffset=te.parseShort(),Q.ySubscriptYOffset=te.parseShort(),Q.ySuperscriptXSize=te.parseShort(),Q.ySuperscriptYSize=te.parseShort(),Q.ySuperscriptXOffset=te.parseShort(),Q.ySuperscriptYOffset=te.parseShort(),Q.yStrikeoutSize=te.parseShort(),Q.yStrikeoutPosition=te.parseShort(),Q.sFamilyClass=te.parseShort(),Q.panose=[];for(var me=0;me<10;me++)Q.panose[me]=te.parseByte();return Q.ulUnicodeRange1=te.parseULong(),Q.ulUnicodeRange2=te.parseULong(),Q.ulUnicodeRange3=te.parseULong(),Q.ulUnicodeRange4=te.parseULong(),Q.achVendID=String.fromCharCode(te.parseByte(),te.parseByte(),te.parseByte(),te.parseByte()),Q.fsSelection=te.parseUShort(),Q.usFirstCharIndex=te.parseUShort(),Q.usLastCharIndex=te.parseUShort(),Q.sTypoAscender=te.parseShort(),Q.sTypoDescender=te.parseShort(),Q.sTypoLineGap=te.parseShort(),Q.usWinAscent=te.parseUShort(),Q.usWinDescent=te.parseUShort(),1<=Q.version&&(Q.ulCodePageRange1=te.parseULong(),Q.ulCodePageRange2=te.parseULong()),2<=Q.version&&(Q.sxHeight=te.parseShort(),Q.sCapHeight=te.parseShort(),Q.usDefaultChar=te.parseUShort(),Q.usBreakChar=te.parseUShort(),Q.usMaxContent=te.parseUShort()),Q},make:function(A){return new pe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],A)},unicodeRanges:Vt,getUnicodeRange:function(A){for(var z=0;z<Vt.length;z+=1){var Q=Vt[z];if(A>=Q.begin&&A<Q.end)return z}return-1}},ar={parse:function(A,z){var Q={},te=new G.Parser(A,z);switch(Q.version=te.parseVersion(),Q.italicAngle=te.parseFixed(),Q.underlinePosition=te.parseShort(),Q.underlineThickness=te.parseShort(),Q.isFixedPitch=te.parseULong(),Q.minMemType42=te.parseULong(),Q.maxMemType42=te.parseULong(),Q.minMemType1=te.parseULong(),Q.maxMemType1=te.parseULong(),Q.version){case 1:Q.names=ie.slice();break;case 2:Q.numberOfGlyphs=te.parseUShort(),Q.glyphNameIndex=new Array(Q.numberOfGlyphs);for(var me=0;me<Q.numberOfGlyphs;me++)Q.glyphNameIndex[me]=te.parseUShort();Q.names=[];for(var ke,Pe=0;Pe<Q.numberOfGlyphs;Pe++)Q.glyphNameIndex[Pe]>=ie.length&&(ke=te.parseChar(),Q.names.push(te.parseString(ke)));break;case 2.5:Q.numberOfGlyphs=te.parseUShort(),Q.offset=new Array(Q.numberOfGlyphs);for(var Ue=0;Ue<Q.numberOfGlyphs;Ue++)Q.offset[Ue]=te.parseChar()}return Q},make:function(){return new pe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},tr=new Array(9),mr=(tr[1]=function(){var A=this.offset+this.relativeOffset,z=this.parseUShort();return z===1?{substFormat:1,coverage:this.parsePointer(T.coverage),deltaGlyphId:this.parseUShort()}:z===2?{substFormat:2,coverage:this.parsePointer(T.coverage),substitute:this.parseOffset16List()}:void V.assert(!1,"0x"+A.toString(16)+": lookup type 1 format must be 1 or 2.")},tr[2]=function(){var A=this.parseUShort();return V.argument(A===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:A,coverage:this.parsePointer(T.coverage),sequences:this.parseListOfLists()}},tr[3]=function(){var A=this.parseUShort();return V.argument(A===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:A,coverage:this.parsePointer(T.coverage),alternateSets:this.parseListOfLists()}},tr[4]=function(){var A=this.parseUShort();return V.argument(A===1,"GSUB ligature table identifier-format must be 1"),{substFormat:A,coverage:this.parsePointer(T.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:T.uShort,lookupListIndex:T.uShort});tr[5]=function(){var A,z,Q=this.offset+this.relativeOffset,te=this.parseUShort();return te===1?{substFormat:te,coverage:this.parsePointer(T.coverage),ruleSets:this.parseListOfLists(function(){var me=this.parseUShort(),ke=this.parseUShort();return{input:this.parseUShortList(me-1),lookupRecords:this.parseRecordList(ke,mr)}})}:te===2?{substFormat:te,coverage:this.parsePointer(T.coverage),classDef:this.parsePointer(T.classDef),classSets:this.parseListOfLists(function(){var me=this.parseUShort(),ke=this.parseUShort();return{classes:this.parseUShortList(me-1),lookupRecords:this.parseRecordList(ke,mr)}})}:te===3?(A=this.parseUShort(),z=this.parseUShort(),{substFormat:te,coverages:this.parseList(A,T.pointer(T.coverage)),lookupRecords:this.parseRecordList(z,mr)}):void V.assert(!1,"0x"+Q.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},tr[6]=function(){var A=this.offset+this.relativeOffset,z=this.parseUShort();return z===1?{substFormat:1,coverage:this.parsePointer(T.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(mr)}})}:z===2?{substFormat:2,coverage:this.parsePointer(T.coverage),backtrackClassDef:this.parsePointer(T.classDef),inputClassDef:this.parsePointer(T.classDef),lookaheadClassDef:this.parsePointer(T.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(mr)}})}:z===3?{substFormat:3,backtrackCoverage:this.parseList(T.pointer(T.coverage)),inputCoverage:this.parseList(T.pointer(T.coverage)),lookaheadCoverage:this.parseList(T.pointer(T.coverage)),lookupRecords:this.parseRecordList(mr)}:void V.assert(!1,"0x"+A.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},tr[7]=function(){var A=this.parseUShort(),A=(V.argument(A===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),z=new T(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:A,extension:tr[A].call(z)}},tr[8]=function(){var A=this.parseUShort();return V.argument(A===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:A,coverage:this.parsePointer(T.coverage),backtrackCoverage:this.parseList(T.pointer(T.coverage)),lookaheadCoverage:this.parseList(T.pointer(T.coverage)),substitutes:this.parseUShortList()}};var dr=new Array(9);dr[1]=function(A){return A.substFormat===1?new pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new pe.Coverage(A.coverage)},{name:"deltaGlyphID",type:"USHORT",value:A.deltaGlyphId}]):new pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new pe.Coverage(A.coverage)}].concat(pe.ushortList("substitute",A.substitute)))},dr[3]=function(A){return V.assert(A.substFormat===1,"Lookup type 3 substFormat must be 1."),new pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new pe.Coverage(A.coverage)}].concat(pe.tableList("altSet",A.alternateSets,function(z){return new pe.Table("alternateSetTable",pe.ushortList("alternate",z))})))},dr[4]=function(A){return V.assert(A.substFormat===1,"Lookup type 4 substFormat must be 1."),new pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new pe.Coverage(A.coverage)}].concat(pe.tableList("ligSet",A.ligatureSets,function(z){return new pe.Table("ligatureSetTable",pe.tableList("ligature",z,function(Q){return new pe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:Q.ligGlyph}].concat(pe.ushortList("component",Q.components,Q.components.length+1)))}))})))};var vr={parse:function(A,z){return z=(A=new T(A,z=z||0)).parseVersion(1),V.argument(z===1||z===1.1,"Unsupported GSUB table version."),z===1?{version:z,scripts:A.parseScriptList(),features:A.parseFeatureList(),lookups:A.parseLookupList(tr)}:{version:z,scripts:A.parseScriptList(),features:A.parseFeatureList(),lookups:A.parseLookupList(tr),variations:A.parseFeatureVariationsList()}},make:function(A){return new pe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new pe.ScriptList(A.scripts)},{name:"features",type:"TABLE",value:new pe.FeatureList(A.features)},{name:"lookups",type:"TABLE",value:new pe.LookupList(A.lookups,dr)}])}},hr={parse:function(A,z){for(var Q=new G.Parser(A,z),te=Q.parseULong(),me=(V.argument(te===1,"Unsupported META table version."),Q.parseULong(),Q.parseULong(),Q.parseULong()),ke={},Pe=0;Pe<me;Pe++){var Ue=Q.parseTag(),qe=Q.parseULong(),Ve=Q.parseULong(),qe=K.UTF8(A,z+qe,Ve);ke[Ue]=qe}return ke},make:function(A){var z,Q=Object.keys(A).length,te="",me=16+12*Q,ke=new pe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:me},{name:"numTags",type:"ULONG",value:Q}]);for(z in A){var Pe=te.length;te+=A[z],ke.fields.push({name:"tag "+z,type:"TAG",value:z}),ke.fields.push({name:"offset "+z,type:"ULONG",value:me+Pe}),ke.fields.push({name:"length "+z,type:"ULONG",value:A[z].length})}return ke.fields.push({name:"stringPool",type:"CHARARRAY",value:te}),ke}};function pr(A){return Math.log(A)/Math.log(2)|0}function Tr(A){for(;A.length%4!=0;)A.push(0);for(var z=0,Q=0;Q<A.length;Q+=4)z+=(A[Q]<<24)+(A[Q+1]<<16)+(A[Q+2]<<8)+A[Q+3];return z%=Math.pow(2,32)}function _r(A,z,Q,te){return new pe.Record("Table Record",[{name:"tag",type:"TAG",value:A!==void 0?A:""},{name:"checkSum",type:"ULONG",value:z!==void 0?z:0},{name:"offset",type:"ULONG",value:Q!==void 0?Q:0},{name:"length",type:"ULONG",value:te!==void 0?te:0}])}function Kr(A){for(var z=new pe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),Q=(z.tables=A,z.numTables=A.length,Math.pow(2,pr(z.numTables))),te=(z.searchRange=16*Q,z.entrySelector=pr(Q),z.rangeShift=16*z.numTables-z.searchRange,[]),me=[],ke=z.sizeOf()+_r().sizeOf()*z.numTables;ke%4!=0;)ke+=1,me.push({name:"padding",type:"BYTE",value:0});for(var Pe=0;Pe<A.length;Pe+=1){var Ue=A[Pe],Ve=(V.argument(Ue.tableName.length===4,"Table name"+Ue.tableName+" is invalid."),Ue.sizeOf()),qe=_r(Ue.tableName,Tr(Ue.encode()),ke,Ve);for(te.push({name:qe.tag+" Table Record",type:"RECORD",value:qe}),me.push({name:Ue.tableName+" table",type:"RECORD",value:Ue}),ke+=Ve,V.argument(!isNaN(ke),"Something went wrong calculating the offset.");ke%4!=0;)ke+=1,me.push({name:"padding",type:"BYTE",value:0})}return te.sort(function(tt,lt){return tt.value.tag>lt.value.tag?1:-1}),z.fields=z.fields.concat(te),z.fields=z.fields.concat(me),z}function vn(A,z,Q){for(var te=0;te<z.length;te+=1){var me=A.charToGlyphIndex(z[te]);if(0<me)return A.glyphs.get(me).getMetrics()}return Q}var kn={make:Kr,fontToTable:function(A){for(var z,Q=[],te=[],me=[],ke=[],Pe=[],Ue=[],Ve=[],qe=0,tt=0,lt=0,ot=0,Xe=0,_t=0;_t<A.glyphs.length;_t+=1){var ht=A.glyphs.get(_t),pt=0|ht.unicode;if(isNaN(ht.advanceWidth))throw new Error("Glyph "+ht.name+" ("+_t+"): advanceWidth is not a number.");(pt<z||z===void 0)&&0<pt&&(z=pt),qe<pt&&(qe=pt);var pt=Ut.getUnicodeRange(pt);if(pt<32)tt|=1<<pt;else if(pt<64)lt|=1<<pt-32;else if(pt<96)ot|=1<<pt-64;else{if(!(pt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Xe|=1<<pt-96}ht.name!==".notdef"&&(pt=ht.getMetrics(),Q.push(pt.xMin),te.push(pt.yMin),me.push(pt.xMax),ke.push(pt.yMax),Ue.push(pt.leftSideBearing),Ve.push(pt.rightSideBearing),Pe.push(ht.advanceWidth))}var ct,ft={xMin:Math.min.apply(null,Q),yMin:Math.min.apply(null,te),xMax:Math.max.apply(null,me),yMax:Math.max.apply(null,ke),advanceWidthMax:Math.max.apply(null,Pe),advanceWidthAvg:function(Jt){for(var Ke=0,nt=0;nt<Jt.length;nt+=1)Ke+=Jt[nt];return Ke/Jt.length}(Pe),minLeftSideBearing:Math.min.apply(null,Ue),maxLeftSideBearing:Math.max.apply(null,Ue),minRightSideBearing:Math.min.apply(null,Ve)},Tt=(ft.ascender=A.ascender,ft.descender=A.descender,xt.make({flags:3,unitsPerEm:A.unitsPerEm,xMin:ft.xMin,yMin:ft.yMin,xMax:ft.xMax,yMax:ft.yMax,lowestRecPPEM:3,createdTimestamp:A.createdTimestamp})),Pt=He.make({ascender:ft.ascender,descender:ft.descender,advanceWidthMax:ft.advanceWidthMax,minLeftSideBearing:ft.minLeftSideBearing,minRightSideBearing:ft.minRightSideBearing,xMaxExtent:ft.maxLeftSideBearing+(ft.xMax-ft.xMin),numberOfHMetrics:A.glyphs.length}),At=at.make(A.glyphs.length),kt=Ut.make({xAvgCharWidth:Math.round(ft.advanceWidthAvg),usWeightClass:A.tables.os2.usWeightClass,usWidthClass:A.tables.os2.usWidthClass,usFirstCharIndex:z,usLastCharIndex:qe,ulUnicodeRange1:tt,ulUnicodeRange2:lt,ulUnicodeRange3:ot,ulUnicodeRange4:Xe,fsSelection:A.tables.os2.fsSelection,sTypoAscender:ft.ascender,sTypoDescender:ft.descender,sTypoLineGap:0,usWinAscent:ft.yMax,usWinDescent:Math.abs(ft.yMin),ulCodePageRange1:1,sxHeight:vn(A,"xyvw",{yMax:Math.round(ft.ascender/2)}).yMax,sCapHeight:vn(A,"HIKLEFJMNTZBDPRAGOQSUVWXY",ft).yMax,usDefaultChar:A.hasChar(" ")?32:0,usBreakChar:A.hasChar(" ")?32:0}),Ot=Ze.make(A.glyphs),Xt=B.make(A.glyphs),Qt=A.getEnglishName("fontFamily"),Wt=A.getEnglishName("fontSubfamily"),zt=Qt+" "+Wt,rr=(rr=A.getEnglishName("postScriptName"))||Qt.replace(/\s/g,"")+"-"+Wt,sr={};for(ct in A.names)sr[ct]=A.names[ct];sr.uniqueID||(sr.uniqueID={en:A.getEnglishName("manufacturer")+":"+zt}),sr.postScriptName||(sr.postScriptName={en:rr}),sr.preferredFamily||(sr.preferredFamily=A.names.fontFamily),sr.preferredSubfamily||(sr.preferredSubfamily=A.names.fontSubfamily);var cr=[],ur=Ft.make(sr,cr),cr=0<cr.length?it.make(cr):void 0,jr=ar.make(),zt=bt.make(A.glyphs,{version:A.getEnglishName("version"),fullName:zt,familyName:Qt,weightName:Wt,postScriptName:rr,unitsPerEm:A.unitsPerEm,fontBBox:[0,ft.yMin,ft.ascender,ft.advanceWidthMax]}),Qt=A.metas&&0<Object.keys(A.metas).length?hr.make(A.metas):void 0,Wt=[Tt,Pt,At,kt,ur,Xt,jr,zt,Ot];cr&&Wt.push(cr),A.tables.gsub&&Wt.push(vr.make(A.tables.gsub)),Qt&&Wt.push(Qt);for(var fr=Tr((rr=Kr(Wt)).encode()),$t=rr.fields,or=!1,Kt=0;Kt<$t.length;Kt+=1)if($t[Kt].name==="head table"){$t[Kt].value.checkSumAdjustment=2981146554-fr,or=!0;break}if(or)return rr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Tr};function un(A,z){for(var Q=0,te=A.length-1;Q<=te;){var me=Q+te>>>1,ke=A[me].tag;if(ke===z)return me;ke<z?Q=1+me:te=me-1}return-Q-1}function _n(A,z){for(var Q=0,te=A.length-1;Q<=te;){var me=Q+te>>>1,ke=A[me];if(ke===z)return me;ke<z?Q=1+me:te=me-1}return-Q-1}function bn(A,z){for(var Q=0,te=A.length-1;Q<=te;){var me,ke=Q+te>>>1,Pe=(me=A[ke]).start;if(Pe===z)return me;Pe<z?Q=1+ke:te=ke-1}if(0<Q)return z>(me=A[Q-1]).end?0:me}function Nr(A,z){this.font=A,this.tableName=z}function qr(A){Nr.call(this,A,"gpos")}function gr(A){Nr.call(this,A,"gsub")}function Jr(A,z,Q){for(var te=A.subtables,me=0;me<te.length;me++){var ke=te[me];if(ke.substFormat===z)return ke}if(Q)return te.push(Q),Q}function Ur(A){for(var z=new ArrayBuffer(A.length),Q=new Uint8Array(z),te=0;te<A.length;++te)Q[te]=A[te];return z}function br(A,z){if(!A)throw z}function wr(A,z,Q,te,me){var ke=0<(z&te)?(ke=A.parseByte(),Q+(ke=z&me?ke:-ke)):0<(z&me)?Q:Q+A.parseShort();return ke}function xr(A,z,Q){var te,me=new G.Parser(z,Q);if(A.numberOfContours=me.parseShort(),A._xMin=me.parseShort(),A._yMin=me.parseShort(),A._xMax=me.parseShort(),A._yMax=me.parseShort(),0<A.numberOfContours){for(var ke=A.endPointIndices=[],Pe=0;Pe<A.numberOfContours;Pe+=1)ke.push(me.parseUShort());A.instructionLength=me.parseUShort(),A.instructions=[];for(var Ue=0;Ue<A.instructionLength;Ue+=1)A.instructions.push(me.parseByte());for(var Ve=ke[ke.length-1]+1,qe=[],tt=0;tt<Ve;tt+=1)if(te=me.parseByte(),qe.push(te),0<(8&te))for(var lt=me.parseByte(),ot=0;ot<lt;ot+=1)qe.push(te),tt+=1;if(V.argument(qe.length===Ve,"Bad flags."),0<ke.length){var Xe,_t=[];if(0<Ve){for(var ht=0;ht<Ve;ht+=1)te=qe[ht],(Xe={}).onCurve=!!(1&te),Xe.lastPointOfContour=0<=ke.indexOf(ht),_t.push(Xe);for(var pt=0,ct=0;ct<Ve;ct+=1)te=qe[ct],(Xe=_t[ct]).x=wr(me,te,pt,2,16),pt=Xe.x;for(var ft=0,Tt=0;Tt<Ve;Tt+=1)te=qe[Tt],(Xe=_t[Tt]).y=wr(me,te,ft,4,32),ft=Xe.y}A.points=_t}else A.points=[]}else if(A.numberOfContours===0)A.points=[];else{A.isComposite=!0,A.points=[],A.components=[];for(var Pt=!0;Pt;){qe=me.parseUShort();var At={glyphIndex:me.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&qe)?0<(2&qe)?(At.dx=me.parseShort(),At.dy=me.parseShort()):At.matchedPoints=[me.parseUShort(),me.parseUShort()]:0<(2&qe)?(At.dx=me.parseChar(),At.dy=me.parseChar()):At.matchedPoints=[me.parseByte(),me.parseByte()],0<(8&qe)?At.xScale=At.yScale=me.parseF2Dot14():0<(64&qe)?(At.xScale=me.parseF2Dot14(),At.yScale=me.parseF2Dot14()):0<(128&qe)&&(At.xScale=me.parseF2Dot14(),At.scale01=me.parseF2Dot14(),At.scale10=me.parseF2Dot14(),At.yScale=me.parseF2Dot14()),A.components.push(At),Pt=!!(32&qe)}if(256&qe){A.instructionLength=me.parseUShort(),A.instructions=[];for(var kt=0;kt<A.instructionLength;kt+=1)A.instructions.push(me.parseByte())}}}function Sr(A,z){for(var Q=[],te=0;te<A.length;te+=1){var me=A[te],me={x:z.xScale*me.x+z.scale01*me.y+z.dx,y:z.scale10*me.x+z.yScale*me.y+z.dy,onCurve:me.onCurve,lastPointOfContour:me.lastPointOfContour};Q.push(me)}return Q}function Er(A){var z=new fe;if(A)for(var Q=function(lt){for(var ot=[],Xe=[],_t=0;_t<lt.length;_t+=1){var ht=lt[_t];Xe.push(ht),ht.lastPointOfContour&&(ot.push(Xe),Xe=[])}return V.argument(Xe.length===0,"There are still points left in the current contour."),ot}(A),te=0;te<Q.length;++te){var me,ke=Q[te],Pe=ke[ke.length-1],Ue=ke[0];Pe.onCurve?z.moveTo(Pe.x,Pe.y):Ue.onCurve?z.moveTo(Ue.x,Ue.y):(me={x:.5*(Pe.x+Ue.x),y:.5*(Pe.y+Ue.y)},z.moveTo(me.x,me.y));for(var Ve=0;Ve<ke.length;++Ve){var qe,tt=Pe,Pe=Ue,Ue=ke[(Ve+1)%ke.length];Pe.onCurve?z.lineTo(Pe.x,Pe.y):(qe=Ue,tt.onCurve||(Pe.x,tt.x,Pe.y,tt.y),Ue.onCurve||(qe={x:.5*(Pe.x+Ue.x),y:.5*(Pe.y+Ue.y)}),z.quadraticCurveTo(Pe.x,Pe.y,qe.x,qe.y))}z.closePath()}return z}function Yr(A,z){if(z.isComposite)for(var Q=0;Q<z.components.length;Q+=1){var te=z.components[Q],me=A.get(te.glyphIndex);if(me.getPath(),me.points){var ke=void 0;if(te.matchedPoints===void 0)ke=Sr(me.points,te);else{if(te.matchedPoints[0]>z.points.length-1||te.matchedPoints[1]>me.points.length-1)throw Error("Matched points out of range in "+z.name);var Pe=z.points[te.matchedPoints[0]],Ue=me.points[te.matchedPoints[1]],te={xScale:te.xScale,scale01:te.scale01,scale10:te.scale10,yScale:te.yScale,dx:0,dy:0},Ue=Sr([Ue],te)[0];te.dx=Pe.x-Ue.x,te.dy=Pe.y-Ue.y,ke=Sr(me.points,te)}z.points=z.points.concat(ke)}}return Er(z.points)}(qr.prototype=Nr.prototype={searchTag:un,binSearch:_n,getTable:function(A){var z=this.font.tables[this.tableName];return z=!z&&A?this.font.tables[this.tableName]=this.createDefaultTable():z},getScriptNames:function(){var A=this.getTable();return A?A.scripts.map(function(z){return z.tag}):[]},getDefaultScriptName:function(){var A=this.getTable();if(A){for(var z=!1,Q=0;Q<A.scripts.length;Q++){var te=A.scripts[Q].tag;if(te==="DFLT")return te;te==="latn"&&(z=!0)}return z?"latn":void 0}},getScriptTable:function(A,z){var Q,te=this.getTable(z);if(te)return Q=te.scripts,0<=(te=un(te.scripts,A=A||"DFLT"))?Q[te].script:z?(Q.splice(-1-te,0,z={tag:A,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),z.script):void 0},getLangSysTable:function(me,z,Q){var te,me=this.getScriptTable(me,Q);if(me)return z&&z!=="dflt"&&z!=="DFLT"?0<=(te=un(me.langSysRecords,z))?me.langSysRecords[te].langSys:Q?(me.langSysRecords.splice(-1-te,0,Q={tag:z,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),Q.langSys):void 0:me.defaultLangSys},getFeatureTable:function(A,z,Q,te){if(A=this.getLangSysTable(A,z,te),A){for(var me,ke=A.featureIndexes,Pe=this.font.tables[this.tableName].features,Ue=0;Ue<ke.length;Ue++)if((me=Pe[ke[Ue]]).tag===Q)return me.feature;if(te)return z=Pe.length,V.assert(z===0||Q>=Pe[z-1].tag,"Features must be added in alphabetical order."),Pe.push(me={tag:Q,feature:{params:0,lookupListIndexes:[]}}),ke.push(z),me.feature}},getLookupTables:function(ke,z,Q,te,me){var ke=this.getFeatureTable(ke,z,Q,me),Pe=[];if(ke){for(var Ue,Ve=ke.lookupListIndexes,qe=this.font.tables[this.tableName].lookups,tt=0;tt<Ve.length;tt++)(Ue=qe[Ve[tt]]).lookupType===te&&Pe.push(Ue);if(Pe.length===0&&me)return z=qe.length,qe.push(Ue={lookupType:te,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Ve.push(z),[Ue]}return Pe},getGlyphClass:function(A,z){switch(A.format){case 1:return A.startGlyph<=z&&z<A.startGlyph+A.classes.length?A.classes[z-A.startGlyph]:0;case 2:var Q=bn(A.ranges,z);return Q?Q.classId:0}},getCoverageIndex:function(A,z){switch(A.format){case 1:var Q=_n(A.glyphs,z);return 0<=Q?Q:-1;case 2:return Q=bn(A.ranges,z),Q?Q.index+z-Q.start:-1}},expandCoverage:function(A){if(A.format===1)return A.glyphs;for(var z=[],Q=A.ranges,te=0;te<Q.length;te++)for(var me=Q[te],ke=me.start,Pe=me.end,Ue=ke;Ue<=Pe;Ue++)z.push(Ue);return z}}).init=function(){var A=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(A)},qr.prototype.getKerningValue=function(A,z,Q){for(var te=0;te<A.length;te++)for(var me=A[te].subtables,ke=0;ke<me.length;ke++){var Pe=me[ke],Ue=this.getCoverageIndex(Pe.coverage,z);if(!(Ue<0))switch(Pe.posFormat){case 1:for(var Ve=Pe.pairSets[Ue],qe=0;qe<Ve.length;qe++){var tt=Ve[qe];if(tt.secondGlyph===Q)return tt.value1&&tt.value1.xAdvance||0}break;case 2:var ot=this.getGlyphClass(Pe.classDef1,z),lt=this.getGlyphClass(Pe.classDef2,Q),ot=Pe.classRecords[ot][lt];return ot.value1&&ot.value1.xAdvance||0}}return 0},qr.prototype.getKerningTables=function(A,z){if(this.font.tables.gpos)return this.getLookupTables(A,z,"kern",2)},(gr.prototype=Nr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},gr.prototype.getSingle=function(A,z,Q){for(var te=[],me=this.getLookupTables(z,Q,A,1),ke=0;ke<me.length;ke++)for(var Pe=me[ke].subtables,Ue=0;Ue<Pe.length;Ue++){var Ve=Pe[Ue],qe=this.expandCoverage(Ve.coverage),tt=void 0;if(Ve.substFormat===1)for(var lt=Ve.deltaGlyphId,tt=0;tt<qe.length;tt++){var ot=qe[tt];te.push({sub:ot,by:ot+lt})}else{var Xe=Ve.substitute;for(tt=0;tt<qe.length;tt++)te.push({sub:qe[tt],by:Xe[tt]})}}return te},gr.prototype.getAlternates=function(A,z,Q){for(var te=[],me=this.getLookupTables(z,Q,A,3),ke=0;ke<me.length;ke++)for(var Pe=me[ke].subtables,Ue=0;Ue<Pe.length;Ue++)for(var Ve=Pe[Ue],qe=this.expandCoverage(Ve.coverage),tt=Ve.alternateSets,lt=0;lt<qe.length;lt++)te.push({sub:qe[lt],by:tt[lt]});return te},gr.prototype.getLigatures=function(A,z,Q){for(var te=[],me=this.getLookupTables(z,Q,A,4),ke=0;ke<me.length;ke++)for(var Pe=me[ke].subtables,Ue=0;Ue<Pe.length;Ue++)for(var Ve=Pe[Ue],qe=this.expandCoverage(Ve.coverage),tt=Ve.ligatureSets,lt=0;lt<qe.length;lt++)for(var ot=qe[lt],Xe=tt[lt],_t=0;_t<Xe.length;_t++){var ht=Xe[_t];te.push({sub:[ot].concat(ht.components),by:ht.ligGlyph})}return te},gr.prototype.addSingle=function(A,z,Q,te){Q=Jr(this.getLookupTables(Q,te,A,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),V.assert(Q.coverage.format===1,"Ligature: unable to modify coverage table format "+Q.coverage.format),te=z.sub,A=this.binSearch(Q.coverage.glyphs,te),A<0&&(Q.coverage.glyphs.splice(A=-1-A,0,te),Q.substitute.splice(A,0,0)),Q.substitute[A]=z.by},gr.prototype.addAlternate=function(A,z,Q,te){Q=Jr(this.getLookupTables(Q,te,A,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),V.assert(Q.coverage.format===1,"Ligature: unable to modify coverage table format "+Q.coverage.format),te=z.sub,A=this.binSearch(Q.coverage.glyphs,te),A<0&&(Q.coverage.glyphs.splice(A=-1-A,0,te),Q.alternateSets.splice(A,0,0)),Q.alternateSets[A]=z.by},gr.prototype.addLigature=function(ke,Ve,Ue,me){var Ue=this.getLookupTables(Ue,me,ke,4,!0)[0],me=Ue.subtables[0],ke=(me||(Ue.subtables[0]=me={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),V.assert(me.coverage.format===1,"Ligature: unable to modify coverage table format "+me.coverage.format),Ve.sub[0]),Pe=Ve.sub.slice(1),Ue={ligGlyph:Ve.by,components:Pe},Ve=this.binSearch(me.coverage.glyphs,ke);if(0<=Ve){for(var qe=me.ligatureSets[Ve],tt=0;tt<qe.length;tt++)if(function(lt,ot){var Xe=lt.length;if(Xe===ot.length){for(var _t=0;_t<Xe;_t++)if(lt[_t]!==ot[_t])return;return 1}}(qe[tt].components,Pe))return;qe.push(Ue)}else me.coverage.glyphs.splice(Ve=-1-Ve,0,ke),me.ligatureSets.splice(Ve,0,[Ue])},gr.prototype.getFeature=function(A,z,Q){if(/ss\d\d/.test(A))return this.getSingle(A,z,Q);switch(A){case"aalt":case"salt":return this.getSingle(A,z,Q).concat(this.getAlternates(A,z,Q));case"dlig":case"liga":case"rlig":return this.getLigatures(A,z,Q)}},gr.prototype.add=function(A,z,Q,te){if(/ss\d\d/.test(A))return this.addSingle(A,z,Q,te);switch(A){case"aalt":case"salt":return typeof z.by=="number"?this.addSingle(A,z,Q,te):this.addAlternate(A,z,Q,te);case"dlig":case"liga":case"rlig":return this.addLigature(A,z,Q,te)}};var cn={getPath:Er,parse:function(A,z,Q,te){for(var me=new je.GlyphSet(te),ke=0;ke<Q.length-1;ke+=1){var Pe=Q[ke];Pe!==Q[ke+1]?me.push(ke,je.ttfGlyphLoader(te,ke,xr,A,z+Pe,Yr)):me.push(ke,je.glyphLoader(te,ke))}return me}};function fn(A){this.font=A,this.getCommands=function(z){return cn.getPath(z).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function wn(A){return A}function hn(A){return Math.sign(A)*Math.round(Math.abs(A))}function zr(A){return Math.sign(A)*Math.round(Math.abs(2*A))/2}function Yn(A){return Math.sign(A)*(Math.round(Math.abs(A)+.5)-.5)}function On(A){return Math.sign(A)*Math.ceil(Math.abs(A))}function Pn(A){return Math.sign(A)*Math.floor(Math.abs(A))}function xn(A){var z=this.srPeriod,Q=this.srPhase,te=1;return A<0&&(A=-A,te=-1),A+=this.srThreshold-Q,A=Math.trunc(A/z)*z,(A+=Q)<0?Q*te:A*te}var Cr={x:1,y:0,axis:"x",distance:function(A,z,Q,te){return(Q?A.xo:A.x)-(te?z.xo:z.x)},interpolate:function(A,z,Q,te){var me,ke,Pe,Ue,Ve,qe,tt;if(!te||te===this)return me=A.xo-z.xo,ke=A.xo-Q.xo,Ve=z.x-z.xo,qe=Q.x-Q.xo,(tt=(Pe=Math.abs(me))+(Ue=Math.abs(ke)))===0?void(A.x=A.xo+(Ve+qe)/2):void(A.x=A.xo+(Ve*Ue+qe*Pe)/tt);me=te.distance(A,z,!0,!0),ke=te.distance(A,Q,!0,!0),Ve=te.distance(z,z,!1,!0),qe=te.distance(Q,Q,!1,!0),(tt=(Pe=Math.abs(me))+(Ue=Math.abs(ke)))===0?Cr.setRelative(A,A,(Ve+qe)/2,te,!0):Cr.setRelative(A,A,(Ve*Ue+qe*Pe)/tt,te,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(A,z,Q,te,me){var ke,Pe;te&&te!==this?(ke=me?z.xo:z.x,Pe=me?z.yo:z.y,ke+=Q*te.x,Pe+=Q*te.y,A.x=ke+(A.y-Pe)/te.normalSlope):A.x=(me?z.xo:z.x)+Q},slope:0,touch:function(A){A.xTouched=!0},touched:function(A){return A.xTouched},untouch:function(A){A.xTouched=!1}},kr={x:0,y:1,axis:"y",distance:function(A,z,Q,te){return(Q?A.yo:A.y)-(te?z.yo:z.y)},interpolate:function(A,z,Q,te){var me,ke,Pe,Ue,Ve,qe,tt;if(!te||te===this)return me=A.yo-z.yo,ke=A.yo-Q.yo,Ve=z.y-z.yo,qe=Q.y-Q.yo,(tt=(Pe=Math.abs(me))+(Ue=Math.abs(ke)))===0?void(A.y=A.yo+(Ve+qe)/2):void(A.y=A.yo+(Ve*Ue+qe*Pe)/tt);me=te.distance(A,z,!0,!0),ke=te.distance(A,Q,!0,!0),Ve=te.distance(z,z,!1,!0),qe=te.distance(Q,Q,!1,!0),(tt=(Pe=Math.abs(me))+(Ue=Math.abs(ke)))===0?kr.setRelative(A,A,(Ve+qe)/2,te,!0):kr.setRelative(A,A,(Ve*Ue+qe*Pe)/tt,te,!0)},normalSlope:0,setRelative:function(A,z,Q,te,me){var ke,Pe;te&&te!==this?(ke=me?z.xo:z.x,Pe=me?z.yo:z.y,ke+=Q*te.x,Pe+=Q*te.y,A.y=Pe+te.normalSlope*(A.x-ke)):A.y=(me?z.yo:z.y)+Q},slope:Number.POSITIVE_INFINITY,touch:function(A){A.yTouched=!0},touched:function(A){return A.yTouched},untouch:function(A){A.yTouched=!1}};function $r(A,z){this.x=A,this.y=z,this.axis=void 0,this.slope=z/A,this.normalSlope=-A/z,Object.freeze(this)}function en(A,z){var Q=Math.sqrt(A*A+z*z);return z/=Q,(A/=Q)===1&&z===0?Cr:A===0&&z===1?kr:new $r(A,z)}function Or(A,z,Q,te){this.x=this.xo=Math.round(64*A)/64,this.y=this.yo=Math.round(64*z)/64,this.lastPointOfContour=Q,this.onCurve=te,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Cr),Object.freeze(kr),$r.prototype.distance=function(A,z,Q,te){return this.x*Cr.distance(A,z,Q,te)+this.y*kr.distance(A,z,Q,te)},$r.prototype.interpolate=function(A,me,ke,te){var Pe=te.distance(A,me,!0,!0),Ue=te.distance(A,ke,!0,!0),me=te.distance(me,me,!1,!0),ke=te.distance(ke,ke,!1,!0),Pe=Math.abs(Pe),Ue=Math.abs(Ue),Ve=Pe+Ue;Ve===0?this.setRelative(A,A,(me+ke)/2,te,!0):this.setRelative(A,A,(me*Ue+ke*Pe)/Ve,te,!0)},$r.prototype.setRelative=function(A,ke,Ve,qe,Ue){var Pe=Ue?ke.xo:ke.x,Ue=Ue?ke.yo:ke.y,ke=Pe+Ve*(qe=qe||this).x,Pe=Ue+Ve*qe.y,Ue=qe.normalSlope,Ve=this.slope,qe=A.x,tt=A.y;A.x=(Ve*qe-Ue*ke+Pe-tt)/(Ve-Ue),A.y=Ve*(A.x-qe)+tt},$r.prototype.touch=function(A){A.xTouched=!0,A.yTouched=!0},Or.prototype.nextTouched=function(A){for(var z=this.nextPointOnContour;!A.touched(z)&&z!==this;)z=z.nextPointOnContour;return z},Or.prototype.prevTouched=function(A){for(var z=this.prevPointOnContour;!A.touched(z)&&z!==this;)z=z.prevPointOnContour;return z};var tn=Object.freeze(new Or(0,0)),Xn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ir(A,z){switch(this.env=A,this.stack=[],this.prog=z,A){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Cr,this.round=hn}}function rn(A){for(var z=A.tZone=new Array(A.gZone.length),Q=0;Q<z.length;Q++)z[Q]=new Or(0,0)}function Xr(A,z){var Q,te=A.prog,me=A.ip,ke=1;do if((Q=te[++me])===88)ke++;else if(Q===89)ke--;else if(Q===64)me+=te[me+1]+1;else if(Q===65)me+=2*te[me+1]+1;else if(176<=Q&&Q<=183)me+=Q-176+1;else if(184<=Q&&Q<=191)me+=2*(Q-184+1);else if(z&&ke===1&&Q===27)break;while(0<ke);A.ip=me}function Rn(A,z){g.DEBUG&&console.log(z.step,"SVTCA["+A.axis+"]"),z.fv=z.pv=z.dpv=A}function Ln(A,z){g.DEBUG&&console.log(z.step,"SPVTCA["+A.axis+"]"),z.pv=z.dpv=A}function Sn(A,z){g.DEBUG&&console.log(z.step,"SFVTCA["+A.axis+"]"),z.fv=A}function nn(A,z){var Q,me=z.stack,te=me.pop(),me=me.pop(),ke=z.z2[te],Pe=z.z1[me];g.DEBUG&&console.log("SPVTL["+A+"]",te,me),te=A?(Q=ke.y-Pe.y,Pe.x-ke.x):(Q=Pe.x-ke.x,Pe.y-ke.y),z.pv=z.dpv=en(Q,te)}function In(A,z){var Q,me=z.stack,te=me.pop(),me=me.pop(),ke=z.z2[te],Pe=z.z1[me];g.DEBUG&&console.log("SFVTL["+A+"]",te,me),te=A?(Q=ke.y-Pe.y,Pe.x-ke.x):(Q=Pe.x-ke.x,Pe.y-ke.y),z.fv=en(Q,te)}function En(A){g.DEBUG&&console.log(A.step,"POP[]"),A.stack.pop()}function jn(A,z){var Q=z.stack.pop(),te=z.z0[Q],me=z.fv,ke=z.pv,Pe=(g.DEBUG&&console.log(z.step,"MDAP["+A+"]",Q),ke.distance(te,tn));A&&(Pe=z.round(Pe)),me.setRelative(te,tn,Pe,ke),me.touch(te),z.rp0=z.rp1=Q}function Dn(A,z){var Q,te,me,ke=z.z2,Pe=ke.length-2;g.DEBUG&&console.log(z.step,"IUP["+A.axis+"]");for(var Ue=0;Ue<Pe;Ue++)Q=ke[Ue],A.touched(Q)||(te=Q.prevTouched(A))!==Q&&(te===(me=Q.nextTouched(A))&&A.setRelative(Q,Q,A.distance(te,te,!1,!0),A,!0),A.interpolate(Q,te,me,A))}function Mn(A,z){for(var Q=z.stack,te=A?z.rp1:z.rp2,me=(A?z.z0:z.z1)[te],ke=z.fv,Pe=z.pv,Ue=z.loop,Ve=z.z2;Ue--;){var qe=Q.pop(),tt=Ve[qe],lt=Pe.distance(me,me,!1,!0);ke.setRelative(tt,tt,lt,Pe),ke.touch(tt),g.DEBUG&&console.log(z.step,(1<z.loop?"loop "+(z.loop-Ue)+": ":"")+"SHP["+(A?"rp1":"rp2")+"]",qe)}z.loop=1}function Fn(A,z){for(var Q=z.stack,Pe=A?z.rp1:z.rp2,te=(A?z.z0:z.z1)[Pe],me=z.fv,ke=z.pv,Pe=Q.pop(),Ue=z.z2[z.contours[Pe]],Ve=Ue,qe=(g.DEBUG&&console.log(z.step,"SHC["+A+"]",Pe),ke.distance(te,te,!1,!0));Ve!==te&&me.setRelative(Ve,Ve,qe,ke),(Ve=Ve.nextPointOnContour)!==Ue;);}function an(A,z){var Q,te,Ue=z.stack,me=A?z.rp1:z.rp2,me=(A?z.z0:z.z1)[me],ke=z.fv,Pe=z.pv,Ue=Ue.pop();switch(g.DEBUG&&console.log(z.step,"SHZ["+A+"]",Ue),Ue){case 0:Q=z.tZone;break;case 1:Q=z.gZone;break;default:throw new Error("Invalid zone")}for(var Ve=Pe.distance(me,me,!1,!0),qe=Q.length-2,tt=0;tt<qe;tt++)te=Q[tt],ke.setRelative(te,te,Ve,Pe)}function Gr(A,z){var te=z.stack,Q=te.pop()/64,te=te.pop(),me=z.z1[te],ke=z.z0[z.rp0],Pe=z.fv,Ue=z.pv;Pe.setRelative(me,ke,Q,Ue),Pe.touch(me),g.DEBUG&&console.log(z.step,"MSIRP["+A+"]",Q,te),z.rp1=z.rp0,z.rp2=te,A&&(z.rp0=te)}function sn(A,z){var Q=z.stack,Ue=Q.pop(),Q=Q.pop(),te=z.z0[Q],me=z.fv,ke=z.pv,Pe=z.cvt[Ue],Ue=(g.DEBUG&&console.log(z.step,"MIAP["+A+"]",Ue,"(",Pe,")",Q),ke.distance(te,tn));A&&(Math.abs(Ue-Pe)<z.cvCutIn&&(Ue=Pe),Ue=z.round(Ue)),me.setRelative(te,tn,Ue,ke),z.zp0===0&&(te.xo=te.x,te.yo=te.y),me.touch(te),z.rp0=z.rp1=Q}function Tn(A,z){var Q=z.stack,te=Q.pop(),me=z.z2[te];g.DEBUG&&console.log(z.step,"GC["+A+"]",te),Q.push(64*z.dpv.distance(me,tn,A,!1))}function Dr(A,z){var te=z.stack,Q=te.pop(),te=te.pop(),me=z.z1[Q],ke=z.z0[te],ke=z.dpv.distance(ke,me,A,A);g.DEBUG&&console.log(z.step,"MD["+A+"]",Q,te,"->",ke),z.stack.push(Math.round(64*ke))}function dn(A,z){var Q=z.stack,te=Q.pop(),me=z.fv,ke=z.pv,Pe=z.ppem,Ue=z.deltaBase+16*(A-1),Ve=z.deltaShift,qe=z.z0;g.DEBUG&&console.log(z.step,"DELTAP["+A+"]",te,Q);for(var tt=0;tt<te;tt++){var lt=Q.pop(),ot=Q.pop();Ue+((240&ot)>>4)===Pe&&(0<=(ot=(15&ot)-8)&&ot++,g.DEBUG&&console.log(z.step,"DELTAPFIX",lt,"by",ot*Ve),lt=qe[lt],me.setRelative(lt,lt,ot*Ve,ke))}}function nr(A,z){var Q=z.stack,te=Q.pop();g.DEBUG&&console.log(z.step,"ROUND[]"),Q.push(64*z.round(te/64))}function Cn(A,z){var Q=z.stack,te=Q.pop(),me=z.ppem,ke=z.deltaBase+16*(A-1),Pe=z.deltaShift;g.DEBUG&&console.log(z.step,"DELTAC["+A+"]",te,Q);for(var Ue=0;Ue<te;Ue++){var Ve=Q.pop(),qe=Q.pop();ke+((240&qe)>>4)===me&&(0<=(qe=(15&qe)-8)&&qe++,qe=qe*Pe,g.DEBUG&&console.log(z.step,"DELTACFIX",Ve,"by",qe),z.cvt[Ve]+=qe)}}function pn(A,z){var Q,me=z.stack,te=me.pop(),me=me.pop(),ke=z.z2[te],Pe=z.z1[me];g.DEBUG&&console.log(z.step,"SDPVTL["+A+"]",te,me),te=A?(Q=ke.y-Pe.y,Pe.x-ke.x):(Q=Pe.x-ke.x,Pe.y-ke.y),z.dpv=en(Q,te)}function yr(A,z){var Q=z.stack,te=z.prog,me=z.ip;g.DEBUG&&console.log(z.step,"PUSHB["+A+"]");for(var ke=0;ke<A;ke++)Q.push(te[++me]);z.ip=me}function Fr(A,z){var Q=z.ip,te=z.prog,me=z.stack;g.DEBUG&&console.log(z.ip,"PUSHW["+A+"]");for(var ke=0;ke<A;ke++){var Pe=te[++Q]<<8|te[++Q];32768&Pe&&(Pe=-(1+(65535^Pe))),me.push(Pe)}z.ip=Q}function Ct(A,z,Q,te,me,ke){var Pe,Ue,qe=ke.stack,Ve=A&&qe.pop(),qe=qe.pop(),tt=ke.rp0,tt=ke.z0[tt],lt=ke.z1[qe],ot=ke.minDis,Xe=ke.fv,_t=ke.dpv,ht=Pe=_t.distance(lt,tt,!0,!0),pt=0<=ht?1:-1;ht=Math.abs(ht),A&&(Ue=ke.cvt[Ve],te&&Math.abs(ht-Ue)<ke.cvCutIn&&(ht=Ue)),Q&&ht<ot&&(ht=ot),te&&(ht=ke.round(ht)),Xe.setRelative(lt,tt,pt*ht,_t),Xe.touch(lt),g.DEBUG&&console.log(ke.step,(A?"MIRP[":"MDRP[")+(z?"M":"m")+(Q?">":"_")+(te?"R":"_")+(me===0?"Gr":me===1?"Bl":me===2?"Wh":"")+"]",A?Ve+"("+ke.cvt[Ve]+","+Ue+")":"",qe,"(d =",Pe,"->",pt*ht,")"),ke.rp1=ke.rp0,ke.rp2=qe,z&&(ke.rp0=qe)}fn.prototype.exec=function(A,z){if(typeof z!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var Q=this.font,te=this._prepState;if(!te||te.ppem!==z){var me=this._fpgmState;if(!me){Ir.prototype=Xn,(me=this._fpgmState=new Ir("fpgm",Q.tables.fpgm)).funcs=[],me.font=Q,g.DEBUG&&(console.log("---EXEC FPGM---"),me.step=-1);try{Zr(me)}catch(qe){return console.log("Hinting error in FPGM:"+qe),void(this._errorState=3)}}Ir.prototype=me,(te=this._prepState=new Ir("prep",Q.tables.prep)).ppem=z;var ke=Q.tables.cvt;if(ke)for(var Pe=te.cvt=new Array(ke.length),Ue=z/Q.unitsPerEm,Ve=0;Ve<ke.length;Ve++)Pe[Ve]=ke[Ve]*Ue;else te.cvt=[];g.DEBUG&&(console.log("---EXEC PREP---"),te.step=-1);try{Zr(te)}catch(qe){this._errorState<2&&console.log("Hinting error in PREP:"+qe),this._errorState=2}}if(!(1<this._errorState))try{return Zn(A,te)}catch(qe){this._errorState<1&&(console.log("Hinting error:"+qe),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Zn=function(A,z){var Q=z.ppem/z.font.unitsPerEm,te=Q,me=A.components;if(Ir.prototype=z,me){for(var ke=z.font,Pe=[],Ue=[],Ve=0;Ve<me.length;Ve++){var qe=me[Ve],tt=ke.glyphs.get(qe.glyphIndex),lt=new Ir("glyf",tt.instructions);g.DEBUG&&(console.log("---EXEC COMP "+Ve+"---"),lt.step=-1),Bn(tt,lt,Q,te);for(var ot=Math.round(qe.dx*Q),Xe=Math.round(qe.dy*te),_t=lt.gZone,ht=lt.contours,pt=0;pt<_t.length;pt++){var ct=_t[pt];ct.xTouched=ct.yTouched=!1,ct.xo=ct.x=ct.x+ot,ct.yo=ct.y=ct.y+Xe}var ft=Pe.length;Pe.push.apply(Pe,_t);for(var Tt=0;Tt<ht.length;Tt++)Ue.push(ht[Tt]+ft)}A.instructions&&!lt.inhibitGridFit&&((lt=new Ir("glyf",A.instructions)).gZone=lt.z0=lt.z1=lt.z2=Pe,lt.contours=Ue,Pe.push(new Or(0,0),new Or(Math.round(A.advanceWidth*Q),0)),g.DEBUG&&(console.log("---EXEC COMPOSITE---"),lt.step=-1),Zr(lt),Pe.length-=2)}else lt=new Ir("glyf",A.instructions),g.DEBUG&&(console.log("---EXEC GLYPH---"),lt.step=-1),Bn(A,lt,Q,te),Pe=lt.gZone;return Pe},Bn=function(A,z,Q,te){for(var me,ke,Pe,Ue=A.points||[],Ve=Ue.length,qe=z.gZone=z.z0=z.z1=z.z2=[],tt=z.contours=[],lt=0;lt<Ve;lt++)me=Ue[lt],qe[lt]=new Or(me.x*Q,me.y*te,me.lastPointOfContour,me.onCurve);for(var ot=0;ot<Ve;ot++)me=qe[ot],ke||(ke=me,tt.push(ot)),me.lastPointOfContour?((me.nextPointOnContour=ke).prevPointOnContour=me,ke=void 0):(Pe=qe[ot+1],(me.nextPointOnContour=Pe).prevPointOnContour=me);if(!z.inhibitGridFit){if(g.DEBUG){console.log("PROCESSING GLYPH",z.stack);for(var Xe=0;Xe<Ve;Xe++)console.log(Xe,qe[Xe].x,qe[Xe].y)}if(qe.push(new Or(0,0),new Or(Math.round(A.advanceWidth*Q),0)),Zr(z),qe.length-=2,g.DEBUG){console.log("FINISHED GLYPH",z.stack);for(var _t=0;_t<Ve;_t++)console.log(_t,qe[_t].x,qe[_t].y)}}},Zr=function(A){var z=A.prog;if(z){var Q,te=z.length;for(A.ip=0;A.ip<te;A.ip++){if(g.DEBUG&&A.step++,!(Q=Qn[z[A.ip]]))throw new Error("unknown instruction: 0x"+Number(z[A.ip]).toString(16));Q(A)}}},Qn=[Rn.bind(void 0,kr),Rn.bind(void 0,Cr),Ln.bind(void 0,kr),Ln.bind(void 0,Cr),Sn.bind(void 0,kr),Sn.bind(void 0,Cr),nn.bind(void 0,0),nn.bind(void 0,1),In.bind(void 0,0),In.bind(void 0,1),function(A){var z=(Q=A.stack).pop(),Q=Q.pop();g.DEBUG&&console.log(A.step,"SPVFS[]",z,Q),A.pv=A.dpv=en(Q,z)},function(A){var z=(Q=A.stack).pop(),Q=Q.pop();g.DEBUG&&console.log(A.step,"SPVFS[]",z,Q),A.fv=en(Q,z)},function(A){var z=A.stack,Q=A.pv;g.DEBUG&&console.log(A.step,"GPV[]"),z.push(16384*Q.x),z.push(16384*Q.y)},function(A){var z=A.stack,Q=A.fv;g.DEBUG&&console.log(A.step,"GFV[]"),z.push(16384*Q.x),z.push(16384*Q.y)},function(A){A.fv=A.pv,g.DEBUG&&console.log(A.step,"SFVTPV[]")},function(z){var Q=(Pe=z.stack).pop(),te=Pe.pop(),me=Pe.pop(),ke=Pe.pop(),Pe=Pe.pop(),Ve=z.z0,tt=z.z1,Ue=Ve[Q],Ve=Ve[te],qe=tt[me],tt=tt[ke],z=z.z2[Pe],Q=(g.DEBUG&&console.log("ISECT[], ",Q,te,me,ke,Pe),Ue.x),te=Ue.y,me=Ve.x,ke=Ve.y,Pe=qe.x,Ue=qe.y,Ve=tt.x,qe=tt.y,tt=(Q-me)*(Ue-qe)-(te-ke)*(Pe-Ve),lt=Q*ke-te*me,ot=Pe*qe-Ue*Ve;z.x=(lt*(Pe-Ve)-ot*(Q-me))/tt,z.y=(lt*(Ue-qe)-ot*(te-ke))/tt},function(A){A.rp0=A.stack.pop(),g.DEBUG&&console.log(A.step,"SRP0[]",A.rp0)},function(A){A.rp1=A.stack.pop(),g.DEBUG&&console.log(A.step,"SRP1[]",A.rp1)},function(A){A.rp2=A.stack.pop(),g.DEBUG&&console.log(A.step,"SRP2[]",A.rp2)},function(A){var z=A.stack.pop();switch(g.DEBUG&&console.log(A.step,"SZP0[]",z),A.zp0=z){case 0:A.tZone||rn(A),A.z0=A.tZone;break;case 1:A.z0=A.gZone;break;default:throw new Error("Invalid zone pointer")}},function(A){var z=A.stack.pop();switch(g.DEBUG&&console.log(A.step,"SZP1[]",z),A.zp1=z){case 0:A.tZone||rn(A),A.z1=A.tZone;break;case 1:A.z1=A.gZone;break;default:throw new Error("Invalid zone pointer")}},function(A){var z=A.stack.pop();switch(g.DEBUG&&console.log(A.step,"SZP2[]",z),A.zp2=z){case 0:A.tZone||rn(A),A.z2=A.tZone;break;case 1:A.z2=A.gZone;break;default:throw new Error("Invalid zone pointer")}},function(A){var z=A.stack.pop();switch(g.DEBUG&&console.log(A.step,"SZPS[]",z),A.zp0=A.zp1=A.zp2=z){case 0:A.tZone||rn(A),A.z0=A.z1=A.z2=A.tZone;break;case 1:A.z0=A.z1=A.z2=A.gZone;break;default:throw new Error("Invalid zone pointer")}},function(A){A.loop=A.stack.pop(),g.DEBUG&&console.log(A.step,"SLOOP[]",A.loop)},function(A){g.DEBUG&&console.log(A.step,"RTG[]"),A.round=hn},function(A){g.DEBUG&&console.log(A.step,"RTHG[]"),A.round=Yn},function(A){var z=A.stack.pop();g.DEBUG&&console.log(A.step,"SMD[]",z),A.minDis=z/64},function(A){g.DEBUG&&console.log(A.step,"ELSE[]"),Xr(A,!1)},function(A){var z=A.stack.pop();g.DEBUG&&console.log(A.step,"JMPR[]",z),A.ip+=z-1},function(A){var z=A.stack.pop();g.DEBUG&&console.log(A.step,"SCVTCI[]",z),A.cvCutIn=z/64},void 0,void 0,function(A){var z=A.stack;g.DEBUG&&console.log(A.step,"DUP[]"),z.push(z[z.length-1])},En,function(A){g.DEBUG&&console.log(A.step,"CLEAR[]"),A.stack.length=0},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"SWAP[]"),z.push(Q),z.push(te)},function(A){var z=A.stack;g.DEBUG&&console.log(A.step,"DEPTH[]"),z.push(z.length)},function(A){var z=A.stack,Q=z.pop();g.DEBUG&&console.log(A.step,"CINDEX[]",Q),z.push(z[z.length-Q])},function(A){var z=A.stack,Q=z.pop();g.DEBUG&&console.log(A.step,"MINDEX[]",Q),z.push(z.splice(z.length-Q,1)[0])},void 0,void 0,void 0,function(A){var z=(te=A.stack).pop(),Q=te.pop(),te=(g.DEBUG&&console.log(A.step,"LOOPCALL[]",z,Q),A.ip),me=A.prog;A.prog=A.funcs[z];for(var ke=0;ke<Q;ke++)Zr(A),g.DEBUG&&console.log(++A.step,ke+1<Q?"next loopcall":"done loopcall",ke);A.ip=te,A.prog=me},function(A){var z=A.stack.pop(),Q=(g.DEBUG&&console.log(A.step,"CALL[]",z),A.ip),te=A.prog;A.prog=A.funcs[z],Zr(A),A.ip=Q,A.prog=te,g.DEBUG&&console.log(++A.step,"returning from",z)},function(A){if(A.env!=="fpgm")throw new Error("FDEF not allowed here");var te=A.stack,z=A.prog,Q=A.ip,te=te.pop(),me=Q;for(g.DEBUG&&console.log(A.step,"FDEF[]",te);z[++Q]!==45;);A.ip=Q,A.funcs[te]=z.slice(me+1,Q)},void 0,jn.bind(void 0,0),jn.bind(void 0,1),Dn.bind(void 0,kr),Dn.bind(void 0,Cr),Mn.bind(void 0,0),Mn.bind(void 0,1),Fn.bind(void 0,0),Fn.bind(void 0,1),an.bind(void 0,0),an.bind(void 0,1),function(A){for(var z=A.stack,Q=A.loop,te=A.fv,me=z.pop()/64,ke=A.z2;Q--;){var Pe=z.pop(),Ue=ke[Pe];g.DEBUG&&console.log(A.step,(1<A.loop?"loop "+(A.loop-Q)+": ":"")+"SHPIX[]",Pe,me),te.setRelative(Ue,Ue,me),te.touch(Ue)}A.loop=1},function(A){for(var z=A.stack,Q=A.rp1,te=A.rp2,me=A.loop,ke=A.z0[Q],Pe=A.z1[te],Ue=A.fv,Ve=A.dpv,qe=A.z2;me--;){var tt=z.pop(),lt=qe[tt];g.DEBUG&&console.log(A.step,(1<A.loop?"loop "+(A.loop-me)+": ":"")+"IP[]",tt,Q,"<->",te),Ue.interpolate(lt,ke,Pe,Ve),Ue.touch(lt)}A.loop=1},Gr.bind(void 0,0),Gr.bind(void 0,1),function(A){for(var z=A.stack,Q=A.rp0,te=A.z0[Q],me=A.loop,ke=A.fv,Pe=A.pv,Ue=A.z1;me--;){var Ve=z.pop(),qe=Ue[Ve];g.DEBUG&&console.log(A.step,(1<A.loop?"loop "+(A.loop-me)+": ":"")+"ALIGNRP[]",Ve),ke.setRelative(qe,te,0,Pe),ke.touch(qe)}A.loop=1},function(A){g.DEBUG&&console.log(A.step,"RTDG[]"),A.round=zr},sn.bind(void 0,0),sn.bind(void 0,1),function(A){var z=A.prog,Q=A.ip,te=A.stack,me=z[++Q];g.DEBUG&&console.log(A.step,"NPUSHB[]",me);for(var ke=0;ke<me;ke++)te.push(z[++Q]);A.ip=Q},function(A){var z=A.ip,Q=A.prog,te=A.stack,me=Q[++z];g.DEBUG&&console.log(A.step,"NPUSHW[]",me);for(var ke=0;ke<me;ke++){var Pe=Q[++z]<<8|Q[++z];32768&Pe&&(Pe=-(1+(65535^Pe))),te.push(Pe)}A.ip=z},function(A){var te=A.stack,z=(z=A.store)||(A.store=[]),Q=te.pop(),te=te.pop();g.DEBUG&&console.log(A.step,"WS",Q,te),z[te]=Q},function(me){var z=me.stack,Q=me.store,te=z.pop(),me=(g.DEBUG&&console.log(me.step,"RS",te),Q&&Q[te]||0);z.push(me)},function(A){var z=(Q=A.stack).pop(),Q=Q.pop();g.DEBUG&&console.log(A.step,"WCVTP",z,Q),A.cvt[Q]=z/64},function(A){var z=A.stack,Q=z.pop();g.DEBUG&&console.log(A.step,"RCVT",Q),z.push(64*A.cvt[Q])},Tn.bind(void 0,0),Tn.bind(void 0,1),void 0,Dr.bind(void 0,0),Dr.bind(void 0,1),function(A){g.DEBUG&&console.log(A.step,"MPPEM[]"),A.stack.push(A.ppem)},void 0,function(A){g.DEBUG&&console.log(A.step,"FLIPON[]"),A.autoFlip=!0},void 0,void 0,function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"LT[]",Q,te),z.push(te<Q?1:0)},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"LTEQ[]",Q,te),z.push(te<=Q?1:0)},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"GT[]",Q,te),z.push(Q<te?1:0)},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"GTEQ[]",Q,te),z.push(Q<=te?1:0)},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"EQ[]",Q,te),z.push(Q===te?1:0)},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"NEQ[]",Q,te),z.push(Q!==te?1:0)},function(A){var z=A.stack,Q=z.pop();g.DEBUG&&console.log(A.step,"ODD[]",Q),z.push(Math.trunc(Q)%2?1:0)},function(A){var z=A.stack,Q=z.pop();g.DEBUG&&console.log(A.step,"EVEN[]",Q),z.push(Math.trunc(Q)%2?0:1)},function(A){var z=A.stack.pop();g.DEBUG&&console.log(A.step,"IF[]",z),z||(Xr(A,!0),g.DEBUG&&console.log(A.step,"EIF[]"))},function(A){g.DEBUG&&console.log(A.step,"EIF[]")},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"AND[]",Q,te),z.push(Q&&te?1:0)},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"OR[]",Q,te),z.push(Q||te?1:0)},function(A){var z=A.stack,Q=z.pop();g.DEBUG&&console.log(A.step,"NOT[]",Q),z.push(Q?0:1)},dn.bind(void 0,1),function(A){var z=A.stack.pop();g.DEBUG&&console.log(A.step,"SDB[]",z),A.deltaBase=z},function(A){var z=A.stack.pop();g.DEBUG&&console.log(A.step,"SDS[]",z),A.deltaShift=Math.pow(.5,z)},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"ADD[]",Q,te),z.push(te+Q)},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"SUB[]",Q,te),z.push(te-Q)},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"DIV[]",Q,te),z.push(64*te/Q)},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"MUL[]",Q,te),z.push(te*Q/64)},function(A){var z=A.stack,Q=z.pop();g.DEBUG&&console.log(A.step,"ABS[]",Q),z.push(Math.abs(Q))},function(A){var z=A.stack,Q=z.pop();g.DEBUG&&console.log(A.step,"NEG[]",Q),z.push(-Q)},function(A){var z=A.stack,Q=z.pop();g.DEBUG&&console.log(A.step,"FLOOR[]",Q),z.push(64*Math.floor(Q/64))},function(A){var z=A.stack,Q=z.pop();g.DEBUG&&console.log(A.step,"CEILING[]",Q),z.push(64*Math.ceil(Q/64))},nr.bind(void 0,0),nr.bind(void 0,1),nr.bind(void 0,2),nr.bind(void 0,3),void 0,void 0,void 0,void 0,function(A){var z=(Q=A.stack).pop(),Q=Q.pop();g.DEBUG&&console.log(A.step,"WCVTF[]",z,Q),A.cvt[Q]=z*A.ppem/A.font.unitsPerEm},dn.bind(void 0,2),dn.bind(void 0,3),Cn.bind(void 0,1),Cn.bind(void 0,2),Cn.bind(void 0,3),function(A){var z,Q=A.stack.pop();switch(g.DEBUG&&console.log(A.step,"SROUND[]",Q),A.round=xn,192&Q){case 0:z=.5;break;case 64:z=1;break;case 128:z=2;break;default:throw new Error("invalid SROUND value")}switch(A.srPeriod=z,48&Q){case 0:A.srPhase=0;break;case 16:A.srPhase=.25*z;break;case 32:A.srPhase=.5*z;break;case 48:A.srPhase=.75*z;break;default:throw new Error("invalid SROUND value")}A.srThreshold=(Q&=15)===0?0:(Q/8-.5)*z},function(A){var z,Q=A.stack.pop();switch(g.DEBUG&&console.log(A.step,"S45ROUND[]",Q),A.round=xn,192&Q){case 0:z=Math.sqrt(2)/2;break;case 64:z=Math.sqrt(2);break;case 128:z=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(A.srPeriod=z,48&Q){case 0:A.srPhase=0;break;case 16:A.srPhase=.25*z;break;case 32:A.srPhase=.5*z;break;case 48:A.srPhase=.75*z;break;default:throw new Error("invalid S45ROUND value")}A.srThreshold=(Q&=15)===0?0:(Q/8-.5)*z},void 0,void 0,function(A){g.DEBUG&&console.log(A.step,"ROFF[]"),A.round=wn},void 0,function(A){g.DEBUG&&console.log(A.step,"RUTG[]"),A.round=On},function(A){g.DEBUG&&console.log(A.step,"RDTG[]"),A.round=Pn},En,En,void 0,void 0,void 0,void 0,void 0,function(A){var z=A.stack.pop();g.DEBUG&&console.log(A.step,"SCANCTRL[]",z)},pn.bind(void 0,0),pn.bind(void 0,1),function(A){var z=A.stack,Q=z.pop(),te=0;g.DEBUG&&console.log(A.step,"GETINFO[]",Q),1&Q&&(te=35),32&Q&&(te|=4096),z.push(te)},void 0,function(A){var z=A.stack,Q=z.pop(),te=z.pop(),me=z.pop();g.DEBUG&&console.log(A.step,"ROLL[]"),z.push(te),z.push(Q),z.push(me)},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"MAX[]",Q,te),z.push(Math.max(te,Q))},function(A){var z=A.stack,Q=z.pop(),te=z.pop();g.DEBUG&&console.log(A.step,"MIN[]",Q,te),z.push(Math.min(te,Q))},function(A){var z=A.stack.pop();g.DEBUG&&console.log(A.step,"SCANTYPE[]",z)},function(A){var z=A.stack.pop(),Q=A.stack.pop();switch(g.DEBUG&&console.log(A.step,"INSTCTRL[]",z,Q),z){case 1:return void(A.inhibitGridFit=!!Q);case 2:return void(A.ignoreCvt=!!Q);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,yr.bind(void 0,1),yr.bind(void 0,2),yr.bind(void 0,3),yr.bind(void 0,4),yr.bind(void 0,5),yr.bind(void 0,6),yr.bind(void 0,7),yr.bind(void 0,8),Fr.bind(void 0,1),Fr.bind(void 0,2),Fr.bind(void 0,3),Fr.bind(void 0,4),Fr.bind(void 0,5),Fr.bind(void 0,6),Fr.bind(void 0,7),Fr.bind(void 0,8),Ct.bind(void 0,0,0,0,0,0),Ct.bind(void 0,0,0,0,0,1),Ct.bind(void 0,0,0,0,0,2),Ct.bind(void 0,0,0,0,0,3),Ct.bind(void 0,0,0,0,1,0),Ct.bind(void 0,0,0,0,1,1),Ct.bind(void 0,0,0,0,1,2),Ct.bind(void 0,0,0,0,1,3),Ct.bind(void 0,0,0,1,0,0),Ct.bind(void 0,0,0,1,0,1),Ct.bind(void 0,0,0,1,0,2),Ct.bind(void 0,0,0,1,0,3),Ct.bind(void 0,0,0,1,1,0),Ct.bind(void 0,0,0,1,1,1),Ct.bind(void 0,0,0,1,1,2),Ct.bind(void 0,0,0,1,1,3),Ct.bind(void 0,0,1,0,0,0),Ct.bind(void 0,0,1,0,0,1),Ct.bind(void 0,0,1,0,0,2),Ct.bind(void 0,0,1,0,0,3),Ct.bind(void 0,0,1,0,1,0),Ct.bind(void 0,0,1,0,1,1),Ct.bind(void 0,0,1,0,1,2),Ct.bind(void 0,0,1,0,1,3),Ct.bind(void 0,0,1,1,0,0),Ct.bind(void 0,0,1,1,0,1),Ct.bind(void 0,0,1,1,0,2),Ct.bind(void 0,0,1,1,0,3),Ct.bind(void 0,0,1,1,1,0),Ct.bind(void 0,0,1,1,1,1),Ct.bind(void 0,0,1,1,1,2),Ct.bind(void 0,0,1,1,1,3),Ct.bind(void 0,1,0,0,0,0),Ct.bind(void 0,1,0,0,0,1),Ct.bind(void 0,1,0,0,0,2),Ct.bind(void 0,1,0,0,0,3),Ct.bind(void 0,1,0,0,1,0),Ct.bind(void 0,1,0,0,1,1),Ct.bind(void 0,1,0,0,1,2),Ct.bind(void 0,1,0,0,1,3),Ct.bind(void 0,1,0,1,0,0),Ct.bind(void 0,1,0,1,0,1),Ct.bind(void 0,1,0,1,0,2),Ct.bind(void 0,1,0,1,0,3),Ct.bind(void 0,1,0,1,1,0),Ct.bind(void 0,1,0,1,1,1),Ct.bind(void 0,1,0,1,1,2),Ct.bind(void 0,1,0,1,1,3),Ct.bind(void 0,1,1,0,0,0),Ct.bind(void 0,1,1,0,0,1),Ct.bind(void 0,1,1,0,0,2),Ct.bind(void 0,1,1,0,0,3),Ct.bind(void 0,1,1,0,1,0),Ct.bind(void 0,1,1,0,1,1),Ct.bind(void 0,1,1,0,1,2),Ct.bind(void 0,1,1,0,1,3),Ct.bind(void 0,1,1,1,0,0),Ct.bind(void 0,1,1,1,0,1),Ct.bind(void 0,1,1,1,0,2),Ct.bind(void 0,1,1,1,0,3),Ct.bind(void 0,1,1,1,1,0),Ct.bind(void 0,1,1,1,1,1),Ct.bind(void 0,1,1,1,1,2),Ct.bind(void 0,1,1,1,1,3)],Kn=Array.from||function(A){return A.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Zt(A){(A=A||{}).empty||(br(A.familyName,"When creating a new Font object, familyName is required."),br(A.styleName,"When creating a new Font object, styleName is required."),br(A.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),br(A.ascender,"When creating a new Font object, ascender is required."),br(A.descender,"When creating a new Font object, descender is required."),br(A.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:A.familyName||" "},fontSubfamily:{en:A.styleName||" "},fullName:{en:A.fullName||A.familyName+" "+A.styleName},postScriptName:{en:A.postScriptName||(A.familyName+A.styleName).replace(/\s/g,"")},designer:{en:A.designer||" "},designerURL:{en:A.designerURL||" "},manufacturer:{en:A.manufacturer||" "},manufacturerURL:{en:A.manufacturerURL||" "},license:{en:A.license||" "},licenseURL:{en:A.licenseURL||" "},version:{en:A.version||"Version 0.1"},description:{en:A.description||" "},copyright:{en:A.copyright||" "},trademark:{en:A.trademark||" "}},this.unitsPerEm=A.unitsPerEm||1e3,this.ascender=A.ascender,this.descender=A.descender,this.createdTimestamp=A.createdTimestamp,this.tables={os2:{usWeightClass:A.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:A.widthClass||this.usWidthClasses.MEDIUM,fsSelection:A.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new je.GlyphSet(this,A.glyphs||[]),this.encoding=new he(this),this.position=new qr(this),this.substitution=new gr(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new fn(this):void 0)}})}function Nn(A,z){var Q,te=JSON.stringify(A),me=256;for(Q in z){var ke=parseInt(Q);if(ke&&!(ke<256)){if(JSON.stringify(z[Q])===te)return ke;me<=ke&&(me=ke+1)}}return z[me]=A,me}Zt.prototype.hasChar=function(A){return this.encoding.charToGlyphIndex(A)!==null},Zt.prototype.charToGlyphIndex=function(A){return this.encoding.charToGlyphIndex(A)},Zt.prototype.charToGlyph=function(A){return A=this.charToGlyphIndex(A),this.glyphs.get(A)||this.glyphs.get(0)},Zt.prototype.stringToGlyphs=function(A,z){z=z||this.defaultRenderOptions;for(var Q=Kn(A),te=[],me=0;me<Q.length;me+=1){var ke=Q[me];te.push(this.charToGlyphIndex(ke))}var Pe=te.length;if(z.features){var A=z.script||this.substitution.getDefaultScriptName(),Ue=[];z.features.liga&&(Ue=Ue.concat(this.substitution.getFeature("liga",A,z.language))),z.features.rlig&&(Ue=Ue.concat(this.substitution.getFeature("rlig",A,z.language)));for(var Ve=0;Ve<Pe;Ve+=1)for(var qe=0;qe<Ue.length;qe++){for(var tt=Ue[qe],lt=tt.sub,ot=lt.length,Xe=0;Xe<ot&&lt[Xe]===te[Ve+Xe];)Xe++;Xe===ot&&(te.splice(Ve,ot,tt.by),Pe=Pe-ot+1)}}for(var _t=new Array(Pe),ht=this.glyphs.get(0),pt=0;pt<Pe;pt+=1)_t[pt]=this.glyphs.get(te[pt])||ht;return _t},Zt.prototype.nameToGlyphIndex=function(A){return this.glyphNames.nameToGlyphIndex(A)},Zt.prototype.nameToGlyph=function(A){return A=this.nameToGlyphIndex(A),this.glyphs.get(A)||this.glyphs.get(0)},Zt.prototype.glyphIndexToName=function(A){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(A):""},Zt.prototype.getKerningValue=function(A,z){A=A.index||A,z=z.index||z;var Q=this.position.defaultKerningTables;return Q?this.position.getKerningValue(Q,A,z):this.kerningPairs[A+","+z]||0},Zt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Zt.prototype.forEachGlyph=function(A,z,Q,te,me,ke){z=z!==void 0?z:0,Q=Q!==void 0?Q:0,me=me||this.defaultRenderOptions;var Pe,Ue=1/this.unitsPerEm*(te=te!==void 0?te:72),Ve=this.stringToGlyphs(A,me);me.kerning&&(A=me.script||this.position.getDefaultScriptName(),Pe=this.position.getKerningTables(A,me.language));for(var qe=0;qe<Ve.length;qe+=1){var tt=Ve[qe];ke.call(this,tt,z,Q,te,me),tt.advanceWidth&&(z+=tt.advanceWidth*Ue),me.kerning&&qe<Ve.length-1&&(z+=(Pe?this.position.getKerningValue(Pe,tt.index,Ve[qe+1].index):this.getKerningValue(tt,Ve[qe+1]))*Ue),me.letterSpacing?z+=me.letterSpacing*te:me.tracking&&(z+=me.tracking/1e3*te)}return z},Zt.prototype.getPath=function(A,z,Q,te,me){var ke=new fe;return this.forEachGlyph(A,z,Q,te,me,function(Pe,Ue,Ve,qe){Pe=Pe.getPath(Ue,Ve,qe,me,this),ke.extend(Pe)}),ke},Zt.prototype.getPaths=function(A,z,Q,te,me){var ke=[];return this.forEachGlyph(A,z,Q,te,me,function(Pe,Ue,Ve,qe){Pe=Pe.getPath(Ue,Ve,qe,me,this),ke.push(Pe)}),ke},Zt.prototype.getAdvanceWidth=function(A,z,Q){return this.forEachGlyph(A,0,0,z,Q,function(){})},Zt.prototype.draw=function(A,z,Q,te,me,ke){this.getPath(z,Q,te,me,ke).draw(A)},Zt.prototype.drawPoints=function(A,z,Q,te,me,ke){this.forEachGlyph(z,Q,te,me,ke,function(Pe,Ue,Ve,qe){Pe.drawPoints(A,Ue,Ve,qe)})},Zt.prototype.drawMetrics=function(A,z,Q,te,me,ke){this.forEachGlyph(z,Q,te,me,ke,function(Pe,Ue,Ve,qe){Pe.drawMetrics(A,Ue,Ve,qe)})},Zt.prototype.getEnglishName=function(A){if(A=this.names[A],A)return A.en},Zt.prototype.validate=function(){var A=this;function z(Q){Q=A.getEnglishName(Q),Q&&Q.trim().length}z("fontFamily"),z("weightName"),z("manufacturer"),z("copyright"),z("version"),this.unitsPerEm},Zt.prototype.toTables=function(){return kn.fontToTable(this)},Zt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Zt.prototype.toArrayBuffer=function(){for(var A=this.toTables().encode(),z=new ArrayBuffer(A.length),Q=new Uint8Array(z),te=0;te<A.length;te++)Q[te]=A[te];return z},Zt.prototype.download=function(A){var z=this.getEnglishName("fontFamily"),Q=this.getEnglishName("fontSubfamily"),te=(A=A||z.replace(/\s/g,"")+"-"+Q+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,te.byteLength,function(me){me.root.getFile(A,{create:!0},function(ke){ke.createWriter(function(Pe){var Ue=new DataView(te),Ue=new Blob([Ue],{type:"font/opentype"});Pe.write(Ue),Pe.addEventListener("writeend",function(){location.href=ke.toURL()},!1)})})},function(me){throw new Error(me.name+": "+me.message)})):(z=n("fs"),Q=function(me){for(var ke=new y(me.byteLength),Pe=new Uint8Array(me),Ue=0;Ue<ke.length;++Ue)ke[Ue]=Pe[Ue];return ke}(te),z.writeFileSync(A,Q))},Zt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Zt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Zt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Hr={make:function(A,z){var Q=new pe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:A.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:A.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*A.axes.length}]);Q.offsetToData=Q.sizeOf();for(var te,me,ke,Pe=0;Pe<A.axes.length;Pe++)Q.fields=Q.fields.concat((te=Pe,me=A.axes[Pe],ke=z,ke=Nn(me.name,z),[{name:"tag_"+te,type:"TAG",value:me.tag},{name:"minValue_"+te,type:"FIXED",value:me.minValue<<16},{name:"defaultValue_"+te,type:"FIXED",value:me.defaultValue<<16},{name:"maxValue_"+te,type:"FIXED",value:me.maxValue<<16},{name:"flags_"+te,type:"USHORT",value:0},{name:"nameID_"+te,type:"USHORT",value:ke}]));for(var Ue=0;Ue<A.instances.length;Ue++)Q.fields=Q.fields.concat(function(Ve,qe,tt,lt){for(var ot=[{name:"nameID_"+Ve,type:"USHORT",value:Nn(qe.name,lt)},{name:"flags_"+Ve,type:"USHORT",value:0}],Xe=0;Xe<tt.length;++Xe){var _t=tt[Xe].tag;ot.push({name:"axis_"+Ve+" "+_t,type:"FIXED",value:qe.coordinates[_t]<<16})}return ot}(Ue,A.instances[Ue],A.axes,z));return Q},parse:function(A,z,Q){for(var te,me,ke,Pe,Ue=new G.Parser(A,z),Ve=Ue.parseULong(),qe=(V.argument(Ve===65536,"Unsupported fvar table version."),Ue.parseOffset16()),tt=(Ue.skip("uShort",1),Ue.parseUShort()),lt=Ue.parseUShort(),ot=Ue.parseUShort(),Xe=Ue.parseUShort(),_t=[],ht=0;ht<tt;ht++)_t.push((te=A,me=z+qe+ht*lt,ke=Q,Pe={},te=new G.Parser(te,me),Pe.tag=te.parseTag(),Pe.minValue=te.parseFixed(),Pe.defaultValue=te.parseFixed(),Pe.maxValue=te.parseFixed(),te.skip("uShort",1),Pe.name=ke[te.parseUShort()]||{},Pe));for(var pt=[],ct=z+qe+tt*lt,ft=0;ft<ot;ft++)pt.push(function(Tt,Pt,At,kt){var Ot={},Xt=new G.Parser(Tt,Pt);Ot.name=kt[Xt.parseUShort()]||{},Xt.skip("uShort",1),Ot.coordinates={};for(var rr=0;rr<At.length;++rr)Ot.coordinates[At[rr].tag]=Xt.parseFixed();return Ot}(A,ct+ft*Xe,_t,Q));return{axes:_t,instances:pt}}},Yt=new Array(10);Yt[1]=function(){var A=this.offset+this.relativeOffset,z=this.parseUShort();return z===1?{posFormat:1,coverage:this.parsePointer(T.coverage),value:this.parseValueRecord()}:z===2?{posFormat:2,coverage:this.parsePointer(T.coverage),values:this.parseValueRecordList()}:void V.assert(!1,"0x"+A.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Yt[2]=function(){var A,z,Q,te,ke=this.offset+this.relativeOffset,me=this.parseUShort(),ke=(V.assert(me===1||me===2,"0x"+ke.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(T.coverage)),Pe=this.parseUShort(),Ue=this.parseUShort();return me===1?{posFormat:me,coverage:ke,valueFormat1:Pe,valueFormat2:Ue,pairSets:this.parseList(T.pointer(T.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Pe),value2:this.parseValueRecord(Ue)}})))}:me===2?(A=this.parsePointer(T.classDef),z=this.parsePointer(T.classDef),Q=this.parseUShort(),te=this.parseUShort(),{posFormat:me,coverage:ke,valueFormat1:Pe,valueFormat2:Ue,classDef1:A,classDef2:z,class1Count:Q,class2Count:te,classRecords:this.parseList(Q,T.list(te,function(){return{value1:this.parseValueRecord(Pe),value2:this.parseValueRecord(Ue)}}))}):void 0},Yt[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Yt[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Yt[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Yt[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Yt[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Yt[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Yt[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Un=new Array(10),on={parse:function(A,z){return z=(A=new T(A,z=z||0)).parseVersion(1),V.argument(z===1||z===1.1,"Unsupported GPOS table version "+z),z===1?{version:z,scripts:A.parseScriptList(),features:A.parseFeatureList(),lookups:A.parseLookupList(Yt)}:{version:z,scripts:A.parseScriptList(),features:A.parseFeatureList(),lookups:A.parseLookupList(Yt),variations:A.parseFeatureVariationsList()}},make:function(A){return new pe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new pe.ScriptList(A.scripts)},{name:"features",type:"TABLE",value:new pe.FeatureList(A.features)},{name:"lookups",type:"TABLE",value:new pe.LookupList(A.lookups,Un)}])}},Jn={parse:function(A,z){if(A=new G.Parser(A,z),(z=A.parseUShort())===0){var Q=A,te={},lt=(Q.skip("uShort"),Q.parseUShort()),me=(V.argument(lt===0,"Unsupported kern sub-table version."),Q.skip("uShort",2),Q.parseUShort());Q.skip("uShort",3);for(var ke=0;ke<me;ke+=1){var Pe=Q.parseUShort(),Ue=Q.parseUShort(),Ve=Q.parseShort();te[Pe+","+Ue]=Ve}return te}if(z!==1)throw new Error("Unsupported kern table version ("+z+").");var qe=A,tt={},lt=(qe.skip("uShort"),1<qe.parseULong()&&console.warn("Only the first kern subtable is supported."),qe.skip("uLong"),255&qe.parseUShort());if(qe.skip("uShort"),lt==0){var ot=qe.parseUShort();qe.skip("uShort",3);for(var Xe=0;Xe<ot;Xe+=1){var _t=qe.parseUShort(),ht=qe.parseUShort(),pt=qe.parseShort();tt[_t+","+ht]=pt}}return tt}},zn={parse:function(A,z,Q,te){for(var me=new G.Parser(A,z),ke=te?me.parseUShort:me.parseULong,Pe=[],Ue=0;Ue<Q+1;Ue+=1){var Ve=ke.call(me);te&&(Ve*=2),Pe.push(Ve)}return Pe}};function $n(A,z){n("fs").readFile(A,function(Q,te){if(Q)return z(Q.message);z(null,Ur(te))})}function mn(A,z){var Q=new XMLHttpRequest;Q.open("get",A,!0),Q.responseType="arraybuffer",Q.onload=function(){return Q.response?z(null,Q.response):z("Font could not be loaded: "+Q.statusText)},Q.onerror=function(){z("Font could not be loaded")},Q.send()}function Vr(A,z){for(var Q=[],te=12,me=0;me<z;me+=1){var ke=G.getTag(A,te),Pe=G.getULong(A,te+4),Ue=G.getULong(A,te+8),Ve=G.getULong(A,te+12);Q.push({tag:ke,checksum:Pe,offset:Ue,length:Ve,compression:!1}),te+=16}return Q}function ir(Q,z){if(z.compression!=="WOFF")return{data:Q,offset:z.offset};var Q=new Uint8Array(Q.buffer,z.offset+2,z.compressedLength-2),te=new Uint8Array(z.length);if(I(Q,te),te.byteLength!==z.length)throw new Error("Decompression error: "+z.tag+" decompressed length doesn't match recorded length");return{data:new DataView(te.buffer,0),offset:0}}function gn(ft){var z,Q,te,me,ke,Pe,Ue,Ve,qe,tt,lt,ot,Xe,_t,ht=new Zt({empty:!0}),pt=new DataView(ft,0),ct=[],ft=G.getTag(pt,0);if(ft===String.fromCharCode(0,1,0,0)||ft==="true"||ft==="typ1")ht.outlinesFormat="truetype",ct=Vr(pt,te=G.getUShort(pt,4));else if(ft==="OTTO")ht.outlinesFormat="cff",ct=Vr(pt,te=G.getUShort(pt,4));else{if(ft!=="wOFF")throw new Error("Unsupported OpenType signature "+ft);var Tt=G.getTag(pt,4);if(Tt===String.fromCharCode(0,1,0,0))ht.outlinesFormat="truetype";else{if(Tt!=="OTTO")throw new Error("Unsupported OpenType flavor "+ft);ht.outlinesFormat="cff"}ct=function(Qt,Wt){for(var fr=[],$t=44,or=0;or<Wt;or+=1){var Kt=G.getTag(Qt,$t),Jt=G.getULong(Qt,$t+4),Ke=G.getULong(Qt,$t+8),nt=G.getULong(Qt,$t+12),dt=void 0,dt=Ke<nt&&"WOFF";fr.push({tag:Kt,offset:Jt,compression:dt,compressedLength:Ke,length:nt}),$t+=20}return fr}(pt,te=G.getUShort(pt,12))}for(var Pt=0;Pt<te;Pt+=1){var At=ct[Pt],kt=void 0;switch(At.tag){case"cmap":kt=ir(pt,At),ht.tables.cmap=B.parse(kt.data,kt.offset),ht.encoding=new U(ht.tables.cmap);break;case"cvt ":kt=ir(pt,At),_t=new G.Parser(kt.data,kt.offset),ht.tables.cvt=_t.parseShortList(At.length/2);break;case"fvar":ke=At;break;case"fpgm":kt=ir(pt,At),_t=new G.Parser(kt.data,kt.offset),ht.tables.fpgm=_t.parseByteList(At.length);break;case"head":kt=ir(pt,At),ht.tables.head=xt.parse(kt.data,kt.offset),ht.unitsPerEm=ht.tables.head.unitsPerEm,z=ht.tables.head.indexToLocFormat;break;case"hhea":kt=ir(pt,At),ht.tables.hhea=He.parse(kt.data,kt.offset),ht.ascender=ht.tables.hhea.ascender,ht.descender=ht.tables.hhea.descender,ht.numberOfHMetrics=ht.tables.hhea.numberOfHMetrics;break;case"hmtx":qe=At;break;case"ltag":kt=ir(pt,At),Q=it.parse(kt.data,kt.offset);break;case"maxp":kt=ir(pt,At),ht.tables.maxp=at.parse(kt.data,kt.offset),ht.numGlyphs=ht.tables.maxp.numGlyphs;break;case"name":ot=At;break;case"OS/2":kt=ir(pt,At),ht.tables.os2=Ut.parse(kt.data,kt.offset);break;case"post":kt=ir(pt,At),ht.tables.post=ar.parse(kt.data,kt.offset),ht.glyphNames=new ue(ht.tables.post);break;case"prep":kt=ir(pt,At),_t=new G.Parser(kt.data,kt.offset),ht.tables.prep=_t.parseByteList(At.length);break;case"glyf":Pe=At;break;case"loca":lt=At;break;case"CFF ":me=At;break;case"kern":tt=At;break;case"GPOS":Ue=At;break;case"GSUB":Ve=At;break;case"meta":Xe=At}}if(Tt=ir(pt,ot),ht.tables.name=Ft.parse(Tt.data,Tt.offset,Q),ht.names=ht.tables.name,Pe&&lt)ft=z===0,Tt=ir(pt,lt),Tt=zn.parse(Tt.data,Tt.offset,ht.numGlyphs,ft),ft=ir(pt,Pe),ht.glyphs=cn.parse(ft.data,ft.offset,Tt,ht);else{if(!me)throw new Error("Font doesn't contain TrueType or CFF outlines.");ft=ir(pt,me),bt.parse(ft.data,ft.offset,ht)}for(var Tt=ir(pt,qe),Ot=(Ze.parse(Tt.data,Tt.offset,ht.numberOfHMetrics,ht.numGlyphs,ht.glyphs),ht),Xt=Ot.tables.cmap.glyphIndexMap,rr=Object.keys(Xt),sr=0;sr<rr.length;sr+=1){var ur,cr=rr[sr],jr=Xt[cr];(ur=Ot.glyphs.get(jr)).addUnicode(parseInt(cr))}for(var zt=0;zt<Ot.glyphs.length;zt+=1)ur=Ot.glyphs.get(zt),Ot.cffEncoding?Ot.isCIDFont?ur.name="gid"+zt:ur.name=Ot.cffEncoding.charset[zt]:Ot.glyphNames.names&&(ur.name=Ot.glyphNames.glyphIndexToName(zt));return tt?(ft=ir(pt,tt),ht.kerningPairs=Jn.parse(ft.data,ft.offset)):ht.kerningPairs={},Ue&&(Tt=ir(pt,Ue),ht.tables.gpos=on.parse(Tt.data,Tt.offset),ht.position.init()),Ve&&(ft=ir(pt,Ve),ht.tables.gsub=vr.parse(ft.data,ft.offset)),ke&&(Tt=ir(pt,ke),ht.tables.fvar=Hr.parse(Tt.data,Tt.offset,ht.names)),Xe&&(ft=ir(pt,Xe),ht.tables.meta=hr.parse(ft.data,ft.offset),ht.metas=ht.tables.meta),ht}g.Font=Zt,g.Glyph=ce,g.Path=fe,g.BoundingBox=ee,g._parse=G,g.parse=gn,g.load=function(A,z){(typeof window>"u"?$n:mn)(A,function(Q,te){if(Q)return z(Q);var me;try{me=gn(te)}catch(ke){return z(ke,null)}return z(null,me)})},g.loadSync=function(A){return gn(Ur(n("fs").readFileSync(A)))},Object.defineProperty(g,"__esModule",{value:!0})},f(typeof S=="object"&&Z!==void 0?S:m.opentype={})}).call(this,n("buffer").Buffer)},{buffer:4,fs:2}],248:[function(n,Z,S){(function(y){function m(d,u){for(var i=0,r=d.length-1;0<=r;r--){var t=d[r];t==="."?d.splice(r,1):t===".."?(d.splice(r,1),i++):i&&(d.splice(r,1),i--)}if(u)for(;i--;)d.unshift("..");return d}function f(d,u){if(d.filter)return d.filter(u);for(var i=[],r=0;r<d.length;r++)u(d[r],r,d)&&i.push(d[r]);return i}S.resolve=function(){for(var d="",u=!1,i=arguments.length-1;-1<=i&&!u;i--){var r=0<=i?arguments[i]:y.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");r&&(d=r+"/"+d,u=r.charAt(0)==="/")}return(u?"/":"")+(d=m(f(d.split("/"),function(t){return!!t}),!u).join("/"))||"."},S.normalize=function(d){var u=S.isAbsolute(d),i=g(d,-1)==="/";return(d=(d=m(f(d.split("/"),function(r){return!!r}),!u).join("/"))||u?d:".")&&i&&(d+="/"),(u?"/":"")+d},S.isAbsolute=function(d){return d.charAt(0)==="/"},S.join=function(){var d=Array.prototype.slice.call(arguments,0);return S.normalize(f(d,function(u,i){if(typeof u!="string")throw new TypeError("Arguments to path.join must be strings");return u}).join("/"))},S.relative=function(d,u){function i(s){for(var p=0;p<s.length&&s[p]==="";p++);for(var v=s.length-1;0<=v&&s[v]==="";v--);return v<p?[]:s.slice(p,v-p+1)}d=S.resolve(d).substr(1),u=S.resolve(u).substr(1);for(var r=i(d.split("/")),t=i(u.split("/")),a=Math.min(r.length,t.length),l=a,o=0;o<a;o++)if(r[o]!==t[o]){l=o;break}for(var c=[],o=l;o<r.length;o++)c.push("..");return(c=c.concat(t.slice(l))).join("/")},S.sep="/",S.delimiter=":",S.dirname=function(d){if(typeof d!="string"&&(d+=""),d.length===0)return".";for(var u=d.charCodeAt(0)===47,i=-1,r=!0,t=d.length-1;1<=t;--t)if(d.charCodeAt(t)===47){if(!r){i=t;break}}else r=!1;return i===-1?u?"/":".":u&&i===1?"/":d.slice(0,i)},S.basename=function(d,u){return d=function(i){typeof i!="string"&&(i+="");for(var r=0,t=-1,a=!0,l=i.length-1;0<=l;--l)if(i.charCodeAt(l)===47){if(!a){r=l+1;break}}else t===-1&&(a=!1,t=l+1);return t===-1?"":i.slice(r,t)}(d),d=u&&d.substr(-1*u.length)===u?d.substr(0,d.length-u.length):d},S.extname=function(d){typeof d!="string"&&(d+="");for(var u=-1,i=0,r=-1,t=!0,a=0,l=d.length-1;0<=l;--l){var o=d.charCodeAt(l);if(o===47){if(t)continue;i=l+1;break}r===-1&&(t=!1,r=l+1),o===46?u===-1?u=l:a!==1&&(a=1):u!==-1&&(a=-1)}return u===-1||r===-1||a===0||a===1&&u===r-1&&u===i+1?"":d.slice(u,r)};var g="ab".substr(-1)==="b"?function(d,u,i){return d.substr(u,i)}:function(d,u,i){return u<0&&(u=d.length+u),d.substr(u,i)}}).call(this,n("_process"))},{_process:249}],249:[function(n,f,S){var y,m,f=f.exports={};function g(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}try{y=typeof setTimeout=="function"?setTimeout:g}catch{y=g}try{m=typeof clearTimeout=="function"?clearTimeout:d}catch{m=d}function u(p){if(y===setTimeout)return setTimeout(p,0);if((y===g||!y)&&setTimeout)return(y=setTimeout)(p,0);try{return y(p,0)}catch{try{return y.call(null,p,0)}catch{return y.call(this,p,0)}}}var i,r=[],t=!1,a=-1;function l(){t&&i&&(t=!1,i.length?r=i.concat(r):a=-1,r.length&&o())}function o(){if(!t){for(var p=u(l),v=(t=!0,r.length);v;){for(i=r,r=[];++a<v;)i&&i[a].run();a=-1,v=r.length}i=null,t=!1,function(b){if(m===clearTimeout)return clearTimeout(b);if((m===d||!m)&&clearTimeout)return(m=clearTimeout)(b);try{m(b)}catch{try{return m.call(null,b)}catch{return m.call(this,b)}}}(p)}}function c(p,v){this.fun=p,this.array=v}function s(){}f.nextTick=function(p){var v=new Array(arguments.length-1);if(1<arguments.length)for(var b=1;b<arguments.length;b++)v[b-1]=arguments[b];r.push(new c(p,v)),r.length!==1||t||u(o)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=s,f.addListener=s,f.once=s,f.off=s,f.removeListener=s,f.removeAllListeners=s,f.emit=s,f.prependListener=s,f.prependOnceListener=s,f.listeners=function(p){return[]},f.binding=function(p){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(p){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],250:[function(n,Z,S){Z=function(y){var m,f=Object.prototype,g=f.hasOwnProperty,x=typeof Symbol=="function"?Symbol:{},d=x.iterator||"@@iterator",u=x.asyncIterator||"@@asyncIterator",i=x.toStringTag||"@@toStringTag";function r(R,K,H,J){var fe,xe,q,V,K=K&&K.prototype instanceof p?K:p,K=Object.create(K.prototype),J=new O(J||[]);return K._invoke=(fe=R,xe=H,q=J,V=a,function(oe,_e){if(V===o)throw new Error("Generator is already running");if(V===c){if(oe==="throw")throw _e;return N()}for(q.method=oe,q.arg=_e;;){var Oe=q.delegate;if(Oe&&(Oe=function De(Te,Be){var Re=Te.iterator[Be.method];if(Re===m){if(Be.delegate=null,Be.method==="throw"){if(Te.iterator.return&&(Be.method="return",Be.arg=m,De(Te,Be),Be.method==="throw"))return s;Be.method="throw",Be.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}if(Re=t(Re,Te.iterator,Be.arg),Re.type==="throw")return Be.method="throw",Be.arg=Re.arg,Be.delegate=null,s;if(Re=Re.arg,!Re)return Be.method="throw",Be.arg=new TypeError("iterator result is not an object"),Be.delegate=null,s;{if(!Re.done)return Re;Be[Te.resultName]=Re.value,Be.next=Te.nextLoc,Be.method!=="return"&&(Be.method="next",Be.arg=m)}return Be.delegate=null,s}(Oe,q),Oe)){if(Oe===s)continue;return Oe}if(q.method==="next")q.sent=q._sent=q.arg;else if(q.method==="throw"){if(V===a)throw V=c,q.arg;q.dispatchException(q.arg)}else q.method==="return"&&q.abrupt("return",q.arg);if(V=o,Oe=t(fe,xe,q),Oe.type==="normal"){if(V=q.done?c:l,Oe.arg!==s)return{value:Oe.arg,done:q.done}}else Oe.type==="throw"&&(V=c,q.method="throw",q.arg=Oe.arg)}}),K}function t(R,I,H){try{return{type:"normal",arg:R.call(I,H)}}catch(ee){return{type:"throw",arg:ee}}}y.wrap=r;var a="suspendedStart",l="suspendedYield",o="executing",c="completed",s={};function p(){}function v(){}function b(){}var x={},w=(x[d]=function(){return this},Object.getPrototypeOf),w=w&&w(w(D([]))),j=(w&&w!==f&&g.call(w,d)&&(x=w),b.prototype=p.prototype=Object.create(x));function E(R){["next","throw","return"].forEach(function(I){R[I]=function(H){return this._invoke(I,H)}})}function M(R){var I;this._invoke=function(H,ee){function fe(){return new Promise(function(xe,q){(function V(De,J,oe,_e){var Oe,De=t(R[De],R,J);if(De.type!=="throw")return(J=(Oe=De.arg).value)&&typeof J=="object"&&g.call(J,"__await")?Promise.resolve(J.__await).then(function(Te){V("next",Te,oe,_e)},function(Te){V("throw",Te,oe,_e)}):Promise.resolve(J).then(function(Te){Oe.value=Te,oe(Oe)},function(Te){return V("throw",Te,oe,_e)});_e(De.arg)})(H,ee,xe,q)})}return I=I?I.then(fe,fe):fe()}}function C(R){var I={tryLoc:R[0]};1 in R&&(I.catchLoc=R[1]),2 in R&&(I.finallyLoc=R[2],I.afterLoc=R[3]),this.tryEntries.push(I)}function P(R){var I=R.completion||{};I.type="normal",delete I.arg,R.completion=I}function O(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(C,this),this.reset(!0)}function D(R){if(R){var I,H=R[d];if(H)return H.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length))return I=-1,(H=function ee(){for(;++I<R.length;)if(g.call(R,I))return ee.value=R[I],ee.done=!1,ee;return ee.value=m,ee.done=!0,ee}).next=H}return{next:N}}function N(){return{value:m,done:!0}}return(v.prototype=j.constructor=b).constructor=v,b[i]=v.displayName="GeneratorFunction",y.isGeneratorFunction=function(R){return R=typeof R=="function"&&R.constructor,!!R&&(R===v||(R.displayName||R.name)==="GeneratorFunction")},y.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,b):(R.__proto__=b,i in R||(R[i]="GeneratorFunction")),R.prototype=Object.create(j),R},y.awrap=function(R){return{__await:R}},E(M.prototype),M.prototype[u]=function(){return this},y.AsyncIterator=M,y.async=function(R,I,H,ee){var fe=new M(r(R,I,H,ee));return y.isGeneratorFunction(I)?fe:fe.next().then(function(xe){return xe.done?xe.value:fe.next()})},E(j),j[i]="Generator",j[d]=function(){return this},j.toString=function(){return"[object Generator]"},y.keys=function(R){var I,H=[];for(I in R)H.push(I);return H.reverse(),function ee(){for(;H.length;){var fe=H.pop();if(fe in R)return ee.value=fe,ee.done=!1,ee}return ee.done=!0,ee}},y.values=D,O.prototype={constructor:O,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(P),!R)for(var I in this)I.charAt(0)==="t"&&g.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=m)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var I=this;function H(K,J){return xe.type="throw",xe.arg=R,I.next=K,J&&(I.method="next",I.arg=m),!!J}for(var ee=this.tryEntries.length-1;0<=ee;--ee){var fe=this.tryEntries[ee],xe=fe.completion;if(fe.tryLoc==="root")return H("end");if(fe.tryLoc<=this.prev){var q=g.call(fe,"catchLoc"),V=g.call(fe,"finallyLoc");if(q&&V){if(this.prev<fe.catchLoc)return H(fe.catchLoc,!0);if(this.prev<fe.finallyLoc)return H(fe.finallyLoc)}else if(q){if(this.prev<fe.catchLoc)return H(fe.catchLoc,!0)}else{if(!V)throw new Error("try statement without catch or finally");if(this.prev<fe.finallyLoc)return H(fe.finallyLoc)}}}},abrupt:function(R,I){for(var H=this.tryEntries.length-1;0<=H;--H){var ee=this.tryEntries[H];if(ee.tryLoc<=this.prev&&g.call(ee,"finallyLoc")&&this.prev<ee.finallyLoc){var fe=ee;break}}var xe=(fe=fe&&(R==="break"||R==="continue")&&fe.tryLoc<=I&&I<=fe.finallyLoc?null:fe)?fe.completion:{};return xe.type=R,xe.arg=I,fe?(this.method="next",this.next=fe.finallyLoc,s):this.complete(xe)},complete:function(R,I){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&I&&(this.next=I),s},finish:function(R){for(var I=this.tryEntries.length-1;0<=I;--I){var H=this.tryEntries[I];if(H.finallyLoc===R)return this.complete(H.completion,H.afterLoc),P(H),s}},catch:function(R){for(var I=this.tryEntries.length-1;0<=I;--I){var H,ee,fe=this.tryEntries[I];if(fe.tryLoc===R)return(H=fe.completion).type==="throw"&&(ee=H.arg,P(fe)),ee}throw new Error("illegal catch attempt")},delegateYield:function(R,I,H){return this.delegate={iterator:D(R),resultName:I,nextLoc:H},this.method==="next"&&(this.arg=m),s}},y}(typeof Z=="object"?Z.exports:{});try{regeneratorRuntime=Z}catch{Function("r","regeneratorRuntime = r")(Z)}},{}],251:[function(n,Z,S){(function(y){var m,f,g,d,u,i,r,t,a,l;function o(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function c(P){return P=typeof P!="string"?String(P):P}function s(P){var O={next:function(){var D=P.shift();return{done:D===void 0,value:D}}};return f&&(O[Symbol.iterator]=function(){return O}),O}function p(P){this.map={},P instanceof p?P.forEach(function(O,D){this.append(D,O)},this):Array.isArray(P)?P.forEach(function(O){this.append(O[0],O[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(O){this.append(O,P[O])},this)}function v(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function b(P){return new Promise(function(O,D){P.onload=function(){O(P.result)},P.onerror=function(){D(P.error)}})}function x(P){var O=new FileReader,D=b(O);return O.readAsArrayBuffer(P),D}function w(P){var O;return P.slice?P.slice(0):((O=new Uint8Array(P.byteLength)).set(new Uint8Array(P)),O.buffer)}function j(){return this.bodyUsed=!1,this._initBody=function(P){if(this._bodyInit=P)if(typeof P=="string")this._bodyText=P;else if(g&&Blob.prototype.isPrototypeOf(P))this._bodyBlob=P;else if(d&&FormData.prototype.isPrototypeOf(P))this._bodyFormData=P;else if(m&&URLSearchParams.prototype.isPrototypeOf(P))this._bodyText=P.toString();else if(u&&g&&r(P))this._bodyArrayBuffer=w(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!u||!ArrayBuffer.prototype.isPrototypeOf(P)&&!t(P))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=w(P)}else this._bodyText="";this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g&&(this.blob=function(){var P=v(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(x)}),this.text=function(){var P,O,D=v(this);if(D)return D;if(this._bodyBlob)return D=this._bodyBlob,P=new FileReader,O=b(P),P.readAsText(D),O;if(this._bodyArrayBuffer)return Promise.resolve(function(N){for(var R=new Uint8Array(N),I=new Array(R.length),H=0;H<R.length;H++)I[H]=String.fromCharCode(R[H]);return I.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}function E(P,O){var D,N=(O=O||{}).body;if(P instanceof E){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,O.headers||(this.headers=new p(P.headers)),this.method=P.method,this.mode=P.mode,N||P._bodyInit==null||(N=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=O.credentials||this.credentials||"omit",!O.headers&&this.headers||(this.headers=new p(O.headers)),this.method=(P=O.method||this.method||"GET",D=P.toUpperCase(),-1<a.indexOf(D)?D:P),this.mode=O.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(N)}function M(P){var O=new FormData;return P.trim().split("&").forEach(function(D){var N;D&&(N=(D=D.split("=")).shift().replace(/\+/g," "),D=D.join("=").replace(/\+/g," "),O.append(decodeURIComponent(N),decodeURIComponent(D)))}),O}function C(P,O){O=O||{},this.type="default",this.status=O.status===void 0?200:O.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in O?O.statusText:"OK",this.headers=new p(O.headers),this.url=O.url||"",this._initBody(P)}y.fetch||(m="URLSearchParams"in y,f="Symbol"in y&&"iterator"in Symbol,g="FileReader"in y&&"Blob"in y&&function(){try{return new Blob,!0}catch{return!1}}(),d="FormData"in y,(u="ArrayBuffer"in y)&&(i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(P){return P&&DataView.prototype.isPrototypeOf(P)},t=ArrayBuffer.isView||function(P){return P&&-1<i.indexOf(Object.prototype.toString.call(P))}),p.prototype.append=function(P,O){P=o(P),O=c(O);var D=this.map[P];this.map[P]=D?D+","+O:O},p.prototype.delete=function(P){delete this.map[o(P)]},p.prototype.get=function(P){return P=o(P),this.has(P)?this.map[P]:null},p.prototype.has=function(P){return this.map.hasOwnProperty(o(P))},p.prototype.set=function(P,O){this.map[o(P)]=c(O)},p.prototype.forEach=function(P,O){for(var D in this.map)this.map.hasOwnProperty(D)&&P.call(O,this.map[D],D,this)},p.prototype.keys=function(){var P=[];return this.forEach(function(O,D){P.push(D)}),s(P)},p.prototype.values=function(){var P=[];return this.forEach(function(O){P.push(O)}),s(P)},p.prototype.entries=function(){var P=[];return this.forEach(function(O,D){P.push([D,O])}),s(P)},f&&(p.prototype[Symbol.iterator]=p.prototype.entries),a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},j.call(E.prototype),j.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},C.error=function(){var P=new C(null,{status:0,statusText:""});return P.type="error",P},l=[301,302,303,307,308],C.redirect=function(P,O){if(l.indexOf(O)===-1)throw new RangeError("Invalid status code");return new C(null,{status:O,headers:{location:P}})},y.Headers=p,y.Request=E,y.Response=C,y.fetch=function(P,O){return new Promise(function(D,N){var R=new E(P,O),I=new XMLHttpRequest;I.onload=function(){var H,ee={status:I.status,statusText:I.statusText,headers:(ee=I.getAllResponseHeaders()||"",H=new p,ee.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(q){var q=q.split(":"),V=q.shift().trim();V&&(q=q.join(":").trim(),H.append(V,q))}),H)},fe=(ee.url="responseURL"in I?I.responseURL:ee.headers.get("X-Request-URL"),"response"in I?I.response:I.responseText);D(new C(fe,ee))},I.onerror=function(){N(new TypeError("Network request failed"))},I.ontimeout=function(){N(new TypeError("Network request failed"))},I.open(R.method,R.url,!0),R.credentials==="include"?I.withCredentials=!0:R.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&g&&(I.responseType="blob"),R.headers.forEach(function(H,ee){I.setRequestHeader(ee,H)}),I.send(R._bodyInit===void 0?null:R._bodyInit)})},y.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],252:[function(n,Z,S){n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.split"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y,m=g(n("../core/main")),f=g(n("../color/color_conversion"));function g(i){return i&&i.__esModule?i:{default:i}}var d=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],u=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];m.default.prototype._rgbColorName=function(a){var r,t,a=f.default._rgbaToHSBA(a),l=[(y=a)[0],a[1],a[2]];l[0]!==0&&(l[0]=Math.round(100*l[0]),(a=l[0].toString().split(""))[t=a.length-1]=parseInt(a[t]),a[t]<2.5?a[t]=0:2.5<=a[t]&&a[t]<7.5&&(a[t]=5),a.length===2?(a[0]=parseInt(a[0]),7.5<=a[t]&&(a[t]=0,a[0]=a[0]+1),l[0]=10*a[0]+a[1]):7.5<=a[t]?l[0]=10:l[0]=a[t]),l[2]=l[2]/255;for(var o=l.length-1;1<=o;o--)l[o]<=.25?l[o]=0:.25<l[o]&&l[o]<.75?l[o]=.5:l[o]=1;if(l[0]===0&&l[1]===0&&l[2]===1){for(var c=2;0<=c;c--)y[c]=Math.round(1e4*y[c])/1e4;for(var s=0;s<d.length;s++){if(d[s].h===y[0]&&d[s].s===y[1]&&d[s].b===y[2]){r=d[s].name;break}r="white"}}else for(var p=0;p<u.length;p++)if(u[p].h===l[0]&&u[p].s===l[1]&&u[p].b===l[2]){r=u[p].name;break}return r},n=m.default,S.default=n},{"../color/color_conversion":258,"../core/main":273,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196}],253:[function(n,Z,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.ends-with"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.ends-with"),n("core-js/modules/es.string.replace"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n},m="_Description",f="_fallbackDesc",g="_fallbackTable",d="_Label",u="_labelDesc",i="_labelTable";function r(t){if(t==="label"||t==="fallback")throw new Error("description should not be LABEL or FALLBACK");return t.endsWith(".")||t.endsWith(";")||t.endsWith(",")||t.endsWith("?")||t.endsWith("!")||(t+="."),t}y.default.prototype.describe=function(t,a){var l;y.default._validateParameters("describe",arguments),typeof t=="string"&&(l=this.canvas.id,t=r(t),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==t&&(this.descriptions.fallback.innerHTML=t):this._describeHTML("fallback",t),a===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==t&&(this.descriptions.label.innerHTML=t):this._describeHTML("label",t)))},y.default.prototype.describeElement=function(t,a,l){var o,c;y.default._validateParameters("describeElement",arguments),typeof a=="string"&&typeof t=="string"&&(o=this.canvas.id,a=r(a),c=function(s){if(s==="label"||s==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return s.endsWith(".")||s.endsWith(";")||s.endsWith(",")?s=s.replace(/.$/,":"):s.endsWith(":")||(s+=":"),s}(t),t=t.replace(/[^a-zA-Z0-9]/g,""),c='<th scope="row">'.concat(c,"</th><td>").concat(a,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(o).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[t]?this.descriptions.fallbackElements[t].innerHTML!==c&&(this.descriptions.fallbackElements[t].innerHTML=c):this._describeElementHTML("fallback",t,c),l===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[t]?this.descriptions.labelElements[t].innerHTML!==c&&(this.descriptions.labelElements[t].innerHTML=c):this._describeElementHTML("label",t,c)))},y.default.prototype._describeHTML=function(t,a){var l,o=this.canvas.id;t==="fallback"?(this.dummyDOM.querySelector("#".concat(o+m))?this.dummyDOM.querySelector("#"+o+g).insertAdjacentHTML("beforebegin",'<p id="'.concat(o+f,'"></p>')):(l='<div id="'.concat(o).concat(m,'" role="region" aria-label="Canvas Description"><p id="').concat(o).concat(f,'"></p></div>'),this.dummyDOM.querySelector("#".concat(o,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(o,"accessibleOutput")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(o)).innerHTML=l),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(o).concat(f)),this.descriptions.fallback.innerHTML=a):t==="label"&&(this.dummyDOM.querySelector("#".concat(o+d))?this.dummyDOM.querySelector("#".concat(o+i))&&this.dummyDOM.querySelector("#".concat(o+i)).insertAdjacentHTML("beforebegin",'<p id="'.concat(o).concat(u,'"></p>')):(l='<div id="'.concat(o).concat(d,'" class="p5Label"><p id="').concat(o).concat(u,'"></p></div>'),this.dummyDOM.querySelector("#".concat(o,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(o,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+o).insertAdjacentHTML("afterend",l)),this.descriptions.label=this.dummyDOM.querySelector("#"+o+u),this.descriptions.label.innerHTML=a)},y.default.prototype._describeElementHTML=function(t,a,l){var o,c=this.canvas.id;t==="fallback"?(this.dummyDOM.querySelector("#".concat(c+m))?this.dummyDOM.querySelector("#"+c+g)||this.dummyDOM.querySelector("#"+c+f).insertAdjacentHTML("afterend",'<table id="'.concat(c).concat(g,'"><caption>Canvas elements and their descriptions</caption></table>')):(o='<div id="'.concat(c).concat(m,'" role="region" aria-label="Canvas Description"><table id="').concat(c).concat(g,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutput")).insertAdjacentHTML("beforebegin",o):this.dummyDOM.querySelector("#"+c).innerHTML=o),(o=document.createElement("tr")).id=c+"_fte_"+a,this.dummyDOM.querySelector("#"+c+g).appendChild(o),this.descriptions.fallbackElements[a]=this.dummyDOM.querySelector("#".concat(c).concat("_fte_").concat(a)),this.descriptions.fallbackElements[a].innerHTML=l):t==="label"&&(this.dummyDOM.querySelector("#".concat(c+d))?this.dummyDOM.querySelector("#".concat(c+i))||this.dummyDOM.querySelector("#"+c+u).insertAdjacentHTML("afterend",'<table id="'.concat(c+i,'"></table>')):(o='<div id="'.concat(c).concat(d,'" class="p5Label"><table id="').concat(c).concat(i,'"></table></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",o):this.dummyDOM.querySelector("#"+c).insertAdjacentHTML("afterend",o)),(t=document.createElement("tr")).id=c+"_lte_"+a,this.dummyDOM.querySelector("#"+c+i).appendChild(t),this.descriptions.labelElements[a]=this.dummyDOM.querySelector("#".concat(c).concat("_lte_").concat(a)),this.descriptions.labelElements[a].innerHTML=l)},n=y.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.replace":194}],254:[function(n,Z,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.map"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.map"),n("core-js/modules/es.string.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n=(n=n("../core/main"))&&n.__esModule?n:{default:n},n.default.prototype._updateGridOutput=function(y){var m,f,g,d;this.dummyDOM.querySelector("#".concat(y,"_summary"))&&(m=this._accessibleOutputs[y],g=function(u,i,r,t){return i="".concat(i," canvas, ").concat(r," by ").concat(t," pixels, contains ").concat(u[0]),i=(u[0]===1?"".concat(i," shape: "):"".concat(i," shapes: ")).concat(u[1]),i}((f=function(u,i){var r,t="",a="",l=0;for(r in i){var o,c=0;for(o in i[r]){var s='<li id="'.concat(u,"shape").concat(l,'">').concat(i[r][o].color," ").concat(r,",");r==="line"?s+=" location = ".concat(i[r][o].pos,", length = ").concat(i[r][o].length," pixels"):(s+=" location = ".concat(i[r][o].pos),r!=="point"&&(s+=", area = ".concat(i[r][o].area," %")),s+="</li>"),t+=s,c++,l++}a=1<c?"".concat(a," ").concat(c," ").concat(r,"s"):"".concat(a," ").concat(c," ").concat(r)}return{numShapes:[l,a],details:t}}(y,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),d=function(u,i){var r,t,a=0,l="",o=Array.from(Array(10),function(){return Array(10)});for(r in i)for(var c in i[r]){var s=void 0;s=r!=="line"?'<a href="#'.concat(u,"shape").concat(a,'">').concat(i[r][c].color," ").concat(r,"</a>"):'<a href="#'.concat(u,"shape").concat(a,'">').concat(i[r][c].color," ").concat(r," midpoint</a>"),o[i[r][c].loc.locY][i[r][c].loc.locX]?o[i[r][c].loc.locY][i[r][c].loc.locX]=o[i[r][c].loc.locY][i[r][c].loc.locX]+"  "+s:o[i[r][c].loc.locY][i[r][c].loc.locX]=s,a++}for(t in o){var p,v="<tr>";for(p in o[t])v+="<td>",o[t][p]!==void 0&&(v+=o[t][p]),v+="</td>";l=l+v+"</tr>"}return l}(y,this.ingredients.shapes),g!==m.summary.innerHTML&&(m.summary.innerHTML=g),d!==m.map.innerHTML&&(m.map.innerHTML=d),f.details!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=f.details),this._accessibleOutputs[y]=m)},n=n.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":157,"core-js/modules/es.array.map":163,"core-js/modules/es.string.iterator":190}],255:[function(n,Z,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};function m(g){return function(d){if(Array.isArray(d)){for(var u=0,i=new Array(d.length);u<d.length;u++)i[u]=d[u];return i}}(g)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(g,d,u){return d=Math.floor(g[0]/d*10),g=Math.floor(g[1]/u*10),d===10&&(d-=1),g===10&&(g-=1),{locX:d,locY:g}}y.default.prototype.textOutput=function(g){y.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),g===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},y.default.prototype.gridOutput=function(g){y.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),g===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},y.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},y.default.prototype._createOutput=function(g,d){var u,i,r,t=this.canvas.id,a=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(t).parentNode),"");d==="Fallback"?(u=t+g,this.dummyDOM.querySelector("#".concat(i=t+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(t,"_Description"))?this.dummyDOM.querySelector("#".concat(t,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(t)).innerHTML='<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>'))):d==="Label"&&(u=t+g+(a=d),this.dummyDOM.querySelector("#".concat(i=t+"accessibleOutput"+d))||(this.dummyDOM.querySelector("#".concat(t,"_Label"))?this.dummyDOM.querySelector("#".concat(t,"_Label")):this.dummyDOM.querySelector("#".concat(t))).insertAdjacentHTML("afterend",'<div id="'.concat(i,'"></div>'))),this._accessibleOutputs[u]={},g==="textOutput"?(a="#".concat(t,"gridOutput").concat(a),r='<div id="'.concat(u,'">Text Output<div id="').concat(u,'Summary" aria-label="text output summary"><p id="').concat(u,'_summary"></p><ul id="').concat(u,'_list"></ul></div><table id="').concat(u,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#".concat(i)).innerHTML=r,this._accessibleOutputs[u].list=this.dummyDOM.querySelector("#".concat(u,"_list"))):g==="gridOutput"&&(a="#".concat(t,"textOutput").concat(a),r='<div id="'.concat(u,'">Grid Output<p id="').concat(u,'_summary" aria-label="grid output summary"><table id="').concat(u,'_map" summary="grid output content"></table><ul id="').concat(u,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("afterend",r):this.dummyDOM.querySelector("#".concat(i)).innerHTML=r,this._accessibleOutputs[u].map=this.dummyDOM.querySelector("#".concat(u,"_map"))),this._accessibleOutputs[u].shapeDetails=this.dummyDOM.querySelector("#".concat(u,"_shapeDetails")),this._accessibleOutputs[u].summary=this.dummyDOM.querySelector("#".concat(u,"_summary"))},y.default.prototype._updateAccsOutput=function(){var g=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(g+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(g+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(g+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(g+"gridOutputLabel"))},y.default.prototype._accsBackground=function(g){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==g&&(this.ingredients.colors.backgroundRGBA=g,this.ingredients.colors.background=this._rgbColorName(g))},y.default.prototype._accsCanvasColors=function(g,d){g==="fill"?this.ingredients.colors.fillRGBA!==d&&(this.ingredients.colors.fillRGBA=d,this.ingredients.colors.fill=this._rgbColorName(d)):g==="stroke"&&this.ingredients.colors.strokeRGBA!==d&&(this.ingredients.colors.strokeRGBA=d,this.ingredients.colors.stroke=this._rgbColorName(d))},y.default.prototype._accsOutput=function(g,d){g==="ellipse"&&d[2]===d[3]?g="circle":g==="rectangle"&&d[2]===d[3]&&(g="square");var u,i,r={},t=!0,a=function(o,c){var s;return o=o==="rectangle"||o==="ellipse"||o==="arc"||o==="circle"||o==="square"?(s=Math.round(c[0]+c[2]/2),Math.round(c[1]+c[3]/2)):o==="triangle"?(s=(c[0]+c[2]+c[4])/3,(c[1]+c[3]+c[5])/3):o==="quadrilateral"?(s=(c[0]+c[2]+c[4]+c[6])/4,(c[1]+c[3]+c[5]+c[7])/4):o==="line"?(s=(c[0]+c[2])/2,(c[1]+c[3])/2):(s=c[0],c[1]),[s,o]}(g,d);if(g==="line"?(r.color=this.ingredients.colors.stroke,r.length=Math.round(this.dist(d[0],d[1],d[2],d[3])),u=this._getPos(d[0],[1]),i=this._getPos(d[2],[3]),r.loc=f(a,this.width,this.height),r.pos=u===i?"at ".concat(u):"from ".concat(u," to ").concat(i)):(g==="point"?r.color=this.ingredients.colors.stroke:(r.color=this.ingredients.colors.fill,r.area=this._getArea(g,d)),r.pos=this._getPos.apply(this,m(a)),r.loc=f(a,this.width,this.height)),this.ingredients.shapes[g]){if(this.ingredients.shapes[g]!==[r]){for(var l in this.ingredients.shapes[g])JSON.stringify(this.ingredients.shapes[g][l])===JSON.stringify(r)&&(t=!1);t===!0&&this.ingredients.shapes[g].push(r)}}else this.ingredients.shapes[g]=[r]},y.default.prototype._getPos=function(i,u){var i=new DOMPointReadOnly(i,u),u=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),i=i.matrixTransform(u),u=i.x,i=i.y,r=this.width,t=this.height;return u<.4*r?i<.4*t?"top left":.6*t<i?"bottom left":"mid left":.6*r<u?i<.4*t?"top right":.6*t<i?"bottom right":"mid right":i<.4*t?"top middle":.6*t<i?"bottom middle":"middle"},y.default.prototype._getArea=function(g,d){var u,i,r=0,t=(g==="arc"?(r=(u=((d[5]-d[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*d[2]*d[3]/8,d[6]!=="open"&&d[6]!=="chord"||(i=d[0],c=d[1],t=d[0]+d[2]/2*Math.cos(d[4]).toFixed(2),s=d[1]+d[3]/2*Math.sin(d[4]).toFixed(2),l=d[0]+d[2]/2*Math.cos(d[5]).toFixed(2),a=d[1]+d[3]/2*Math.sin(d[5]).toFixed(2),i=Math.abs(i*(s-a)+t*(a-c)+l*(c-s))/2,u>Math.PI?r+=i:r-=i)):g==="ellipse"||g==="circle"?r=3.14*d[2]/2*d[3]/2:g==="line"||g==="point"?r=0:g==="quadrilateral"?r=Math.abs((d[6]+d[0])*(d[7]-d[1])+(d[0]+d[2])*(d[1]-d[3])+(d[2]+d[4])*(d[3]-d[5])+(d[4]+d[6])*(d[5]-d[7]))/2:g==="rectangle"||g==="square"?r=d[2]*d[3]:g==="triangle"&&(r=Math.abs(d[0]*(d[3]-d[5])+d[2]*(d[5]-d[1])+d[4]*(d[1]-d[3]))/2),this.width*this._pixelDensity),a=this.height*this._pixelDensity,l=[new DOMPoint(0,0),new DOMPoint(t,0),new DOMPoint(t,a),new DOMPoint(0,a)],o=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),c=l.map(function(p){return p.matrixTransform(o)}),s=Math.abs((c[3].x+c[0].x)*(c[3].y-c[0].y)+(c[0].x+c[1].x)*(c[0].y-c[1].y)+(c[1].x+c[2].x)*(c[1].y-c[2].y)+(c[2].x+c[3].x)*(c[2].y-c[3].y))/2;return Math.round(100*r/s)},n=y.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],256:[function(n,Z,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.concat"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n=(n=n("../core/main"))&&n.__esModule?n:{default:n},n.default.prototype._updateTextOutput=function(y){var m,f,g,d;this.dummyDOM.querySelector("#".concat(y,"_summary"))&&(m=this._accessibleOutputs[y],g=function(u,i,r,t){return r="Your output is a, ".concat(r," by ").concat(t," pixels, ").concat(i," canvas containing the following"),r=u===1?"".concat(r," shape:"):"".concat(r," ").concat(u," shapes:"),r}((f=function(u,i){var r,t="",a=0;for(r in i)for(var l in i[r]){var o='<li><a href="#'.concat(u,"shape").concat(a,'">').concat(i[r][l].color," ").concat(r,"</a>");r==="line"?o+=", ".concat(i[r][l].pos,", ").concat(i[r][l].length," pixels long.</li>"):(o+=", at ".concat(i[r][l].pos),r!=="point"&&(o+=", covering ".concat(i[r][l].area,"% of the canvas")),o+=".</li>"),t+=o,a++}return{numShapes:a,listShapes:t}}(y,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),d=function(u,i){var r,t="",a=0;for(r in i)for(var l in i[r]){var o='<tr id="'.concat(u,"shape").concat(a,'"><th>').concat(i[r][l].color," ").concat(r,"</th>");r==="line"?o+="<td>location = ".concat(i[r][l].pos,"</td><td>length = ").concat(i[r][l].length," pixels</td></tr>"):(o+="<td>location = ".concat(i[r][l].pos,"</td>"),r!=="point"&&(o+="<td> area = ".concat(i[r][l].area,"%</td>")),o+="</tr>"),t+=o,a++}return t}(y,this.ingredients.shapes),g!==m.summary.innerHTML&&(m.summary.innerHTML=g),f.listShapes!==m.list.innerHTML&&(m.list.innerHTML=f.listShapes),d!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=d),this._accessibleOutputs[y]=m)},n=n.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151}],257:[function(n,Z,S){var y=(y=n("./core/main"))&&y.__esModule?y:{default:y};n("./core/constants"),n("./core/environment"),n("./core/friendly_errors/stacktrace"),n("./core/friendly_errors/validate_params"),n("./core/friendly_errors/file_errors"),n("./core/friendly_errors/fes_core"),n("./core/friendly_errors/sketch_reader"),n("./core/helpers"),n("./core/legacy"),n("./core/preload"),n("./core/p5.Element"),n("./core/p5.Graphics"),n("./core/p5.Renderer"),n("./core/p5.Renderer2D"),n("./core/rendering"),n("./core/shim"),n("./core/structure"),n("./core/transform"),n("./core/shape/2d_primitives"),n("./core/shape/attributes"),n("./core/shape/curves"),n("./core/shape/vertex"),n("./accessibility/outputs"),n("./accessibility/textOutput"),n("./accessibility/gridOutput"),n("./accessibility/color_namer"),n("./color/color_conversion"),n("./color/creating_reading"),n("./color/p5.Color"),n("./color/setting"),n("./data/p5.TypedDict"),n("./data/local_storage.js"),n("./dom/dom"),n("./accessibility/describe"),n("./events/acceleration"),n("./events/keyboard"),n("./events/mouse"),n("./events/touch"),n("./image/filters"),n("./image/image"),n("./image/loading_displaying"),n("./image/p5.Image"),n("./image/pixels"),n("./io/files"),n("./io/p5.Table"),n("./io/p5.TableRow"),n("./io/p5.XML"),n("./math/calculation"),n("./math/math"),n("./math/noise"),n("./math/p5.Vector"),n("./math/random"),n("./math/trigonometry"),n("./typography/attributes"),n("./typography/loading_displaying"),n("./typography/p5.Font"),n("./utilities/array_functions"),n("./utilities/conversion"),n("./utilities/string_functions"),n("./utilities/time_date"),n("./webgl/3d_primitives"),n("./webgl/interaction"),n("./webgl/light"),n("./webgl/loading"),n("./webgl/material"),n("./webgl/p5.Camera"),n("./webgl/p5.Geometry"),n("./webgl/p5.Matrix"),n("./webgl/p5.RendererGL.Immediate"),n("./webgl/p5.RendererGL"),n("./webgl/p5.RendererGL.Retained"),n("./webgl/p5.Framebuffer"),n("./webgl/p5.Shader"),n("./webgl/p5.RenderBuffer"),n("./webgl/p5.Texture"),n("./webgl/text"),n("./core/init"),Z.exports=y.default},{"./accessibility/color_namer":252,"./accessibility/describe":253,"./accessibility/gridOutput":254,"./accessibility/outputs":255,"./accessibility/textOutput":256,"./color/color_conversion":258,"./color/creating_reading":259,"./color/p5.Color":260,"./color/setting":261,"./core/constants":262,"./core/environment":263,"./core/friendly_errors/fes_core":264,"./core/friendly_errors/file_errors":265,"./core/friendly_errors/sketch_reader":266,"./core/friendly_errors/stacktrace":267,"./core/friendly_errors/validate_params":268,"./core/helpers":269,"./core/init":270,"./core/legacy":272,"./core/main":273,"./core/p5.Element":274,"./core/p5.Graphics":275,"./core/p5.Renderer":276,"./core/p5.Renderer2D":277,"./core/preload":278,"./core/rendering":279,"./core/shape/2d_primitives":280,"./core/shape/attributes":281,"./core/shape/curves":282,"./core/shape/vertex":283,"./core/shim":284,"./core/structure":285,"./core/transform":286,"./data/local_storage.js":287,"./data/p5.TypedDict":288,"./dom/dom":289,"./events/acceleration":290,"./events/keyboard":291,"./events/mouse":292,"./events/touch":293,"./image/filters":294,"./image/image":295,"./image/loading_displaying":296,"./image/p5.Image":297,"./image/pixels":298,"./io/files":299,"./io/p5.Table":300,"./io/p5.TableRow":301,"./io/p5.XML":302,"./math/calculation":303,"./math/math":304,"./math/noise":305,"./math/p5.Vector":306,"./math/random":307,"./math/trigonometry":308,"./typography/attributes":309,"./typography/loading_displaying":310,"./typography/p5.Font":311,"./utilities/array_functions":312,"./utilities/conversion":313,"./utilities/string_functions":314,"./utilities/time_date":315,"./webgl/3d_primitives":316,"./webgl/interaction":317,"./webgl/light":318,"./webgl/loading":319,"./webgl/material":320,"./webgl/p5.Camera":321,"./webgl/p5.Framebuffer":322,"./webgl/p5.Geometry":323,"./webgl/p5.Matrix":324,"./webgl/p5.RenderBuffer":325,"./webgl/p5.RendererGL":328,"./webgl/p5.RendererGL.Immediate":326,"./webgl/p5.RendererGL.Retained":327,"./webgl/p5.Shader":329,"./webgl/p5.Texture":330,"./webgl/text":331}],258:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n=(n=n("../core/main"))&&n.__esModule?n:{default:n},n.default.ColorConversion={_hsbaToHSLA:function(y){var m=y[0],f=y[1],g=y[2],d=(2-f)*g/2;return d!=0&&(d==1?f=0:d<.5?f/=2-f:f=f*g/(2-2*d)),[m,f,d,y[3]]},_hsbaToRGBA:function(y){var m,f,g,d,u,i=6*y[0],r=y[1],t=y[2];return r===0?[t,t,t,y[3]]:(f=t*(1-r),g=t*(1-r*(i-(m=Math.floor(i)))),r=t*(1-r*(1+m-i)),i=m===1?(d=g,u=t,f):m===2?(d=f,u=t,r):m===3?(d=f,u=g,t):m===4?(d=r,u=f,t):m===5?(d=t,u=f,g):(d=t,u=r,f),[d,u,i,y[3]])},_hslaToHSBA:function(y){var m=y[0],f=y[1],g=y[2],d=g<.5?(1+f)*g:g+f-g*f;return[m,f=2*(d-g)/d,d,y[3]]},_hslaToRGBA:function(y){var m,f=6*y[0],g=y[1],d=y[2];return g===0?[d,d,d,y[3]]:[(m=function(u,i,r){return u<0?u+=6:6<=u&&(u-=6),u<1?i+(r-i)*u:u<3?r:u<4?i+(r-i)*(4-u):i})(2+f,g=2*d-(d=d<.5?(1+g)*d:d+g-d*g),d),m(f,g,d),m(f-2,g,d),y[3]]},_rgbaToHSBA:function(y){var m,f,g=y[0],d=y[1],u=y[2],i=Math.max(g,d,u),r=i-Math.min(g,d,u);return r==0?f=m=0:(f=r/i,g===i?m=(d-u)/r:d===i?m=2+(u-g)/r:u===i&&(m=4+(g-d)/r),m<0?m+=6:6<=m&&(m-=6)),[m/6,f,i,y[3]]},_rgbaToHSLA:function(y){var m,f,g=y[0],d=y[1],u=y[2],i=Math.max(g,d,u),t=Math.min(g,d,u),r=i+t,t=i-t;return t==0?f=m=0:(f=r<1?t/r:t/(2-r),g===i?m=(d-u)/t:d===i?m=2+(u-g)/t:u===i&&(m=4+(g-d)/t),m<0?m+=6:6<=m&&(m-=6)),[m/6,f,r/2,y[3]]}},n=n.default.ColorConversion,S.default=n},{"../core/main":273}],259:[function(n,Z,S){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function m(i){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(r){return y(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":y(r)})(i)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.map"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(u=n("../core/main"))&&u.__esModule?u:{default:u},g=function(i){if(i&&i.__esModule)return i;if(i===null||m(i)!=="object"&&typeof i!="function")return{default:i};var r=d();if(r&&r.has(i))return r.get(i);var t,a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in i){var o;Object.prototype.hasOwnProperty.call(i,t)&&((o=l?Object.getOwnPropertyDescriptor(i,t):null)&&(o.get||o.set)?Object.defineProperty(a,t,o):a[t]=i[t])}return a.default=i,r&&r.set(i,a),a}(n("../core/constants"));function d(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,d=function(){return i},i)}n("./p5.Color"),n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),f.default.prototype.alpha=function(i){return f.default._validateParameters("alpha",arguments),this.color(i)._getAlpha()},f.default.prototype.blue=function(i){return f.default._validateParameters("blue",arguments),this.color(i)._getBlue()},f.default.prototype.brightness=function(i){return f.default._validateParameters("brightness",arguments),this.color(i)._getBrightness()},f.default.prototype.color=function(){var i;return f.default._validateParameters("color",arguments),arguments[0]instanceof f.default.Color?arguments[0]:(i=arguments[0]instanceof Array?arguments[0]:arguments,new f.default.Color(this,i))},f.default.prototype.green=function(i){return f.default._validateParameters("green",arguments),this.color(i)._getGreen()},f.default.prototype.hue=function(i){return f.default._validateParameters("hue",arguments),this.color(i)._getHue()},f.default.prototype.lerpColor=function(i,r,t){f.default._validateParameters("lerpColor",arguments);var a,l,o,c=this._colorMode,s=this._colorMaxes;if(c===g.RGB)l=i.levels.map(function(p){return p/255}),o=r.levels.map(function(p){return p/255});else if(c===g.HSB)i._getBrightness(),r._getBrightness(),l=i.hsba,o=r.hsba;else{if(c!==g.HSL)throw new Error("".concat(c,"cannot be used for interpolation."));i._getLightness(),r._getLightness(),l=i.hsla,o=r.hsla}return t=Math.max(Math.min(t,1),0),this.lerp===void 0&&(this.lerp=function(p,v,b){return b*(v-p)+p}),i=this.lerp(l[0],o[0],t),r=this.lerp(l[1],o[1],t),a=this.lerp(l[2],o[2],t),l=this.lerp(l[3],o[3],t),i*=s[c][0],r*=s[c][1],a*=s[c][2],l*=s[c][3],this.color(i,r,a,l)},f.default.prototype.lightness=function(i){return f.default._validateParameters("lightness",arguments),this.color(i)._getLightness()},f.default.prototype.red=function(i){return f.default._validateParameters("red",arguments),this.color(i)._getRed()},f.default.prototype.saturation=function(i){return f.default._validateParameters("saturation",arguments),this.color(i)._getSaturation()};var u=f.default;S.default=u},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],260:[function(a,Z,S){function y(p){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}function m(p){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(v){return y(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":y(v)})(p)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.trim"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=i(a("../core/main")),g=function(p){if(p&&p.__esModule)return p;if(p===null||m(p)!=="object"&&typeof p!="function")return{default:p};var v=u();if(v&&v.has(p))return v.get(p);var b,x={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in p){var j;Object.prototype.hasOwnProperty.call(p,b)&&((j=w?Object.getOwnPropertyDescriptor(p,b):null)&&(j.get||j.set)?Object.defineProperty(x,b,j):x[b]=p[b])}return x.default=p,v&&v.set(p,x),x}(a("../core/constants")),d=i(a("./color_conversion"));function u(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,u=function(){return p},p)}function i(p){return p&&p.__esModule?p:{default:p}}function r(p,v){for(var b=0;b<v.length;b++){var x=v[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},a=/\s*/,s=/(\d{1,3})/,l=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,o=new RegExp("".concat(l.source,"%")),c={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",s.source,",",s.source,",",s.source,"\\)$"].join(a.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",o.source,",",o.source,",",o.source,"\\)$"].join(a.source),"i"),RGBA:new RegExp(["^rgba\\(",s.source,",",s.source,",",s.source,",",l.source,"\\)$"].join(a.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",o.source,",",o.source,",",o.source,",",l.source,"\\)$"].join(a.source),"i"),HSL:new RegExp(["^hsl\\(",s.source,",",o.source,",",o.source,"\\)$"].join(a.source),"i"),HSLA:new RegExp(["^hsla\\(",s.source,",",o.source,",",o.source,",",l.source,"\\)$"].join(a.source),"i"),HSB:new RegExp(["^hsb\\(",s.source,",",o.source,",",o.source,"\\)$"].join(a.source),"i"),HSBA:new RegExp(["^hsba\\(",s.source,",",o.source,",",o.source,",",l.source,"\\)$"].join(a.source),"i")},s=(f.default.Color=function(){function p(w,j){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(w._colorMode,w._colorMaxes),![g.RGB,g.HSL,g.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=p._parseInputs.apply(this,j),this._calculateLevels()}var v,b,x;return v=p,x=[{key:"_parseInputs",value:function(w,j,E,M){var C,P=arguments.length,O=this.mode,D=this.maxes[O],N=[];if(3<=P){for(N[0]=w/D[0],N[1]=j/D[1],N[2]=E/D[2],N[3]=typeof M=="number"?M/D[3]:1,C=N.length-1;0<=C;--C){var R=N[C];R<0?N[C]=0:1<R&&(N[C]=1)}return O===g.HSL?d.default._hslaToRGBA(N):O===g.HSB?d.default._hsbaToRGBA(N):N}if(P===1&&typeof w=="string"){if(E=w.trim().toLowerCase(),t[E])return p._parseInputs.call(this,t[E]);if(c.HEX3.test(E))return(N=c.HEX3.exec(E).slice(1).map(function(I){return parseInt(I+I,16)/255}))[3]=1,N;if(c.HEX6.test(E))return(N=c.HEX6.exec(E).slice(1).map(function(I){return parseInt(I,16)/255}))[3]=1,N;if(c.HEX4.test(E))return N=c.HEX4.exec(E).slice(1).map(function(I){return parseInt(I+I,16)/255});if(c.HEX8.test(E))return N=c.HEX8.exec(E).slice(1).map(function(I){return parseInt(I,16)/255});if(c.RGB.test(E))return(N=c.RGB.exec(E).slice(1).map(function(I){return I/255}))[3]=1,N;if(c.RGB_PERCENT.test(E))return(N=c.RGB_PERCENT.exec(E).slice(1).map(function(I){return parseFloat(I)/100}))[3]=1,N;if(c.RGBA.test(E))return N=c.RGBA.exec(E).slice(1).map(function(I,H){return H===3?parseFloat(I):I/255});if(c.RGBA_PERCENT.test(E))return N=c.RGBA_PERCENT.exec(E).slice(1).map(function(I,H){return H===3?parseFloat(I):parseFloat(I)/100});if(c.HSL.test(E)?(N=c.HSL.exec(E).slice(1).map(function(I,H){return H===0?parseInt(I,10)/360:parseInt(I,10)/100}))[3]=1:c.HSLA.test(E)&&(N=c.HSLA.exec(E).slice(1).map(function(I,H){return H===0?parseInt(I,10)/360:H===3?parseFloat(I):parseInt(I,10)/100})),(N=N.map(function(I){return Math.max(Math.min(I,1),0)})).length)return d.default._hslaToRGBA(N);if(c.HSB.test(E)?(N=c.HSB.exec(E).slice(1).map(function(I,H){return H===0?parseInt(I,10)/360:parseInt(I,10)/100}))[3]=1:c.HSBA.test(E)&&(N=c.HSBA.exec(E).slice(1).map(function(I,H){return H===0?parseInt(I,10)/360:H===3?parseFloat(I):parseInt(I,10)/100})),N.length){for(C=N.length-1;0<=C;--C)N[C]=Math.max(Math.min(N[C],1),0);return d.default._hsbaToRGBA(N)}N=[1,1,1,1]}else{if(P!==1&&P!==2||typeof w!="number")throw new Error("".concat(arguments,"is not a valid color representation."));N[0]=w/D[2],N[1]=w/D[2],N[2]=w/D[2],N[3]=typeof j=="number"?j/D[3]:1,N=N.map(function(I){return Math.max(Math.min(I,1),0)})}return N}}],(b=[{key:"toString",value:function(w){var j=this.levels,E=this._array,M=E[3];switch(w){case"#rrggbb":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16));case"#rrggbbaa":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16),j[3]<16?"0".concat(j[3].toString(16)):j[3].toString(16));case"#rgb":return"#".concat(Math.round(15*E[0]).toString(16),Math.round(15*E[1]).toString(16),Math.round(15*E[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*E[0]).toString(16),Math.round(15*E[1]).toString(16),Math.round(15*E[2]).toString(16),Math.round(15*E[3]).toString(16));case"rgb":return"rgb(".concat(j[0],", ",j[1],", ",j[2],")");case"rgb%":return"rgb(".concat((100*E[0]).toPrecision(3),"%, ",(100*E[1]).toPrecision(3),"%, ",(100*E[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*E[0]).toPrecision(3),"%, ",(100*E[1]).toPrecision(3),"%, ",(100*E[2]).toPrecision(3),"%, ",(100*E[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[g.HSB][0],", ",this.hsba[1]*this.maxes[g.HSB][1],", ",this.hsba[2]*this.maxes[g.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[g.HSB][0],", ",this.hsba[1]*this.maxes[g.HSB][1],", ",this.hsba[2]*this.maxes[g.HSB][2],", ",M,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[g.HSL][0],", ",this.hsla[1]*this.maxes[g.HSL][1],", ",this.hsla[2]*this.maxes[g.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[g.HSL][0],", ",this.hsla[1]*this.maxes[g.HSL][1],", ",this.hsla[2]*this.maxes[g.HSL][2],", ",M,")");case"hsla%":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");default:return"rgba(".concat(j[0],",",j[1],",",j[2],",",M,")")}}},{key:"setRed",value:function(w){this._array[0]=w/this.maxes[g.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(w){this._array[1]=w/this.maxes[g.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(w){this._array[2]=w/this.maxes[g.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(w){this._array[3]=w/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var w=this._array,j=this.levels=new Array(w.length),E=w.length-1;0<=E;--E)j[E]=Math.round(255*w[E]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(w,j){this.mode=w,this.maxes=j}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[g.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[g.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[g.RGB][1]}},{key:"_getHue",value:function(){return this.mode===g.HSB?(this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[g.HSB][0]):(this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[g.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[g.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[g.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===g.HSB?(this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[g.HSB][1]):(this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[g.HSL][1])}}])&&r(v.prototype,b),x&&r(v,x),p}(),f.default.Color);S.default=s},{"../core/constants":262,"../core/main":273,"./color_conversion":258,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],261:[function(n,Z,S){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function m(i){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(r){return y(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":y(r)})(i)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.fill"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(u=n("../core/main"))&&u.__esModule?u:{default:u},g=function(i){if(i&&i.__esModule)return i;if(i===null||m(i)!=="object"&&typeof i!="function")return{default:i};var r=d();if(r&&r.has(i))return r.get(i);var t,a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in i){var o;Object.prototype.hasOwnProperty.call(i,t)&&((o=l?Object.getOwnPropertyDescriptor(i,t):null)&&(o.get||o.set)?Object.defineProperty(a,t,o):a[t]=i[t])}return a.default=i,r&&r.set(i,a),a}(n("../core/constants"));function d(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,d=function(){return i},i)}n("./p5.Color"),f.default.prototype.background=function(){var i;return(i=this._renderer).background.apply(i,arguments),this},f.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},f.default.prototype.colorMode=function(i,r,t,a,l){return f.default._validateParameters("colorMode",arguments),i!==g.RGB&&i!==g.HSB&&i!==g.HSL||(this._colorMode=i,i=this._colorMaxes[i],arguments.length===2?(i[0]=r,i[1]=r,i[2]=r,i[3]=r):arguments.length===4?(i[0]=r,i[1]=t,i[2]=a):arguments.length===5&&(i[0]=r,i[1]=t,i[2]=a,i[3]=l)),this},f.default.prototype.fill=function(){var i;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(i=this._renderer).fill.apply(i,arguments),this},f.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},f.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},f.default.prototype.stroke=function(){var i;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(i=this._renderer).stroke.apply(i,arguments),this},f.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},f.default.prototype.noErase=function(){return this._renderer.noErase(),this};var u=f.default;S.default=u},{"../core/constants":262,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],262:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.QUADRATIC=S.LINEAR=S._CTX_MIDDLE=S._DEFAULT_LEADMULT=S._DEFAULT_TEXT_FILL=S.WORD=S.CHAR=S.BOLDITALIC=S.BOLD=S.ITALIC=S.NORMAL=S.BLUR=S.ERODE=S.DILATE=S.POSTERIZE=S.INVERT=S.OPAQUE=S.GRAY=S.THRESHOLD=S.BURN=S.DODGE=S.SOFT_LIGHT=S.HARD_LIGHT=S.OVERLAY=S.REPLACE=S.SCREEN=S.MULTIPLY=S.EXCLUSION=S.SUBTRACT=S.DIFFERENCE=S.LIGHTEST=S.DARKEST=S.ADD=S.REMOVE=S.BLEND=S.UP_ARROW=S.TAB=S.SHIFT=S.RIGHT_ARROW=S.RETURN=S.OPTION=S.LEFT_ARROW=S.ESCAPE=S.ENTER=S.DOWN_ARROW=S.DELETE=S.CONTROL=S.BACKSPACE=S.ALT=S.AUTO=S.HSL=S.HSB=S.RGB=S.MITER=S.BEVEL=S.ROUND=S.SQUARE=S.PROJECT=S.PIE=S.CHORD=S.OPEN=S.CLOSE=S.TESS=S.QUAD_STRIP=S.QUADS=S.TRIANGLE_STRIP=S.TRIANGLE_FAN=S.TRIANGLES=S.LINE_LOOP=S.LINE_STRIP=S.LINES=S.POINTS=S.BASELINE=S.BOTTOM=S.TOP=S.CENTER=S.LEFT=S.RIGHT=S.RADIUS=S.CORNERS=S.CORNER=S.RAD_TO_DEG=S.DEG_TO_RAD=S.RADIANS=S.DEGREES=S.TWO_PI=S.TAU=S.QUARTER_PI=S.PI=S.HALF_PI=S.WAIT=S.TEXT=S.MOVE=S.HAND=S.CROSS=S.ARROW=S.WEBGL2=S.WEBGL=S.P2D=S.VERSION=void 0,S.RGBA=S.HALF_FLOAT=S.FLOAT=S.UNSIGNED_INT=S.UNSIGNED_BYTE=S.COVER=S.CONTAIN=S.FALLBACK=S.LABEL=S.AXES=S.GRID=S._DEFAULT_FILL=S._DEFAULT_STROKE=S.PORTRAIT=S.LANDSCAPE=S.MIRROR=S.CLAMP=S.REPEAT=S.NEAREST=S.IMAGE=S.IMMEDIATE=S.TEXTURE=S.FILL=S.STROKE=S.CURVE=S.BEZIER=void 0;var y=Math.PI,m=(S.VERSION="1.7.0",S.P2D="p2d",S.WEBGL="webgl",S.WEBGL2="webgl2",S.ARROW="default",S.CROSS="crosshair",S.HAND="pointer",S.MOVE="move",S.TEXT="text",S.WAIT="wait",y/2),m=(S.HALF_PI=m,y),m=(S.PI=m,y/4),m=(S.QUARTER_PI=m,2*y),m=(S.TAU=m,2*y),m=(S.TWO_PI=m,S.DEGREES="degrees",S.RADIANS="radians",y/180),m=(S.DEG_TO_RAD=m,180/y);S.RAD_TO_DEG=m,S.CORNER="corner",S.CORNERS="corners",S.RADIUS="radius",S.RIGHT="right",S.LEFT="left",S.CENTER="center",S.TOP="top",S.BOTTOM="bottom",S.BASELINE="alphabetic",S.POINTS=0,S.LINES=1,S.LINE_STRIP=3,S.LINE_LOOP=2,S.TRIANGLES=4,S.TRIANGLE_FAN=6,S.TRIANGLE_STRIP=5,S.QUADS="quads",S.QUAD_STRIP="quad_strip",S.TESS="tess",S.CLOSE="close",S.OPEN="open",S.CHORD="chord",S.PIE="pie",S.PROJECT="square",S.SQUARE="butt",S.ROUND="round",S.BEVEL="bevel",S.MITER="miter",S.RGB="rgb",S.HSB="hsb",S.HSL="hsl",S.AUTO="auto",S.ALT=18,S.BACKSPACE=8,S.CONTROL=17,S.DELETE=46,S.DOWN_ARROW=40,S.ENTER=13,S.ESCAPE=27,S.LEFT_ARROW=37,S.OPTION=18,S.RETURN=13,S.RIGHT_ARROW=39,S.SHIFT=16,S.TAB=9,S.UP_ARROW=38,S.BLEND="source-over",S.REMOVE="destination-out",S.ADD="lighter",S.DARKEST="darken",S.LIGHTEST="lighten",S.DIFFERENCE="difference",S.SUBTRACT="subtract",S.EXCLUSION="exclusion",S.MULTIPLY="multiply",S.SCREEN="screen",S.REPLACE="copy",S.OVERLAY="overlay",S.HARD_LIGHT="hard-light",S.SOFT_LIGHT="soft-light",S.DODGE="color-dodge",S.BURN="color-burn",S.THRESHOLD="threshold",S.GRAY="gray",S.OPAQUE="opaque",S.INVERT="invert",S.POSTERIZE="posterize",S.DILATE="dilate",S.ERODE="erode",S.BLUR="blur",S.NORMAL="normal",S.ITALIC="italic",S.BOLD="bold",S.BOLDITALIC="bold italic",S.CHAR="CHAR",S.WORD="WORD",S._DEFAULT_TEXT_FILL="#000000",S._DEFAULT_LEADMULT=1.25,S._CTX_MIDDLE="middle",S.LINEAR="linear",S.QUADRATIC="quadratic",S.BEZIER="bezier",S.CURVE="curve",S.STROKE="stroke",S.FILL="fill",S.TEXTURE="texture",S.IMMEDIATE="immediate",S.IMAGE="image",S.NEAREST="nearest",S.REPEAT="repeat",S.CLAMP="clamp",S.MIRROR="mirror",S.LANDSCAPE="landscape",S.PORTRAIT="portrait",S._DEFAULT_STROKE="#000000",S._DEFAULT_FILL="#FFFFFF",S.GRID="grid",S.AXES="axes",S.LABEL="label",S.FALLBACK="fallback",S.CONTAIN="contain",S.COVER="cover",S.UNSIGNED_BYTE="unsigned-byte",S.UNSIGNED_INT="unsigned-int",S.FLOAT="float",S.HALF_FLOAT="half-float",S.RGBA="rgba"},{}],263:[function(n,Z,S){function y(a){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function m(a){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(l){return y(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.search"),n("core-js/modules/es.string.split"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.search"),n("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(g=n("./main"))&&g.__esModule?g:{default:g},g=function(a){if(a&&a.__esModule)return a;if(a===null||m(a)!=="object"&&typeof a!="function")return{default:a};var l=d();if(l&&l.has(a))return l.get(a);var o,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in a){var p;Object.prototype.hasOwnProperty.call(a,o)&&((p=s?Object.getOwnPropertyDescriptor(a,o):null)&&(p.get||p.set)?Object.defineProperty(c,o,p):c[o]=a[o])}return c.default=a,l&&l.set(a,c),c}(n("./constants"));function d(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,d=function(){return a},a)}var u=[g.ARROW,g.CROSS,g.HAND,g.MOVE,g.TEXT,g.WAIT],i=(f.default.prototype._frameRate=0,f.default.prototype._lastFrameTime=window.performance.now(),f.default.prototype._targetFrameRate=60,window.print);function r(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function t(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}f.default.prototype.print=function(){var a;arguments.length?(a=console).log.apply(a,arguments):i()},f.default.prototype.frameCount=0,f.default.prototype.deltaTime=0,f.default.prototype.focused=document.hasFocus(),f.default.prototype.cursor=function(a,l,o){var c,s="auto",p=this._curElement.elt;u.includes(a)?s=a:typeof a=="string"&&(c="",l&&o&&typeof l=="number"&&typeof o=="number"&&(c="".concat(l," ").concat(o)),s=a.substring(0,7)==="http://"||a.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(a)?"url(".concat(a,") ").concat(c,", auto"):a),p.style.cursor=s},f.default.prototype.frameRate=function(a){return f.default._validateParameters("frameRate",arguments),typeof a!="number"||a<0?this._frameRate:(this._setProperty("_targetFrameRate",a),a===0&&this._setProperty("_frameRate",a),this)},f.default.prototype.getFrameRate=function(){return this.frameRate()},f.default.prototype.setFrameRate=function(a){return this.frameRate(a)},f.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},f.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},f.default.prototype.webglVersion=g.P2D,f.default.prototype.displayWidth=screen.width,f.default.prototype.displayHeight=screen.height,f.default.prototype.windowWidth=r(),f.default.prototype.windowHeight=t(),f.default.prototype._onresize=function(a){this._setProperty("windowWidth",r()),this._setProperty("windowHeight",t());var l=this._isGlobal?window:this;typeof l.windowResized!="function"||(l=l.windowResized(a))===void 0||l||a.preventDefault()},f.default.prototype.width=0,f.default.prototype.height=0,f.default.prototype.fullscreen=function(a){if(f.default._validateParameters("fullscreen",arguments),a===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(a){if(a=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},f.default.prototype.pixelDensity=function(a){var l;return f.default._validateParameters("pixelDensity",arguments),typeof a=="number"?(a!==this._pixelDensity&&(this._pixelDensity=a),(l=this).resizeCanvas(this.width,this.height,!0)):l=this._pixelDensity,l},f.default.prototype.displayDensity=function(){return window.devicePixelRatio},f.default.prototype.getURL=function(){return location.href},f.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(a){return a!==""})},f.default.prototype.getURLParams=function(){for(var a,l=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,o={};(a=l.exec(location.search))!=null;)a.index===l.lastIndex&&l.lastIndex++,o[a[1]]=a[2];return o},n=f.default,S.default=n},{"./constants":262,"./main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.search":195,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],264:[function(n,Z,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.get-own-property-names"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.starts-with"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.get-own-property-names"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.starts-with"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(u=n("../main"))&&u.__esModule?u:{default:u};n("../internationalization");function m(i,r){r=r||console.log.bind(console),f||d(),f.some(function(t){var a;if(i.message&&i.message.match("\\W?".concat(t.name,"\\W"))!==null)return a=t.type==="function"?"".concat(t.name,"()"):t.name,r("Did you just try to use p5.js's ".concat(a," ").concat(t.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(g)),!0})}var f=null,d=null,g=(y.default._friendlyError=y.default._checkForUserDefinedFunctions=y.default._fesErrorMonitor=function(){},f=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),d=function(){function i(t){return Object.getOwnPropertyNames(t).filter(function(a){return a[0]!=="_"&&!(a in r)&&(r[a]=!0)}).map(function(a){var l=typeof t[a]=="function"?"function":a===a.toUpperCase()?"constant":"variable";return{name:a,type:l}})}var r={};(f=[].concat(i(y.default.prototype),i(n("../constants")))).sort(function(t,a){return a.name.length-t.name.length})},u=(y.default.prototype._helpForMisusedAtTopLevelCode=m,document.readyState!=="complete"&&(window.addEventListener("error",m,!1),window.addEventListener("load",function(){window.removeEventListener("error",m,!1)})),y.default);S.default=u},{"../constants":262,"../internationalization":271,"../main":273,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.function.name":167,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.starts-with":197,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],265:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(y=n("../main"))&&y.__esModule?y:{default:y};n("../internationalization"),y.default._friendlyFileLoadError=function(){},n=y.default,S.default=n},{"../internationalization":271,"../main":273}],266:[function(n,Z,S){function y(r){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}function m(r){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(t){return y(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":y(t)})(r)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=u(n("../main"));n("../internationalization"),d(n("../constants"));function g(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,g=function(){return r},r)}function d(r){if(r&&r.__esModule)return r;if(r===null||m(r)!=="object"&&typeof r!="function")return{default:r};var t=g();if(t&&t.has(r))return t.get(r);var a,l,o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&((l=c?Object.getOwnPropertyDescriptor(r,a):null)&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=r[a]);return o.default=r,t&&t.set(r,o),o}function u(r){return r&&r.__esModule?r:{default:r}}f.default._fesCodeReader=function(){};var i=f.default;S.default=i},{"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],267:[function(n,Z,S){n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n=(n=n("../main"))&&n.__esModule?n:{default:n};function y(){var m=/(^|@)\S+:\d+/,f=/^\s*at .*(\S+:\d+|\(native\))/m,g=/^(eval@)?(\[native code])?$/;return{parse:function(d){return d.stacktrace!==void 0||d["opera#sourceloc"]!==void 0?this.parseOpera(d):d.stack&&d.stack.match(f)?this.parseV8OrIE(d):d.stack?this.parseFFOrSafari(d):void 0},extractLocation:function(d){return d.indexOf(":")===-1?[d]:[(d=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(d.replace(/[()]/g,"")))[1],d[2]||void 0,d[3]||void 0]},parseV8OrIE:function(d){return d.stack.split(`
`).filter(function(u){return!!u.match(f)},this).map(function(u){var i=(u=-1<u.indexOf("(eval ")?u.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):u).replace(/^\s+/,"").replace(/\(eval code/g,"("),r=i.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(i=r?i.replace(r[0],""):i).split(/\s+/).slice(1),r=this.extractLocation(r?r[1]:i.pop());return{functionName:i.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(r[0])?void 0:r[0],lineNumber:r[1],columnNumber:r[2],source:u}},this)},parseFFOrSafari:function(d){return d.stack.split(`
`).filter(function(u){return!u.match(g)},this).map(function(u){var i,r;return(u=-1<u.indexOf(" > eval")?u.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):u).indexOf("@")===-1&&u.indexOf(":")===-1?{functionName:u}:{functionName:(r=u.match(i=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&r[1]?r[1]:void 0,fileName:(r=this.extractLocation(u.replace(i,"")))[0],lineNumber:r[1],columnNumber:r[2],source:u}},this)},parseOpera:function(d){return!d.stacktrace||-1<d.message.indexOf(`
`)&&d.message.split(`
`).length>d.stacktrace.split(`
`).length?this.parseOpera9(d):d.stack?this.parseOpera11(d):this.parseOpera10(d)},parseOpera9:function(d){for(var u=/Line (\d+).*script (?:in )?(\S+)/i,i=d.message.split(`
`),r=[],t=2,a=i.length;t<a;t+=2){var l=u.exec(i[t]);l&&r.push({fileName:l[2],lineNumber:l[1],source:i[t]})}return r},parseOpera10:function(d){for(var u=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=d.stacktrace.split(`
`),r=[],t=0,a=i.length;t<a;t+=2){var l=u.exec(i[t]);l&&r.push({functionName:l[3]||void 0,fileName:l[2],lineNumber:l[1],source:i[t]})}return r},parseOpera11:function(d){return d.stack.split(`
`).filter(function(u){return!!u.match(m)&&!u.match(/^Error created at/)},this).map(function(u){var i,t=u.split("@"),r=this.extractLocation(t.pop()),t=t.shift()||"";return{functionName:t.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(i=t.match(/\(([^)]*)\)/)?t.replace(/^[^(]+\(([^)]*)\)$/,"$1"):i)===void 0||i==="[arguments not available]"?void 0:i.split(","),fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:u}},this)}}}n.default._getErrorStackParser=function(){return new y},n=n.default,S.default=n},{"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196}],268:[function(n,Z,S){function y(d){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.map"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.map"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=(m=n("../main"))&&m.__esModule?m:{default:m};(function(d){if(!(d&&d.__esModule)&&!(d===null||g(d)!=="object"&&typeof d!="function")){var u=f();if(u&&u.has(d))return u.get(d);var i,r={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in d){var a;Object.prototype.hasOwnProperty.call(d,i)&&((a=t?Object.getOwnPropertyDescriptor(d,i):null)&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=d[i])}r.default=d,u&&u.set(d,r)}})(n("../constants")),n("../internationalization");function f(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,f=function(){return d},d)}function g(d){return(g=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}m.default._validateParameters=m.default._clearValidateParamsCache=function(){},n=m.default,S.default=n},{"../../../docs/parameterData.json":void 0,"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.map":168,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],269:[function(n,Z,S){function y(d){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function m(d){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=function(d){if(d&&d.__esModule)return d;if(d===null||m(d)!=="object"&&typeof d!="function")return{default:d};var u=g();if(u&&u.has(d))return u.get(d);var i,r={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in d){var a;Object.prototype.hasOwnProperty.call(d,i)&&((a=t?Object.getOwnPropertyDescriptor(d,i):null)&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=d[i])}return r.default=d,u&&u.set(d,r),r}(n("./constants"));function g(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,g=function(){return d},d)}S.default={modeAdjust:function(d,u,i,r,t){return t===f.CORNER?{x:d,y:u,w:i,h:r}:t===f.CORNERS?{x:d,y:u,w:i-d,h:r-u}:t===f.RADIUS?{x:d-i,y:u-r,w:2*i,h:2*r}:t===f.CENTER?{x:d-.5*i,y:u-.5*r,w:i,h:r}:void 0}}},{"./constants":262,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],270:[function(n,Z,S){n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator");var y=(m=n("../core/main"))&&m.__esModule?m:{default:m};n("./internationalization");var m=Promise.resolve();Promise.all([new Promise(function(f,g){document.readyState==="complete"?f():window.addEventListener("load",f,!1)}),m]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!y.default.instance&&new y.default})},{"../core/main":273,"./internationalization":271,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/web.dom-collections.iterator":236}],271:[function(n,Z,S){n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.setTranslatorLanguage=S.currentTranslatorLanguage=S.availableTranslatorLanguages=S.initialize=S.translator=void 0;var y,m,f=d(n("i18next")),g=d(n("i18next-browser-languagedetector"));function d(r){return r&&r.__esModule?r:{default:r}}function u(r,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}var i=function(){function r(l,o){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.init(l,o)}var t,a;return t=r,(a=[{key:"fetchWithTimeout",value:function(l,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(l,o),new Promise(function(s,p){return setTimeout(function(){return p(new Error("timeout"))},c)})])}},{key:"init",value:function(l){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=l,this.options=o}},{key:"read",value:function(l,o,c){var s=this.options.loadPath;l===this.options.fallback?c(null,y[l][o]):m.includes(l)?(s=this.services.interpolator.interpolate(s,{lng:l,ns:o}),this.loadUrl(s,c)):c("Not found",!1)}},{key:"loadUrl",value:function(l,o){this.fetchWithTimeout(l).then(function(c){if(c.ok)return c.json();throw new Error("failed loading ".concat(l))},function(){throw new Error("failed loading ".concat(l))}).then(function(c){return o(null,c)}).catch(o)}}])&&u(t.prototype,a),r}();i.type="backend",S.translator=function(r,t){console.debug("p5.js translator called before translations were loaded"),f.default.t(r,t)},S.initialize=function(){return f.default.use(g.default).use(i).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:y}).then(function(r){S.translator=r},function(r){return console.debug("Translations failed to load (".concat(r,")"))})},S.availableTranslatorLanguages=function(){return f.default.languages},S.currentTranslatorLanguage=function(r){return f.default.language},S.setTranslatorLanguage=function(r){return f.default.changeLanguage(r||void 0,function(t){return console.debug("Translations failed to load (".concat(t,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236,i18next:3,"i18next-browser-languagedetector":3}],272:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n=(n=n("./main"))&&n.__esModule?n:{default:n},n.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},n.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},n.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},n.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},n=n.default,S.default=n},{"./main":273}],273:[function(n,Z,S){function y(r){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}function m(r){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(t){return y(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":y(t)})(r)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-own-property-names"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-names"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n("./shim");var f=function(r){if(r&&r.__esModule)return r;if(r===null||m(r)!=="object"&&typeof r!="function")return{default:r};var t=g();if(t&&t.has(r))return t.get(r);var a,l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var c;Object.prototype.hasOwnProperty.call(r,a)&&((c=o?Object.getOwnPropertyDescriptor(r,a):null)&&(c.get||c.set)?Object.defineProperty(l,a,c):l[a]=r[a])}return l.default=r,t&&t.set(r,l),l}(n("./constants"));function g(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,g=function(){return r},r)}function d(r,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}var u,i=function(){function r(l,p,c){var s=this;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=p,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var p=Object.getOwnPropertyNames(r.prototype._registeredMethods),v=!0,b=!1,x=void 0;try{for(var w,j=p[Symbol.iterator]();!(v=(w=j.next()).done);v=!0){var E=w.value;this._registeredMethods[E]=r.prototype._registeredMethods[E].slice()}}catch(H){b=!0,x=H}finally{try{v||j.return==null||j.return()}finally{if(b)throw x}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){s._userNode&&typeof s._userNode=="string"&&(s._userNode=document.getElementById(s._userNode));var H=s._isGlobal?window:s;if(H.preload){var ee,fe=document.getElementById(s._loadingScreenId),xe=(fe||((fe=document.createElement("div")).innerHTML="Loading...",fe.style.position="absolute",fe.id=s._loadingScreenId,(s._userNode||document.body).appendChild(fe)),s._preloadMethods);for(ee in xe){xe[ee]=xe[ee]||r;var q=xe[ee];q!==r.prototype&&q!==r||(s._isGlobal&&(window[ee]=s._wrapPreload(s,ee)),q=s),s._registeredPreloadMethods[ee]=q[ee],q[ee]=s._wrapPreload(q,ee)}H.preload(),s._runIfPreloadsAreDone()}else s._setup(),s._recording||s._draw()},this._runIfPreloadsAreDone=function(){var H,ee=this._isGlobal?window:this;ee._preloadCount===0&&((H=document.getElementById(ee._loadingScreenId))&&H.parentNode.removeChild(H),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),ee._setup(),this._recording||ee._draw()))},this._decrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||typeof H.preload!="function"||(H._setProperty("_preloadCount",H._preloadCount-1),H._runIfPreloadsAreDone())},this._wrapPreload=function(H,ee){var fe=this;return function(){fe._incrementPreload();for(var xe=arguments.length,q=new Array(xe),V=0;V<xe;V++)q[V]=arguments[V];return fe._registeredPreloadMethods[ee].apply(H,q)}},this._incrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||H._setProperty("_preloadCount",H._preloadCount+1)},this._setup=function(){s.createCanvas(s._defaultCanvasSize.width,s._defaultCanvasSize.height,"p2d");var H=s._isGlobal?window:s;if(typeof H.preload=="function")for(var ee in s._preloadMethods)H[ee]=s._preloadMethods[ee][ee],H[ee]&&s&&(H[ee]=H[ee].bind(s));s._millisStart=window.performance.now(),H._preloadDone=!0,typeof H.setup=="function"&&H.setup();var fe=document.getElementsByTagName("canvas"),xe=!0,q=!1,V=void 0;try{for(var K,J=fe[Symbol.iterator]();!(xe=(K=J.next()).done);xe=!0){var oe=K.value;oe.dataset.hidden==="true"&&(oe.style.visibility="",delete oe.dataset.hidden)}}catch(_e){q=!0,V=_e}finally{try{xe||J.return==null||J.return()}finally{if(q)throw V}}s._lastTargetFrameTime=window.performance.now(),s._lastRealFrameTime=window.performance.now(),s._setupDone=!0,(s._accessibleOutputs.grid||s._accessibleOutputs.text)&&s._updateAccsOutput()},this._draw=function(){var H=window.performance.now(),ee=H-s._lastTargetFrameTime,fe=1e3/s._targetFrameRate;(!s._loop||fe-5<=ee)&&(s.deltaTime=H-s._lastRealFrameTime,s._setProperty("deltaTime",s.deltaTime),s._frameRate=1e3/s.deltaTime,s.redraw(),s._lastTargetFrameTime=Math.max(s._lastTargetFrameTime+fe,H),s._lastRealFrameTime=H,s._updateMouseCoords!==void 0&&(s._updateMouseCoords(),s._setProperty("movedX",0),s._setProperty("movedY",0))),s._loop&&(s._requestAnimId=window.requestAnimationFrame(s._draw))},this._setProperty=function(H,ee){s[H]=ee,s._isGlobal&&(window[H]=ee)},this.remove=function(){var H=document.getElementById(s._loadingScreenId);if(H&&(H.parentNode.removeChild(H),s._incrementPreload()),s._curElement){for(var ee in s._loop=!1,s._requestAnimId&&window.cancelAnimationFrame(s._requestAnimId),s._events)window.removeEventListener(ee,s._events[ee]);var fe=!0,H=!1,xe=void 0;try{for(var q,V=s._elements[Symbol.iterator]();!(fe=(q=V.next()).done);fe=!0){var K,J=q.value;for(K in J.elt&&J.elt.parentNode&&J.elt.parentNode.removeChild(J.elt),J._events)J.elt.removeEventListener(K,J._events[K])}}catch(Te){H=!0,xe=Te}finally{try{fe||V.return==null||V.return()}finally{if(H)throw xe}}var oe=s;s._registeredMethods.remove.forEach(function(Te){Te!==void 0&&Te.call(oe)})}if(s._isGlobal){for(var _e in r.prototype)try{delete window[_e]}catch{window[_e]=void 0}for(var Oe in s)if(s.hasOwnProperty(Oe))try{delete window[Oe]}catch{window[Oe]=void 0}r.instance=null}},this._registeredMethods.init.forEach(function(H){H!==void 0&&H.call(this)},this),this._setupPromisePreloads();var M,C,P=this._createFriendlyGlobalFunctionBinder();if(l)l(this),r._checkForUserDefinedFunctions(this);else{for(var O in this._isGlobal=!0,r.instance=this,r.prototype)typeof r.prototype[O]=="function"?(M=O.substring(2),this._events.hasOwnProperty(M)||(Math.hasOwnProperty(O)&&Math[O]===r.prototype[O]?P(O,r.prototype[O]):P(O,r.prototype[O].bind(this)))):P(O,r.prototype[O]);for(var D in this)this.hasOwnProperty(D)&&P(D,this[D])}for(C in this._events){var N=this["_on".concat(C)];N&&(N=N.bind(this),window.addEventListener(C,N,{passive:!1}),this._events[C]=N)}function R(){s._setProperty("focused",!0)}function I(){s._setProperty("focused",!1)}window.addEventListener("focus",R),window.addEventListener("blur",I),this.registerMethod("remove",function(){window.removeEventListener("focus",R),window.removeEventListener("blur",I)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var t,a;return t=r,(a=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=f.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(l,o){r.prototype._preloadMethods.hasOwnProperty(l)||(r.prototype._preloadMethods[l]=o)}},{key:"registerMethod",value:function(l,o){var c=this||r.prototype;c._registeredMethods.hasOwnProperty(l)||(c._registeredMethods[l]=[]),c._registeredMethods[l].push(o)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},o=l.globalObject||window;return l.log||console.log.bind(console),function(c,s){r.disableFriendlyErrors,o[c]=s}}}])&&d(t.prototype,a),r}();for(u in i.instance=null,i.disableFriendlyErrors=!1,f)i.prototype[u]=f[u];i.VERSION=f.VERSION,i.prototype._preloadMethods={loadJSON:i.prototype,loadImage:i.prototype,loadStrings:i.prototype,loadXML:i.prototype,loadBytes:i.prototype,loadTable:i.prototype,loadFont:i.prototype,loadModel:i.prototype,loadShader:i.prototype},i.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},i.prototype._registeredPreloadMethods={},S.default=i},{"./constants":262,"./shim":284,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],274:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("./main"))&&n.__esModule?n:{default:n};function m(f,g){for(var d=0;d<g.length;d++){var u=g[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(f,u.key,u)}}y.default.Element=function(){function f(i,r){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.elt=i,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var g,d,u;return g=f,u=[{key:"_adjustListener",value:function(i,r,t){return r===!1?y.default.Element._detachListener(i,t):y.default.Element._attachListener(i,r,t),this}},{key:"_attachListener",value:function(i,r,t){t._events[i]&&y.default.Element._detachListener(i,t),r=r.bind(t),t.elt.addEventListener(i,r,!1),t._events[i]=r}},{key:"_detachListener",value:function(i,r){var t=r._events[i];r.elt.removeEventListener(i,t,!1),r._events[i]=null}}],(d=[{key:"parent",value:function(i){return i===void 0?this.elt.parentNode:(typeof i=="string"?(i[0]==="#"&&(i=i.substring(1)),i=document.getElementById(i)):i instanceof y.default.Element&&(i=i.elt),i.appendChild(this.elt),this)}},{key:"id",value:function(i){return i===void 0?this.elt.id:(this.elt.id=i,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(i){return i===void 0?this.elt.className:(this.elt.className=i,this)}},{key:"mousePressed",value:function(i){return y.default.Element._adjustListener("mousedown",function(r){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(r),i.call(this,r)},this),this}},{key:"doubleClicked",value:function(i){return y.default.Element._adjustListener("dblclick",i,this),this}},{key:"mouseWheel",value:function(i){return y.default.Element._adjustListener("wheel",i,this),this}},{key:"mouseReleased",value:function(i){return y.default.Element._adjustListener("mouseup",i,this),this}},{key:"mouseClicked",value:function(i){return y.default.Element._adjustListener("click",i,this),this}},{key:"mouseMoved",value:function(i){return y.default.Element._adjustListener("mousemove",i,this),this}},{key:"mouseOver",value:function(i){return y.default.Element._adjustListener("mouseover",i,this),this}},{key:"mouseOut",value:function(i){return y.default.Element._adjustListener("mouseout",i,this),this}},{key:"touchStarted",value:function(i){return y.default.Element._adjustListener("touchstart",i,this),this}},{key:"touchMoved",value:function(i){return y.default.Element._adjustListener("touchmove",i,this),this}},{key:"touchEnded",value:function(i){return y.default.Element._adjustListener("touchend",i,this),this}},{key:"dragOver",value:function(i){return y.default.Element._adjustListener("dragover",i,this),this}},{key:"dragLeave",value:function(i){return y.default.Element._adjustListener("dragleave",i,this),this}},{key:"_setProperty",value:function(i,r){this[i]=r}}])&&m(g.prototype,d),u&&m(g,u),f}(),n=y.default.Element,S.default=n},{"./main":273}],275:[function(n,Z,S){function y(c){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(c)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=(o=n("./main"))&&o.__esModule?o:{default:o},f=function(c){if(c&&c.__esModule)return c;if(c===null||d(c)!=="object"&&typeof c!="function")return{default:c};var s=g();if(s&&s.has(c))return s.get(c);var p,v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var x;Object.prototype.hasOwnProperty.call(c,p)&&((x=b?Object.getOwnPropertyDescriptor(c,p):null)&&(x.get||x.set)?Object.defineProperty(v,p,x):v[p]=c[p])}return v.default=c,s&&s.set(c,v),v}(n("./constants"));function g(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,g=function(){return c},c)}function d(c){return(d=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(s){return y(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":y(s)})(c)}function u(c,s){for(var p=0;p<s.length;p++){var v=s[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}function i(c,s){return(i=Object.setPrototypeOf||function(p,v){return p.__proto__=v,p})(c,s)}function r(c){return function(){var s,p=l(c);return t(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(s=l(this).constructor,Reflect.construct(p,arguments,s)):p.apply(this,arguments))}}function t(c,s){return!s||d(s)!=="object"&&typeof s!="function"?a(c):s}function a(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function l(c){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)})(c)}m.default.Graphics=function(c){var s=v;if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),c&&i(s,c);var p=r(v);function v(b,x,O,j,E){var M;if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");P=E||document.createElement("canvas"),(M=p.call(this,P,j)).canvas=P;var C,P=O||f.P2D,O=j._userNode||document.body;for(C in E||O.appendChild(M.canvas),m.default.prototype)M[C]||(typeof m.default.prototype[C]=="function"?M[C]=m.default.prototype[C].bind(a(M)):M[C]=m.default.prototype[C]);return m.default.prototype._initializeInstanceVariables.apply(a(M)),M.width=b,M.height=x,M._pixelDensity=j._pixelDensity,P===f.WEBGL?M._renderer=new m.default.RendererGL(M.canvas,a(M),!1):M._renderer=new m.default.Renderer2D(M.canvas,a(M),!1),j._elements.push(a(M)),Object.defineProperty(a(M),"deltaTime",{get:function(){return this._pInst.deltaTime}}),M._renderer.resize(b,x),M._renderer._applyDefaults(),t(M,a(M))}return s=v,(c=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var b,x=this._pInst._elements.indexOf(this);for(b in x!==-1&&this._pInst._elements.splice(x,1),this._events)this.elt.removeEventListener(b,this._events[b])}},{key:"createFramebuffer",value:function(b){return new m.default.Framebuffer(this,b)}}])&&u(s.prototype,c),v}(m.default.Element);var o=m.default.Graphics;S.default=o},{"./constants":262,"./main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],276:[function(n,Z,S){function y(c){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(c)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=(l=n("./main"))&&l.__esModule?l:{default:l},f=function(c){if(c&&c.__esModule)return c;if(c===null||d(c)!=="object"&&typeof c!="function")return{default:c};var s=g();if(s&&s.has(c))return s.get(c);var p,v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var x;Object.prototype.hasOwnProperty.call(c,p)&&((x=b?Object.getOwnPropertyDescriptor(c,p):null)&&(x.get||x.set)?Object.defineProperty(v,p,x):v[p]=c[p])}return v.default=c,s&&s.set(c,v),v}(n("../core/constants"));function g(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,g=function(){return c},c)}function d(c){return(d=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(s){return y(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":y(s)})(c)}function u(c,s){for(var p=0;p<s.length;p++){var v=s[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}function i(c,s){return(i=Object.setPrototypeOf||function(p,v){return p.__proto__=v,p})(c,s)}function r(c){return function(){var s,p,v=a(c);return s=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(s=a(this).constructor,Reflect.construct(v,arguments,s)):v.apply(this,arguments),v=this,!(p=s)||d(p)!=="object"&&typeof p!="function"?t(v):p}}function t(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function a(c){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)})(c)}var l=function(c){var s=v;if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),c&&i(s,c);var p=r(v);function v(b,x,w){var j;if(this instanceof v)return(j=p.call(this,b,x)).canvas=b,j._pixelsState=x,w?(j._isMainCanvas=!0,j._pInst._setProperty("_curElement",t(j)),j._pInst._setProperty("canvas",j.canvas),j._pInst._setProperty("width",j.width),j._pInst._setProperty("height",j.height)):(j.canvas.style.display="none",j._styles=[]),j._textSize=12,j._textLeading=15,j._textFont="sans-serif",j._textStyle=f.NORMAL,j._textAscent=null,j._textDescent=null,j._textAlign=f.LEFT,j._textBaseline=f.BASELINE,j._textWrap=f.WORD,j._rectMode=f.CORNER,j._ellipseMode=f.CENTER,j._curveTightness=0,j._imageMode=f.CORNER,j._tint=null,j._doStroke=!0,j._doFill=!0,j._strokeSet=!1,j._fillSet=!1,j._leadingSet=!1,j;throw new TypeError("Cannot call a class as a function")}return s=v,(c=[{key:"push",value:function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(b){b.properties&&Object.assign(this,b.properties)}},{key:"resize",value:function(b,x){this.width=b,this.height=x,this.elt.width=b*this._pInst._pixelDensity,this.elt.height=x*this._pInst._pixelDensity,this.elt.style.width="".concat(b,"px"),this.elt.style.height="".concat(x,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(b,x,w,j){var E=this._pixelsState,M=E._pixelDensity,C=this.canvas;if(b===void 0&&x===void 0)b=x=0,w=E.width,j=E.height;else if(b*=M,x*=M,w===void 0&&j===void 0)return b<0||x<0||b>=C.width||x>=C.height?[0,0,0,0]:this._getPixel(b,x);return E=new m.default.Image(w,j),E.canvas.getContext("2d").drawImage(C,b,x,w*M,j*M,0,0,w,j),E}},{key:"textLeading",value:function(b){return typeof b=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",b),this._pInst):this._textLeading}},{key:"textStyle",value:function(b){return b?(b!==f.NORMAL&&b!==f.ITALIC&&b!==f.BOLD&&b!==f.BOLDITALIC||this._setProperty("_textStyle",b),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(b,x){return b!==void 0?(this._setProperty("_textAlign",b),x!==void 0&&this._setProperty("_textBaseline",x),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(b){return this._setProperty("_textWrap",b),this._textWrap}},{key:"text",value:function(b,x,w,j,E){var M,C,P,O,D=this._pInst,N=this._textWrap,R=Number.MAX_VALUE,I=w;if((this._doFill||this._doStroke)&&b!==void 0){if(M=(b=(b=typeof b!="string"?b.toString():b).replace(/(\t)/g,"  ")).split(`
`),j!==void 0){switch(this._rectMode===f.CENTER&&(x-=j/2),this._textAlign){case f.CENTER:x+=j/2;break;case f.RIGHT:x+=j}if(E!==void 0){this._rectMode===f.CENTER&&(w-=E/2,I-=E/2);var b=w,H=D.textAscent();switch(this._textBaseline){case f.BOTTOM:O=w+E,w=Math.max(O,w),I+=H;break;case f.CENTER:O=w+E/2,w=Math.max(O,w),I+=H/2}R=w+E-H,this._textBaseline===f.CENTER&&(R=b+E-H/2)}else this._textBaseline!==f.BOTTOM&&this._textBaseline!==f.CENTER||(I=w-(b=D.textSize()*this._textLeading)/2,R=w+b/2);if(N===f.WORD){for(var ee=[],fe=0;fe<M.length;fe++){for(var xe="",q=M[fe].split(" "),V=0;V<q.length;V++)C="".concat(xe+q[V])+" ",xe=j<(P=this.textWidth(C))&&0<xe.length?(ee.push(xe),"".concat(q[V])+" "):C;ee.push(xe)}var K=0;this._textBaseline===f.CENTER?K=(ee.length-1)*D.textLeading()/2:this._textBaseline===f.BOTTOM&&(K=(ee.length-1)*D.textLeading());for(var J=0;J<M.length;J++){xe="",q=M[J].split(" ");for(var oe=0;oe<q.length;oe++)C="".concat(xe+q[oe])+" ",j<(P=this.textWidth(C))&&0<xe.length?(this._renderText(D,xe.trim(),x,w-K,R,I),xe="".concat(q[oe])+" ",w+=D.textLeading()):xe=C;this._renderText(D,xe.trim(),x,w-K,R,I),w+=D.textLeading()}}else{for(var _e=[],Oe=0;Oe<M.length;Oe++)for(var De=M[Oe].split(xe=""),Te=0;Te<De.length;Te++)C="".concat(xe+De[Te]),(P=this.textWidth(C))<=j?xe+=De[Te]:j<P&&0<xe.length&&(_e.push(xe),xe="".concat(De[Te]));_e.push(xe);var Be=0;this._textBaseline===f.CENTER?Be=(_e.length-1)*D.textLeading()/2:this._textBaseline===f.BOTTOM&&(Be=(_e.length-1)*D.textLeading());for(var Re=0;Re<M.length;Re++){De=M[Re].split(xe="");for(var ve=0;ve<De.length;ve++)C="".concat(xe+De[ve]),(P=this.textWidth(C))<=j?xe+=De[ve]:j<P&&0<xe.length&&(this._renderText(D,xe.trim(),x,w-Be,R,I),w+=D.textLeading(),xe="".concat(De[ve]))}this._renderText(D,xe.trim(),x,w-Be,R,I),w+=D.textLeading()}}else{var ge=0;this._textBaseline===f.CENTER?ge=(M.length-1)*D.textLeading()/2:this._textBaseline===f.BOTTOM&&(ge=(M.length-1)*D.textLeading());for(var Ae=0;Ae<M.length;Ae++)this._renderText(D,M[Ae],x,w-ge,R,I-ge),w+=D.textLeading()}return D}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return d(b)==="object"&&b.font&&b.font.supported}},{key:"_updateTextMetrics",value:function(){var b,x,w,j,E,M;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((b=document.createElement("span")).style.fontFamily=this._textFont,b.style.fontSize="".concat(this._textSize,"px"),b.innerHTML="ABCjgq|",(M=document.createElement("div")).style.display="inline-block",M.style.width="1px",M.style.height="0px",j=((x=document.createElement("div")).appendChild(b),x.appendChild(M),x.style.height="0px",x.style.overflow="hidden",document.body.appendChild(x),M.style.verticalAlign="baseline",o(M)),E=o(b),w=j[1]-E[1],j=(M.style.verticalAlign="bottom",o(M)),E=o(b),M=j[1]-E[1]-w,document.body.removeChild(x),this._setProperty("_textAscent",w),this._setProperty("_textDescent",M)),this}}])&&u(s.prototype,c),v}(m.default.Element);function o(c){var s=0,p=0;if(c.offsetParent)for(;s+=c.offsetLeft,p+=c.offsetTop,c=c.offsetParent;);else s+=c.offsetLeft,p+=c.offsetTop;return[s,p]}l.prototype.textSize=function(c){return typeof c=="number"?(this._setProperty("_textSize",c),this._leadingSet||this._setProperty("_textLeading",c*f._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},m.default.Renderer=l,n=m.default.Renderer,S.default=n},{"../core/constants":262,"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],277:[function(c,Z,S){function y(s){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(s)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.reflect.get"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.reflect.get"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=(o=c("./main"))&&o.__esModule?o:{default:o},f=function(s){if(s&&s.__esModule)return s;if(s===null||d(s)!=="object"&&typeof s!="function")return{default:s};var p=g();if(p&&p.has(s))return p.get(s);var v,b={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in s){var w;Object.prototype.hasOwnProperty.call(s,v)&&((w=x?Object.getOwnPropertyDescriptor(s,v):null)&&(w.get||w.set)?Object.defineProperty(b,v,w):b[v]=s[v])}return b.default=s,p&&p.set(s,b),b}(c("./constants"));function g(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,g=function(){return s},s)}function d(s){return(d=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(p){return y(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":y(p)})(s)}function u(s,p){for(var v=0;v<p.length;v++){var b=p[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(s,b.key,b)}}function i(s,p,v){return(i=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(j,x,w){var j=function(E,M){for(;!Object.prototype.hasOwnProperty.call(E,M)&&(E=a(E))!==null;);return E}(j,x);if(j)return(j=Object.getOwnPropertyDescriptor(j,x)).get?j.get.call(w):j.value})(s,p,v||s)}function r(s,p){return(r=Object.setPrototypeOf||function(v,b){return v.__proto__=b,v})(s,p)}function t(s){return function(){var p,v=a(s),v=(p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=a(this).constructor,Reflect.construct(v,arguments,p)):v.apply(this,arguments),this);if(!p||d(p)!=="object"&&typeof p!="function"){if(v!==void 0)return v;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return p}}function a(s){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(s)}c("./p5.Renderer");var l="rgba(0,0,0,0)",o=function(s){var p=b;if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(s&&s.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),s&&r(p,s);var v=t(b);function b(x,w,j){if(this instanceof b)return(x=v.call(this,x,w,j)).drawingContext=x.canvas.getContext("2d"),x._pInst._setProperty("drawingContext",x.drawingContext),x;throw new TypeError("Cannot call a class as a function")}return p=b,(s=[{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=f.BLEND,this._setFill(f._DEFAULT_FILL),this._setStroke(f._DEFAULT_STROKE),this.drawingContext.lineCap=f.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(x,w){i(a(b.prototype),"resize",this).call(this,x,w),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var x,w;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof m.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(x=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(x,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(x=this._getFill(),w=(w=this._pInst).color.apply(w,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(w.levels),w=w.toString(),this._setFill(w),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(x),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var x=(x=this._pInst).color.apply(x,arguments);this._setFill(x.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",x.levels)}},{key:"stroke",value:function(){var x=(x=this._pInst).color.apply(x,arguments);this._setStroke(x.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",x.levels)}},{key:"erase",value:function(x,w){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,x=this._pInst.color(255,x).toString(),this.drawingContext.fillStyle=x,this._cachedStrokeStyle=this.drawingContext.strokeStyle,x=this._pInst.color(255,w).toString(),this.drawingContext.strokeStyle=x,w=this._cachedBlendMode,this.blendMode(f.REMOVE),this._cachedBlendMode=w,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"image",value:function(x,w,j,E,M,C,P,O,D){x.gifProperties&&x._animateGif(this._pInst);try{m.default.MediaElement&&x instanceof m.default.MediaElement&&x._ensureCanvas();var N=(N=this._tint&&x.canvas?this._getTintedImageCanvas(x):N)||x.canvas||x.elt,R=1;x.width&&0<x.width&&(R=N.width/x.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(N,R*w,R*j,R*E,R*M,C,P,O,D),this._isErasing&&this._pInst.erase()}catch(I){if(I.name!=="NS_ERROR_NOT_AVAILABLE")throw I}}},{key:"_getTintedImageCanvas",value:function(x){if(!x.canvas)return x;x.tintCanvas||(x.tintCanvas=document.createElement("canvas")),x.tintCanvas.width!==x.canvas.width&&(x.tintCanvas.width=x.canvas.width),x.tintCanvas.height!==x.canvas.height&&(x.tintCanvas.height=x.canvas.height);var w=x.tintCanvas.getContext("2d");return w.save(),w.clearRect(0,0,x.canvas.width,x.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(w.drawImage(x.canvas,0,0),w.globalCompositeOperation="luminosity",w.drawImage(x.canvas,0,0),w.globalCompositeOperation="color",w.drawImage(x.canvas,0,0),w.globalCompositeOperation="multiply",w.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),w.fillRect(0,0,x.canvas.width,x.canvas.height),w.globalCompositeOperation="destination-in"),w.globalAlpha=this._tint[3]/255,w.drawImage(x.canvas,0,0),w.restore(),x.tintCanvas}},{key:"blendMode",value:function(x){if(x===f.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(x!==f.BLEND&&x!==f.REMOVE&&x!==f.DARKEST&&x!==f.LIGHTEST&&x!==f.DIFFERENCE&&x!==f.MULTIPLY&&x!==f.EXCLUSION&&x!==f.SCREEN&&x!==f.REPLACE&&x!==f.OVERLAY&&x!==f.HARD_LIGHT&&x!==f.SOFT_LIGHT&&x!==f.DODGE&&x!==f.BURN&&x!==f.ADD)throw new Error("Mode ".concat(x," not recognized."));this._cachedBlendMode=x,this.drawingContext.globalCompositeOperation=x}}},{key:"blend",value:function(){for(var x=this.drawingContext.globalCompositeOperation,w=arguments.length,j=new Array(w),E=0;E<w;E++)j[E]=arguments[E];var M=j[j.length-1],C=Array.prototype.slice.call(j,0,j.length-1);this.drawingContext.globalCompositeOperation=M,m.default.prototype.copy.apply(this,C),this.drawingContext.globalCompositeOperation=x}},{key:"_getPixel",value:function(x,w){return x=this.drawingContext.getImageData(x,w,1,1).data,[x[0],x[1],x[2],x[3]]}},{key:"loadPixels",value:function(){var x=this._pixelsState,w=x._pixelDensity,j=this.width*w,w=this.height*w,j=this.drawingContext.getImageData(0,0,j,w);x._setProperty("imageData",j),x._setProperty("pixels",j.data)}},{key:"set",value:function(x,w,j){x=Math.floor(x),w=Math.floor(w);var E=this._pixelsState;if(j instanceof m.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(E._pixelDensity,E._pixelDensity),this.drawingContext.clearRect(x,w,j.width,j.height),this.drawingContext.drawImage(j.canvas,x,w),this.drawingContext.restore();else{var M=0,C=0,P=0,O=0,D=4*(w*E._pixelDensity*(this.width*E._pixelDensity)+x*E._pixelDensity);if(E.imageData||E.loadPixels.call(E),typeof j=="number")D<E.pixels.length&&(P=C=M=j,O=255);else if(j instanceof Array){if(j.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");D<E.pixels.length&&(M=j[0],C=j[1],P=j[2],O=j[3])}else j instanceof m.default.Color&&D<E.pixels.length&&(M=j.levels[0],C=j.levels[1],P=j.levels[2],O=j.levels[3]);for(var N=0;N<E._pixelDensity;N++)for(var R=0;R<E._pixelDensity;R++)D=4*((w*E._pixelDensity+R)*this.width*E._pixelDensity+(x*E._pixelDensity+N)),E.pixels[D]=M,E.pixels[D+1]=C,E.pixels[D+2]=P,E.pixels[D+3]=O}}},{key:"updatePixels",value:function(x,w,j,E){var M=this._pixelsState,C=M._pixelDensity;x===void 0&&w===void 0&&j===void 0&&E===void 0&&(w=x=0,j=this.width,E=this.height),x*=C,w*=C,j*=C,E*=C,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=M.imageData),this.drawingContext.putImageData(M.imageData,x,w,0,0,j,E)}},{key:"_acuteArcToBezier",value:function(x,w){var C=w/2,j=Math.cos(C),O=Math.sin(C),E=1/Math.tan(C),C=x+C,M=Math.cos(C),C=Math.sin(C),P=(4-j)/3,O=O+(j-P)*E;return{ax:Math.cos(x).toFixed(7),ay:Math.sin(x).toFixed(7),bx:(P*M+O*C).toFixed(7),by:(P*C-O*M).toFixed(7),cx:(P*M-O*C).toFixed(7),cy:(P*C+O*M).toFixed(7),dx:Math.cos(x+w).toFixed(7),dy:Math.sin(x+w).toFixed(7)}}},{key:"arc",value:function(x,w,j,E,M,C,P){var O,D=this.drawingContext,N=j/2,R=E/2,I=[];for(x+=N,w+=R;1e-5<=C-M;)O=Math.min(C-M,f.HALF_PI),I.push(this._acuteArcToBezier(M,O)),M+=O;return this._doFill&&(D.beginPath(),I.forEach(function(H,ee){ee===0&&D.moveTo(x+H.ax*N,w+H.ay*R),D.bezierCurveTo(x+H.bx*N,w+H.by*R,x+H.cx*N,w+H.cy*R,x+H.dx*N,w+H.dy*R)}),P!==f.PIE&&P!=null||D.lineTo(x,w),D.closePath(),D.fill()),this._doStroke&&(D.beginPath(),I.forEach(function(H,ee){ee===0&&D.moveTo(x+H.ax*N,w+H.ay*R),D.bezierCurveTo(x+H.bx*N,w+H.by*R,x+H.cx*N,w+H.cy*R,x+H.dx*N,w+H.dy*R)}),P===f.PIE?(D.lineTo(x,w),D.closePath()):P===f.CHORD&&D.closePath(),D.stroke()),this}},{key:"ellipse",value:function(I){var w=this.drawingContext,j=this._doFill,E=this._doStroke,M=parseFloat(I[0]),C=parseFloat(I[1]),R=parseFloat(I[2]),I=parseFloat(I[3]);if(j&&!E){if(this._getFill()===l)return this}else if(!j&&E&&this._getStroke()===l)return this;var P=R/2*.5522847498,O=I/2*.5522847498,D=M+R,N=C+I,R=M+R/2,I=C+I/2;w.beginPath(),w.moveTo(M,I),w.bezierCurveTo(M,I-O,R-P,C,R,C),w.bezierCurveTo(R+P,C,D,I-O,D,I),w.bezierCurveTo(D,I+O,R+P,N,R,N),w.bezierCurveTo(R-P,N,M,I+O,M,I),j&&w.fill(),E&&w.stroke()}},{key:"line",value:function(x,w,j,E){var M=this.drawingContext;return this._doStroke&&this._getStroke()!==l&&(M.beginPath(),M.moveTo(x,w),M.lineTo(j,E),M.stroke()),this}},{key:"point",value:function(x,w){var j,E,M=this.drawingContext;return!this._doStroke||this._getStroke()===l?this:(j=this._getStroke(),E=this._getFill(),this._setFill(j),M.beginPath(),M.arc(x,w,M.lineWidth/2,0,f.TWO_PI,!1),M.fill(),void this._setFill(E))}},{key:"quad",value:function(x,w,j,E,M,C,P,O){var D=this.drawingContext,N=this._doFill,R=this._doStroke;if(N&&!R){if(this._getFill()===l)return this}else if(!N&&R&&this._getStroke()===l)return this;return D.beginPath(),D.moveTo(x,w),D.lineTo(j,E),D.lineTo(M,C),D.lineTo(P,O),D.closePath(),N&&D.fill(),R&&D.stroke(),this}},{key:"rect",value:function(R){var w,j,E=R[0],M=R[1],C=R[2],P=R[3],O=R[4],D=R[5],N=R[6],R=R[7],I=this.drawingContext,H=this._doFill,ee=this._doStroke;if(H&&!ee){if(this._getFill()===l)return this}else if(!H&&ee&&this._getStroke()===l)return this;return I.beginPath(),O===void 0?I.rect(E,M,C,P):(D===void 0&&(D=O),N===void 0&&(N=D),R===void 0&&(R=N),ee=(H=Math.abs(C))/2,j=(w=Math.abs(P))/2,w<2*(O=H<2*O?ee:O)&&(O=j),w<2*(D=H<2*D?ee:D)&&(D=j),w<2*(N=H<2*N?ee:N)&&(N=j),w<2*(R=H<2*R?ee:R)&&(R=j),I.beginPath(),I.moveTo(E+O,M),I.arcTo(E+C,M,E+C,M+P,D),I.arcTo(E+C,M+P,E,M+P,N),I.arcTo(E,M+P,E,M,R),I.arcTo(E,M,E+C,M,O),I.closePath()),this._doFill&&I.fill(),this._doStroke&&I.stroke(),this}},{key:"triangle",value:function(N){var w=this.drawingContext,j=this._doFill,E=this._doStroke,M=N[0],C=N[1],P=N[2],O=N[3],D=N[4],N=N[5];if(j&&!E){if(this._getFill()===l)return this}else if(!j&&E&&this._getStroke()===l)return this;w.beginPath(),w.moveTo(M,C),w.lineTo(P,O),w.lineTo(D,N),w.closePath(),j&&w.fill(),E&&w.stroke()}},{key:"endShape",value:function(x,w,j,E,M,C,P){if(w.length!==0&&(this._doStroke||this._doFill)){var O,D,N,R=x===f.CLOSE,I=(R&&!C&&w.push(w[0]),w.length);if(!j||P!==f.POLYGON&&P!==null)if(!E||P!==f.POLYGON&&P!==null)if(!M||P!==f.POLYGON&&P!==null)if(P===f.POINTS)for(D=0;D<I;D++)O=w[D],this._doStroke&&this._pInst.stroke(O[6]),this._pInst.point(O[0],O[1]);else if(P===f.LINES)for(D=0;D+1<I;D+=2)O=w[D],this._doStroke&&this._pInst.stroke(w[D+1][6]),this._pInst.line(O[0],O[1],w[D+1][0],w[D+1][1]);else if(P===f.TRIANGLES)for(D=0;D+2<I;D+=3)O=w[D],this.drawingContext.beginPath(),this.drawingContext.moveTo(O[0],O[1]),this.drawingContext.lineTo(w[D+1][0],w[D+1][1]),this.drawingContext.lineTo(w[D+2][0],w[D+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(w[D+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(w[D+2][6]),this.drawingContext.stroke());else if(P===f.TRIANGLE_STRIP)for(D=0;D+1<I;D++)O=w[D],this.drawingContext.beginPath(),this.drawingContext.moveTo(w[D+1][0],w[D+1][1]),this.drawingContext.lineTo(O[0],O[1]),this._doStroke&&this._pInst.stroke(w[D+1][6]),this._doFill&&this._pInst.fill(w[D+1][5]),D+2<I&&(this.drawingContext.lineTo(w[D+2][0],w[D+2][1]),this._doStroke&&this._pInst.stroke(w[D+2][6]),this._doFill&&this._pInst.fill(w[D+2][5])),this._doFillStrokeClose(R);else if(P===f.TRIANGLE_FAN){if(2<I){for(this.drawingContext.beginPath(),D=2;D<I;D++)O=w[D],this.drawingContext.moveTo(w[0][0],w[0][1]),this.drawingContext.lineTo(w[D-1][0],w[D-1][1]),this.drawingContext.lineTo(O[0],O[1]),this.drawingContext.lineTo(w[0][0],w[0][1]),D<I-1&&(this._doFill&&O[5]!==w[D+1][5]||this._doStroke&&O[6]!==w[D+1][6])&&(this._doFill&&(this._pInst.fill(O[5]),this.drawingContext.fill(),this._pInst.fill(w[D+1][5])),this._doStroke&&(this._pInst.stroke(O[6]),this.drawingContext.stroke(),this._pInst.stroke(w[D+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(R)}}else if(P===f.QUADS)for(D=0;D+3<I;D+=4){for(O=w[D],this.drawingContext.beginPath(),this.drawingContext.moveTo(O[0],O[1]),N=1;N<4;N++)this.drawingContext.lineTo(w[D+N][0],w[D+N][1]);this.drawingContext.lineTo(O[0],O[1]),this._doFill&&this._pInst.fill(w[D+3][5]),this._doStroke&&this._pInst.stroke(w[D+3][6]),this._doFillStrokeClose(R)}else if(P===f.QUAD_STRIP){if(3<I)for(D=0;D+1<I;D+=2)O=w[D],this.drawingContext.beginPath(),D+3<I?(this.drawingContext.moveTo(w[D+2][0],w[D+2][1]),this.drawingContext.lineTo(O[0],O[1]),this.drawingContext.lineTo(w[D+1][0],w[D+1][1]),this.drawingContext.lineTo(w[D+3][0],w[D+3][1]),this._doFill&&this._pInst.fill(w[D+3][5]),this._doStroke&&this._pInst.stroke(w[D+3][6])):(this.drawingContext.moveTo(O[0],O[1]),this.drawingContext.lineTo(w[D+1][0],w[D+1][1])),this._doFillStrokeClose(R)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(w[0][0],w[0][1]),D=1;D<I;D++)(O=w[D]).isVert&&(O.moveTo?this.drawingContext.moveTo(O[0],O[1]):this.drawingContext.lineTo(O[0],O[1]));this._doFillStrokeClose(R)}else{for(this.drawingContext.beginPath(),D=0;D<I;D++)w[D].isVert?w[D].moveTo?this.drawingContext.moveTo(w[D][0],w[D][1]):this.drawingContext.lineTo(w[D][0],w[D][1]):this.drawingContext.quadraticCurveTo(w[D][0],w[D][1],w[D][2],w[D][3]);this._doFillStrokeClose(R)}else{for(this.drawingContext.beginPath(),D=0;D<I;D++)w[D].isVert?w[D].moveTo?this.drawingContext.moveTo(w[D][0],w[D][1]):this.drawingContext.lineTo(w[D][0],w[D][1]):this.drawingContext.bezierCurveTo(w[D][0],w[D][1],w[D][2],w[D][3],w[D][4],w[D][5]);this._doFillStrokeClose(R)}else if(3<I){var H=[],ee=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(w[1][0],w[1][1]),D=1;D+2<I;D++)O=w[D],H[0]=[O[0],O[1]],H[1]=[O[0]+(ee*w[D+1][0]-ee*w[D-1][0])/6,O[1]+(ee*w[D+1][1]-ee*w[D-1][1])/6],H[2]=[w[D+1][0]+(ee*w[D][0]-ee*w[D+2][0])/6,w[D+1][1]+(ee*w[D][1]-ee*w[D+2][1])/6],H[3]=[w[D+1][0],w[D+1][1]],this.drawingContext.bezierCurveTo(H[1][0],H[1][1],H[2][0],H[2][1],H[3][0],H[3][1]);R&&this.drawingContext.lineTo(w[D+1][0],w[D+1][1]),this._doFillStrokeClose(R)}C=M=E=j=!1,R&&w.pop()}return this}},{key:"strokeCap",value:function(x){return x!==f.ROUND&&x!==f.SQUARE&&x!==f.PROJECT||(this.drawingContext.lineCap=x),this}},{key:"strokeJoin",value:function(x){return x!==f.ROUND&&x!==f.BEVEL&&x!==f.MITER||(this.drawingContext.lineJoin=x),this}},{key:"strokeWeight",value:function(x){return this.drawingContext.lineWidth=x===void 0||x===0?1e-4:x,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(x){x!==this._cachedFillStyle&&(this.drawingContext.fillStyle=x,this._cachedFillStyle=x)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(x){x!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=x,this._cachedStrokeStyle=x)}},{key:"bezier",value:function(x,w,j,E,M,C,P,O){return this._pInst.beginShape(),this._pInst.vertex(x,w),this._pInst.bezierVertex(j,E,M,C,P,O),this._pInst.endShape(),this}},{key:"curve",value:function(x,w,j,E,M,C,P,O){return this._pInst.beginShape(),this._pInst.curveVertex(x,w),this._pInst.curveVertex(j,E),this._pInst.curveVertex(M,C),this._pInst.curveVertex(P,O),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(x){x&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(x,w,j,E,M,C){this.drawingContext.transform(x,w,j,E,M,C)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(x){this.drawingContext.rotate(x)}},{key:"scale",value:function(x,w){return this.drawingContext.scale(x,w),this}},{key:"translate",value:function(x,w){return x instanceof m.default.Vector&&(w=x.y,x=x.x),this.drawingContext.translate(x,w),this}},{key:"_renderText",value:function(x,w,j,E,M,C){if(!(E<C||M<=E))return x.push(),this._isOpenType()?this._textFont._renderPath(w,j,E,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(w,j,E),this._doFill&&(this._fillSet||this._setFill(f._DEFAULT_TEXT_FILL),this.drawingContext.fillText(w,j,E))),x.pop(),x}},{key:"textWidth",value:function(x){return this._isOpenType()?this._textFont._textWidth(x,this._textSize):this.drawingContext.measureText(x).width}},{key:"_applyTextProperties",value:function(){var x,w=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),x=this._textFont,this._isOpenType()&&(x=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(x||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===f.CENTER?this.drawingContext.textBaseline=f._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,w}},{key:"push",value:function(){return this.drawingContext.save(),i(a(b.prototype),"push",this).call(this)}},{key:"pop",value:function(x){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,i(a(b.prototype),"pop",this).call(this,x)}}])&&u(p.prototype,s),b}(m.default.Renderer),c=(o.prototype.text=function(s,p,v,j,x){j!==void 0&&this.drawingContext.textBaseline===f.BASELINE&&(w=!0,this.drawingContext.textBaseline=f.TOP);var w,j=m.default.Renderer.prototype.text.apply(this,arguments);return w&&(this.drawingContext.textBaseline=f.BASELINE),j},m.default.Renderer2D=o,m.default.Renderer2D);S.default=c},{"./constants":262,"./main":273,"./p5.Renderer":276,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],278:[function(n,Z,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator");var y=(n=n("./main"))&&n.__esModule?n:{default:n};y.default.prototype._promisePreloads=[];function m(){return{}}var f=!(y.default.prototype.registerPromisePreload=function(g){y.default.prototype._promisePreloads.push(g)});y.default.prototype._setupPromisePreloads=function(){var g=!0,d=!1,u=void 0;try{for(var i,r=this._promisePreloads[Symbol.iterator]();!(g=(i=r.next()).done);g=!0){var t=i.value,a=this,l=t.method,o=t.addCallbacks,c=t.legacyPreloadSetup,s=t.target||this,p=s[l].bind(s);if(s===y.default.prototype){if(f)continue;a=null,p=s[l]}s[l]=this._wrapPromisePreload(a,p,o),c&&(s[c.method]=this._legacyPreloadGenerator(a,c,s[l]))}}catch(v){d=!0,u=v}finally{try{g||r.return==null||r.return()}finally{if(d)throw u}}f=!0},y.default.prototype._wrapPromisePreload=function(g,d,u){var i=function(){for(var r=this,t=(this._incrementPreload(),null),a=null,l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];if(u)for(var s=o.length-1;0<=s&&!a&&typeof o[s]=="function";s--)a=t,t=o.pop();var p=Promise.resolve(d.apply(this,o));return t&&p.then(t),a&&p.catch(a),p.then(function(){return r._decrementPreload()}),p};return i=g?i.bind(g):i},y.default.prototype._legacyPreloadGenerator=function(g,r,u){var i=r.createBaseObject||m,r=function(){var t=this;this._incrementPreload();for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];var c=i.apply(this,l);return u.apply(this,l).then(function(s){Object.assign(c,s),t._decrementPreload()}),c};return r=g?r.bind(g):r}},{"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],279:[function(n,Z,S){function y(r){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=(i=n("./main"))&&i.__esModule?i:{default:i},f=function(r){if(r&&r.__esModule)return r;if(r===null||d(r)!=="object"&&typeof r!="function")return{default:r};var t=g();if(t&&t.has(r))return t.get(r);var a,l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var c;Object.prototype.hasOwnProperty.call(r,a)&&((c=o?Object.getOwnPropertyDescriptor(r,a):null)&&(c.get||c.set)?Object.defineProperty(l,a,c):l[a]=r[a])}return l.default=r,t&&t.set(r,l),l}(n("./constants"));function g(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,g=function(){return r},r)}function d(r){return(d=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(t){return y(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":y(t)})(r)}n("./p5.Graphics"),n("./p5.Renderer2D"),n("../webgl/p5.RendererGL");var u="defaultCanvas0",i=(m.default.prototype.createCanvas=function(r,t,a,l){var o,c,s;if(m.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(a=f.P2D,l=arguments[2]):o=a||f.P2D,l)(s=document.getElementById(u))&&s.parentNode.removeChild(s),s=l,this._defaultGraphicsCreated=!1;else{if(o===f.WEBGL)(s=document.getElementById(u))&&(s.parentNode.removeChild(s),c=this._renderer,this._elements=this._elements.filter(function(v){return v!==c})),(s=document.createElement("canvas")).id=u,s.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)s=this.canvas;else{s=l||document.createElement("canvas");for(var p=0;document.getElementById("defaultCanvas".concat(p));)p++;u="defaultCanvas".concat(p),s.id=u,s.classList.add("p5Canvas")}this._setupDone||(s.dataset.hidden=!0,s.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(a=document.createElement("main"),document.body.appendChild(a)),document.getElementsByTagName("main")[0])).appendChild(s)}return o===f.WEBGL?(this._setProperty("_renderer",new m.default.RendererGL(s,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new m.default.Renderer2D(s,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(r,t),this._renderer._applyDefaults(),this._renderer},m.default.prototype.resizeCanvas=function(r,t,a){if(m.default._validateParameters("resizeCanvas",arguments),this._renderer){var l,o,c={};for(l in this.drawingContext){var s=this.drawingContext[l];d(s)!=="object"&&typeof s!="function"&&(c[l]=s)}for(o in this.width=r,this.height=t,this._renderer.resize(r,t),c)try{this.drawingContext[o]=c[o]}catch{}a||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},m.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},m.default.prototype.createGraphics=function(r,t,a,l){return arguments[2]instanceof HTMLCanvasElement&&(a=f.P2D,l=arguments[2]),m.default._validateParameters("createGraphics",arguments),new m.default.Graphics(r,t,a,this,l)},m.default.prototype.createFramebuffer=function(r){return new m.default.Framebuffer(this,r)},m.default.prototype.blendMode=function(r){m.default._validateParameters("blendMode",arguments),r===f.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),r=f.BLEND),this._renderer.blendMode(r)},m.default);S.default=i},{"../webgl/p5.RendererGL":328,"./constants":262,"./main":273,"./p5.Graphics":275,"./p5.Renderer2D":277,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],280:[function(n,Z,S){function y(t){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(t)}function m(t){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(a){return y(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(t)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=i(n("../main")),g=function(t){if(t&&t.__esModule)return t;if(t===null||m(t)!=="object"&&typeof t!="function")return{default:t};var a=u();if(a&&a.has(t))return a.get(t);var l,o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in t){var s;Object.prototype.hasOwnProperty.call(t,l)&&((s=c?Object.getOwnPropertyDescriptor(t,l):null)&&(s.get||s.set)?Object.defineProperty(o,l,s):o[l]=t[l])}return o.default=t,a&&a.set(t,o),o}(n("../constants")),d=i(n("../helpers"));function u(){var t;return typeof WeakMap!="function"?null:(t=new WeakMap,u=function(){return t},t)}function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return function(a){if(Array.isArray(a)){for(var l=0,o=new Array(a.length);l<a.length;l++)o[l]=a[l];return o}}(t)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n("../friendly_errors/fes_core"),n("../friendly_errors/file_errors"),n("../friendly_errors/validate_params"),f.default.prototype._normalizeArcAngles=function(t,a,l,o,c){var s;return t-=g.TWO_PI*Math.floor(t/g.TWO_PI),a-=g.TWO_PI*Math.floor(a/g.TWO_PI),s=Math.min(Math.abs(t-a),g.TWO_PI-Math.abs(t-a)),c&&(t=t<=g.HALF_PI?Math.atan(l/o*Math.tan(t)):t>g.HALF_PI&&t<=3*g.HALF_PI?Math.atan(l/o*Math.tan(t))+g.PI:Math.atan(l/o*Math.tan(t))+g.TWO_PI,a=a<=g.HALF_PI?Math.atan(l/o*Math.tan(a)):a>g.HALF_PI&&a<=3*g.HALF_PI?Math.atan(l/o*Math.tan(a))+g.PI:Math.atan(l/o*Math.tan(a))+g.TWO_PI),a<t&&(a+=g.TWO_PI),{start:t,stop:a,correspondToSamePoint:s<1e-5}},f.default.prototype.arc=function(t,a,l,o,c,s,p,v){return f.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&c!==s&&(c=this._toRadians(c),s=this._toRadians(s),l=Math.abs(l),o=Math.abs(o),t=d.default.modeAdjust(t,a,l,o,this._renderer._ellipseMode),(a=this._normalizeArcAngles(c,s,t.w,t.h,!0)).correspondToSamePoint?this._renderer.ellipse([t.x,t.y,t.w,t.h,v]):(this._renderer.arc(t.x,t.y,t.w,t.h,a.start,a.stop,p,v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[t.x,t.y,t.w,t.h,a.start,a.stop,p]))),this},f.default.prototype.ellipse=function(t,a,l,o,c){return f.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},f.default.prototype.circle=function(){f.default._validateParameters("circle",arguments);var t=Array.prototype.slice.call(arguments,0,2);return t.push(arguments[2]),t.push(arguments[2]),this._renderEllipse.apply(this,r(t))},f.default.prototype._renderEllipse=function(t,a,l,o,c){return(this._renderer._doStroke||this._renderer._doFill)&&(l<0&&(l=Math.abs(l)),o===void 0?o=l:o<0&&(o=Math.abs(o)),t=d.default.modeAdjust(t,a,l,o,this._renderer._ellipseMode),this._renderer.ellipse([t.x,t.y,t.w,t.h,c]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[t.x,t.y,t.w,t.h])),this},f.default.prototype.line=function(){for(var t,a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return f.default._validateParameters("line",l),this._renderer._doStroke&&(t=this._renderer).line.apply(t,l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",l),this},f.default.prototype.point=function(){for(var t,a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return f.default._validateParameters("point",l),this._renderer._doStroke&&(l.length===1&&l[0]instanceof f.default.Vector?this._renderer.point.call(this._renderer,l[0].x,l[0].y,l[0].z):((t=this._renderer).point.apply(t,l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",l))),this},f.default.prototype.quad=function(){for(var t,a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return f.default._validateParameters("quad",l),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&l.length<12?this._renderer.quad.call(this._renderer,l[0],l[1],0,l[2],l[3],0,l[4],l[5],0,l[6],l[7],0,l[8],l[9]):((t=this._renderer).quad.apply(t,l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",l))),this},f.default.prototype.rect=function(){for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return f.default._validateParameters("rect",a),this._renderRect.apply(this,a)},f.default.prototype.square=function(t,a,l,o,c,s,p){return f.default._validateParameters("square",arguments),this._renderRect.call(this,t,a,l,l,o,c,s,p)},f.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var t=d.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),a=[t.x,t.y,t.w,t.h],l=4;l<arguments.length;l++)a[l]=arguments[l];this._renderer.rect(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[t.x,t.y,t.w,t.h])}return this},f.default.prototype.triangle=function(){for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return f.default._validateParameters("triangle",a),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",a),this},n=f.default,S.default=n},{"../constants":262,"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../helpers":269,"../main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],281:[function(n,Z,S){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function m(i){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(r){return y(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":y(r)})(i)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(u=n("../main"))&&u.__esModule?u:{default:u},g=function(i){if(i&&i.__esModule)return i;if(i===null||m(i)!=="object"&&typeof i!="function")return{default:i};var r=d();if(r&&r.has(i))return r.get(i);var t,a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in i){var o;Object.prototype.hasOwnProperty.call(i,t)&&((o=l?Object.getOwnPropertyDescriptor(i,t):null)&&(o.get||o.set)?Object.defineProperty(a,t,o):a[t]=i[t])}return a.default=i,r&&r.set(i,a),a}(n("../constants"));function d(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,d=function(){return i},i)}f.default.prototype.ellipseMode=function(i){return f.default._validateParameters("ellipseMode",arguments),i!==g.CORNER&&i!==g.CORNERS&&i!==g.RADIUS&&i!==g.CENTER||(this._renderer._ellipseMode=i),this},f.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},f.default.prototype.rectMode=function(i){return f.default._validateParameters("rectMode",arguments),i!==g.CORNER&&i!==g.CORNERS&&i!==g.RADIUS&&i!==g.CENTER||(this._renderer._rectMode=i),this},f.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},f.default.prototype.strokeCap=function(i){return f.default._validateParameters("strokeCap",arguments),i!==g.ROUND&&i!==g.SQUARE&&i!==g.PROJECT||this._renderer.strokeCap(i),this},f.default.prototype.strokeJoin=function(i){return f.default._validateParameters("strokeJoin",arguments),i!==g.ROUND&&i!==g.BEVEL&&i!==g.MITER||this._renderer.strokeJoin(i),this},f.default.prototype.strokeWeight=function(i){return f.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(i),this};var u=f.default;S.default=u},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],282:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(m=n("../main"))&&m.__esModule?m:{default:m};n("../friendly_errors/fes_core"),n("../friendly_errors/file_errors"),n("../friendly_errors/validate_params"),y.default.prototype.bezier=function(){for(var f,g=arguments.length,d=new Array(g),u=0;u<g;u++)d[u]=arguments[u];return y.default._validateParameters("bezier",d),(this._renderer._doStroke||this._renderer._doFill)&&(f=this._renderer).bezier.apply(f,d),this},y.default.prototype.bezierDetail=function(f){return y.default._validateParameters("bezierDetail",arguments),this._bezierDetail=f,this},y.default.prototype.bezierPoint=function(f,g,d,u,i){y.default._validateParameters("bezierPoint",arguments);var r=1-i;return Math.pow(r,3)*f+3*Math.pow(r,2)*i*g+3*r*Math.pow(i,2)*d+Math.pow(i,3)*u},y.default.prototype.bezierTangent=function(f,g,d,u,i){y.default._validateParameters("bezierTangent",arguments);var r=1-i;return 3*u*Math.pow(i,2)-3*d*Math.pow(i,2)+6*d*r*i-6*g*r*i+3*g*Math.pow(r,2)-3*f*Math.pow(r,2)},y.default.prototype.curve=function(){for(var f,g=arguments.length,d=new Array(g),u=0;u<g;u++)d[u]=arguments[u];return y.default._validateParameters("curve",d),this._renderer._doStroke&&(f=this._renderer).curve.apply(f,d),this},y.default.prototype.curveDetail=function(f){return y.default._validateParameters("curveDetail",arguments),this._curveDetail=f<3?3:f,this},y.default.prototype.curveTightness=function(f){return y.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=f,this},y.default.prototype.curvePoint=function(f,g,d,u,i){y.default._validateParameters("curvePoint",arguments);var r=this._renderer._curveTightness,t=i*i*i,a=i*i;return f*((r-1)/2*t+(1-r)*a+(r-1)/2*i)+g*((r+3)/2*t+(-5-r)/2*a+1)+d*((-3-r)/2*t+(r+2)*a+(1-r)/2*i)+u*((1-r)/2*t+(r-1)/2*a)},y.default.prototype.curveTangent=function(f,g,d,u,a){y.default._validateParameters("curveTangent",arguments);var r=this._renderer._curveTightness,t=a*a*3,a=2*a;return f*((r-1)/2*t+(1-r)*a+(r-1)/2)+g*((r+3)/2*t+(-5-r)/2*a)+d*((-3-r)/2*t+(r+2)*a+(1-r)/2)+u*((1-r)/2*t+(r-1)/2*a)};var m=y.default;S.default=m},{"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../main":273}],283:[function(n,Z,S){function y(p){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}function m(p){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(v){return y(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":y(v)})(p)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.slice"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(s=n("../main"))&&s.__esModule?s:{default:s},g=function(p){if(p&&p.__esModule)return p;if(p===null||m(p)!=="object"&&typeof p!="function")return{default:p};var v=d();if(v&&v.has(p))return v.get(p);var b,x={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in p){var j;Object.prototype.hasOwnProperty.call(p,b)&&((j=w?Object.getOwnPropertyDescriptor(p,b):null)&&(j.get||j.set)?Object.defineProperty(x,b,j):x[b]=p[b])}return x.default=p,v&&v.set(p,x),x}(n("../constants"));function d(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,d=function(){return p},p)}var u=null,i=[],r=[],t=!1,a=!1,l=!1,o=!1,c=!0,s=(f.default.prototype.beginContour=function(){return r=[],o=!0,this},f.default.prototype.beginShape=function(p){var v;return f.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(v=this._renderer).beginShape.apply(v,arguments):(u=p===g.POINTS||p===g.LINES||p===g.TRIANGLES||p===g.TRIANGLE_FAN||p===g.TRIANGLE_STRIP||p===g.QUADS||p===g.QUAD_STRIP?p:null,i=[],r=[]),this},f.default.prototype.bezierVertex=function(){for(var p,v=arguments.length,b=new Array(v),x=0;x<v;x++)b[x]=arguments[x];if(f.default._validateParameters("bezierVertex",b),this._renderer.isP3D)(p=this._renderer).bezierVertex.apply(p,b);else if(i.length===0)f.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{t=!0;for(var w=[],j=0;j<b.length;j++)w[j]=b[j];w.isVert=!1,(o?r:i).push(w)}return this},f.default.prototype.curveVertex=function(){for(var p,v=arguments.length,b=new Array(v),x=0;x<v;x++)b[x]=arguments[x];return f.default._validateParameters("curveVertex",b),this._renderer.isP3D?(p=this._renderer).curveVertex.apply(p,b):(a=!0,this.vertex(b[0],b[1])),this},f.default.prototype.endContour=function(){var p=r[0].slice();p.isVert=r[0].isVert,p.moveTo=!1,r.push(p),c&&(i.push(i[0]),c=!1);for(var v=0;v<r.length;v++)i.push(r[v]);return this},f.default.prototype.endShape=function(p){if(f.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(p,a,t,l,o,u);else{if(i.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var v=p===g.CLOSE;v&&!o&&i.push(i[0]),this._renderer.endShape(p,i,a,t,l,o,u),c=!(o=l=t=a=!1),v&&i.pop()}return this},f.default.prototype.quadraticVertex=function(){for(var p,v=arguments.length,b=new Array(v),x=0;x<v;x++)b[x]=arguments[x];if(f.default._validateParameters("quadraticVertex",b),this._renderer.isP3D)(p=this._renderer).quadraticVertex.apply(p,b);else{if(this._contourInited)return(p={}).x=b[0],p.y=b[1],p.x3=b[2],p.y3=b[3],p.type=g.QUADRATIC,this._contourVertices.push(p),this;if(0<i.length){l=!0;for(var w=[],j=0;j<b.length;j++)w[j]=b[j];w.isVert=!1,(o?r:i).push(w)}else f.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},f.default.prototype.vertex=function(p,v,b,x,w){var j;return this._renderer.isP3D?(j=this._renderer).vertex.apply(j,arguments):((j=[]).isVert=!0,j[0]=p,j[1]=v,j[2]=0,j[3]=0,j[4]=0,j[5]=this._renderer._getFill(),j[6]=this._renderer._getStroke(),b&&(j.moveTo=b),(o?(r.length===0&&(j.moveTo=!0),r):i).push(j)),this},f.default.prototype.normal=function(p,v,b){var x;return this._assert3d("normal"),f.default._validateParameters("normal",arguments),(x=this._renderer).normal.apply(x,arguments),this},f.default);S.default=s},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],284:[function(n,Z,S){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function m(i){return function(r){if(Array.isArray(r)){for(var t=0,a=new Array(r.length);t<r.length;t++)a[t]=r[t];return a}}(i)||function(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(i){return(f=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(r){return y(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":y(r)})(i)}var g,d,u;n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(i,r){window.setTimeout(i,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(g=Object.keys,n=Object.defineProperty,d=typeof Symbol=="function"&&f(Symbol())==="symbol",u=Object.prototype.propertyIsEnumerable,n(Object,"assign",{value:function(i,r){if(i==null)throw new TypeError("target must be an object");for(var t,a=Object(i),l=1;l<arguments.length;++l){var o=Object(arguments[l]),c=g(o);for(d&&Object.getOwnPropertySymbols&&c.push.apply(c,m(Object.getOwnPropertySymbols(o).filter(function(s){return function(p){return u.call(s,p)}}(o)))),t=0;t<c.length;++t)a[c[t]]=o[c[t]]}return a},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/web.dom-collections.iterator":236}],285:[function(n,Z,S){n("core-js/modules/es.array.for-each"),n("core-js/modules/es.object.assign"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.object.assign"),n("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n=(n=n("./main"))&&n.__esModule?n:{default:n},n.default.prototype.noLoop=function(){this._loop=!1},n.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},n.default.prototype.isLooping=function(){return this._loop},n.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},n.default.prototype.pop=function(){var y=this._styles.pop();y?(this._renderer.pop(y.renderer),Object.assign(this,y.props)):console.warn("pop() was called without matching push()")},n.default.prototype.redraw=function(y){if(!this._inUserDraw&&this._setupDone){var m=parseInt(y),f=((isNaN(m)||m<1)&&(m=1),this._isGlobal?window:this);if(typeof f.draw=="function"){f.setup===void 0&&f.scale(f._pixelDensity,f._pixelDensity);for(var g=function(u){u.call(f)},d=0;d<m;d++){f.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),f._renderer.isP3D&&f._renderer._update(),f._setProperty("frameCount",f.frameCount+1),f._registeredMethods.pre.forEach(g),this._inUserDraw=!0;try{f.draw()}finally{this._inUserDraw=!1}f._registeredMethods.post.forEach(g)}}}},n=n.default,S.default=n},{"./main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.object.assign":174,"core-js/modules/web.dom-collections.for-each":235}],286:[function(n,Z,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("./main"))&&n.__esModule?n:{default:n};function m(f){return function(g){if(Array.isArray(g)){for(var d=0,u=new Array(g.length);d<g.length;d++)u[d]=g[d];return u}}(f)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}y.default.prototype.applyMatrix=function(){var f=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||f?(f=this._renderer).applyMatrix.apply(f,m(arguments.length<=0?void 0:arguments[0])):(f=this._renderer).applyMatrix.apply(f,arguments),this},y.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},y.default.prototype.rotate=function(f,g){return y.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(f),g),this},y.default.prototype.rotateX=function(f){return this._assert3d("rotateX"),y.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(f)),this},y.default.prototype.rotateY=function(f){return this._assert3d("rotateY"),y.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(f)),this},y.default.prototype.rotateZ=function(f){return this._assert3d("rotateZ"),y.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(f)),this},y.default.prototype.scale=function(f,g,d){var u;return y.default._validateParameters("scale",arguments),f instanceof y.default.Vector?(f=(u=f).x,g=u.y,d=u.z):f instanceof Array&&(f=(u=f)[0],g=u[1],d=u[2]||1),isNaN(g)?g=d=f:isNaN(d)&&(d=1),this._renderer.scale.call(this._renderer,f,g,d),this},y.default.prototype.shearX=function(f){return y.default._validateParameters("shearX",arguments),f=this._toRadians(f),this._renderer.applyMatrix(1,0,Math.tan(f),1,0,0),this},y.default.prototype.shearY=function(f){return y.default._validateParameters("shearY",arguments),f=this._toRadians(f),this._renderer.applyMatrix(1,Math.tan(f),0,1,0,0),this},y.default.prototype.translate=function(f,g,d){return y.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(f,g,d):this._renderer.translate(f,g),this},n=y.default,S.default=n},{"./main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236}],287:[function(n,Z,S){function y(d){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.ends-with"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.ends-with"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator");var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function f(d){return function(u){if(Array.isArray(u)){for(var i=0,r=new Array(u.length);i<u.length;i++)r[i]=u[i];return r}}(d)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(d){return(g=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}m.default.prototype.storeItem=function(d,u){typeof d!="string"&&console.log("The argument that you passed to storeItem() - ".concat(d," is not a string.")),d.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(d," must not end with 'p5TypeID'.")),u===void 0&&console.log("You cannot store undefined variables using storeItem().");var i=g(u);switch(i){case"number":case"boolean":u=u.toString();break;case"object":u instanceof m.default.Color?i="p5.Color":u instanceof m.default.Vector&&(i="p5.Vector",u=[u.x,u.y,u.z]),u=JSON.stringify(u)}localStorage.setItem(d,u),d="".concat(d,"p5TypeID"),localStorage.setItem(d,i)},m.default.prototype.getItem=function(d){var u=localStorage.getItem(d),i=localStorage.getItem("".concat(d,"p5TypeID"));if(i===void 0)console.log("Unable to determine type of item stored under ".concat(d,"in local storage. Did you save the item with something other than setItem()?"));else if(u!==null)switch(i){case"number":u=parseFloat(u);break;case"boolean":u=u==="true";break;case"object":u=JSON.parse(u);break;case"p5.Color":u=JSON.parse(u),u=this.color.apply(this,f(u.levels));break;case"p5.Vector":u=JSON.parse(u),u=this.createVector.apply(this,f(u))}return u},m.default.prototype.clearStorage=function(){localStorage.clear()},m.default.prototype.removeItem=function(d){typeof d!="string"&&console.log("The argument that you passed to removeItem() - ".concat(d," is not a string.")),localStorage.removeItem(d),localStorage.removeItem("".concat(d,"p5TypeID"))}},{"../core/main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],288:[function(n,Z,S){function y(l){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(l)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function f(l){return(f=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(o){return y(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":y(o)})(l)}function g(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),o&&d(l,o)}function d(l,o){return(d=Object.setPrototypeOf||function(c,s){return c.__proto__=s,c})(l,o)}function u(l){return function(){var o,c=i(l),c=(o=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(o=i(this).constructor,Reflect.construct(c,arguments,o)):c.apply(this,arguments),this);if(!o||f(o)!=="object"&&typeof o!="function"){if(c!==void 0)return c;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return o}}function i(l){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(l)}function r(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function t(l,o){for(var c=0;c<o.length;c++){var s=o[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(l,s.key,s)}}function a(l,o,c){o&&t(l.prototype,o),c&&t(l,c)}m.default.prototype.createStringDict=function(l,o){return m.default._validateParameters("createStringDict",arguments),new m.default.StringDict(l,o)},m.default.prototype.createNumberDict=function(l,o){return m.default._validateParameters("createNumberDict",arguments),new m.default.NumberDict(l,o)},m.default.TypedDict=function(){function l(o,c){return r(this,l),o instanceof Object?this.data=o:(this.data={},this.data[o]=c),this}return a(l,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(o){return this.data.hasOwnProperty(o)}},{key:"get",value:function(o){if(this.data.hasOwnProperty(o))return this.data[o];console.log("".concat(o," does not exist in this Dictionary"))}},{key:"set",value:function(o,c){this._validate(c)?this.data[o]=c:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(o){for(var c in o)this.set(c,o[c])}},{key:"create",value:function(o,c){o instanceof Object&&c===void 0?this._addObj(o):o!==void 0?this.set(o,c):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(o){if(!this.data.hasOwnProperty(o))throw new Error("".concat(o," does not exist in this Dictionary"));delete this.data[o]}},{key:"print",value:function(){for(var o in this.data)console.log("key:".concat(o," value:").concat(this.data[o]))}},{key:"saveTable",value:function(o){var c,s="";for(c in this.data)s+="".concat(c,",").concat(this.data[c],`
`);var p=new Blob([s],{type:"text/csv"});m.default.prototype.downloadFile(p,o||"mycsv","csv")}},{key:"saveJSON",value:function(o,c){m.default.prototype.saveJSON(this.data,o,c)}},{key:"_validate",value:function(o){return!0}}]),l}(),m.default.StringDict=function(){g(o,m.default.TypedDict);var l=u(o);function o(){r(this,o);for(var c=arguments.length,s=new Array(c),p=0;p<c;p++)s[p]=arguments[p];return l.call.apply(l,[this].concat(s))}return a(o,[{key:"_validate",value:function(c){return typeof c=="string"}}]),o}(),m.default.NumberDict=function(){g(o,m.default.TypedDict);var l=u(o);function o(){r(this,o);for(var c=arguments.length,s=new Array(c),p=0;p<c;p++)s[p]=arguments[p];return l.call.apply(l,[this].concat(s))}return a(o,[{key:"_validate",value:function(c){return typeof c=="number"}},{key:"add",value:function(c,s){this.data.hasOwnProperty(c)?this.data[c]+=s:console.log("The key - ".concat(c," does not exist in this dictionary."))}},{key:"sub",value:function(c,s){this.add(c,-s)}},{key:"mult",value:function(c,s){this.data.hasOwnProperty(c)?this.data[c]*=s:console.log("The key - ".concat(c," does not exist in this dictionary."))}},{key:"div",value:function(c,s){this.data.hasOwnProperty(c)?this.data[c]/=s:console.log("The key - ".concat(c," does not exist in this dictionary."))}},{key:"_valueTest",value:function(c){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var s,p=this.data[Object.keys(this.data)[0]];for(s in this.data)this.data[s]*c<p*c&&(p=this.data[s]);return p}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(c){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var s=Object.keys(this.data)[0],p=1;p<Object.keys(this.data).length;p++)Object.keys(this.data)[p]*c<s*c&&(s=Object.keys(this.data)[p]);return s}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),o}(),n=m.default.TypedDict,S.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],289:[function(n,Z,S){function y(s){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(s)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/web.url"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/web.url"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function f(s,p){for(var v=0;v<p.length;v++){var b=p[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(s,b.key,b)}}function g(s,p,v){p&&f(s.prototype,p),v&&f(s,v)}function d(s,p){return(d=Object.setPrototypeOf||function(v,b){return v.__proto__=b,v})(s,p)}function u(s){return function(){var p,v,b=r(s);return p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=r(this).constructor,Reflect.construct(b,arguments,p)):b.apply(this,arguments),b=this,!(v=p)||a(v)!=="object"&&typeof v!="function"?i(b):v}}function i(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function r(s){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(s)}function t(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}function a(s){return(a=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(p){return y(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":y(p)})(s)}function l(s,p,v){return(p._userNode||document.body).appendChild(s),v=new(v?m.default.MediaElement:m.default.Element)(s,p),p._elements.push(v),v}function o(s,j,v,b){var x=document.createElement(j),w=(typeof(v=v||"")=="string"&&(v=[v]),!0),j=!1,E=void 0;try{for(var M,C=v[Symbol.iterator]();!(w=(M=C.next()).done);w=!0){var P=M.value,O=document.createElement("source");O.setAttribute("src",P),x.appendChild(O)}}catch(N){j=!0,E=N}finally{try{w||C.return==null||C.return()}finally{if(j)throw E}}typeof b=="function"&&x.addEventListener("canplaythrough",function N(){b(),x.removeEventListener("canplaythrough",N)});var D=l(x,s,!0);return D.loadedmetadata=!1,x.addEventListener("loadedmetadata",function(){D.width=x.videoWidth,D.height=x.videoHeight,D.elt.width===0&&(D.elt.width=x.videoWidth),D.elt.height===0&&(D.elt.height=x.videoHeight),D.presetPlaybackRate&&(D.elt.playbackRate=D.presetPlaybackRate,delete D.presetPlaybackRate),D.loadedmetadata=!0}),D}m.default.prototype.select=function(s,p){return m.default._validateParameters("select",arguments),p=this._getContainer(p).querySelector(s),p?this._wrapElement(p):null},m.default.prototype.selectAll=function(s,p){m.default._validateParameters("selectAll",arguments);var v=[],b=this._getContainer(p).querySelectorAll(s);if(b)for(var x=0;x<b.length;x++){var w=this._wrapElement(b[x]);v.push(w)}return v},m.default.prototype._getContainer=function(s){var p=document;return typeof s=="string"?p=document.querySelector(s)||document:s instanceof m.default.Element?p=s.elt:s instanceof HTMLElement&&(p=s),p},m.default.prototype._wrapElement=function(s){var p,v=Array.prototype.slice.call(s.children);return s.tagName==="INPUT"&&s.type==="checkbox"?((p=new m.default.Element(s,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},p):s.tagName==="VIDEO"||s.tagName==="AUDIO"?new m.default.MediaElement(s,this):s.tagName==="SELECT"?this.createSelect(new m.default.Element(s,this)):0<v.length&&v.every(function(b){return b.tagName==="INPUT"||b.tagName==="LABEL"})?this.createRadio(new m.default.Element(s,this)):new m.default.Element(s,this)},m.default.prototype.removeElements=function(s){m.default._validateParameters("removeElements",arguments),this._elements.filter(function(p){return!(p.elt instanceof HTMLCanvasElement)}).map(function(p){return p.remove()})},m.default.Element.prototype.changed=function(s){return m.default.Element._adjustListener("change",s,this),this},m.default.Element.prototype.input=function(s){return m.default.Element._adjustListener("input",s,this),this},m.default.prototype.createDiv=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",p=document.createElement("div");return p.innerHTML=s,l(p,this)},m.default.prototype.createP=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",p=document.createElement("p");return p.innerHTML=s,l(p,this)},m.default.prototype.createSpan=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",p=document.createElement("span");return p.innerHTML=s,l(p,this)},m.default.prototype.createImg=function(){m.default._validateParameters("createImg",arguments);var s,p=document.createElement("img"),v=arguments;return 1<v.length&&typeof v[1]=="string"&&(p.alt=v[1]),2<v.length&&typeof v[2]=="string"&&(p.crossOrigin=v[2]),p.src=v[0],s=l(p,this),p.addEventListener("load",function(){s.width=p.offsetWidth||p.width,s.height=p.offsetHeight||p.height;var b=v[v.length-1];typeof b=="function"&&b(s)}),s},m.default.prototype.createA=function(s,p,v){m.default._validateParameters("createA",arguments);var b=document.createElement("a");return b.href=s,b.innerHTML=p,v&&(b.target=v),l(b,this)},m.default.prototype.createSlider=function(s,p,v,b){m.default._validateParameters("createSlider",arguments);var x=document.createElement("input");return x.type="range",x.min=s,x.max=p,b===0?x.step=1e-18:b&&(x.step=b),typeof v=="number"&&(x.value=v),l(x,this)},m.default.prototype.createButton=function(s,p){m.default._validateParameters("createButton",arguments);var v=document.createElement("button");return v.innerHTML=s,p&&(v.value=p),l(v,this)},m.default.prototype.createCheckbox=function(){for(var s=arguments.length,p=new Array(s),v=0;v<s;v++)p[v]=arguments[v];m.default._validateParameters("createCheckbox",p);var b=document.createElement("div"),x=document.createElement("input"),w=(x.type="checkbox",document.createElement("label")),j=(w.appendChild(x),b.appendChild(w),l(b,this));return j.checked=function(){var E=j.elt.firstElementChild.getElementsByTagName("input")[0];if(E){if(arguments.length===0)return E.checked;E.checked=!(arguments.length<=0||!arguments[0])}return j},this.value=function(E){return j.value=E,this},p[0]&&(j.value(p[0]),(b=document.createElement("span")).innerHTML=p[0],w.appendChild(b)),p[1]&&(x.checked=!0),j},m.default.prototype.createSelect=function(){for(var s,p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];m.default._validateParameters("createSelect",v);var x,w=v[0];return w instanceof m.default.Element&&w.elt instanceof HTMLSelectElement?this.elt=(s=w).elt:w instanceof HTMLSelectElement?(s=l(w,this),this.elt=w):(x=document.createElement("select"),w&&typeof w=="boolean"&&x.setAttribute("multiple","true"),s=l(x,this),this.elt=x),s.option=function(j,E){var M;if(j!==void 0){for(var C,P=0;P<this.elt.length;P+=1)if(this.elt[P].textContent===j){M=P;break}M!==void 0?E===!1?this.elt.remove(M):this.elt[M].value=E:((C=document.createElement("option")).textContent=j,C.value=E===void 0?j:E,this.elt.appendChild(C),this._pInst._elements.push(C))}},s.selected=function(j){if(j!==void 0){for(var E=0;E<this.elt.length;E+=1)this.elt[E].value.toString()===j.toString()&&(this.elt.selectedIndex=E);return this}if(this.elt.getAttribute("multiple")){var M=[],C=!0,P=!1,O=void 0;try{for(var D,N=this.elt.selectedOptions[Symbol.iterator]();!(C=(D=N.next()).done);C=!0){var R=D.value;M.push(R.value)}}catch(I){P=!0,O=I}finally{try{C||N.return==null||N.return()}finally{if(P)throw O}}return M}return this.elt.value},s.disable=function(j){if(typeof j=="string")for(var E=0;E<this.elt.length;E++)this.elt[E].value.toString()===j&&(this.elt[E].disabled=!0,this.elt[E].selected=!1);else this.elt.disabled=!0;return this},s.enable=function(j){if(typeof j=="string")for(var E=0;E<this.elt.length;E++)this.elt[E].value.toString()===j&&(this.elt[E].disabled=!1,this.elt[E].selected=!1);else{this.elt.disabled=!1;for(var M=0;M<this.elt.length;M++)this.elt[M].disabled=!1,this.elt[M].selected=!1}return this},s},m.default.prototype.createRadio=function(){function s(j){return j instanceof HTMLInputElement&&j.type==="radio"}function p(j){return j instanceof HTMLLabelElement}var v,b,x,w=arguments.length<=0?void 0:arguments[0];return w instanceof m.default.Element&&(w.elt instanceof HTMLDivElement||w.elt instanceof HTMLSpanElement)?(v=w,this.elt=w.elt):w instanceof HTMLDivElement||w instanceof HTMLSpanElement?(v=l(w,this),b=this.elt=w,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(x=arguments.length<=1?void 0:arguments[1])):(typeof w=="string"&&(x=w),b=document.createElement("div"),v=l(b,this),this.elt=b),v._name=x||"radioOption",v._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(j){return s(j)||p(j)&&s(j.firstElementChild)}).map(function(j){return s(j)?j:j.firstElementChild})},v.option=function(j,E){var M,C,P,O=!0,D=!1,N=void 0;try{for(var R,I=v._getOptionsArray()[Symbol.iterator]();!(O=(R=I.next()).done);O=!0){var H=R.value;if(H.value===j){M=H;break}}}catch(ee){D=!0,N=ee}finally{try{O||I.return==null||I.return()}finally{if(D)throw N}}return M===void 0&&((M=document.createElement("input")).setAttribute("type","radio"),M.setAttribute("value",j)),M.setAttribute("name",v._name),p(M.parentElement)?C=M.parentElement:(C=document.createElement("label")).insertAdjacentElement("afterbegin",M),C.lastElementChild instanceof HTMLSpanElement?P=C.lastElementChild:(P=document.createElement("span"),M.insertAdjacentElement("afterend",P)),P.innerHTML=E===void 0?j:E,this.elt.appendChild(C),M},v.remove=function(j){var E=!0,M=!1,C=void 0;try{for(var P,O=v._getOptionsArray()[Symbol.iterator]();!(E=(P=O.next()).done);E=!0){var D=P.value;if(D.value===j)return void(p(D.parentElement)?D.parentElement:D).remove()}}catch(N){M=!0,C=N}finally{try{E||O.return==null||O.return()}finally{if(M)throw C}}},v.value=function(){var j="",E=!0,M=!1,C=void 0;try{for(var P,O=v._getOptionsArray()[Symbol.iterator]();!(E=(P=O.next()).done);E=!0){var D=P.value;if(D.checked){j=D.value;break}}}catch(N){M=!0,C=N}finally{try{E||O.return==null||O.return()}finally{if(M)throw C}}return j},v.selected=function(j){var E=null;if(j===void 0){var M=!0,C=!1,P=void 0;try{for(var O,D=v._getOptionsArray()[Symbol.iterator]();!(M=(O=D.next()).done);M=!0){var N=O.value;if(N.checked){E=N;break}}}catch(fe){C=!0,P=fe}finally{try{M||D.return==null||D.return()}finally{if(C)throw P}}}else{v._getOptionsArray().forEach(function(q){q.checked=!1,q.removeAttribute("checked")});var R=!0,C=!1,P=void 0;try{for(var I,H=v._getOptionsArray()[Symbol.iterator]();!(R=(I=H.next()).done);R=!0){var ee=I.value;ee.value===j&&(ee.setAttribute("checked",!0),ee.checked=!0,E=ee)}}catch(q){C=!0,P=q}finally{try{R||H.return==null||H.return()}finally{if(C)throw P}}}return E},v.disable=function(){var j=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],E=!0,M=!1,C=void 0;try{for(var P,O=v._getOptionsArray()[Symbol.iterator]();!(E=(P=O.next()).done);E=!0)P.value.setAttribute("disabled",j)}catch(D){M=!0,C=D}finally{try{E||O.return==null||O.return()}finally{if(M)throw C}}},v},m.default.prototype.createColorPicker=function(s){m.default._validateParameters("createColorPicker",arguments);var p=document.createElement("input");return p.type="color",s?s instanceof m.default.Color?p.value=s.toString("#rrggbb"):(m.default.prototype._colorMode="rgb",m.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},p.value=m.default.prototype.color(s).toString("#rrggbb")):p.value="#000000",(p=l(p,this)).color=function(){return s&&(s.mode&&(m.default.prototype._colorMode=s.mode),s.maxes&&(m.default.prototype._colorMaxes=s.maxes)),m.default.prototype.color(this.elt.value)},p},m.default.prototype.createInput=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",v=(m.default._validateParameters("createInput",arguments),document.createElement("input"));return v.setAttribute("value",s),v.setAttribute("type",p),l(v,this)},m.default.prototype.createFileInput=function(s){var p,v=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(m.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(p=document.createElement("input")).setAttribute("type","file"),v&&p.setAttribute("multiple",!0),p.addEventListener("change",function(b){var x=!0,w=!1,j=void 0;try{for(var E,M=b.target.files[Symbol.iterator]();!(x=(E=M.next()).done);x=!0){var C=E.value;m.default.File._load(C,s)}}catch(P){w=!0,j=P}finally{try{x||M.return==null||M.return()}finally{if(w)throw j}}},!1),l(p,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},m.default.prototype.createVideo=function(s,p){return m.default._validateParameters("createVideo",arguments),o(this,"video",s,p)},m.default.prototype.createAudio=function(s,p){return m.default._validateParameters("createAudio",arguments),o(this,"audio",s,p)},m.default.prototype.VIDEO="video",m.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(s){var p=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return p?new Promise(function(v,b){p.call(navigator,s,v,b)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),m.default.prototype.createCapture=function(){for(var s=arguments.length,p=new Array(s),v=0;v<s;v++)p[v]=arguments[v];if(m.default._validateParameters("createCapture",p),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var b,x=!0,w=!0,j=0,E=p;j<E.length;j++){var M=E[j];M===m.default.prototype.VIDEO?w=!1:M===m.default.prototype.AUDIO?x=!1:a(M)==="object"?C=M:typeof M=="function"&&(b=M)}var C=C||{video:x,audio:w},P=document.createElement("video"),O=(P.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(C).then(function(D){try{"srcObject"in P?P.srcObject=D:P.src=window.URL.createObjectURL(D)}catch{P.src=D}},console.log),l(P,this,!0));return O.loadedmetadata=!1,P.addEventListener("loadedmetadata",function(){P.play(),P.width?(O.width=P.width,O.height=P.height):(O.width=O.elt.width=P.videoWidth,O.height=O.elt.height=P.videoHeight),O.loadedmetadata=!0,b&&b(P.srcObject)}),O},m.default.prototype.createElement=function(s,p){return m.default._validateParameters("createElement",arguments),s=document.createElement(s),p!==void 0&&(s.innerHTML=p),l(s,this)},m.default.Element.prototype.addClass=function(s){return this.elt.className?this.hasClass(s)||(this.elt.className=this.elt.className+" "+s):this.elt.className=s,this},m.default.Element.prototype.removeClass=function(s){return this.elt.classList.remove(s),this},m.default.Element.prototype.hasClass=function(s){return this.elt.classList.contains(s)},m.default.Element.prototype.toggleClass=function(s){return this.elt.classList.contains(s)?this.elt.classList.remove(s):this.elt.classList.add(s),this},m.default.Element.prototype.child=function(s){return s===void 0?this.elt.childNodes:(typeof s=="string"?(s[0]==="#"&&(s=s.substring(1)),s=document.getElementById(s)):s instanceof m.default.Element&&(s=s.elt),s instanceof HTMLElement&&this.elt.appendChild(s),this)},m.default.Element.prototype.center=function(s){var p=this.elt.style.display,v=this.elt.style.display==="none",b=this.parent().style.display==="none",x={x:this.elt.offsetLeft,y:this.elt.offsetTop},w=(v&&this.show(),b&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),j=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return s==="both"||s===void 0?this.position(w/2+this.parent().offsetLeft,j/2+this.parent().offsetTop):s==="horizontal"?this.position(w/2+this.parent().offsetLeft,x.y):s==="vertical"&&this.position(x.x,j/2+this.parent().offsetTop),this.style("display",p),v&&this.hide(),b&&this.parent().hide(),this},m.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},m.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},m.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var s="";return this.elt.style.transform&&(s=(s=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=s,this},m.default.Element.prototype._rotate=function(){var s="";return this.elt.style.transform&&(s=(s=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=s,this},m.default.Element.prototype.style=function(s,p){if((p=p instanceof m.default.Color?"rgba("+p.levels[0]+","+p.levels[1]+","+p.levels[2]+","+p.levels[3]/255+")":p)===void 0){if(s.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(s);for(var v=s.split(";"),b=0;b<v.length;b++){var x=v[b].split(":");x[0]&&x[1]&&(this.elt.style[x[0].trim()]=x[1].trim())}}else this.elt.style[s]=p,s!=="width"&&s!=="height"&&s!=="left"&&s!=="top"||(p=window.getComputedStyle(this.elt).getPropertyValue(s).replace(/[^\d.]/g,""),this[s]=Math.round(parseFloat(p,10)));return this},m.default.Element.prototype.attribute=function(s,p){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return p===void 0?this.elt.getAttribute(s):(this.elt.setAttribute(s,p),this);if(p===void 0)return this.elt.firstChild.getAttribute(s);for(var v=0;v<this.elt.childNodes.length;v++)this.elt.childNodes[v].setAttribute(s,p)},m.default.Element.prototype.removeAttribute=function(s){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var p=0;p<this.elt.childNodes.length;p++)this.elt.childNodes[p].removeAttribute(s);return this.elt.removeAttribute(s),this},m.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},m.default.Element.prototype.show=function(){return this.elt.style.display="block",this},m.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},m.default.Element.prototype.size=function(s,p){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var v=s,b=p,x=m.default.prototype.AUTO;if(v!==x||b!==x){if(v===x?v=p*this.width/this.height:b===x&&(b=s*this.height/this.width),this.elt instanceof HTMLCanvasElement){var w,j={},E=this.elt.getContext("2d");for(w in E)j[w]=E[w];for(w in this.elt.setAttribute("width",v*this._pInst._pixelDensity),this.elt.setAttribute("height",b*this._pInst._pixelDensity),this.elt.style.width=v+"px",this.elt.style.height=b+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),j)this.elt.getContext("2d")[w]=j[w]}else this.elt.style.width=v+"px",this.elt.style.height=b+"px",this.elt.width=v,this.elt.height=b;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},m.default.Element.prototype.remove=function(){this instanceof m.default.MediaElement&&(this.stop(),(p=this.elt.srcObject)!==null&&p.getTracks().forEach(function(v){v.stop()}));var s,p=this._pInst._elements.indexOf(this);for(s in p!==-1&&this._pInst._elements.splice(p,1),this._events)this.elt.removeEventListener(s,this._events[s]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},m.default.Element.prototype.drop=function(s,p){var v;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",v=function(b){b.preventDefault()}),this.elt.addEventListener("dragleave",v)),m.default.Element._attachListener("drop",function(x){x.preventDefault(),typeof p=="function"&&p.call(this,x);var x=x.dataTransfer.files,w=!0,j=!1,E=void 0;try{for(var M,C=x[Symbol.iterator]();!(w=(M=C.next()).done);w=!0){var P=M.value;m.default.File._load(P,s)}}catch(O){j=!0,E=O}finally{try{w||C.return==null||C.return()}finally{if(j)throw E}}},this)):console.log("The File APIs are not fully supported in this browser."),this};function c(s,p,v,b){t(this,c),this.callback=s,this.time=p,this.id=v,this.val=b}n=function(s){var p=b;if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(s&&s.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),s&&d(p,s);var v=u(b);function b(x,w){t(this,b);var j=i(w=v.call(this,x,w));return w.elt.crossOrigin="anonymous",w._prevTime=0,w._cueIDCounter=0,w._cues=[],w.pixels=[],w._pixelsState=i(w),w._pixelDensity=1,w._modified=!1,w._frameOnCanvas=-1,Object.defineProperty(j,"src",{get:function(){var E=j.elt.children[0].src,M=j.elt.src===window.location.href?"":j.elt.src;return E===window.location.href?M:E},set:function(E){for(var M=0;M<j.elt.children.length;M++)j.elt.removeChild(j.elt.children[M]);var C=document.createElement("source");C.src=E,x.appendChild(C),j.elt.src=E,j.modified=!0}}),j._onended=function(){},j.elt.onended=function(){j._onended(j)},w}return g(b,[{key:"play",value:function(){var x;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(x=this.elt.play())&&x.catch&&x.catch(function(w){w.name==="NotAllowedError"?console.error(w):console.error("Media play method encountered an unexpected error",w)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var x=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(x)},{passive:!0,once:!0})}},{key:"autoplay",value:function(x){var w=this,j=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",x),x&&!j&&(x=function(){return w._setupAutoplayFailDetection()},this.elt.readyState===4?x():this.elt.addEventListener("canplay",x,{passive:!0,once:!0})),this}},{key:"volume",value:function(x){if(x===void 0)return this.elt.volume;this.elt.volume=x}},{key:"speed",value:function(x){if(x===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=x:this.presetPlaybackRate=x}},{key:"time",value:function(x){return x===void 0?this.elt.currentTime:(this.elt.currentTime=x,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var x=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&x&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var x=arguments.length,w=new Array(x),j=0;j<x;j++)w[j]=arguments[j];return m.default.Renderer2D.prototype.loadPixels.apply(this,w)}},{key:"updatePixels",value:function(x,w,j,E){return this.loadedmetadata&&(this._ensureCanvas(),m.default.Renderer2D.prototype.updatePixels.call(this,x,w,j,E)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var x=arguments.length,w=new Array(x),j=0;j<x;j++)w[j]=arguments[j];return m.default.Renderer2D.prototype.get.apply(this,w)}},{key:"_getPixel",value:function(){this.loadPixels();for(var x=arguments.length,w=new Array(x),j=0;j<x;j++)w[j]=arguments[j];return m.default.Renderer2D.prototype._getPixel.apply(this,w)}},{key:"set",value:function(x,w,j){this.loadedmetadata&&(this._ensureCanvas(),m.default.Renderer2D.prototype.set.call(this,x,w,j),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var x=arguments.length,w=new Array(x),j=0;j<x;j++)w[j]=arguments[j];m.default.prototype.copy.apply(this,w)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var x=arguments.length,w=new Array(x),j=0;j<x;j++)w[j]=arguments[j];m.default.Image.prototype.mask.apply(this,w)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(x){this._modified=x}},{key:"onended",value:function(x){return this._onended=x,this}},{key:"connect",value:function(x){var w,j;if(typeof m.default.prototype.getAudioContext=="function")w=m.default.prototype.getAudioContext(),j=m.default.soundOut.input;else try{j=(w=x.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=w.createMediaElementSource(this.elt),this.audioSourceNode.connect(j)),x?x.input?this.audioSourceNode.connect(x.input):this.audioSourceNode.connect(x):this.audioSourceNode.connect(j)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(x,M,j){var E=this._cueIDCounter++,M=new c(M,x,E,j);return this._cues.push(M),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),E}},{key:"removeCue",value:function(x){for(var w=0;w<this._cues.length;w++)this._cues[w].id===x&&(console.log(x),this._cues.splice(w,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var x=this.time(),w=0;w<this._cues.length;w++){var j=this._cues[w].time,E=this._cues[w].val;this._prevTime<j&&j<=x&&this._cues[w].callback(E)}this._prevTime=x}}]),b}(m.default.Element),m.default.MediaElement=n,n=function(){function s(p,v){t(this,s),this.file=p,this._pInst=v,v=p.type.split("/"),this.type=v[0],this.subtype=v[1],this.name=p.name,this.size=p.size,this.data=void 0}return g(s,null,[{key:"_createLoader",value:function(p,v){var b=new FileReader;return b.onload=function(x){var w,j=new m.default.File(p);j.file.type==="application/json"?j.data=JSON.parse(x.target.result):j.file.type==="text/xml"?(w=new DOMParser().parseFromString(x.target.result,"text/xml"),j.data=new m.default.XML(w.documentElement)):j.data=x.target.result,v(j)},b}},{key:"_load",value:function(p,v){var b;/^text\//.test(p.type)||p.type==="application/json"?m.default.File._createLoader(p,v).readAsText(p):/^(video|audio)\//.test(p.type)?((b=new m.default.File(p)).data=URL.createObjectURL(p),v(b)):m.default.File._createLoader(p,v).readAsDataURL(p)}}]),s}(),m.default.File=n,n=m.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238}],290:[function(n,Z,S){function y(p){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}function m(p){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(v){return y(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":y(v)})(p)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(s=n("../core/main"))&&s.__esModule?s:{default:s},g=function(p){if(p&&p.__esModule)return p;if(p===null||m(p)!=="object"&&typeof p!="function")return{default:p};var v=d();if(v&&v.has(p))return v.get(p);var b,x={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in p){var j;Object.prototype.hasOwnProperty.call(p,b)&&((j=w?Object.getOwnPropertyDescriptor(p,b):null)&&(j.get||j.set)?Object.defineProperty(x,b,j):x[b]=p[b])}return x.default=p,v&&v.set(p,x),x}(n("../core/constants"));function d(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,d=function(){return p},p)}f.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",f.default.prototype.accelerationX=0,f.default.prototype.accelerationY=0,f.default.prototype.accelerationZ=0,f.default.prototype.pAccelerationX=0,f.default.prototype.pAccelerationY=0,f.default.prototype.pAccelerationZ=0,f.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},f.default.prototype.rotationX=0,f.default.prototype.rotationY=0,f.default.prototype.rotationZ=0,f.default.prototype.pRotationX=0,f.default.prototype.pRotationY=0;var u=f.default.prototype.pRotationZ=0,i=0,r=0,t="clockwise",a="clockwise",l="clockwise",o=(f.default.prototype.pRotateDirectionX=void 0,f.default.prototype.pRotateDirectionY=void 0,f.default.prototype.pRotateDirectionZ=void 0,f.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},f.default.prototype.turnAxis=void 0,.5),c=30,s=(f.default.prototype.setMoveThreshold=function(p){f.default._validateParameters("setMoveThreshold",arguments),o=p},f.default.prototype.setShakeThreshold=function(p){f.default._validateParameters("setShakeThreshold",arguments),c=p},f.default.prototype._ondeviceorientation=function(p){this._updatePRotations(),this._angleMode===g.radians&&(p.beta=p.beta*(_PI/180),p.gamma=p.gamma*(_PI/180),p.alpha=p.alpha*(_PI/180)),this._setProperty("rotationX",p.beta),this._setProperty("rotationY",p.gamma),this._setProperty("rotationZ",p.alpha),this._handleMotion()},f.default.prototype._ondevicemotion=function(p){this._updatePAccelerations(),this._setProperty("accelerationX",2*p.acceleration.x),this._setProperty("accelerationY",2*p.acceleration.y),this._setProperty("accelerationZ",2*p.acceleration.z),this._handleMotion()},f.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var p,v,b,x,w,j=this._isGlobal?window:this;typeof j.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>o||Math.abs(this.accelerationY-this.pAccelerationY)>o||Math.abs(this.accelerationZ-this.pAccelerationZ)>o)&&j.deviceMoved(),typeof j.deviceTurned=="function"&&(v=this.rotationX+180,p=this.pRotationX+180,b=u+180,0<v-p&&v-p<270||v-p<-270?t="clockwise":(v-p<0||270<v-p)&&(t="counter-clockwise"),t!==this.pRotateDirectionX&&(b=v),90<Math.abs(v-b)&&Math.abs(v-b)<270&&(b=v,this._setProperty("turnAxis","X"),j.deviceTurned()),this.pRotateDirectionX=t,u=b-180,p=this.rotationY+180,v=this.pRotationY+180,b=i+180,0<p-v&&p-v<270||p-v<-270?a="clockwise":(p-v<0||270<p-this.pRotationY)&&(a="counter-clockwise"),a!==this.pRotateDirectionY&&(b=p),90<Math.abs(p-b)&&Math.abs(p-b)<270&&(b=p,this._setProperty("turnAxis","Y"),j.deviceTurned()),this.pRotateDirectionY=a,i=b-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?l="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(l="counter-clockwise"),l!==this.pRotateDirectionZ&&(r=this.rotationZ),90<Math.abs(this.rotationZ-r)&&Math.abs(this.rotationZ-r)<270&&(r=this.rotationZ,this._setProperty("turnAxis","Z"),j.deviceTurned()),this.pRotateDirectionZ=l,this._setProperty("turnAxis",void 0)),typeof j.deviceShaken=="function"&&(this.pAccelerationX!==null&&(x=Math.abs(this.accelerationX-this.pAccelerationX),w=Math.abs(this.accelerationY-this.pAccelerationY)),c<x+w&&j.deviceShaken())},f.default);S.default=s},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],291:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};y.default.prototype.isKeyPressed=!1,y.default.prototype.keyIsPressed=!1,y.default.prototype.key="",y.default.prototype.keyCode=0,y.default.prototype._onkeydown=function(m){var f;this._downKeys[m.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",m.which),this._downKeys[m.which]=!0,this._setProperty("key",m.key||String.fromCharCode(m.which)||m.which),typeof(f=this._isGlobal?window:this).keyPressed!="function"||m.charCode||f.keyPressed(m)===!1&&m.preventDefault())},y.default.prototype._onkeyup=function(m){this._downKeys[m.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",m.key||String.fromCharCode(m.which)||m.which),this._setProperty("keyCode",m.which);var f=this._isGlobal?window:this;typeof f.keyReleased=="function"&&f.keyReleased(m)===!1&&m.preventDefault()},y.default.prototype._onkeypress=function(m){var f;m.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",m.which),this._setProperty("key",m.key||String.fromCharCode(m.which)||m.which),typeof(f=this._isGlobal?window:this).keyTyped=="function"&&f.keyTyped(m)===!1&&m.preventDefault())},y.default.prototype._onblur=function(m){this._downKeys={}},y.default.prototype.keyIsDown=function(m){return y.default._validateParameters("keyIsDown",arguments),this._downKeys[m]||!1},y.default.prototype._areDownKeys=function(){for(var m in this._downKeys)if(this._downKeys.hasOwnProperty(m)&&this._downKeys[m]===!0)return!0;return!1},n=y.default,S.default=n},{"../core/main":273}],292:[function(n,Z,S){function y(u){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}function m(u){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(i){return y(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":y(i)})(u)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.string.includes"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(f=n("../core/main"))&&f.__esModule?f:{default:f},g=function(u){if(u&&u.__esModule)return u;if(u===null||m(u)!=="object"&&typeof u!="function")return{default:u};var i=d();if(i&&i.has(u))return i.get(u);var r,t={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in u){var l;Object.prototype.hasOwnProperty.call(u,r)&&((l=a?Object.getOwnPropertyDescriptor(u,r):null)&&(l.get||l.set)?Object.defineProperty(t,r,l):t[r]=u[r])}return t.default=u,i&&i.set(u,t),t}(n("../core/constants"));function d(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,d=function(){return u},u)}f.default.prototype.movedX=0,f.default.prototype.movedY=0,f.default.prototype._hasMouseInteracted=!1,f.default.prototype.mouseX=0,f.default.prototype.mouseY=0,f.default.prototype.pmouseX=0,f.default.prototype.pmouseY=0,f.default.prototype.winMouseX=0,f.default.prototype.winMouseY=0,f.default.prototype.pwinMouseX=0,f.default.prototype.pwinMouseY=0,f.default.prototype.mouseButton=0,f.default.prototype.mouseIsPressed=!1,f.default.prototype._updateNextMouseCoords=function(u){var i,r,t,a,l;this._curElement!==null&&(!u.touches||0<u.touches.length)&&(i=this._curElement.elt,r=this.width,t=this.height,(a=u)&&!a.clientX&&(a.touches?a=a.touches[0]:a.changedTouches&&(a=a.changedTouches[0])),l=i.getBoundingClientRect(),r=i.scrollWidth/r||1,i=i.scrollHeight/t||1,t={x:(a.clientX-l.left)/r,y:(a.clientY-l.top)/i,winX:a.clientX,winY:a.clientY,id:a.identifier},this._setProperty("movedX",u.movementX),this._setProperty("movedY",u.movementY),this._setProperty("mouseX",t.x),this._setProperty("mouseY",t.y),this._setProperty("winMouseX",t.winX),this._setProperty("winMouseY",t.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},f.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},f.default.prototype._setMouseButton=function(u){u.button===1?this._setProperty("mouseButton",g.CENTER):u.button===2?this._setProperty("mouseButton",g.RIGHT):this._setProperty("mouseButton",g.LEFT)},f.default.prototype._onmousemove=function(u){var i=this._isGlobal?window:this;this._updateNextMouseCoords(u),this.mouseIsPressed?typeof i.mouseDragged=="function"?i.mouseDragged(u)===!1&&u.preventDefault():typeof i.touchMoved=="function"&&i.touchMoved(u)===!1&&u.preventDefault():typeof i.mouseMoved=="function"&&i.mouseMoved(u)===!1&&u.preventDefault()},f.default.prototype._onmousedown=function(u){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(u),this._updateNextMouseCoords(u),typeof i.mousePressed=="function"?i.mousePressed(u)===!1&&u.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof i.touchStarted=="function"&&i.touchStarted(u)===!1&&u.preventDefault()},f.default.prototype._onmouseup=function(u){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof i.mouseReleased=="function"?i.mouseReleased(u)===!1&&u.preventDefault():typeof i.touchEnded=="function"&&i.touchEnded(u)===!1&&u.preventDefault()},f.default.prototype._ondragend=f.default.prototype._onmouseup,f.default.prototype._ondragover=f.default.prototype._onmousemove,f.default.prototype._onclick=function(u){var i=this._isGlobal?window:this;typeof i.mouseClicked=="function"&&i.mouseClicked(u)===!1&&u.preventDefault()},f.default.prototype._ondblclick=function(u){var i=this._isGlobal?window:this;typeof i.doubleClicked=="function"&&i.doubleClicked(u)===!1&&u.preventDefault()},f.default.prototype._mouseWheelDeltaY=0,f.default.prototype._pmouseWheelDeltaY=0,f.default.prototype._onwheel=function(u){var i=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",u.deltaY),typeof i.mouseWheel=="function"&&(u.delta=u.deltaY,i.mouseWheel(u)===!1&&u.preventDefault())},f.default.prototype.requestPointerLock=function(){var u=this._curElement.elt;return u.requestPointerLock=u.requestPointerLock||u.mozRequestPointerLock,u.requestPointerLock?(u.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},f.default.prototype.exitPointerLock=function(){document.exitPointerLock()},n=f.default,S.default=n},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],293:[function(n,Z,S){n("core-js/modules/es.array.includes"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.string.includes"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n=(n=n("../core/main"))&&n.__esModule?n:{default:n},n.default.prototype.touches=[],n.default.prototype._updateTouchCoords=function(y){if(this._curElement!==null){for(var m=[],f=0;f<y.touches.length;f++)m[f]=function(l,a,o,i){var r=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,t=l.getBoundingClientRect(),a=l.scrollWidth/a||1,l=l.scrollHeight/o||1,o=i.touches[r]||i.changedTouches[r];return{x:(o.clientX-t.left)/a,y:(o.clientY-t.top)/l,winX:o.clientX,winY:o.clientY,id:o.identifier}}(this._curElement.elt,this.width,this.height,y,f);this._setProperty("touches",m)}},n.default.prototype._ontouchstart=function(y){var m=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(y),this._updateNextMouseCoords(y),this._updateMouseCoords(),typeof m.touchStarted=="function"?m.touchStarted(y)===!1&&y.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof m.mousePressed=="function"&&m.mousePressed(y)===!1&&y.preventDefault()},n.default.prototype._ontouchmove=function(y){var m=this._isGlobal?window:this;this._updateTouchCoords(y),this._updateNextMouseCoords(y),typeof m.touchMoved=="function"?m.touchMoved(y)===!1&&y.preventDefault():typeof m.mouseDragged=="function"&&m.mouseDragged(y)===!1&&y.preventDefault()},n.default.prototype._ontouchend=function(y){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(y),this._updateNextMouseCoords(y);var m=this._isGlobal?window:this;typeof m.touchEnded=="function"?m.touchEnded(y)===!1&&y.preventDefault():typeof m.mouseReleased=="function"&&m.mouseReleased(y)===!1&&y.preventDefault()},n=n.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.string.includes":189}],294:[function(n,Z,S){n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.typed-array.int32-array"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.typed-array.int32-array"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y,m,f,g,d={_toPixels:function(u){var i,r;return u instanceof ImageData?u.data:u.getContext("2d")?u.getContext("2d").getImageData(0,0,u.width,u.height).data:u.getContext("webgl")?(r=(i=u.getContext("webgl")).drawingBufferWidth*i.drawingBufferHeight*4,r=new Uint8Array(r),i.readPixels(0,0,u.width,u.height,i.RGBA,i.UNSIGNED_BYTE,r),r):void 0},_getARGB:function(u,i){return i*=4,u[3+i]<<24&4278190080|u[i]<<16&16711680|u[1+i]<<8&65280|255&u[2+i]},_setPixels:function(u,i){for(var r,t=0,a=u.length;t<a;t++)u[0+(r=4*t)]=(16711680&i[t])>>>16,u[1+r]=(65280&i[t])>>>8,u[2+r]=255&i[t],u[3+r]=(4278190080&i[t])>>>24},_toImageData:function(u){return u instanceof ImageData?u:u.getContext("2d").getImageData(0,0,u.width,u.height)},_createImageData:function(u,i){return d._tmpCanvas=document.createElement("canvas"),d._tmpCtx=d._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(u,i)},apply:function(u,l,r){var t=u.getContext("2d"),a=t.getImageData(0,0,u.width,u.height),l=l(a,r);l instanceof ImageData?t.putImageData(l,0,0,0,0,u.width,u.height):t.putImageData(a,0,0,0,0,u.width,u.height)},threshold:function(u,i){for(var r=d._toPixels(u),t=(i===void 0&&(i=.5),Math.floor(255*i)),a=0;a<r.length;a+=4){var l=void 0,l=t<=.2126*r[a]+.7152*r[a+1]+.0722*r[a+2]?255:0;r[a]=r[a+1]=r[a+2]=l}},gray:function(u){for(var i=d._toPixels(u),r=0;r<i.length;r+=4){var t=i[r],a=i[r+1],l=i[r+2];i[r]=i[r+1]=i[r+2]=.2126*t+.7152*a+.0722*l}},opaque:function(u){for(var i=d._toPixels(u),r=0;r<i.length;r+=4)i[r+3]=255;return i},invert:function(u){for(var i=d._toPixels(u),r=0;r<i.length;r+=4)i[r]=255-i[r],i[r+1]=255-i[r+1],i[r+2]=255-i[r+2]},posterize:function(u,i){var r=d._toPixels(u);if(i<2||255<i)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var t=i-1,a=0;a<r.length;a+=4){var l=r[a],o=r[a+1],c=r[a+2];r[a]=255*(l*i>>8)/t,r[a+1]=255*(o*i>>8)/t,r[a+2]=255*(c*i>>8)/t}},dilate:function(u){for(var i,r,t,a,l,o,c,s,p,v=d._toPixels(u),b=0,x=v.length?v.length/4:0,w=new Int32Array(x);b<x;)for(r=(i=b)+u.width;b<r;)a=t=d._getARGB(v,b),(p=b-1)<i&&(p=b),r<=(s=b+1)&&(s=b),(l=b-u.width)<0&&(l=0),x<=(o=b+u.width)&&(o=b),l=d._getARGB(v,l),p=d._getARGB(v,p),o=d._getARGB(v,o),(a=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))<(c=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(t=p,a=c),a<(c=77*((p=d._getARGB(v,s))>>16&255)+151*(p>>8&255)+28*(255&p))&&(t=p,a=c),a<(s=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(t=l,a=s),a<(p=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))&&(t=o,a=p),w[b++]=t;d._setPixels(v,w)},erode:function(u){for(var i,r,t,a,l,o,c,s,p,v=d._toPixels(u),b=0,x=v.length?v.length/4:0,w=new Int32Array(x);b<x;)for(r=(i=b)+u.width;b<r;)a=t=d._getARGB(v,b),(p=b-1)<i&&(p=b),r<=(s=b+1)&&(s=b),(l=b-u.width)<0&&(l=0),x<=(o=b+u.width)&&(o=b),l=d._getARGB(v,l),p=d._getARGB(v,p),o=d._getARGB(v,o),(c=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<(a=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))&&(t=p,a=c),(c=77*((p=d._getARGB(v,s))>>16&255)+151*(p>>8&255)+28*(255&p))<a&&(t=p,a=c),(s=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<a&&(t=l,a=s),(p=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))<a&&(t=o,a=p),w[b++]=t;d._setPixels(v,w)},blur:function(u,i){for(var r,t,a,l,o,c,s,p,v,b,x=d._toPixels(u),w=u.width,j=u.height,E=w*j,M=new Int32Array(E),C=0;C<E;C++)M[C]=d._getARGB(x,C);var P,O,D,N,R,I,H,ee,fe=new Int32Array(E),xe=new Int32Array(E),q=new Int32Array(E),V=new Int32Array(E),K=0,J=3.5*i|0;if(y!==(J=J<1?1:J<248?J:248)){m=1+(y=J)<<1,f=new Int32Array(m),g=new Array(m);for(var oe=0;oe<m;oe++)g[oe]=new Int32Array(256);for(var _e=1,Oe=J-1;_e<J;_e++){f[J+_e]=f[Oe]=I=Oe*Oe,H=g[J+_e],ee=g[Oe--];for(var De=0;De<256;De++)H[De]=ee[De]=I*De}R=f[J]=J*J,H=g[J];for(var Te=0;Te<256;Te++)H[Te]=R*Te}for(O=0;O<j;O++){for(P=0;P<w;P++){if(l=a=t=o=r=0,(c=P-y)<0)b=-c,c=0;else{if(w<=c)break;b=0}for(D=b;D<m&&!(w<=c);D++){var Be=M[c+K];N=g[D],o+=N[(-16777216&Be)>>>24],t+=N[(16711680&Be)>>16],a+=N[(65280&Be)>>8],l+=N[255&Be],r+=f[D],c++}fe[s=K+P]=o/r,xe[s]=t/r,q[s]=a/r,V[s]=l/r}K+=w}for(v=(p=-y)*w,O=K=0;O<j;O++){for(P=0;P<w;P++){if(l=a=t=o=r=0,p<0)b=s=-p,c=P;else{if(j<=p)break;b=0,s=p,c=P+v}for(D=b;D<m&&!(j<=s);D++)N=g[D],o+=N[fe[c]],t+=N[xe[c]],a+=N[q[c]],l+=N[V[c]],r+=f[D],s++,c+=w;M[P+K]=o/r<<24|t/r<<16|a/r<<8|l/r}K+=w,v+=w,p++}d._setPixels(x,M)}};S.default=d},{"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int32-array":215,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232}],295:[function(n,Z,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=f(n("../core/main")),m=f(n("omggif"));function f(d){return d&&d.__esModule?d:{default:d}}function g(d){return function(u){if(Array.isArray(u)){for(var i=0,r=new Array(u.length);i<u.length;i++)r[i]=u[i];return r}}(d)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}y.default.prototype.createImage=function(d,u){return y.default._validateParameters("createImage",arguments),new y.default.Image(d,u)},y.default.prototype.saveCanvas=function(){y.default._validateParameters("saveCanvas",arguments);var d,u,i,r,t=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(d=arguments[0],t.shift()):arguments[0]instanceof y.default.Element?(d=arguments[0].elt,t.shift()):d=this._curElement&&this._curElement.elt,1<=t.length&&(u=t[0]),i=(i=2<=t.length?t[1]:i)||y.default.prototype._checkFileExtension(u,i)[1]||"png"){default:r="image/png";break;case"jpeg":case"jpg":r="image/jpeg"}d.toBlob(function(a){y.default.prototype.downloadFile(a,u,i)},r)},y.default.prototype.encodeAndDownloadGif=function(d,u){for(var i=d.gifProperties,r=i.loopLimit,t=(r===1?r=null:r===null&&(r=0),new Uint8Array(d.width*d.height*i.numFrames)),a=[],l={},o=0;o<i.numFrames;o++){for(var c=new Set,s=i.frames[o].image.data,p=s.length,v=new Uint32Array(d.width*d.height),b=0,x=0;b<p;b+=4,x++){var w=s[b+0]<<16|s[b+1]<<8|s[b+2]<<0;c.add(w),v[x]=w}var j=g(c).sort().toString();l[j]===void 0?l[j]={freq:1,frames:[o]}:(l[j].freq+=1,l[j].frames.push(o)),a.push(v)}for(var C=[],E=Object.keys(l).sort(function(q,V){return l[V].freq-l[q].freq}),M=E[0].split(",").map(function(q){return parseInt(q)}),C=C.concat(l[M].frames),P=new Set(M),O=1;O<E.length;O++){var D=E[O].split(",").map(function(q){return parseInt(q)}).filter(function(q){return!P.has(q)});if(M.length+D.length<=256){for(var N=0;N<D.length;N++)M.push(D[N]),P.add(D[N]);C=C.concat(l[E[O]].frames)}}C=new Set(C);for(var R={},I=0;I<M.length;I++)R[M[I]]||(R[M[I]]=I);for(var H=1;H<M.length;)H<<=1;M.length=H;for(var r={loop:r,palette:new Uint32Array(M)},ee=new m.default.GifWriter(t,d.width,d.height,r),fe={},xe=0;xe<i.numFrames;xe++)(function(V){var K=!C.has(V),J=K?[]:M,oe=new Uint8Array(d.width*d.height),_e={},Oe=new Set,De=(a[V].forEach(function(ge,Ae){K?(_e[ge]===void 0&&(_e[ge]=J.length,J.push(ge)),oe[Ae]=_e[ge]):oe[Ae]=R[ge],0<V&&a[V-1][Ae]!==ge&&Oe.add(ge)}),{}),Te=J.filter(function(ge){return!Oe.has(ge)});if(0<Te.length){var Te=Te[0],Be=(K?_e:R)[Te];if(0<V){for(var Re=0;Re<a[V].length;Re++)a[V-1][Re]===a[V][Re]&&(oe[Re]=Be);De.transparent=Be,fe.frameOpts.disposal=1}}if(De.delay=i.frames[V].delay/10,K){for(var ve=1;ve<J.length;)ve<<=1;J.length=ve,De.palette=new Uint32Array(J)}0<V&&ee.addFrame(0,0,d.width,d.height,fe.pixelPaletteIndex,fe.frameOpts),fe={pixelPaletteIndex:oe,frameOpts:De}})(xe);fe.frameOpts.disposal=1,ee.addFrame(0,0,d.width,d.height,fe.pixelPaletteIndex,fe.frameOpts),r=new Blob([t.slice(0,ee.end())],{type:"image/gif"}),y.default.prototype.downloadFile(r,u,"gif")},y.default.prototype.saveFrames=function(d,u,i,a,t){y.default._validateParameters("saveFrames",arguments),i=y.default.prototype.constrain(i=i||3,0,15),i*=1e3;var a=y.default.prototype.constrain(a||15,0,22),l=0,o=y.default.prototype._makeFrame,c=this._curElement.elt,s=[],p=setInterval(function(){s.push(o(d+l,u,c)),l++},1e3/a);setTimeout(function(){if(clearInterval(p),t)t(s);else{var v=!0,b=!1,x=void 0;try{for(var w,j=s[Symbol.iterator]();!(v=(w=j.next()).done);v=!0){var E=w.value;y.default.prototype.downloadFile(E.imageData,E.filename,E.ext)}}catch(M){b=!0,x=M}finally{try{v||j.return==null||j.return()}finally{if(b)throw x}}}s=[]},.01+i)},y.default.prototype._makeFrame=function(d,u,t){var r,t=this?this._curElement.elt:t;if(u)switch(u.toLowerCase()){case"png":r="image/png";break;case"jpeg":case"jpg":r="image/jpeg";break;default:r="image/png"}else u="png",r="image/png";var t=(t=t.toDataURL(r)).replace(r,"image/octet-stream"),a={};return a.imageData=t,a.filename=d,a.ext=u,a},n=y.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,omggif:246}],296:[function(n,Z,S){function y(c){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(c)}function m(c){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(s){return y(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":y(s)})(c)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.copy-within"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.copy-within"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n("regenerator-runtime/runtime");var f=t(n("../core/main")),g=t(n("../core/helpers")),d=function(c){if(c&&c.__esModule)return c;if(c===null||m(c)!=="object"&&typeof c!="function")return{default:c};var s=r();if(s&&s.has(c))return s.get(c);var p,v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in c){var x;Object.prototype.hasOwnProperty.call(c,p)&&((x=b?Object.getOwnPropertyDescriptor(c,p):null)&&(x.get||x.set)?Object.defineProperty(v,p,x):v[p]=c[p])}return v.default=c,s&&s.set(c,v),v}(n("../core/constants")),u=t(n("omggif")),i=n("gifenc");function r(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,r=function(){return c},c)}function t(c){return c&&c.__esModule?c:{default:c}}function a(c,s,p,v,b,x,w){try{var j=c[x](w),E=j.value}catch(M){return void p(M)}j.done?s(E):Promise.resolve(E).then(v,b)}function l(c,s,p,v,b,x,w,j,E,M,C){var P,O,D,N,R,I,H,ee,fe;return c===d.COVER&&(P=s,D=p,H=x,ee=w,I=j,fe=E,O=M,N=C,R=Math.max(H/O,ee/N),H/=R,ee/=R,R=I,I=fe,P===d.CENTER?R+=(O-H)/2:P===d.RIGHT&&(R+=O-H),D===d.CENTER?I+=(N-ee)/2:D===d.BOTTOM&&(I+=N-ee),j=(fe={x:R,y:I,w:H,h:ee}).x,E=fe.y,M=fe.w,C=fe.h),c===d.CONTAIN&&(P=s,O=p,D=v,N=b,R=x,I=w,H=M,ee=C,fe=Math.max(H/R,ee/I),H/=fe,ee/=fe,fe=D,D=N,P===d.CENTER?fe+=(R-H)/2:P===d.RIGHT&&(fe+=R-H),O===d.CENTER?D+=(I-ee)/2:O===d.BOTTOM&&(D+=I-ee),v=(c={x:fe,y:D,w:H,h:ee}).x,b=c.y,x=c.w,w=c.h),{sx:j,sy:E,sw:M,sh:C,dx:v,dy:b,dw:x,dh:w}}function o(c,s){return 0<c&&c<s?c:s}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),f.default.prototype.loadImage=function(c,s,p){f.default._validateParameters("loadImage",arguments);var v=new f.default.Image(1,1,this),b=this,x=new Request(c,{method:"GET",mode:"cors"});return fetch(c,x).then(function(w){var j,E=w.headers.get("content-type");E===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),E&&E.includes("image/gif")?w.arrayBuffer().then(function(M){if(M){for(var M=new Uint8Array(M),C=v,P=s,O=p,D=(function(K){b._decrementPreload()}).bind(b),N=new u.default.GifReader(M),R=(C.width=C.canvas.width=N.width,C.height=C.canvas.height=N.height,[]),I=N.numFrames(),H=new Uint8ClampedArray(C.width*C.height*4),ee=0;ee<I;ee++){var fe=N.frameInfo(ee),xe=C.drawingContext.getImageData(0,0,C.width,C.height),q=(H=xe.data.slice(),function(K,J){try{J.decodeAndBlitFrameRGBA(K,H)}catch(oe){f.default._friendlyFileLoadError(8,C.src),typeof O=="function"?O(oe):console.error(oe)}}(ee,N),new ImageData(H,C.width,C.height)),q=(C.drawingContext.putImageData(q,0,0),fe.delay);q===0&&(q=10),R.push({image:C.drawingContext.getImageData(0,0,C.width,C.height),delay:10*q}),fe.disposal===2?C.drawingContext.clearRect(fe.x,fe.y,fe.width,fe.height):fe.disposal===3&&C.drawingContext.putImageData(xe,0,0,fe.x,fe.y,fe.width,fe.height)}(M=N.loopCount())===null?M=1:M===0&&(M=null),C.drawingContext.putImageData(R[0].image,0,0),1<R.length&&(C.gifProperties={displayIndex:0,loopLimit:M,loopCount:0,frames:R,numFrames:I,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof P=="function"&&P(C),D()}},function(M){typeof p=="function"?(p(M),b._decrementPreload()):console.error(M)}):((j=new Image).onload=function(){v.width=v.canvas.width=j.width,v.height=v.canvas.height=j.height,v.drawingContext.drawImage(j,0,0),v.modified=!0,typeof s=="function"&&s(v),b._decrementPreload()},j.onerror=function(M){f.default._friendlyFileLoadError(0,j.src),typeof p=="function"?(p(M),b._decrementPreload()):console.error(M)},c.indexOf("data:image/")!==0&&(j.crossOrigin="Anonymous"),j.src=c),v.modified=!0}).catch(function(w){f.default._friendlyFileLoadError(0,c),typeof p=="function"?(p(w),b._decrementPreload()):console.error(w)}),v},f.default.prototype.saveGif=function(){c=regeneratorRuntime.mark(function p(v,b){var x,w,j,E,M,C,P,O,D,N,R,I,H,ee,fe,xe,q,V,K,J,oe,_e,Oe,De,Te,Be,Re=arguments;return regeneratorRuntime.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(x=2<Re.length&&Re[2]!==void 0?Re[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof v!="string")throw TypeError("fileName parameter must be a string");ve.next=3;break;case 3:if(typeof b!="number")throw TypeError("Duration parameter must be a number");ve.next=5;break;case 5:if(w=x&&x.delay||0,j=x&&x.units||"seconds",E=x&&x.silent||!1,M=x&&x.notificationDuration||0,C=x&&x.notificationID||"progressBar",typeof w!="number")throw TypeError("Delay parameter must be a number");ve.next=12;break;case 12:if(j!=="seconds"&&j!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');ve.next=14;break;case 14:if(typeof E!="boolean")throw TypeError("Silent parameter must be a boolean");ve.next=16;break;case 16:if(typeof M!="number")throw TypeError("Notification duration parameter must be a number");ve.next=18;break;case 18:if(typeof C!="string")throw TypeError("Notification ID parameter must be a string");ve.next=20;break;case 20:return this._recording=!0,N=this._targetFrameRate,P=(P=1/(N=N!==1/0&&N!==void 0&&N!==0?N:60)*1e3)<20?20:P,D=(O=j==="seconds"?b*N:b)+(N=j==="seconds"?w*N:w),N=N,this.frameCount=N,R=this._pixelDensity,this.pixelDensity(1),I=[],document.getElementById(C)!==null&&document.getElementById(C).remove(),E||((H=this.createP("")).id(C),H.style("font-size","16px"),H.style("font-family","Montserrat"),H.style("background-color","#ffffffa0"),H.style("padding","8px"),H.style("border-radius","10px"),H.position(0,0)),this._renderer instanceof f.default.RendererGL&&(fe=this.drawingContext,ee=new Uint8Array(fe.drawingBufferWidth*fe.drawingBufferHeight*4)),this.noLoop(),ve.next=39,Promise.resolve();case 39:if(N<D)return this.redraw(),De=void 0,De=this._renderer instanceof f.default.RendererGL?(ee=new Uint8Array(fe.drawingBufferWidth*fe.drawingBufferHeight*4),fe.readPixels(0,0,fe.drawingBufferWidth,fe.drawingBufferHeight,fe.RGBA,fe.UNSIGNED_BYTE,ee),function(ge){for(var Ae=parseInt(height/2),Ie=4*width,de=new Uint8Array(4*width),ae=0;ae<Ae;++ae){var ne=ae*Ie,Me=(height-ae-1)*Ie;de.set(ge.subarray(ne,ne+Ie)),ge.copyWithin(ne,Me,Me+Ie),ge.set(de,Me)}return ge}(ee)):this.drawingContext.getImageData(0,0,this.width,this.height).data,I.push(De),N++,E||H.html("Saved frame <b>"+I.length.toString()+"</b> out of "+O.toString()),ve.next=48,new Promise(function(ge){return setTimeout(ge,0)});ve.next=50;break;case 48:ve.next=39;break;case 50:E||H.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(R),xe=(0,i.GIFEncoder)(),q=function(ge){for(var Ae=new Uint8Array(ge.length*ge[0].length),Ie=0;Ie<ge.length;Ie++)Ae.set(ge[Ie],Ie*ge[0].length);var de=(0,i.quantize)(Ae,256,{format:"rgba4444",oneBitAlpha:!0});return de.length===256?de[de.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:de.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),de}(I),V={},K=function(ge){for(var Ae=ge.length/4,Ie=new Uint8Array(Ae),de=0;de<Ae;de++){var ae=ge[4*de]<<24|ge[4*de+1]<<16|ge[4*de+2]<<8|ge[4*de+3];V[ae]===void 0&&(V[ae]=(0,i.nearestColorIndex)(q,ge.slice(4*de,4*(de+1)))),Ie[de]=V[ae]}return Ie},J=q.length-1,oe=[],_e=0;case 60:if(!(_e<I.length)){ve.next=71;break}if(Oe=K(I[_e]),De=Oe.slice(),_e===0)xe.writeFrame(Oe,this.width,this.height,{palette:q,delay:P,dispose:1});else{for(Te=0;Te<Oe.length;Te++)Oe[Te]===oe[Te]&&(Oe[Te]=J);xe.writeFrame(Oe,this.width,this.height,{delay:P,transparent:!0,transparentIndex:J,dispose:1})}return oe=De,E||H.html("Rendered frame <b>"+_e.toString()+"</b> out of "+O.toString()),ve.next=68,new Promise(function(ge){return setTimeout(ge,0)});case 68:_e++,ve.next=60;break;case 71:xe.finish(),Be=xe.bytesView(),Be=new Blob([Be],{type:"image/gif"}),I=[],this._recording=!1,this.loop(),E||(H.html("Done. Downloading your gif!🌸"),0<M&&setTimeout(function(){return H.remove()},1e3*M)),f.default.prototype.downloadFile(Be,v,"gif");case 80:case"end":return ve.stop()}},p,this)});var c,s=function(){var p=this,v=arguments;return new Promise(function(b,x){var w=c.apply(p,v);function j(M){a(w,b,x,j,E,"next",M)}function E(M){a(w,b,x,j,E,"throw",M)}j(void 0)})};return function(p,v){return s.apply(this,arguments)}}(),f.default.prototype.image=function(c,s,p,v,N,R,I,H,fe,M,C,P){f.default._validateParameters("image",arguments);var ee=c.width,O=c.height,D=(P=P||d.CENTER,C=C||d.CENTER,c.elt&&c.elt.videoWidth&&!c.canvas&&(ee=c.elt.videoWidth,O=c.elt.videoHeight),v||ee),N=N||O,R=R||0,I=I||0,H=o(H||ee,ee),ee=o(fe||O,O),fe=1;c.elt&&!c.canvas&&c.elt.style.width&&(fe=c.elt.videoWidth&&!v?c.elt.videoWidth:c.elt.width,fe/=parseInt(c.elt.style.width,10)),R*=fe,I*=fe,ee*=fe,H*=fe,O=l(M,C,P,(O=g.default.modeAdjust(s,p,D,N,this._renderer._imageMode)).x,O.y,O.w,O.h,R,I,H,ee),this._renderer.image(c,O.sx,O.sy,O.sw,O.sh,O.dx,O.dy,O.dw,O.dh)},f.default.prototype.tint=function(){for(var c=arguments.length,s=new Array(c),p=0;p<c;p++)s[p]=arguments[p];f.default._validateParameters("tint",s);var v=this.color.apply(this,s);this._renderer._tint=v.levels},f.default.prototype.noTint=function(){this._renderer._tint=null},f.default.prototype._getTintedImageCanvas=f.default.Renderer2D.prototype._getTintedImageCanvas,f.default.prototype.imageMode=function(c){f.default._validateParameters("imageMode",arguments),c!==d.CORNER&&c!==d.CORNERS&&c!==d.CENTER||(this._renderer._imageMode=c)},n=f.default,S.default=n},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/helpers":269,"../core/main":273,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,gifenc:243,omggif:246,"regenerator-runtime/runtime":250}],297:[function(n,Z,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=f(n("../core/main")),m=f(n("./filters"));function f(d){return d&&d.__esModule?d:{default:d}}function g(d,u){for(var i=0;i<u.length;i++){var r=u[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(d,r.key,r)}}y.default.Image=function(){function d(r,t){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.width=r,this.height=t,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var u,i;return u=d,(i=[{key:"_animateGif",value:function(l){var t,a=this.gifProperties,l=l._lastRealFrameTime;a.lastChangeTime===0&&(a.lastChangeTime=l),a.playing&&(a.timeDisplayed=l-a.lastChangeTime,t=a.frames[a.displayIndex].delay,a.timeDisplayed>=t&&(t=Math.floor(a.timeDisplayed/t),a.timeDisplayed=0,a.lastChangeTime=l,a.displayIndex+=t,a.loopCount=Math.floor(a.displayIndex/a.numFrames),a.loopLimit!==null&&a.loopCount>=a.loopLimit?a.playing=!1:(l=a.displayIndex%a.numFrames,this.drawingContext.putImageData(a.frames[l].image,0,0),a.displayIndex=l,this.setModified(!0))))}},{key:"_setProperty",value:function(r,t){this[r]=t,this.setModified(!0)}},{key:"loadPixels",value:function(){y.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(r,t,a,l){y.default.Renderer2D.prototype.updatePixels.call(this,r,t,a,l),this.setModified(!0)}},{key:"get",value:function(r,t,a,l){return y.default._validateParameters("p5.Image.get",arguments),y.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];return y.default.Renderer2D.prototype._getPixel.apply(this,t)}},{key:"set",value:function(r,t,a){y.default.Renderer2D.prototype.set.call(this,r,t,a),this.setModified(!0)}},{key:"resize",value:function(r,t){r===0&&t===0?(r=this.canvas.width,t=this.canvas.height):r===0?r=this.canvas.width*t/this.canvas.height:t===0&&(t=this.canvas.height*r/this.canvas.width),r=Math.floor(r),t=Math.floor(t);var a=document.createElement("canvas");if(a.width=r,a.height=t,this.gifProperties)for(var l=this.gifProperties,o=0;o<l.numFrames;o++){for(var c=this.drawingContext.createImageData(r,t),s=(w=w=x=b=v=void 0,l.frames[o].image),p=c,v=0,b=0;b<p.height;b++)for(var x=0;x<p.width;x++){var w=Math.floor(x*s.width/p.width),w=4*(Math.floor(b*s.height/p.height)*s.width+w);p.data[v++]=s.data[w++],p.data[v++]=s.data[w++],p.data[v++]=s.data[w++],p.data[v++]=s.data[+w]}l.frames[o].image=c}a.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,a.width,a.height),this.canvas.width=this.width=r,this.canvas.height=this.height=t,this.drawingContext.drawImage(a,0,0,r,t,0,0,r,t),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];y.default.prototype.copy.apply(this,t)}},{key:"mask",value:function(r){var t=this.drawingContext.globalCompositeOperation,a=1,l=[r=r===void 0?this:r,0,0,(a=r instanceof y.default.Renderer?r._pInst._pixelDensity:a)*r.width,a*r.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var o=0;o<this.gifProperties.frames.length;o++)this.drawingContext.putImageData(this.gifProperties.frames[o].image,0,0),this.copy.apply(this,l),this.gifProperties.frames[o].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,l);this.drawingContext.globalCompositeOperation=t,this.setModified(!0)}},{key:"filter",value:function(r,t){m.default.apply(this.canvas,m.default[r],t),this.setModified(!0)}},{key:"blend",value:function(){for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];y.default._validateParameters("p5.Image.blend",arguments),y.default.prototype.blend.apply(this,t),this.setModified(!0)}},{key:"setModified",value:function(r){this._modified=r}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(r,t){this.gifProperties?y.default.prototype.encodeAndDownloadGif(this,r):y.default.prototype.saveCanvas(this.canvas,r,t)}},{key:"reset",value:function(){var r;this.gifProperties&&((r=this.gifProperties).playing=!0,r.timeSinceStart=0,r.timeDisplayed=0,r.lastChangeTime=0,r.loopCount=0,r.displayIndex=0,this.drawingContext.putImageData(r.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var r;if(this.gifProperties)return(r=this.gifProperties).displayIndex%r.numFrames}},{key:"setFrame",value:function(r){var t;this.gifProperties&&(r<(t=this.gifProperties).numFrames&&0<=r?(t.timeDisplayed=0,t.lastChangeTime=0,t.displayIndex=r,this.drawingContext.putImageData(t.frames[r].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(r,t){if(this.gifProperties){var a=this.gifProperties;if(t<a.numFrames&&0<=t)a.frames[t].delay=r;else{var l=!0,t=!1,o=void 0;try{for(var c,s=a.frames[Symbol.iterator]();!(l=(c=s.next()).done);l=!0)c.value.delay=r}catch(v){t=!0,o=v}finally{try{l||s.return==null||s.return()}finally{if(t)throw o}}}}}}])&&g(u.prototype,i),d}(),n=y.default.Image,S.default=n},{"../core/main":273,"./filters":294,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],298:[function(n,Z,S){n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.filter"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=f(n("../core/main")),m=f(n("./filters"));function f(g){return g&&g.__esModule?g:{default:g}}n("../color/p5.Color"),y.default.prototype.pixels=[],y.default.prototype.blend=function(){for(var g,d=arguments.length,u=new Array(d),i=0;i<d;i++)u[i]=arguments[i];y.default._validateParameters("blend",u),this._renderer?(g=this._renderer).blend.apply(g,u):y.default.Renderer2D.prototype.blend.apply(this,u)},y.default.prototype.copy=function(){for(var g,d,u,i,r,t,a,l,o,c=arguments.length,s=new Array(c),p=0;p<c;p++)s[p]=arguments[p];if(y.default._validateParameters("copy",s),s.length===9)g=s[0],d=s[1],u=s[2],i=s[3],r=s[4],t=s[5],a=s[6],l=s[7],o=s[8];else{if(s.length!==8)throw new Error("Signature not supported");g=this,d=s[0],u=s[1],i=s[2],r=s[3],t=s[4],a=s[5],l=s[6],o=s[7]}y.default.prototype._copyHelper(this,g,d,u,i,r,t,a,l,o)},y.default.prototype._copyHelper=function(g,d,u,i,r,t,a,l,o,c){d.loadPixels();var s=d.canvas.width/d.width,p=0,v=0;d._renderer&&d._renderer.isP3D&&(p=d.width/2,v=d.height/2),g._renderer&&g._renderer.isP3D?y.default.RendererGL.prototype.image.call(g._renderer,d,u+p,i+v,r,t,a,l,o,c):g.drawingContext.drawImage(d.canvas,s*(u+p),s*(i+v),s*r,s*t,a,l,o,c)},y.default.prototype.filter=function(g,d){y.default._validateParameters("filter",arguments),this.canvas!==void 0?m.default.apply(this.canvas,m.default[g],d):m.default.apply(this.elt,m.default[g],d)},y.default.prototype.get=function(g,d,u,i){var r;return y.default._validateParameters("get",arguments),(r=this._renderer).get.apply(r,arguments)},y.default.prototype.loadPixels=function(){for(var g=arguments.length,d=new Array(g),u=0;u<g;u++)d[u]=arguments[u];y.default._validateParameters("loadPixels",d),this._renderer.loadPixels()},y.default.prototype.set=function(g,d,u){this._renderer.set(g,d,u)},y.default.prototype.updatePixels=function(g,d,u,i){y.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(g,d,u,i)},n=y.default,S.default=n},{"../color/p5.Color":260,"../core/main":273,"./filters":294,"core-js/modules/es.array.filter":155}],299:[function(n,Z,S){function y(t){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(t)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.from-entries"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/web.url"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.from-entries"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/web.url"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=d(n("../core/main")),f=(n("whatwg-fetch"),n("es6-promise/auto"),d(n("fetch-jsonp"))),g=d(n("file-saver"));function d(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(a){return y(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(t)}function i(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function r(t,a){a&&a!==!0&&a!=="true"||(a="");var l="";return(t=t||"untitled")&&t.includes(".")&&(l=t.split(".").pop()),a&&l!==a&&(l=a,t="".concat(t,".").concat(l)),[t,l]}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),m.default.prototype.loadJSON=function(){for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];m.default._validateParameters("loadJSON",a);for(var o,c,s,p=a[0],v={},b="json",x=1;x<a.length;x++){var w=a[x];typeof w=="string"?w!=="jsonp"&&w!=="json"||(b=w):typeof w=="function"?o?c=w:o=w:u(w)==="object"&&(w.hasOwnProperty("jsonpCallback")||w.hasOwnProperty("jsonpCallbackFunction"))&&(b="jsonp",s=w)}var j=this;return this.httpDo(p,"GET",s,b,function(E){for(var M in E)v[M]=E[M];o!==void 0&&o(E),j._decrementPreload()},function(E){if(m.default._friendlyFileLoadError(5,p),!c)throw E;c(E)}),v},m.default.prototype.loadStrings=function(){for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];m.default._validateParameters("loadStrings",a);for(var o,c,s=[],p=1;p<a.length;p++){var v=a[p];typeof v=="function"&&(o===void 0?o=v:c===void 0&&(c=v))}var b=this;return m.default.prototype.httpDo.call(this,a[0],"GET","text",function(x){for(var w=x.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),j=0,E=w.length;j<E;j+=32768)Array.prototype.push.apply(s,w.slice(j,Math.min(j+32768,E)));o!==void 0&&o(s),b._decrementPreload()},function(x){if(m.default._friendlyFileLoadError(3,x),!c)throw x;c(x)}),s},m.default.prototype.loadTable=function(t){var a,l,o,c=!1,s=t.substring(t.lastIndexOf(".")+1,t.length);s==="csv"?o=",":s==="ssv"?o=";":s==="tsv"&&(o="	");for(var p=1;p<arguments.length;p++)typeof arguments[p]=="function"?a===void 0?a=arguments[p]:l===void 0&&(l=arguments[p]):typeof arguments[p]=="string"&&(arguments[p]==="header"&&(c=!0),arguments[p]==="csv"?o=",":arguments[p]==="ssv"?o=";":arguments[p]==="tsv"&&(o="	"));var v=new m.default.Table,b=this;return this.httpDo(t,"GET","table",function(x){for(var w,j,E={},M=0,C=[],P=0,O=null,D=function(){E.currentState=M,E.token=""},N=function(){O.push(E.token),D()},R=function(){E.currentState=4,C.push(O),O=null};;){if((w=x[P++])==null){if(E.escaped)throw new Error("Unclosed quote in file.");if(O){N(),R();break}}if(O===null&&(E.escaped=!1,O=[],D()),E.currentState===M){if(w==='"'){E.escaped=!0,E.currentState=1;continue}E.currentState=1}if(E.currentState===1&&E.escaped)if(w==='"')x[P]==='"'?(E.token+='"',P++):(E.escaped=!1,E.currentState=2);else{if(w==="\r")continue;E.token+=w}else w==="\r"?(x[P]===`
`&&P++,N(),R()):w===`
`?(N(),R()):w===o?N():E.currentState===1&&(E.token+=w)}if(c)v.columns=C.shift();else for(var I=0;I<C[0].length;I++)v.columns[I]="null";for(var H=0;H<C.length;H++)(C[H].length!==1||C[H][0]!=="undefined"&&C[H][0]!=="")&&((j=new m.default.TableRow).arr=C[H],j.obj=function(ee,fe){if((fe=fe||[])===void 0)for(var xe=0;xe<ee.length;xe++)fe[xe.toString()]=xe;return Object.fromEntries(fe.map(function(q,V){return[q,ee[V]]}))}(C[H],v.columns),v.addRow(j));typeof a=="function"&&a(v),b._decrementPreload()},function(x){m.default._friendlyFileLoadError(2,t),l?l(x):console.error(x)}),v},m.default.prototype.loadXML=function(){for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];for(var o,c,s=new m.default.XML,p=1;p<a.length;p++){var v=a[p];typeof v=="function"&&(o===void 0?o=v:c===void 0&&(c=v))}var b=this;return this.httpDo(a[0],"GET","xml",function(x){for(var w in x)s[w]=x[w];o!==void 0&&o(s),b._decrementPreload()},function(x){if(m.default._friendlyFileLoadError(1,x),!c)throw x;c(x)}),s},m.default.prototype.loadBytes=function(t,a,l){var o={},c=this;return this.httpDo(t,"GET","arrayBuffer",function(s){o.bytes=new Uint8Array(s),typeof a=="function"&&a(o),c._decrementPreload()},function(s){if(m.default._friendlyFileLoadError(6,t),!l)throw s;l(s)}),o},m.default.prototype.httpGet=function(){m.default._validateParameters("httpGet",arguments);var t=Array.prototype.slice.call(arguments);return t.splice(1,0,"GET"),m.default.prototype.httpDo.apply(this,t)},m.default.prototype.httpPost=function(){m.default._validateParameters("httpPost",arguments);var t=Array.prototype.slice.call(arguments);return t.splice(1,0,"POST"),m.default.prototype.httpDo.apply(this,t)},m.default.prototype.httpDo=function(){for(var t,a,l,o={},c=0,s="text/plain",p=arguments.length-1;0<p&&typeof(p<0||arguments.length<=p?void 0:arguments[p])=="function";p--)c++;var v=arguments.length-c,b=arguments.length<=0?void 0:arguments[0];if(v==2&&typeof b=="string"&&u(arguments.length<=1?void 0:arguments[1])==="object")C=new Request(b,arguments.length<=1?void 0:arguments[1]),a=arguments.length<=2?void 0:arguments[2],l=arguments.length<=3?void 0:arguments[3];else{for(var x,w="GET",j=1;j<arguments.length;j++){var E=j<0||arguments.length<=j?void 0:arguments[j];if(typeof E=="string")E==="GET"||E==="POST"||E==="PUT"||E==="DELETE"?w=E:E==="json"||E==="jsonp"||E==="binary"||E==="arrayBuffer"||E==="xml"||E==="text"||E==="table"?t=E:x=E;else if(typeof E=="number")x=E.toString();else if(u(E)==="object")if(E.hasOwnProperty("jsonpCallback")||E.hasOwnProperty("jsonpCallbackFunction"))for(var M in E)o[M]=E[M];else s=E instanceof m.default.XML?(x=E.serialize(),"application/xml"):(x=JSON.stringify(E),"application/json");else typeof E=="function"&&(a?l=E:a=E)}var v=w==="GET"?new Headers:new Headers({"Content-Type":s}),C=new Request(b,{method:w,mode:"cors",body:x,headers:v})}return(v=(v=(t=t||(b.includes("json")?"json":b.includes("xml")?"xml":"text"))==="jsonp"?(0,f.default)(b,o):fetch(C)).then(function(P){if(!P.ok)throw(O=new Error(P.body)).status=P.status,O.ok=!1,O;var O=0;switch((O=t!=="jsonp"?P.headers.get("content-length"):O)&&64e6<O&&m.default._friendlyFileLoadError(7,b),t){case"json":case"jsonp":return P.json();case"binary":return P.blob();case"arrayBuffer":return P.arrayBuffer();case"xml":return P.text().then(function(D){return D=new DOMParser().parseFromString(D,"text/xml"),new m.default.XML(D.documentElement)});default:return P.text()}})).then(a||function(){}),v.catch(l||console.error),v},window.URL=window.URL||window.webkitURL,m.default.prototype._pWriters=[],m.default.prototype.createWriter=function(t,a){var l,o;for(o in m.default.prototype._pWriters)if(m.default.prototype._pWriters[o].name===t)return l=new m.default.PrintWriter(t+this.millis(),a),m.default.prototype._pWriters.push(l),l;return l=new m.default.PrintWriter(t,a),m.default.prototype._pWriters.push(l),l},m.default.PrintWriter=function(t,a){var l=this;this.name=t,this.content="",this.write=function(o){this.content+=o},this.print=function(o){this.content+="".concat(o,`
`)},this.clear=function(){this.content=""},this.close=function(){var o,c=[];for(o in c.push(this.content),m.default.prototype.writeFile(c,t,a),m.default.prototype._pWriters)m.default.prototype._pWriters[o].name===this.name&&m.default.prototype._pWriters.splice(o,1);l.clear(),l={}}},m.default.prototype.save=function(t,a,l){var o=arguments,c=(this._curElement||this).elt;if(o.length===0)m.default.prototype.saveCanvas(c);else if(o[0]instanceof m.default.Renderer||o[0]instanceof m.default.Graphics)m.default.prototype.saveCanvas(o[0].elt,o[1],o[2]);else if(o.length===1&&typeof o[0]=="string")m.default.prototype.saveCanvas(c,o[0]);else switch(r(o[1],o[2])[1]){case"json":return void m.default.prototype.saveJSON(o[0],o[1],o[2]);case"txt":return void m.default.prototype.saveStrings(o[0],o[1],o[2]);default:o[0]instanceof Array?m.default.prototype.saveStrings(o[0],o[1],o[2]):o[0]instanceof m.default.Table?m.default.prototype.saveTable(o[0],o[1],o[2]):o[0]instanceof m.default.Image?m.default.prototype.saveCanvas(o[0].canvas,o[1]):o[0]instanceof m.default.SoundFile&&m.default.prototype.saveSound(o[0],o[1],o[2],o[3])}},m.default.prototype.saveJSON=function(t,a,l){m.default._validateParameters("saveJSON",arguments),l=l?JSON.stringify(t):JSON.stringify(t,void 0,2),this.saveStrings(l.split(`
`),a,"json")},m.default.prototype.saveJSONObject=m.default.prototype.saveJSON,m.default.prototype.saveJSONArray=m.default.prototype.saveJSON,m.default.prototype.saveStrings=function(t,a,l,o){m.default._validateParameters("saveStrings",arguments);for(var c=this.createWriter(a,l||"txt"),s=0;s<t.length;s++)o?c.write(t[s]+`\r
`):c.write(t[s]+`
`);c.close(),c.clear()},m.default.prototype.saveTable=function(t,a,l){m.default._validateParameters("saveTable",arguments),o=l===void 0?a.substring(a.lastIndexOf(".")+1,a.length):l;var o,c=this.createWriter(a,o),s=t.columns,p=o==="tsv"?"	":",";if(o!=="html"){if(s[0]!=="0"){for(var v=0;v<s.length;v++)v<s.length-1?c.write(s[v]+p):c.write(s[v]);c.write(`
`)}for(var b=0;b<t.rows.length;b++){for(var x=void 0,x=0;x<t.rows[b].arr.length;x++)x<t.rows[b].arr.length-1?o==="csv"&&String(t.rows[b].arr[x]).includes(",")?c.write('"'+t.rows[b].arr[x]+'"'+p):c.write(t.rows[b].arr[x]+p):o==="csv"&&String(t.rows[b].arr[x]).includes(",")?c.write('"'+t.rows[b].arr[x]+'"'):c.write(t.rows[b].arr[x]);c.write(`
`)}}else{if(c.print("<html>"),c.print("<head>"),c.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),c.print("</head>"),c.print("<body>"),c.print("  <table>"),s[0]!=="0"){c.print("    <tr>");for(var w=0;w<s.length;w++){var j=i(s[w]);c.print("      <td>".concat(j)),c.print("      </td>")}c.print("    </tr>")}for(var E=0;E<t.rows.length;E++){c.print("    <tr>");for(var M=0;M<t.columns.length;M++){var C=i(t.rows[E].getString(M));c.print("      <td>".concat(C)),c.print("      </td>")}c.print("    </tr>")}c.print("  </table>"),c.print("</body>"),c.print("</html>")}c.close(),c.clear()},m.default.prototype.writeFile=function(c,a,l){var o="application/octet-stream",c=(m.default.prototype._isSafari()&&(o="text/plain"),new Blob(c,{type:o}));m.default.prototype.downloadFile(c,a,l)},m.default.prototype.downloadFile=function(t,c,s){var o,c=r(c,s),s=c[0];t instanceof Blob?g.default.saveAs(t,s):((o=document.createElement("a")).href=t,o.download=s,o.onclick=function(p){document.body.removeChild(p.target),p.stopPropagation()},o.style.display="none",document.body.appendChild(o),m.default.prototype._isSafari()&&(t=(t=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(c[1],'"'),alert(t)),o.click())},m.default.prototype._checkFileExtension=r,m.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},n=m.default,S.default=n},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238,"es6-promise/auto":239,"fetch-jsonp":241,"file-saver":242,"whatwg-fetch":251}],300:[function(n,Z,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};function m(f,g){for(var d=0;d<g.length;d++){var u=g[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(f,u.key,u)}}y.default.Table=function(){function f(u){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var g,d;return g=f,(d=[{key:"addRow",value:function(u){if(u=u||new y.default.TableRow,u.arr===void 0||u.obj===void 0)throw new Error("invalid TableRow: ".concat(u));return(u.table=this).rows.push(u),u}},{key:"removeRow",value:function(u){this.rows[u].table=null,u=this.rows.splice(u+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(u)}},{key:"getRow",value:function(u){return this.rows[u]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(u,i){if(typeof i=="string"){for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[i]===u)return this.rows[r]}else for(var t=0;t<this.rows.length;t++)if(this.rows[t].arr[i]===u)return this.rows[t];return null}},{key:"findRows",value:function(u,i){var r=[];if(typeof i=="string")for(var t=0;t<this.rows.length;t++)this.rows[t].obj[i]===u&&r.push(this.rows[t]);else for(var a=0;a<this.rows.length;a++)this.rows[a].arr[i]===u&&r.push(this.rows[a]);return r}},{key:"matchRow",value:function(u,i){if(typeof i=="number"){for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[i].match(u))return this.rows[r]}else for(var t=0;t<this.rows.length;t++)if(this.rows[t].obj[i].match(u))return this.rows[t];return null}},{key:"matchRows",value:function(u,i){var r=[];if(typeof i=="number")for(var t=0;t<this.rows.length;t++)this.rows[t].arr[i].match(u)&&r.push(this.rows[t]);else for(var a=0;a<this.rows.length;a++)this.rows[a].obj[i].match(u)&&r.push(this.rows[a]);return r}},{key:"getColumn",value:function(u){var i=[];if(typeof u=="string")for(var r=0;r<this.rows.length;r++)i.push(this.rows[r].obj[u]);else for(var t=0;t<this.rows.length;t++)i.push(this.rows[t].arr[u]);return i}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(u){this.columns.push(u||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(u,i){for(var r=[],t=0;t<u.length;t++)r.push(u.charAt(t).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var a=new RegExp(r.join("|"),"g");if(i===void 0)for(var l=0;l<this.columns.length;l++)for(var o=0;o<this.rows.length;o++){var c=(c=this.rows[o].arr[l]).replace(a,"");this.rows[o].arr[l]=c,this.rows[o].obj[this.columns[l]]=c}else if(typeof i=="string")for(var s=0;s<this.rows.length;s++){var p=(p=this.rows[s].obj[i]).replace(a,""),v=(this.rows[s].obj[i]=p,this.columns.indexOf(i));this.rows[s].arr[v]=p}else for(var b=0;b<this.rows.length;b++){var x=(x=this.rows[b].arr[i]).replace(a,"");this.rows[b].arr[i]=x,this.rows[b].obj[this.columns[i]]=x}}},{key:"trim",value:function(u){var i=new RegExp(" ","g");if(u===void 0)for(var r=0;r<this.columns.length;r++)for(var t=0;t<this.rows.length;t++){var a=(a=this.rows[t].arr[r]).replace(i,"");this.rows[t].arr[r]=a,this.rows[t].obj[this.columns[r]]=a}else if(typeof u=="string")for(var l=0;l<this.rows.length;l++){var o=(o=this.rows[l].obj[u]).replace(i,""),c=(this.rows[l].obj[u]=o,this.columns.indexOf(u));this.rows[l].arr[c]=o}else for(var s=0;s<this.rows.length;s++){var p=(p=this.rows[s].arr[u]).replace(i,"");this.rows[s].arr[u]=p,this.rows[s].obj[this.columns[u]]=p}}},{key:"removeColumn",value:function(t){typeof t=="string"?r=this.columns.indexOf(i=t):i=this.columns[r=t];var i,r,t=this.columns.splice(r+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(t);for(var a=0;a<this.rows.length;a++){var l=this.rows[a].arr,o=l.splice(r+1,l.length);l.pop(),this.rows[a].arr=l.concat(o),delete this.rows[a].obj[i]}}},{key:"set",value:function(u,i,r){this.rows[u].set(i,r)}},{key:"setNum",value:function(u,i,r){this.rows[u].setNum(i,r)}},{key:"setString",value:function(u,i,r){this.rows[u].setString(i,r)}},{key:"get",value:function(u,i){return this.rows[u].get(i)}},{key:"getNum",value:function(u,i){return this.rows[u].getNum(i)}},{key:"getString",value:function(u,i){return this.rows[u].getString(i)}},{key:"getObject",value:function(u){for(var i,r={},t=0;t<this.rows.length;t++)if(i=this.rows[t].obj,typeof u=="string"){if(!(0<=this.columns.indexOf(u)))throw new Error('This table has no column named "'.concat(u,'"'));r[i[u]]=i}else r[t]=this.rows[t].obj;return r}},{key:"getArray",value:function(){for(var u=[],i=0;i<this.rows.length;i++)u.push(this.rows[i].arr);return u}}])&&m(g.prototype,d),f}(),n=y.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.splice":166,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194}],301:[function(n,Z,S){n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.from-entries"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.from-entries"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n=(n=n("../core/main"))&&n.__esModule?n:{default:n};function y(m,f){for(var g=0;g<f.length;g++){var d=f[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}n.default.TableRow=function(){function m(d,u){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var i=[];d&&(i=d.split(u=u||",")),this.arr=i,this.obj=Object.fromEntries(i.entries()),this.table=null}var f,g;return f=m,(g=[{key:"set",value:function(d,u){if(typeof d=="string"){var i=this.table.columns.indexOf(d);if(!(0<=i))throw new Error('This table has no column named "'.concat(d,'"'));this.obj[d]=u,this.arr[i]=u}else{if(!(d<this.table.columns.length))throw new Error("Column #".concat(d," is out of the range of this table"));this.arr[d]=u,i=this.table.columns[d],this.obj[i]=u}}},{key:"setNum",value:function(d,u){u=parseFloat(u),this.set(d,u)}},{key:"setString",value:function(d,u){u=u.toString(),this.set(d,u)}},{key:"get",value:function(d){return(typeof d=="string"?this.obj:this.arr)[d]}},{key:"getNum",value:function(d){var u=parseFloat(typeof d=="string"?this.obj[d]:this.arr[d]);if(u.toString()==="NaN")throw"Error: ".concat(this.obj[d]," is NaN (Not a Number)");return u}},{key:"getString",value:function(d){return(typeof d=="string"?this.obj:this.arr)[d].toString()}}])&&y(f.prototype,g),m}(),n=n.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236}],302:[function(n,Z,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};function m(g,d){for(var u=0;u<d.length;u++){var i=d[u];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(g,i.key,i)}}function f(g){for(var d=[],u=0;u<g.length;u++)d.push(new y.default.XML(g[u]));return d}y.default.XML=function(){function g(i){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");i?this.DOM=i:(i=document.implementation.createDocument(null,"doc"),this.DOM=i.createElement("root"))}var d,u;return d=g,(u=[{key:"getParent",value:function(){return new y.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(i){var r=this.DOM.innerHTML,t=this.DOM.attributes,a=document.implementation.createDocument(null,"default").createElement(i);a.innerHTML=r;for(var l=0;l<t.length;l++)a.setAttribute(t[l].nodeName,t.nodeValue);this.DOM=a}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var i=[],r=0;r<this.DOM.childNodes.length;r++)i.push(this.DOM.childNodes[r].nodeName);return i}},{key:"getChildren",value:function(i){return f(i?this.DOM.getElementsByTagName(i):this.DOM.children)}},{key:"getChild",value:function(i){if(typeof i!="string")return new y.default.XML(this.DOM.children[i]);var r=!0,t=!1,a=void 0;try{for(var l,o=this.DOM.children[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){var c=l.value;if(c.tagName===i)return new y.default.XML(c)}}catch(s){t=!0,a=s}finally{try{r||o.return==null||o.return()}finally{if(t)throw a}}}},{key:"addChild",value:function(i){i instanceof y.default.XML&&this.DOM.appendChild(i.DOM)}},{key:"removeChild",value:function(i){var r=-1;if(typeof i=="string"){for(var t=0;t<this.DOM.children.length;t++)if(this.DOM.children[t].tagName===i){r=t;break}}else r=i;r!==-1&&this.DOM.removeChild(this.DOM.children[r])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var i=[],r=!0,t=!1,a=void 0;try{for(var l,o=this.DOM.attributes[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){var c=l.value;i.push(c.nodeName)}}catch(s){t=!0,a=s}finally{try{r||o.return==null||o.return()}finally{if(t)throw a}}return i}},{key:"hasAttribute",value:function(i){var r={},t=!0,a=!1,l=void 0;try{for(var o,c=this.DOM.attributes[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var s=o.value;r[s.nodeName]=s.nodeValue}}catch(p){a=!0,l=p}finally{try{t||c.return==null||c.return()}finally{if(a)throw l}}return!!r[i]}},{key:"getNum",value:function(i,r){var t={},a=!0,l=!1,o=void 0;try{for(var c,s=this.DOM.attributes[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var p=c.value;t[p.nodeName]=p.nodeValue}}catch(v){l=!0,o=v}finally{try{a||s.return==null||s.return()}finally{if(l)throw o}}return Number(t[i])||r||0}},{key:"getString",value:function(i,r){var t={},a=!0,l=!1,o=void 0;try{for(var c,s=this.DOM.attributes[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var p=c.value;t[p.nodeName]=p.nodeValue}}catch(v){l=!0,o=v}finally{try{a||s.return==null||s.return()}finally{if(l)throw o}}return t[i]?String(t[i]):r||null}},{key:"setAttribute",value:function(i,r){this.DOM.setAttribute(i,r)}},{key:"getContent",value:function(i){var r=this.DOM.textContent;return(r=r.replace(/\s\s+/g,","))||i||null}},{key:"setContent",value:function(i){this.DOM.children.length||(this.DOM.textContent=i)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&m(d.prototype,u),g}(),n=y.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],303:[function(n,Z,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};function m(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var f=arguments.length,g=[],d=0,u=0;u<f;u++){var i=arguments[u];if((i=+i)===1/0||i===-1/0)return 1/0;d<(i=Math.abs(i))&&(d=i),g[u]=i}d===0&&(d=1);for(var o=0,l=0,r=0;r<f;r++)var t=g[r]/d,t=t*t-l,a=o+t,l=a-o-t,o=a;return Math.sqrt(o)*d}y.default.prototype.abs=Math.abs,y.default.prototype.ceil=Math.ceil,y.default.prototype.constrain=function(f,g,d){return y.default._validateParameters("constrain",arguments),Math.max(Math.min(f,d),g)},y.default.prototype.dist=function(){for(var f=arguments.length,g=new Array(f),d=0;d<f;d++)g[d]=arguments[d];return y.default._validateParameters("dist",g),g.length===4?m(g[2]-g[0],g[3]-g[1]):g.length===6?m(g[3]-g[0],g[4]-g[1],g[5]-g[2]):void 0},y.default.prototype.exp=Math.exp,y.default.prototype.floor=Math.floor,y.default.prototype.lerp=function(f,g,d){return y.default._validateParameters("lerp",arguments),d*(g-f)+f},y.default.prototype.log=Math.log,y.default.prototype.mag=function(f,g){return y.default._validateParameters("mag",arguments),m(f,g)},y.default.prototype.map=function(f,g,d,u,i,r){return y.default._validateParameters("map",arguments),f=(f-g)/(d-g)*(i-u)+u,r?u<i?this.constrain(f,u,i):this.constrain(f,i,u):f},y.default.prototype.max=function(){for(var f=function(i){var r=-1/0,t=!0,a=!1,l=void 0;try{for(var o,c=i[Symbol.iterator]();!(t=(o=c.next()).done);t=!0)var s=o.value,r=r<s?s:r}catch(p){a=!0,l=p}finally{try{t||c.return==null||c.return()}finally{if(a)throw l}}return r},g=arguments.length,d=new Array(g),u=0;u<g;u++)d[u]=arguments[u];return d[0]instanceof Array?f(d[0]):f(d)},y.default.prototype.min=function(){for(var f=function(i){var r=1/0,t=!0,a=!1,l=void 0;try{for(var o,c=i[Symbol.iterator]();!(t=(o=c.next()).done);t=!0)var s=o.value,r=s<r?s:r}catch(p){a=!0,l=p}finally{try{t||c.return==null||c.return()}finally{if(a)throw l}}return r},g=arguments.length,d=new Array(g),u=0;u<g;u++)d[u]=arguments[u];return d[0]instanceof Array?f(d[0]):f(d)},y.default.prototype.norm=function(f,g,d){return y.default._validateParameters("norm",arguments),this.map(f,g,d,0,1)},y.default.prototype.pow=Math.pow,y.default.prototype.round=function(f,g){return g?(g=Math.pow(10,g),Math.round(f*g)/g):Math.round(f)},y.default.prototype.sq=function(f){return f*f},y.default.prototype.sqrt=Math.sqrt,y.default.prototype.fract=function(u){y.default._validateParameters("fract",arguments);var g,d=0,u=Number(u);return isNaN(u)||Math.abs(u)===1/0?u:(u<0&&(u=-u,d=1),String(u).includes(".")&&!String(u).includes("e")?(g=String(u),g=+("0"+g.slice(g.indexOf("."))),Math.abs(d-g)):u<1?Math.abs(d-u):0)},n=y.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],304:[function(n,Z,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};function m(g,d,u){return(m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(i,r,t){var a=[null];return a.push.apply(a,r),r=new(Function.bind.apply(i,a)),t&&f(r,t.prototype),r}).apply(null,arguments)}function f(g,d){return(f=Object.setPrototypeOf||function(u,i){return u.__proto__=i,u})(g,d)}y.default.prototype.createVector=function(g,d,u){return this instanceof y.default?m(y.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new y.default.Vector(g,d,u)},n=y.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186}],305:[function(u,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,u=(u=u("../core/main"))&&u.__esModule?u:{default:u};function y(i){return .5*(1-Math.cos(i*Math.PI))}var m,f=4095,g=4,d=.5,u=(u.default.prototype.noise=function(i){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(m==null){m=new Array(4096);for(var a=0;a<4096;a++)m[a]=Math.random()}i<0&&(i=-i),r<0&&(r=-r),t<0&&(t=-t);for(var l,o,c=Math.floor(i),s=Math.floor(r),p=Math.floor(t),v=i-c,b=r-s,x=t-p,w=0,j=.5,E=0;E<g;E++){var M=c+(s<<4)+(p<<8),C=y(v),P=y(b),O=m[M&f];O+=C*(m[M+1&f]-O),l=m[M+16&f],O+=P*((l+=C*(m[M+16+1&f]-l))-O),l=m[(M+=256)&f],l+=C*(m[M+1&f]-l),o=m[M+16&f],l+=P*((o+=C*(m[M+16+1&f]-o))-l),w+=(O+=y(x)*(l-O))*j,j*=d,c<<=1,s<<=1,p<<=1,1<=(v*=2)&&(c++,v--),1<=(b*=2)&&(s++,b--),1<=(x*=2)&&(p++,x--)}return w},u.default.prototype.noiseDetail=function(i,r){0<i&&(g=i),0<r&&(d=r)},u.default.prototype.noiseSeed=function(i){a=4294967296;var r,t,a,l={setSeed:function(c){t=r=(c??Math.random()*a)>>>0},getSeed:function(){return r},rand:function(){return(t=(1664525*t+1013904223)%a)/a}};l.setSeed(i),m=new Array(4096);for(var o=0;o<4096;o++)m[o]=l.rand()},u.default);S.default=u},{"../core/main":273}],306:[function(n,Z,S){function y(a){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function m(a){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(l){return y(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.number.is-finite"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.sub"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.number.is-finite"),n("core-js/modules/es.string.sub"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(t=n("../core/main"))&&t.__esModule?t:{default:t},g=function(a){if(a&&a.__esModule)return a;if(a===null||m(a)!=="object"&&typeof a!="function")return{default:a};var l=d();if(l&&l.has(a))return l.get(a);var o,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in a){var p;Object.prototype.hasOwnProperty.call(a,o)&&((p=s?Object.getOwnPropertyDescriptor(a,o):null)&&(p.get||p.set)?Object.defineProperty(c,o,p):c[o]=a[o])}return c.default=a,l&&l.set(a,c),c}(n("../core/constants"));function d(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,d=function(){return a},a)}function u(a,l){for(var o=0;o<l.length;o++){var c=l[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function i(a,l){return a!==0&&(this.x=this.x%a),l!==0&&(this.y=this.y%l),this}function r(a,l,o){return a!==0&&(this.x=this.x%a),l!==0&&(this.y=this.y%l),o!==0&&(this.z=this.z%o),this}f.default.Vector=function(){function a(){var b=this,s=a;if(!(b instanceof s))throw new TypeError("Cannot call a class as a function");var p,v,b=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],p=(arguments.length<=2?void 0:arguments[2])||0,v=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(p=(arguments.length<=0?void 0:arguments[0])||0,v=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=p,this.y=v,this.z=b}var l,o,c;return l=a,c=[{key:"fromAngle",value:function(s,p){return new f.default.Vector((p=p===void 0?1:p)*Math.cos(s),p*Math.sin(s),0)}},{key:"fromAngles",value:function(j,x,v){v===void 0&&(v=1);var b=Math.cos(x),x=Math.sin(x),w=Math.cos(j),j=Math.sin(j);return new f.default.Vector(v*j*x,-v*w,v*j*b)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*g.TWO_PI)}},{key:"random3D",value:function(){var s=Math.random()*g.TWO_PI,p=2*Math.random()-1,b=Math.sqrt(1-p*p),v=b*Math.cos(s),b=b*Math.sin(s);return new f.default.Vector(v,b,p)}},{key:"copy",value:function(s){return s.copy(s)}},{key:"add",value:function(s,p,v){return v?v.set(s):(v=s.copy(),arguments.length===3&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),v.add(p),v}},{key:"rem",value:function(s,p){if(s instanceof f.default.Vector&&p instanceof f.default.Vector)return(s=s.copy()).rem(p),s}},{key:"sub",value:function(s,p,v){return v?v.set(s):(v=s.copy(),arguments.length===3&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),v.sub(p),v}},{key:"mult",value:function(s,p,v){return v?v.set(s):(v=s.copy(),arguments.length===3&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),v.mult(p),v}},{key:"rotate",value:function(s,p,v){return arguments.length===2?v=s.copy():(v instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),v.set(s)),v.rotate(p),v}},{key:"div",value:function(s,p,v){return v?v.set(s):(v=s.copy(),arguments.length===3&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),v.div(p),v}},{key:"dot",value:function(s,p){return s.dot(p)}},{key:"cross",value:function(s,p){return s.cross(p)}},{key:"dist",value:function(s,p){return s.dist(p)}},{key:"lerp",value:function(s,p,v,b){return b?b.set(s):(b=s.copy(),arguments.length===4&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),b.lerp(p,v),b}},{key:"slerp",value:function(s,p,v,b){return b?b.set(s):(b=s.copy(),arguments.length===4&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),b.slerp(p,v),b}},{key:"mag",value:function(s){return s.mag()}},{key:"magSq",value:function(s){return s.magSq()}},{key:"normalize",value:function(s,p){return arguments.length<2?p=s.copy():(p instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),p.set(s)),p.normalize()}},{key:"limit",value:function(s,p,v){return arguments.length<3?v=s.copy():(v instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),v.set(s)),v.limit(p)}},{key:"setMag",value:function(s,p,v){return arguments.length<3?v=s.copy():(v instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),v.set(s)),v.setMag(p)}},{key:"heading",value:function(s){return s.heading()}},{key:"angleBetween",value:function(s,p){return s.angleBetween(p)}},{key:"reflect",value:function(s,p,v){return arguments.length<3?v=s.copy():(v instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),v.set(s)),v.reflect(p)}},{key:"array",value:function(s){return s.array()}},{key:"equals",value:function(s,p){var v;return s instanceof f.default.Vector?v=s:s instanceof Array?v=new f.default.Vector().set(s):f.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),v.equals(p)}}],(o=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(s,p,v){return s instanceof f.default.Vector?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):Array.isArray(s)?(this.x=s[0]||0,this.y=s[1]||0,this.z=s[2]||0):(this.x=s||0,this.y=p||0,this.z=v||0),this}},{key:"copy",value:function(){return this.isPInst?new f.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new f.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(s,p,v){return s instanceof f.default.Vector?(this.x+=s.x||0,this.y+=s.y||0,this.z+=s.z||0):Array.isArray(s)?(this.x+=s[0]||0,this.y+=s[1]||0,this.z+=s[2]||0):(this.x+=s||0,this.y+=p||0,this.z+=v||0),this}},{key:"rem",value:function(s,p,v){var b;if(s instanceof f.default.Vector){if([s.x,s.y,s.z].every(Number.isFinite))return x=parseFloat(s.x),w=parseFloat(s.y),b=parseFloat(s.z),r.call(this,x,w,b)}else if(Array.isArray(s)){if(s.every(function(j){return Number.isFinite(j)}))return s.length===2?i.call(this,s[0],s[1]):s.length===3?r.call(this,s[0],s[1],s[2]):void 0}else if(arguments.length===1){if(Number.isFinite(s)&&s!==0)return this.x=this.x%s,this.y=this.y%s,this.z=this.z%s,this}else if(arguments.length===2){var x=Array.prototype.slice.call(arguments);if(x.every(function(j){return Number.isFinite(j)})&&x.length===2)return i.call(this,x[0],x[1])}else if(arguments.length===3){var w=Array.prototype.slice.call(arguments);if(w.every(function(j){return Number.isFinite(j)})&&w.length===3)return r.call(this,w[0],w[1],w[2])}}},{key:"sub",value:function(s,p,v){return s instanceof f.default.Vector?(this.x-=s.x||0,this.y-=s.y||0,this.z-=s.z||0):Array.isArray(s)?(this.x-=s[0]||0,this.y-=s[1]||0,this.z-=s[2]||0):(this.x-=s||0,this.y-=p||0,this.z-=v||0),this}},{key:"mult",value:function(s,p,v){var b;return s instanceof f.default.Vector?Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.z=="number"?(this.x*=s.x,this.y*=s.y,this.z*=s.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(s)?s.every(function(x){return Number.isFinite(x)})&&s.every(function(x){return typeof x=="number"})?s.length===1?(this.x*=s[0],this.y*=s[0],this.z*=s[0]):s.length===2?(this.x*=s[0],this.y*=s[1]):s.length===3&&(this.x*=s[0],this.y*=s[1],this.z*=s[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(b=Array.prototype.slice.call(arguments)).every(function(x){return Number.isFinite(x)})&&b.every(function(x){return typeof x=="number"})?(arguments.length===1&&(this.x*=s,this.y*=s,this.z*=s),arguments.length===2&&(this.x*=s,this.y*=p),arguments.length===3&&(this.x*=s,this.y*=p,this.z*=v)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(s,p,v){if(s instanceof f.default.Vector)if(Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.z=="number"){var b=s.z===0&&this.z===0;if(s.x===0||s.y===0||!b&&s.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=s.x,this.y/=s.y,b||(this.z/=s.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(s))if(s.every(function(x){return Number.isFinite(x)})&&s.every(function(x){return typeof x=="number"})){if(s.some(function(x){return x===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;s.length===1?(this.x/=s[0],this.y/=s[0],this.z/=s[0]):s.length===2?(this.x/=s[0],this.y/=s[1]):s.length===3&&(this.x/=s[0],this.y/=s[1],this.z/=s[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(b=Array.prototype.slice.call(arguments),b.every(function(x){return Number.isFinite(x)})&&b.every(function(x){return typeof x=="number"})){if(b.some(function(x){return x===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=s,this.y/=s,this.z/=s),arguments.length===2&&(this.x/=s,this.y/=p),arguments.length===3&&(this.x/=s,this.y/=p,this.z/=v)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var s=this.x,p=this.y,v=this.z;return s*s+p*p+v*v}},{key:"dot",value:function(s,p,v){return s instanceof f.default.Vector?this.dot(s.x,s.y,s.z):this.x*(s||0)+this.y*(p||0)+this.z*(v||0)}},{key:"cross",value:function(b){var p=this.y*b.z-this.z*b.y,v=this.z*b.x-this.x*b.z,b=this.x*b.y-this.y*b.x;return this.isPInst?new f.default.Vector(this._fromRadians,this._toRadians,p,v,b):new f.default.Vector(p,v,b)}},{key:"dist",value:function(s){return s.copy().sub(this).mag()}},{key:"normalize",value:function(){var s=this.mag();return s!==0&&this.mult(1/s),this}},{key:"limit",value:function(s){var p=this.magSq();return s*s<p&&this.div(Math.sqrt(p)).mult(s),this}},{key:"setMag",value:function(s){return this.normalize().mult(s)}},{key:"heading",value:function(){var s=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(s):s}},{key:"setHeading",value:function(s){this.isPInst&&(s=this._toRadians(s));var p=this.mag();return this.x=p*Math.cos(s),this.y=p*Math.sin(s),this}},{key:"rotate",value:function(p){var p=this.heading()+p,v=(this.isPInst&&(p=this._toRadians(p)),this.mag());return this.x=Math.cos(p)*v,this.y=Math.sin(p)*v,this}},{key:"angleBetween",value:function(s){var p;return this.magSq()*s.magSq()==0?NaN:(p=this.cross(s),s=Math.atan2(p.mag(),this.dot(s))*Math.sign(p.z||1),this.isPInst?this._fromRadians(s):s)}},{key:"lerp",value:function(s,p,v,b){return s instanceof f.default.Vector?this.lerp(s.x,s.y,s.z,p):(this.x+=(s-this.x)*b||0,this.y+=(p-this.y)*b||0,this.z+=(v-this.z)*b||0,this)}},{key:"slerp",value:function(s,p){if(p!==0){if(p===1)return this.set(s);var v=this.mag(),b=s.mag();if(v*b==0)this.mult(1-p).add(s.x*p,s.y*p,s.z*p);else{var x=this.cross(s),w=x.mag(),j=Math.atan2(w,this.dot(s));if(0<w)x.x/=w,x.y/=w,x.z/=w;else{if(j<.5*Math.PI)return this.mult(1-p).add(s.x*p,s.y*p,s.z*p),this;this.z===0&&s.z===0?x.set(0,0,1):this.x!==0?x.set(this.y,-this.x,0).normalize():x.set(1,0,0)}w=x.cross(this),s=1-p+p*b/v,x=s*Math.cos(p*j),b=s*Math.sin(p*j),this.x=this.x*x+w.x*b,this.y=this.y*x+w.y*b,this.z=this.z*x+w.z*b}}return this}},{key:"reflect",value:function(s){return s.normalize(),this.sub(s.mult(2*this.dot(s)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(w,p,v){var b,x,w=w instanceof f.default.Vector?(b=w.x||0,x=w.y||0,w.z||0):Array.isArray(w)?(b=w[0]||0,x=w[1]||0,w[2]||0):(b=w||0,x=p||0,v||0);return this.x===b&&this.y===x&&this.z===w}}])&&u(l.prototype,o),c&&u(l,c),a}();var t=f.default.Vector;S.default=t},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.constructor":171,"core-js/modules/es.number.is-finite":172,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],307:[function(d,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(d=d("../core/main"))&&d.__esModule?d:{default:d},m="_lcg_random_state",f=4294967296,g=0,d=(y.default.prototype._lcg=function(u){return this[u]=(1664525*this[u]+1013904223)%f,this[u]/f},y.default.prototype._lcgSetSeed=function(u,i){this[u]=(i??Math.random()*f)>>>0},y.default.prototype.randomSeed=function(u){this._lcgSetSeed(m,u),this._gaussian_previous=!1},y.default.prototype.random=function(u,i){var r,t;return y.default._validateParameters("random",arguments),r=this[m]!=null?this._lcg(m):Math.random(),u===void 0?r:i===void 0?u instanceof Array?u[Math.floor(r*u.length)]:r*u:(i<u&&(t=u,u=i,i=t),r*(i-u)+u)},y.default.prototype.randomGaussian=function(u){var i,r,t,a,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)i=g,this._gaussian_previous=!1;else{for(;1<=(a=(r=this.random(2)-1)*r+(t=this.random(2)-1)*t););i=r*(a=Math.sqrt(-2*Math.log(a)/a)),g=t*a,this._gaussian_previous=!0}return i*l+(u||0)},y.default);S.default=d},{"../core/main":273}],308:[function(n,Z,S){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function m(i){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(r){return y(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":y(r)})(i)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(u=n("../core/main"))&&u.__esModule?u:{default:u},g=function(i){if(i&&i.__esModule)return i;if(i===null||m(i)!=="object"&&typeof i!="function")return{default:i};var r=d();if(r&&r.has(i))return r.get(i);var t,a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in i){var o;Object.prototype.hasOwnProperty.call(i,t)&&((o=l?Object.getOwnPropertyDescriptor(i,t):null)&&(o.get||o.set)?Object.defineProperty(a,t,o):a[t]=i[t])}return a.default=i,r&&r.set(i,a),a}(n("../core/constants"));function d(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,d=function(){return i},i)}f.default.prototype._angleMode=g.RADIANS,f.default.prototype.acos=function(i){return this._fromRadians(Math.acos(i))},f.default.prototype.asin=function(i){return this._fromRadians(Math.asin(i))},f.default.prototype.atan=function(i){return this._fromRadians(Math.atan(i))},f.default.prototype.atan2=function(i,r){return this._fromRadians(Math.atan2(i,r))},f.default.prototype.cos=function(i){return Math.cos(this._toRadians(i))},f.default.prototype.sin=function(i){return Math.sin(this._toRadians(i))},f.default.prototype.tan=function(i){return Math.tan(this._toRadians(i))},f.default.prototype.degrees=function(i){return i*g.RAD_TO_DEG},f.default.prototype.radians=function(i){return i*g.DEG_TO_RAD},f.default.prototype.angleMode=function(i){if(f.default._validateParameters("angleMode",arguments),i===void 0)return this._angleMode;i!==g.DEGREES&&i!==g.RADIANS||(this._angleMode=i)},f.default.prototype._toRadians=function(i){return this._angleMode===g.DEGREES?i*g.DEG_TO_RAD:i},f.default.prototype._toDegrees=function(i){return this._angleMode===g.RADIANS?i*g.RAD_TO_DEG:i},f.default.prototype._fromRadians=function(i){return this._angleMode===g.DEGREES?i*g.RAD_TO_DEG:i};var u=f.default;S.default=u},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],309:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};y.default.prototype.textAlign=function(m,f){var g;return y.default._validateParameters("textAlign",arguments),(g=this._renderer).textAlign.apply(g,arguments)},y.default.prototype.textLeading=function(m){var f;return y.default._validateParameters("textLeading",arguments),(f=this._renderer).textLeading.apply(f,arguments)},y.default.prototype.textSize=function(m){var f;return y.default._validateParameters("textSize",arguments),(f=this._renderer).textSize.apply(f,arguments)},y.default.prototype.textStyle=function(m){var f;return y.default._validateParameters("textStyle",arguments),(f=this._renderer).textStyle.apply(f,arguments)},y.default.prototype.textWidth=function(){for(var m,f=arguments.length,g=new Array(f),d=0;d<f;d++)g[d]=arguments[d];return g[0]+="",y.default._validateParameters("textWidth",g),g[0].length===0?0:(m=this._renderer).textWidth.apply(m,g)},y.default.prototype.textAscent=function(){for(var m=arguments.length,f=new Array(m),g=0;g<m;g++)f[g]=arguments[g];return y.default._validateParameters("textAscent",f),this._renderer.textAscent()},y.default.prototype.textDescent=function(){for(var m=arguments.length,f=new Array(m),g=0;g<m;g++)f[g]=arguments[g];return y.default._validateParameters("textDescent",f),this._renderer.textDescent()},y.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},y.default.prototype.textWrap=function(m){if(m!=="WORD"&&m!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(m)},n=y.default,S.default=n},{"../core/main":273}],310:[function(n,Z,S){function y(t){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(t)}function m(t){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(a){return y(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(t)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(r=n("../core/main"))&&r.__esModule?r:{default:r},g=i(n("../core/constants")),d=i(n("opentype.js"));function u(){var t;return typeof WeakMap!="function"?null:(t=new WeakMap,u=function(){return t},t)}function i(t){if(t&&t.__esModule)return t;if(t===null||m(t)!=="object"&&typeof t!="function")return{default:t};var a=u();if(a&&a.has(t))return a.get(t);var l,o,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in t)Object.prototype.hasOwnProperty.call(t,l)&&((o=s?Object.getOwnPropertyDescriptor(t,l):null)&&(o.get||o.set)?Object.defineProperty(c,l,o):c[l]=t[l]);return c.default=t,a&&a.set(t,c),c}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),f.default.prototype.loadFont=function(t,a,l){f.default._validateParameters("loadFont",arguments);var o=new f.default.Font(this),c=this;return d.load(t,function(v,b){if(v)return f.default._friendlyFileLoadError(4,t),l!==void 0?l(v):void console.error(v,t);o.font=b,a!==void 0&&a(o),c._decrementPreload();var v=t.split("\\").pop().split("/").pop(),b=v.lastIndexOf("."),x=b<1?null:v.slice(b+1);["ttf","otf","woff","woff2"].includes(x)&&(x=v.slice(0,b!==-1?b:0),(v=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(x,`;
src: url(`).concat(t,`);
}
`))),document.head.appendChild(v))}),o},f.default.prototype.text=function(t,a,l,o,c){var s;return f.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(s=this._renderer).text.apply(s,arguments):this},f.default.prototype.textFont=function(t,a){if(f.default._validateParameters("textFont",arguments),arguments.length){if(t)return this._renderer._setProperty("_textFont",t),a&&(this._renderer._setProperty("_textSize",a),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",a*g._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var r=f.default;S.default=r},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,"opentype.js":247}],311:[function(n,Z,S){function y(w){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(w)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=(m=n("../core/main"))&&m.__esModule?m:{default:m},f=function(w){if(w&&w.__esModule)return w;if(w===null||d(w)!=="object"&&typeof w!="function")return{default:w};var j=g();if(j&&j.has(w))return j.get(w);var E,M={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in w){var P;Object.prototype.hasOwnProperty.call(w,E)&&((P=C?Object.getOwnPropertyDescriptor(w,E):null)&&(P.get||P.set)?Object.defineProperty(M,E,P):M[E]=w[E])}return M.default=w,j&&j.set(w,M),M}(n("../core/constants"));function g(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,g=function(){return w},w)}function d(w){return(d=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(j){return y(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":y(j)})(w)}function u(w,j){for(var E=0;E<j.length;E++){var M=j[E];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(w,M.key,M)}}function i(w,j){var E=w.length;return w[j<0?j%E+E:j%E]}function r(w,j,E,M){var C,P,O;return M?(r.tmpPoint1===void 0&&(r.tmpPoint1=[],r.tmpPoint2=[]),P=r.tmpPoint1,O=r.tmpPoint2,P.x=j.x-w.x,P.y=j.y-w.y,O.x=E.x-j.x,O.y=E.y-j.y,C=P.x*O.x+P.y*O.y,P=Math.sqrt(P.x*P.x+P.y*P.y),O=Math.sqrt(O.x*O.x+O.y*O.y),Math.acos(C/(P*O))<M):(j[0]-w[0])*(E[1]-w[1])-(E[0]-w[0])*(j[1]-w[1])==0}function t(V,J,K,oe,_e,P,O,D,N){var R=1-N,H=Math.pow(R,3),ee=Math.pow(R,2),q=N*N,fe=q*N,I=H*V+3*ee*N*K+3*R*N*N*_e+fe*O,H=H*J+3*ee*N*oe+3*R*N*N*P+fe*D,ee=V+2*N*(K-V)+q*(_e-2*K+V),fe=J+2*N*(oe-J)+q*(P-2*oe+J),xe=K+2*N*(_e-K)+q*(O-2*_e+K),q=oe+2*N*(P-oe)+q*(D-2*P+oe),V=R*V+N*K,K=R*J+N*oe,J=R*_e+N*O,oe=R*P+N*D,_e=90-180*Math.atan2(ee-xe,fe-q)/Math.PI;return(xe<ee||fe<q)&&(_e+=180),{x:I,y:H,m:{x:ee,y:fe},n:{x:xe,y:q},start:{x:V,y:K},end:{x:J,y:oe},alpha:_e}}function a(w,j,E,M,C,P,O,D,N){return N==null?b(w,j,E,M,C,P,O,D):t(w,j,E,M,C,P,O,D,function(R,I,H,ee,fe,xe,q,V,K){if(!(K<0||b(R,I,H,ee,fe,xe,q,V)<K)){var J,oe=.5,_e=1-oe;for(J=b(R,I,H,ee,fe,xe,q,V,_e);.01<Math.abs(J-K);)J=b(R,I,H,ee,fe,xe,q,V,_e+=(J<K?1:-1)*(oe/=2));return _e}}(w,j,E,M,C,P,O,D,N))}function l(w,j,E){for(var M,C,P,O,D,N=0,R=0,I=(w=function(H,ee){function fe(de,ae,ne){var Me,pe;if(!de)return["C",ae.x,ae.y,ae.x,ae.y,ae.x,ae.y];switch(de[0]in{T:1,Q:1}||(ae.qx=ae.qy=null),de[0]){case"M":ae.X=de[1],ae.Y=de[2];break;case"A":de=["C"].concat(c.apply(0,[ae.x,ae.y].concat(de.slice(1))));break;case"S":pe=ne==="C"||ne==="S"?(Me=2*ae.x-ae.bx,2*ae.y-ae.by):(Me=ae.x,ae.y),de=["C",Me,pe].concat(de.slice(1));break;case"T":ne==="Q"||ne==="T"?(ae.qx=2*ae.x-ae.qx,ae.qy=2*ae.y-ae.qy):(ae.qx=ae.x,ae.qy=ae.y),de=["C"].concat(v(ae.x,ae.y,ae.qx,ae.qy,de[1],de[2]));break;case"Q":ae.qx=de[1],ae.qy=de[2],de=["C"].concat(v(ae.x,ae.y,de[1],de[2],de[3],de[4]));break;case"L":de=["C"].concat(p(ae.x,ae.y,de[1],de[2]));break;case"H":de=["C"].concat(p(ae.x,ae.y,de[1],ae.y));break;case"V":de=["C"].concat(p(ae.x,ae.y,ae.x,de[1]));break;case"Z":de=["C"].concat(p(ae.x,ae.y,ae.X,ae.Y))}return de}function xe(de,ae){if(7<de[ae].length){de[ae].shift();for(var ne=de[ae];ne.length;)Oe[ae]="A",J&&(De[ae]="A"),de.splice(ae++,0,["C"].concat(ne.splice(0,6)));de.splice(ae,1),V=Math.max(K.length,J&&J.length||0)}}function q(de,ae,ne,Me,pe){de&&ae&&de[pe][0]==="M"&&ae[pe][0]!=="M"&&(ae.splice(pe,0,["M",Me.x,Me.y]),ne.bx=0,ne.by=0,ne.x=de[pe][1],ne.y=de[pe][2],V=Math.max(K.length,J&&J.length||0))}var V,K=o(H),J=ee&&o(ee),oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},_e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Oe=[],De=[],Te="",Be="";V=Math.max(K.length,J&&J.length||0);for(var Re=0;Re<V;Re++){(Te=K[Re]?K[Re][0]:Te)!=="C"&&(Oe[Re]=Te,Re&&(Be=Oe[Re-1])),K[Re]=fe(K[Re],oe,Be),Oe[Re]!=="A"&&Te==="C"&&(Oe[Re]="C"),xe(K,Re),J&&((Te=J[Re]?J[Re][0]:Te)!=="C"&&(De[Re]=Te,Re&&(Be=De[Re-1])),J[Re]=fe(J[Re],_e,Be),De[Re]!=="A"&&Te==="C"&&(De[Re]="C"),xe(J,Re)),q(K,J,oe,_e,Re),q(J,K,_e,oe,Re);var ve=K[Re],ge=J&&J[Re],Ae=ve.length,Ie=J&&ge.length;oe.x=ve[Ae-2],oe.y=ve[Ae-1],oe.bx=parseFloat(ve[Ae-4])||oe.x,oe.by=parseFloat(ve[Ae-3])||oe.y,_e.bx=J&&(parseFloat(ge[Ie-4])||_e.x),_e.by=J&&(parseFloat(ge[Ie-3])||_e.y),_e.x=J&&ge[Ie-2],_e.y=J&&ge[Ie-1]}return J?[K,J]:K}(w)).length;R<I;R++){if((P=w[R])[0]==="M")M=+P[1],C=+P[2];else{if(j<N+(O=a(M,C,P[1],P[2],P[3],P[4],P[5],P[6]))&&!E)return{x:(D=a(M,C,P[1],P[2],P[3],P[4],P[5],P[6],j-N)).x,y:D.y,alpha:D.alpha};N+=O,M=+P[5],C=+P[6]}P.shift()}return D=(D=E?N:t(M,C,P[0],P[1],P[2],P[3],P[4],P[5],1)).alpha?{x:D.x,y:D.y,alpha:D.alpha}:D}function o(w){var j=[],E=0,M=0,C=0,P=0,O=0;if(w){w[0][0]==="M"&&(C=E=+w[0][1],P=M=+w[0][2],O++,j[0]=["M",E,M]);for(var D,N,R=w.length===3&&w[0][0]==="M"&&w[1][0].toUpperCase()==="R"&&w[2][0].toUpperCase()==="Z",I=O,H=w.length;I<H;I++){if(j.push(D=[]),(N=w[I])[0]!==String.prototype.toUpperCase.call(N[0]))switch(D[0]=String.prototype.toUpperCase.call(N[0]),D[0]){case"A":D[1]=N[1],D[2]=N[2],D[3]=N[3],D[4]=N[4],D[5]=N[5],D[6]=+(N[6]+E),D[7]=+(N[7]+M);break;case"V":D[1]=+N[1]+M;break;case"H":D[1]=+N[1]+E;break;case"R":for(var ee,fe=2,xe=(ee=[E,M].concat(N.slice(1))).length;fe<xe;fe++)ee[fe]=+ee[fe]+E,ee[++fe]=+ee[fe]+M;j.pop(),j=j.concat(s(ee,R));break;case"M":C=+N[1]+E,P=+N[2]+M;break;default:for(var q=1,V=N.length;q<V;q++)D[q]=+N[q]+(q%2?E:M)}else if(N[0]==="R")ee=[E,M].concat(N.slice(1)),j.pop(),j=j.concat(s(ee,R)),D=["R"].concat(N.slice(-2));else for(var K=0,J=N.length;K<J;K++)D[K]=N[K];switch(D[0]){case"Z":E=C,M=P;break;case"H":E=D[1];break;case"V":M=D[1];break;case"M":C=D[D.length-2],P=D[D.length-1];break;default:E=D[D.length-2],M=D[D.length-1]}}}return j}function c(w,j,E,M,J,Oe,oe,D,N,R){function I(Ie,de,ae){return{x:Ie*Math.cos(ae)-de*Math.sin(ae),y:Ie*Math.sin(ae)+de*Math.cos(ae)}}var H,V=Math.PI,K=120*V/180,ee=V/180*(+J||0),fe=[],xe=(R?(Re=R[0],H=R[1],Te=R[2],Be=R[3]):(w=(_e=I(w,j,-ee)).x,j=_e.y,1<(xe=(q=(w-(D=(_e=I(D,N,-ee)).x))/2)*q/(E*E)+(_e=(j-(N=_e.y))/2)*_e/(M*M))&&(E*=xe=Math.sqrt(xe),M*=xe),xe=E*E,De=M*M,Te=(Oe=(Oe===oe?-1:1)*Math.sqrt(Math.abs((xe*De-xe*_e*_e-De*q*q)/(xe*_e*_e+De*q*q))))*E*_e/M+(w+D)/2,Be=Oe*-M*q/E+(j+N)/2,Re=Math.asin(((j-Be)/M).toFixed(9)),H=Math.asin(((N-Be)/M).toFixed(9)),(Re=w<Te?V-Re:Re)<0&&(Re=2*V+Re),(H=D<Te?V-H:H)<0&&(H=2*V+H),oe&&H<Re&&(Re-=2*V),!oe&&Re<H&&(H-=2*V)),H-Re),q=(Math.abs(xe)>K&&(De=H,_e=D,Oe=N,H=Re+K*(oe&&Re<H?1:-1),fe=c(D=Te+E*Math.cos(H),N=Be+M*Math.sin(H),E,M,J,0,oe,_e,Oe,[H,De,Te,Be])),xe=H-Re,Math.cos(Re)),V=Math.sin(Re),K=Math.cos(H),J=Math.sin(H),oe=Math.tan(xe/4),_e=4/3*E*oe,Oe=4/3*M*oe,De=[w,j],Te=[w+_e*V,j-Oe*q],Be=[D+_e*J,N-Oe*K],Re=[D,N];if(Te[0]=2*De[0]-Te[0],Te[1]=2*De[1]-Te[1],R)return[Te,Be,Re].concat(fe);for(var ve=[],ge=0,Ae=(fe=[Te,Be,Re].concat(fe).join().split(",")).length;ge<Ae;ge++)ve[ge]=ge%2?I(fe[ge-1],fe[ge],ee).y:I(fe[ge],fe[ge+1],ee).x;return ve}function s(w,j){for(var E=[],M=0,C=w.length;M<C-2*!j;M+=2){var P=[{x:+w[M-2],y:+w[M-1]},{x:+w[M],y:+w[M+1]},{x:+w[M+2],y:+w[M+3]},{x:+w[M+4],y:+w[M+5]}];j?M?C-4===M?P[3]={x:+w[0],y:+w[1]}:C-2===M&&(P[2]={x:+w[0],y:+w[1]},P[3]={x:+w[2],y:+w[3]}):P[0]={x:+w[C-2],y:+w[C-1]}:C-4===M?P[3]=P[2]:M||(P[0]={x:+w[M],y:+w[M+1]}),E.push(["C",(-P[0].x+6*P[1].x+P[2].x)/6,(-P[0].y+6*P[1].y+P[2].y)/6,(P[1].x+6*P[2].x-P[3].x)/6,(P[1].y+6*P[2].y-P[3].y)/6,P[2].x,P[2].y])}return E}function p(w,j,E,M){return[w,j,E,M,E,M]}function v(w,j,E,M,C,P){return[1/3*w+2/3*E,1/3*j+2/3*M,1/3*C+2/3*E,1/3*P+2/3*M,C,P]}function b(w,j,E,M,C,P,O,D,N){for(var R=(N=1<(N=N??1)?1:N<0?0:N)/2,I=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],H=0,ee=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],fe=0;fe<12;fe++){var q=R*I[fe]+R,xe=x(q,w,E,C,O),q=x(q,j,M,P,D);H+=ee[fe]*Math.sqrt(xe*xe+q*q)}return R*H}function x(w,j,E,M,C){return w*(w*(-3*j+9*E-9*M+3*C)+6*j-12*E+6*M)-3*j+3*E}m.default.Font=function(){function w(M){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.parent=M,this.cache={},this.font=void 0}var j,E;return j=w,(E=[{key:"textBounds",value:function(M){var C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,R=3<arguments.length?arguments[3]:void 0,O=4<arguments.length?arguments[4]:void 0,D=O&&O.renderer&&O.renderer._pInst||this.parent,N=D._renderer.drawingContext,R=(N.textAlign||f.LEFT,N.textBaseline||f.BASELINE,R||D._renderer._textSize);if(!_e){for(var I=[],H=[],ee=[],fe=(ee[0]=[],[]),xe=this._scale(R),q=D._renderer.textLeading(),V=0,K=(this.font.forEachGlyph(M,C,P,R,O,function(Te,Be,Re,ve){var ge=Te.getMetrics();Te.index===0||Te.index===10?ee[V+=1]=[]:(ee[V].push(Be+ge.xMin*xe),ee[V].push(Be+ge.xMax*xe),fe.push(Re+V*q+-ge.yMin*xe),fe.push(Re+V*q+-ge.yMax*xe))}),0<ee[V].length&&(I[V]=Math.min.apply(null,ee[V]),H[V]=Math.max.apply(null,ee[V])),0),J=0;J<=V;J++){I[J]=Math.min.apply(null,ee[J]),H[J]=Math.max.apply(null,ee[J]);var oe=H[J]-I[J];K<oe&&(K=oe)}var N=Math.min.apply(null,I),_e={x:N,y:P=Math.min.apply(null,fe),h:Math.max.apply(null,fe)-P,w:K,advance:N-C},R=this._handleAlignment(D._renderer,M,_e.x,_e.y,_e.w+_e.advance);_e.x=R.x,_e.y=R.y}return _e}},{key:"textToPoints",value:function(M,C,P,O,D){var N=0,R=[],I=this._getGlyphs(M);O=O||this.parent._renderer._textSize;for(var H,ee=0;ee<I.length;ee++){if(!(I[H=ee].name&&I[H].name==="space"||M.length===I.length&&M[H]===" "))for(var fe=function(K){for(var J,oe=[],_e=0;_e<K.length;_e++)K[_e].type==="M"&&(J&&oe.push(J),J=[]),J.push(function(Oe){var De=[Oe.type];return Oe.type==="M"||Oe.type==="L"?De.push(Oe.x,Oe.y):Oe.type==="C"?De.push(Oe.x1,Oe.y1,Oe.x2,Oe.y2,Oe.x,Oe.y):Oe.type==="Q"&&De.push(Oe.x1,Oe.y1,Oe.x,Oe.y),De}(K[_e]));return oe.push(J),oe}(I[ee].getPath(C,P,O).commands),xe=0;xe<fe.length;xe++)for(var q=function(K,J){for(var J=function(Be,Re){if(d(Be)!=="object")Be=Re;else for(var ve in Re)Be[ve]===void 0&&(Be[ve]=Re[ve]);return Be}(J,{sampleFactor:.1,simplifyThreshold:0}),oe=l(K,0,1),_e=oe/(oe*J.sampleFactor),Oe=[],De=0;De<oe;De+=_e)Oe.push(l(K,De));return J.simplifyThreshold&&function(Te){for(var Be=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Re=0,ve=Te.length-1;3<Te.length&&0<=ve;--ve)r(i(Te,ve-1),i(Te,ve),i(Te,ve+1),Be)&&(Te.splice(ve%Te.length,1),Re++)}(Oe,J.simplifyThreshold),Oe}(fe[xe],D),V=0;V<q.length;V++)q[V].x+=N,R.push(q[V]);N+=I[ee].advanceWidth*this._scale(O)}return R}},{key:"_getGlyphs",value:function(M){return this.font.stringToGlyphs(M)}},{key:"_getPath",value:function(M,N,P,O){var D=(O&&O.renderer&&O.renderer._pInst||this.parent)._renderer,N=this._handleAlignment(D,M,N,P);return this.font.getPath(M,N.x,N.y,D._textSize,O)}},{key:"_getPathData",value:function(M,C,P,O){var D=3;return typeof M=="string"&&2<arguments.length?M=this._getPath(M,C,P,O):d(C)==="object"&&(O=C),O&&typeof O.decimals=="number"&&(D=O.decimals),M.toPathData(D)}},{key:"_getSVG",value:function(M,C,P,O){var D=3;return typeof M=="string"&&2<arguments.length?M=this._getPath(M,C,P,O):d(C)==="object"&&(O=C),O&&(typeof O.decimals=="number"&&(D=O.decimals),typeof O.strokeWidth=="number"&&(M.strokeWidth=O.strokeWidth),O.fill!==void 0&&(M.fill=O.fill),O.stroke!==void 0&&(M.stroke=O.stroke)),M.toSVG(D)}},{key:"_renderPath",value:function(R,H,ee,O){var D=O&&O.renderer||this.parent._renderer,N=D.drawingContext,R=(d(R)==="object"&&R.commands?R:this._getPath(R,H,ee,O)).commands,I=(N.beginPath(),!0),H=!1,ee=void 0;try{for(var fe,xe=R[Symbol.iterator]();!(I=(fe=xe.next()).done);I=!0){var q=fe.value;q.type==="M"?N.moveTo(q.x,q.y):q.type==="L"?N.lineTo(q.x,q.y):q.type==="C"?N.bezierCurveTo(q.x1,q.y1,q.x2,q.y2,q.x,q.y):q.type==="Q"?N.quadraticCurveTo(q.x1,q.y1,q.x,q.y):q.type==="Z"&&N.closePath()}}catch(V){H=!0,ee=V}finally{try{I||xe.return==null||xe.return()}finally{if(H)throw ee}}return D._doStroke&&D._strokeSet&&N.stroke(),D._doFill&&(D._fillSet||D._setFill(f._DEFAULT_TEXT_FILL),N.fill()),this}},{key:"_textWidth",value:function(M,C){return this.font.getAdvanceWidth(M,C)}},{key:"_textAscent",value:function(M){return this.font.ascender*this._scale(M)}},{key:"_textDescent",value:function(M){return-this.font.descender*this._scale(M)}},{key:"_scale",value:function(M){return 1/this.font.unitsPerEm*(M||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(M,C,P,O,D){var N=M._textSize;switch(D===void 0&&(D=this._textWidth(C,N)),M._textAlign){case f.CENTER:P-=D/2;break;case f.RIGHT:P-=D}switch(M._textBaseline){case f.TOP:O+=this._textAscent(N);break;case f.CENTER:O+=this._textAscent(N)/2;break;case f.BOTTOM:O-=this._textDescent(N)}return{x:P,y:O}}}])&&u(j.prototype,E),w}(),n=m.default,S.default=n},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],312:[function(n,Z,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.array-buffer.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.array-buffer.constructor"),n("core-js/modules/es.object.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n=(n=n("../core/main"))&&n.__esModule?n:{default:n},n.default.prototype.append=function(y,m){return y.push(m),y},n.default.prototype.arrayCopy=function(y,m,f,g,d){var u,i;y=d!==void 0?(i=Math.min(d,y.length),u=g,y.slice(m,i+m)):(i=f!==void 0?(i=f,Math.min(i,y.length)):y.length,f=m,y.slice(u=0,i)),Array.prototype.splice.apply(f,[u,i].concat(y))},n.default.prototype.concat=function(y,m){return y.concat(m)},n.default.prototype.reverse=function(y){return y.reverse()},n.default.prototype.shorten=function(y){return y.pop(),y},n.default.prototype.shuffle=function(y,m){for(var f,g,d=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(y),u=(y=m||d?y:y.slice()).length;1<u;)f=this.random(0,1)*u|0,g=y[--u],y[u]=y[f],y[f]=g;return y},n.default.prototype.sort=function(y,g){var f=g?y.slice(0,Math.min(g,y.length)):y,g=g?y.slice(Math.min(g,y.length)):[];return(f=typeof f[0]=="string"?f.sort():f.sort(function(d,u){return d-u})).concat(g)},n.default.prototype.splice=function(y,m,f){return Array.prototype.splice.apply(y,[f,0].concat(m)),y},n.default.prototype.subset=function(y,m,f){return f!==void 0?y.slice(m,m+f):y.slice(m,y.length)},n=n.default,S.default=n},{"../core/main":273,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180}],313:[function(n,Z,S){n("core-js/modules/es.array.map"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.repeat"),n("core-js/modules/es.array.map"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.repeat"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};y.default.prototype.float=function(m){return m instanceof Array?m.map(parseFloat):parseFloat(m)},y.default.prototype.int=function(m){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return m===1/0||m==="Infinity"?1/0:m===-1/0||m==="-Infinity"?-1/0:typeof m=="string"?parseInt(m,f):typeof m=="number"?0|m:typeof m=="boolean"?m?1:0:m instanceof Array?m.map(function(g){return y.default.prototype.int(g,f)}):void 0},y.default.prototype.str=function(m){return m instanceof Array?m.map(y.default.prototype.str):String(m)},y.default.prototype.boolean=function(m){return typeof m=="number"?m!==0:typeof m=="string"?m.toLowerCase()==="true":typeof m=="boolean"?m:m instanceof Array?m.map(y.default.prototype.boolean):void 0},y.default.prototype.byte=function(m){return m=y.default.prototype.int(m,10),typeof m=="number"?(m+128)%256-128:m instanceof Array?m.map(y.default.prototype.byte):void 0},y.default.prototype.char=function(m){return typeof m!="number"||isNaN(m)?m instanceof Array?m.map(y.default.prototype.char):typeof m=="string"?y.default.prototype.char(parseInt(m,10)):void 0:String.fromCharCode(m)},y.default.prototype.unchar=function(m){return typeof m=="string"&&m.length===1?m.charCodeAt(0):m instanceof Array?m.map(y.default.prototype.unchar):void 0},y.default.prototype.hex=function(m,f){if(f=f??8,m instanceof Array)return m.map(function(d){return y.default.prototype.hex(d,f)});if(m===1/0||m===-1/0)return(m===1/0?"F":"0").repeat(f);if(typeof m=="number"){m<0&&(m=4294967295+m+1);for(var g=Number(m).toString(16).toUpperCase();g.length<f;)g="0".concat(g);return g=g.length>=f?g.substring(g.length-f,g.length):g}},y.default.prototype.unhex=function(m){return m instanceof Array?m.map(y.default.prototype.unhex):parseInt("0x".concat(m),16)},n=y.default,S.default=n},{"../core/main":273,"core-js/modules/es.array.map":163,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.repeat":193}],314:[function(n,Z,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.pad-start"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.pad-start"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(i=n("../core/main"))&&i.__esModule?i:{default:i};function m(r,t){return function(a){if(Array.isArray(a))return a}(r)||function(a,l){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]"){var o=[],c=!0,s=!1,p=void 0;try{for(var v,b=a[Symbol.iterator]();!(c=(v=b.next()).done)&&(o.push(v.value),!l||o.length!==l);c=!0);}catch(x){s=!0,p=x}finally{try{c||b.return==null||b.return()}finally{if(s)throw p}}return o}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(r,t,a){var o=m(r.toString().split("."),2),l=o[0],o=o[1];return a===void 0?(l=l.padStart(t,"0"),o?l+"."+o:l):(l=(r=m(r.toFixed(a).toString().split("."),2))[0],o=r[1],(l=l.padStart(t,"0"))+"."+o)}function g(o,t){var a=(o=o.toString()).indexOf("."),l=a!==-1?o.substring(a):"",o=(o=a!==-1?o.substring(0,a):o).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(t===0)l="";else if(t!==void 0)if(t>l.length)for(var c=t-(l+=a===-1?".":"").length+1,s=0;s<c;s++)l+="0";else l=l.substring(0,t+1);return o+l}function d(r){return 0<parseFloat(r)?"+".concat(r.toString()):r.toString()}function u(r){return 0<=parseFloat(r)?" ".concat(r.toString()):r.toString()}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),y.default.prototype.join=function(r,t){return y.default._validateParameters("join",arguments),r.join(t)},y.default.prototype.match=function(r,t){return y.default._validateParameters("match",arguments),r.match(t)},y.default.prototype.matchAll=function(r,t){y.default._validateParameters("matchAll",arguments);for(var a=new RegExp(t,"g"),l=a.exec(r),o=[];l!==null;)o.push(l),l=a.exec(r);return o},y.default.prototype.nf=function(r,t,a){return y.default._validateParameters("nf",arguments),r instanceof Array?r.map(function(l){return f(l,t,a)}):Object.prototype.toString.call(r)==="[object Arguments]"?r.length===3?this.nf(r[0],r[1],r[2]):r.length===2?this.nf(r[0],r[1]):this.nf(r[0]):f(r,t,a)},y.default.prototype.nfc=function(r,t){return y.default._validateParameters("nfc",arguments),r instanceof Array?r.map(function(a){return g(a,t)}):g(r,t)},y.default.prototype.nfp=function(){for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];y.default._validateParameters("nfp",t);var l=y.default.prototype.nf.apply(this,t);return l instanceof Array?l.map(d):d(l)},y.default.prototype.nfs=function(){for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];y.default._validateParameters("nfs",t);var l=y.default.prototype.nf.apply(this,t);return l instanceof Array?l.map(u):u(l)},y.default.prototype.split=function(r,t){return y.default._validateParameters("split",arguments),r.split(t)},y.default.prototype.splitTokens=function(r,t){var a,l;return y.default._validateParameters("splitTokens",arguments),l=t!==void 0?(l=/\]/g.exec(t=t),(a=/\[/g.exec(t))&&l?(t=t.slice(0,l.index)+t.slice(l.index+1),a=/\[/g.exec(t),t=t.slice(0,a.index)+t.slice(a.index+1),new RegExp("[\\[".concat(t,"\\]]"),"g")):l?(t=t.slice(0,l.index)+t.slice(l.index+1),new RegExp("[".concat(t,"\\]]"),"g")):a?(t=t.slice(0,a.index)+t.slice(a.index+1),new RegExp("[".concat(t,"\\[]"),"g")):new RegExp("[".concat(t,"]"),"g")):/\s/g,r.split(l).filter(function(o){return o})},y.default.prototype.trim=function(r){return y.default._validateParameters("trim",arguments),r instanceof Array?r.map(this.trim):r.trim()};var i=y.default;S.default=i},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.pad-start":192,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],315:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n=(n=n("../core/main"))&&n.__esModule?n:{default:n},n.default.prototype.day=function(){return new Date().getDate()},n.default.prototype.hour=function(){return new Date().getHours()},n.default.prototype.minute=function(){return new Date().getMinutes()},n.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},n.default.prototype.month=function(){return new Date().getMonth()+1},n.default.prototype.second=function(){return new Date().getSeconds()},n.default.prototype.year=function(){return new Date().getFullYear()},n=n.default,S.default=n},{"../core/main":273}],316:[function(n,Z,S){function y(r){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}function m(r){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(t){return y(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":y(t)})(r)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(i=n("../core/main"))&&i.__esModule?i:{default:i},g=(n("./p5.Geometry"),function(r){if(r&&r.__esModule)return r;if(r===null||m(r)!=="object"&&typeof r!="function")return{default:r};var t=d();if(t&&t.has(r))return t.get(r);var a,l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var c;Object.prototype.hasOwnProperty.call(r,a)&&((c=o?Object.getOwnPropertyDescriptor(r,a):null)&&(c.get||c.set)?Object.defineProperty(l,a,c):l[a]=r[a])}return l.default=r,t&&t.set(r,l),l}(n("../core/constants")));function d(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,d=function(){return r},r)}f.default.prototype.plane=function(r,t,a,l){this._assert3d("plane"),f.default._validateParameters("plane",arguments),r===void 0&&(r=50),t===void 0&&(t=r),l===void 0&&(l=1);var o,c="plane|".concat(a=a===void 0?1:a,"|").concat(l);return this._renderer.geometryInHash(c)||((o=new f.default.Geometry(a,l,function(){for(var s,p,v=0;v<=this.detailY;v++)for(var b=v/this.detailY,x=0;x<=this.detailX;x++)s=x/this.detailX,p=new f.default.Vector(s-.5,b-.5,0),this.vertices.push(p),this.uvs.push(s,b)})).computeFaces().computeNormals(),a<=1&&l<=1?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(c,o)),this._renderer.drawBuffersScaled(c,r,t,1),this},f.default.prototype.box=function(r,t,a,l,o){this._assert3d("box"),f.default._validateParameters("box",arguments),r===void 0&&(r=50),t===void 0&&(t=r),a===void 0&&(a=t);var c,s=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,s=(o===void 0&&(o=s?1:4),"box|".concat(l=l===void 0?s?1:4:l,"|").concat(o));return this._renderer.geometryInHash(s)||((c=new f.default.Geometry(l,o,function(){var p=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(v,b){for(var b=4*b,x=0;x<4;x++){var w=v[x],w=new f.default.Vector((2*(1&w)-1)/2,((2&w)-1)/2,((4&w)/2-1)/2);p.vertices.push(w),p.uvs.push(1&x,(2&x)/2)}p.faces.push([b,1+b,2+b]),p.faces.push([2+b,1+b,3+b])})})).computeNormals(),l<=4&&o<=4?c._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(s,c)),this._renderer.drawBuffersScaled(s,r,t,a),this},f.default.prototype.sphere=function(r,t,a){return this._assert3d("sphere"),f.default._validateParameters("sphere",arguments),this.ellipsoid(r=r===void 0?50:r,r,r,t=t===void 0?24:t,a=a===void 0?16:a),this};function u(r,t,a,l,o,c,s){r=r<=0?1:r,t=t<0?0:t,a=a<=0?r:a,l=l<3?3:l;for(var p,v,b=(c=c===void 0||c)?-2:0,x=(o=o<1?1:o)+((s=s===void 0?t!==0:s)?2:0),w=Math.atan2(r-t,a),j=Math.sin(w),E=Math.cos(w),M=b;M<=x;++M){var C=M/o,P=a*C,O=void 0,O=M<0?(C=P=0,r):o<M?(P=a,C=1,t):r+(t-r)*C;for(M!==-2&&M!==o+2||(O=0),P-=a/2,p=0;p<l;++p){var D=p/(l-1),R=2*Math.PI*D,N=Math.sin(R),R=Math.cos(R),I=(this.vertices.push(new f.default.Vector(N*O,P,R*O)),void 0),I=M<0?new f.default.Vector(0,-1,0):o<M&&t?new f.default.Vector(0,1,0):new f.default.Vector(N*E,j,R*E);this.vertexNormals.push(I),this.uvs.push(D,C)}}var H=0;if(c){for(v=0;v<l;++v)this.faces.push([H+v,H+l+(v+1)%l,H+l+v]);H+=2*l}for(M=0;M<o;++M){for(p=0;p<l;++p){var ee=(p+1)%l;this.faces.push([H+p,H+ee,H+l+ee]),this.faces.push([H+p,H+l+ee,H+l+p])}H+=l}if(s)for(H+=l,p=0;p<l;++p)this.faces.push([H+p,H+(p+1)%l,H+l])}f.default.prototype.cylinder=function(r,t,a,l,o,c){this._assert3d("cylinder"),f.default._validateParameters("cylinder",arguments),r===void 0&&(r=50),t===void 0&&(t=r),l===void 0&&(l=1),c===void 0&&(c=!0),o===void 0&&(o=!0);var s,p="cylinder|".concat(a=a===void 0?24:a,"|").concat(l,"|").concat(o,"|").concat(c);return this._renderer.geometryInHash(p)||(s=new f.default.Geometry(a,l),u.call(s,1,1,1,a,l,o,c),a<=24&&l<=16?s._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,s)),this._renderer.drawBuffersScaled(p,r,t,r),this},f.default.prototype.cone=function(r,t,a,l,o){this._assert3d("cone"),f.default._validateParameters("cone",arguments),r===void 0&&(r=50),t===void 0&&(t=r),l===void 0&&(l=1),o===void 0&&(o=!0);var c,s="cone|".concat(a=a===void 0?24:a,"|").concat(l,"|").concat(o);return this._renderer.geometryInHash(s)||(c=new f.default.Geometry(a,l),u.call(c,1,0,1,a,l,o,!1),a<=24&&l<=16?c._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(s,c)),this._renderer.drawBuffersScaled(s,r,t,r),this},f.default.prototype.ellipsoid=function(r,t,a,l,o){this._assert3d("ellipsoid"),f.default._validateParameters("ellipsoid",arguments),r===void 0&&(r=50),t===void 0&&(t=r),a===void 0&&(a=r),o===void 0&&(o=16);var c,s="ellipsoid|".concat(l=l===void 0?24:l,"|").concat(o);return this._renderer.geometryInHash(s)||((c=new f.default.Geometry(l,o,function(){for(var p=0;p<=this.detailY;p++)for(var v=p/this.detailY,b=Math.PI*v-Math.PI/2,x=Math.cos(b),w=Math.sin(b),j=0;j<=this.detailX;j++){var E=j/this.detailX,C=2*Math.PI*E,M=Math.cos(C),C=Math.sin(C),C=new f.default.Vector(x*C,w,x*M);this.vertices.push(C),this.vertexNormals.push(C),this.uvs.push(E,v)}})).computeFaces(),l<=24&&o<=24?c._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(s,c)),this._renderer.drawBuffersScaled(s,r,t,a),this},f.default.prototype.torus=function(r,s,a,l){if(this._assert3d("torus"),f.default._validateParameters("torus",arguments),r===void 0)r=50;else if(!r)return;if(s===void 0)s=10;else if(!s)return;a===void 0&&(a=24),l===void 0&&(l=16);var o,c=(s/r).toPrecision(4),s="torus|".concat(c,"|").concat(a,"|").concat(l);return this._renderer.geometryInHash(s)||((o=new f.default.Geometry(a,l,function(){for(var p=0;p<=this.detailY;p++)for(var v=p/this.detailY,b=2*Math.PI*v,x=Math.cos(b),w=Math.sin(b),j=1+c*x,E=0;E<=this.detailX;E++){var M=E/this.detailX,C=2*Math.PI*M,O=Math.cos(C),C=Math.sin(C),P=new f.default.Vector(j*O,j*C,c*w),O=new f.default.Vector(x*O,x*C,w);this.vertices.push(P),this.vertexNormals.push(O),this.uvs.push(M,v)}})).computeFaces(),a<=24&&l<=16?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(s,o)),this._renderer.drawBuffersScaled(s,r,r,r),this},f.default.RendererGL.prototype.point=function(r,t,a){var l=[];return l.push(new f.default.Vector(r,t,a=a===void 0?0:a)),this._drawPoints(l,this.immediateMode.buffers.point),this},f.default.RendererGL.prototype.triangle=function(s){var t=s[0],a=s[1],l=s[2],o=s[3],c=s[4],s=s[5],p=(this.geometryInHash("tri")||((p=new f.default.Geometry(1,1,function(){var x=[];x.push(new f.default.Vector(0,0,0)),x.push(new f.default.Vector(1,0,0)),x.push(new f.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=x,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),p.computeNormals(),this.createBuffers("tri",p)),this.uMVMatrix.copy());try{var v=Math.sign(t*o-l*a+l*s-c*o+c*a-t*s),b=new f.default.Matrix([l-t,o-a,0,0,c-t,s-a,0,0,0,0,v,0,t,a,0,1]).mult(this.uMVMatrix);this.uMVMatrix=b,this.drawBuffers("tri")}finally{this.uMVMatrix=p}return this},f.default.RendererGL.prototype.ellipse=function(r){this.arc(r[0],r[1],r[2],r[3],0,g.TWO_PI,g.OPEN,r[4])},f.default.RendererGL.prototype.arc=function(r){var t,a=arguments[1],l=arguments[2],o=arguments[3],c=arguments[4],s=arguments[5],p=arguments[6],v=arguments[7]||25,b=(Math.abs(s-c)>=g.TWO_PI?"".concat(x="ellipse","|"):"".concat(x="arc","|").concat(c,"|").concat(s,"|").concat(p,"|")).concat(v,"|"),x=(this.geometryInHash(b)||((t=new f.default.Geometry(v,1,function(){if(c.toFixed(10)!==s.toFixed(10)){p!==g.PIE&&p!==void 0||(this.vertices.push(new f.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var w=0;w<=v;w++){var E=(s-c)*(w/v)+c,j=.5+Math.cos(E)/2,E=.5+Math.sin(E)/2;this.vertices.push(new f.default.Vector(j,E,0)),this.uvs.push([j,E]),w<v-1&&(this.faces.push([0,w+1,w+2]),this.edges.push([w+1,w+2]))}switch(p){case g.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case g.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case g.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),v<=50?t._edgesToVertices(t):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(x," with more than 50 detail")),this.createBuffers(b,t)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([r,a,0]),this.uMVMatrix.scale(l,o,1),this.drawBuffers(b)}finally{this.uMVMatrix=x}return this},f.default.RendererGL.prototype.rect=function(r){var t=r[0],a=r[1],l=r[2],o=r[3];if(r[4]===void 0){var p=this._pInst._glAttributes.perPixelLighting,c=r[4]||(p?1:24),s=r[5]||(p?1:16),p="rect|".concat(c,"|").concat(s),v=(this.geometryInHash(p)||((v=new f.default.Geometry(c,s,function(){for(var I=0;I<=this.detailY;I++)for(var H=I/this.detailY,ee=0;ee<=this.detailX;ee++){var fe=ee/this.detailX,xe=new f.default.Vector(fe,H,0);this.vertices.push(xe),this.uvs.push(fe,H)}0<c&&0<s&&(this.edges=[[0,c],[c,(c+1)*(s+1)-1],[(c+1)*(s+1)-1,(c+1)*s],[(c+1)*s,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(p,v)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([t,a,0]),this.uMVMatrix.scale(l,o,1),this.drawBuffers(p)}finally{this.uMVMatrix=v}}else{var p=r[4],v=r[5]===void 0?p:r[5],b=r[6]===void 0?v:r[6],r=r[7]===void 0?b:r[7],C=l,x=o,E=((C+=t)<t&&(E=t,t=C,C=E),(x+=a)<a&&(E=a,a=x,x=E),Math.min((C-t)/2,(x-a)/2)),w=(E<p&&(p=E),E<v&&(v=E),E<b&&(b=E),E<r&&(r=E),t),j=a,E=C,t=x,M=(this.beginShape(),v!==0?(this.vertex(E-v,j),this.quadraticVertex(E,j,E,j+v)):this.vertex(E,j),b!==0?(this.vertex(E,t-b),this.quadraticVertex(E,t,E-b,t)):this.vertex(E,t),r!==0?(this.vertex(w+r,t),this.quadraticVertex(w,t,w,t-r)):this.vertex(w,t),p!==0?(this.vertex(w,j+p),this.quadraticVertex(w,j,w+p,j)):this.vertex(w,j),!(this.immediateMode.geometry.uvs.length=0)),a=!1,C=void 0;try{for(var P,O=this.immediateMode.geometry.vertices[Symbol.iterator]();!(M=(P=O.next()).done);M=!0){var D=P.value,N=(D.x-w)/l,R=(D.y-j)/o;this.immediateMode.geometry.uvs.push(N,R)}}catch(q){a=!0,C=q}finally{try{M||O.return==null||O.return()}finally{if(a)throw C}}this.endShape(g.CLOSE)}return this},f.default.RendererGL.prototype.quad=function(r,t,a,l,o,c,s,p,v,b,x,w,j,E){j===void 0&&(j=2),E===void 0&&(E=2);var M="quad|".concat(r,"|").concat(t,"|").concat(a,"|").concat(l,"|").concat(o,"|").concat(c,"|").concat(s,"|").concat(p,"|").concat(v,"|").concat(b,"|").concat(x,"|").concat(w,"|").concat(j,"|").concat(E);if(!this.geometryInHash(M)){var C=new f.default.Geometry(j,E,function(){for(var I=1/(this.detailX-1),H=1/(this.detailY-1),ee=0;ee<this.detailY;ee++)for(var fe=0;fe<this.detailX;fe++){var xe=fe*I,q=ee*H;this.vertices.push(new f.default.Vector((1-xe)*((1-q)*r+q*b)+xe*((1-q)*l+q*s),(1-xe)*((1-q)*t+q*x)+xe*((1-q)*o+q*p),(1-xe)*((1-q)*a+q*w)+xe*((1-q)*c+q*v))),this.uvs.push([xe,q])}});C.faces=[];for(var P=0;P<E-1;P++)for(var O=0;O<j-1;O++){var D=O+P*j,N=O+1+(P+1)*j,R=O+(P+1)*j;C.faces.push([D,O+1+P*j,N]),C.faces.push([D,N,R])}C.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(M,C)}return this.drawBuffers(M),this},f.default.RendererGL.prototype.bezier=function(r,t,a,l,o,c,s,p,v,b,x,w){arguments.length===8&&(x=p,b=s,p=c,s=o,o=l,l=a,a=c=v=w=0);var j=this._pInst._bezierDetail||20;this.beginShape();for(var E=0;E<=j;E++){var M=Math.pow(1-E/j,3),C=E/j*3*Math.pow(1-E/j,2),P=3*Math.pow(E/j,2)*(1-E/j),O=Math.pow(E/j,3);this.vertex(r*M+l*C+s*P+b*O,t*M+o*C+p*P+x*O,a*M+c*C+v*P+w*O)}return this.endShape(),this},f.default.RendererGL.prototype.curve=function(r,t,a,l,o,c,s,p,v,b,x,w){arguments.length===8&&(b=s,x=p,s=o,p=l,o=l=a,a=c=v=w=0);var j=this._pInst._curveDetail;this.beginShape();for(var E=0;E<=j;E++){var M=.5*Math.pow(E/j,3),C=.5*Math.pow(E/j,2),P=E/j*.5;this.vertex(M*(3*l-r-3*s+b)+C*(2*r-5*l+4*s-b)+P*(-r+s)+2*l*.5,M*(3*o-t-3*p+x)+C*(2*t-5*o+4*p-x)+P*(-t+p)+2*o*.5,M*(3*c-a-3*v+w)+C*(2*a-5*c+4*v-w)+P*(-a+v)+2*c*.5)}return this.endShape(),this},f.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(g.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(g.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},f.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var r,t,a,l,o,c,s=[],p=[],v=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var b=1/this._lutBezierDetail,x=0,w=1,j=0;x<1;){if(c=parseFloat(x.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(c),w.toFixed(6)===b.toFixed(6)){c=parseFloat(w.toFixed(6))+parseFloat(x.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(c);break}x+=b,w-=b,++j}}for(var E=this._lookUpTableBezier.length,M=[],C=0;C<4;C++)M.push([]);M[0]=this.immediateMode.geometry.vertexColors.slice(-4),M[3]=this.curFillColor.slice();var P=[];for(C=0;C<4;C++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[3]=this.curStrokeColor.slice(),v===6){this.isBezier=!0;var s=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],p=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],O=Math.hypot(s[0]-s[1],p[0]-p[1]),N=Math.hypot(s[1]-s[2],p[1]-p[2]),D=Math.hypot(s[2]-s[3],p[2]-p[3]),N=O+N+D;for(O/=N,D/=N,o=0;o<4;o++)M[1].push(M[0][o]*(1-O)+M[3][o]*O),M[2].push(M[0][o]*D+M[3][o]*(1-D)),P[1].push(P[0][o]*(1-O)+P[3][o]*O),P[2].push(P[0][o]*D+P[3][o]*(1-D));for(l=0;l<E;l++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],C=r=t=0;C<4;C++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableBezier[l][C]*M[C][o],this.curStrokeColor[o]+=this._lookUpTableBezier[l][C]*P[C][o];r+=s[C]*this._lookUpTableBezier[l][C],t+=p[C]*this._lookUpTableBezier[l][C]}this.vertex(r,t)}this.curFillColor=M[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(v===9){this.isBezier=!0,s=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],p=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var R=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],I=Math.hypot(s[0]-s[1],p[0]-p[1],R[0]-R[1]),N=Math.hypot(s[1]-s[2],p[1]-p[2],R[1]-R[2]),H=Math.hypot(s[2]-s[3],p[2]-p[3],R[2]-R[3]),v=I+N+H;for(I/=v,H/=v,o=0;o<4;o++)M[1].push(M[0][o]*(1-I)+M[3][o]*I),M[2].push(M[0][o]*H+M[3][o]*(1-H)),P[1].push(P[0][o]*(1-I)+P[3][o]*I),P[2].push(P[0][o]*H+P[3][o]*(1-H));for(l=0;l<E;l++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],C=r=t=a=0;C<4;C++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableBezier[l][C]*M[C][o],this.curStrokeColor[o]+=this._lookUpTableBezier[l][C]*P[C][o];r+=s[C]*this._lookUpTableBezier[l][C],t+=p[C]*this._lookUpTableBezier[l][C],a+=R[C]*this._lookUpTableBezier[l][C]}this.vertex(r,t,a)}this.curFillColor=M[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},f.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var r,t,a,l,o,c,s=[],p=[],v=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var b=1/this._lutQuadraticDetail,x=0,w=1,j=0;x<1;){if(c=parseFloat(x.toFixed(6)),this._lookUpTableQuadratic[j]=this._quadraticCoefficients(c),w.toFixed(6)===b.toFixed(6)){c=parseFloat(w.toFixed(6))+parseFloat(x.toFixed(6)),++j,this._lookUpTableQuadratic[j]=this._quadraticCoefficients(c);break}x+=b,w-=b,++j}}for(var E=this._lookUpTableQuadratic.length,M=[],C=0;C<3;C++)M.push([]);M[0]=this.immediateMode.geometry.vertexColors.slice(-4),M[2]=this.curFillColor.slice();var P=[];for(C=0;C<3;C++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[2]=this.curStrokeColor.slice(),v===4){this.isQuadratic=!0;var s=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],p=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],O=Math.hypot(s[0]-s[1],p[0]-p[1]);for(O/=O+Math.hypot(s[1]-s[2],p[1]-p[2]),o=0;o<4;o++)M[1].push(M[0][o]*(1-O)+M[2][o]*O),P[1].push(P[0][o]*(1-O)+P[2][o]*O);for(l=0;l<E;l++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],C=r=t=0;C<3;C++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableQuadratic[l][C]*M[C][o],this.curStrokeColor[o]+=this._lookUpTableQuadratic[l][C]*P[C][o];r+=s[C]*this._lookUpTableQuadratic[l][C],t+=p[C]*this._lookUpTableQuadratic[l][C]}this.vertex(r,t)}this.curFillColor=M[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(v===6){this.isQuadratic=!0,s=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],p=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var D=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],N=Math.hypot(s[0]-s[1],p[0]-p[1],D[0]-D[1]);for(N/=N+Math.hypot(s[1]-s[2],p[1]-p[2],D[1]-D[2]),o=0;o<4;o++)M[1].push(M[0][o]*(1-N)+M[2][o]*N),P[1].push(P[0][o]*(1-N)+P[2][o]*N);for(l=0;l<E;l++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],C=r=t=a=0;C<3;C++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableQuadratic[l][C]*M[C][o],this.curStrokeColor[o]+=this._lookUpTableQuadratic[l][C]*P[C][o];r+=s[C]*this._lookUpTableQuadratic[l][C],t+=p[C]*this._lookUpTableQuadratic[l][C],a+=D[C]*this._lookUpTableQuadratic[l][C]}this.vertex(r,t,a)}this.curFillColor=M[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},f.default.RendererGL.prototype.curveVertex=function(){var r,t,a,l,o,c,s=[],p=[],v=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var b=1/this._lutBezierDetail,x=0,w=1,j=0;x<1;){if(c=parseFloat(x.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(c),w.toFixed(6)===b.toFixed(6)){c=parseFloat(w.toFixed(6))+parseFloat(x.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(c);break}x+=b,w-=b,++j}}var E=this._lookUpTableBezier.length;if(v===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,s=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),p=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),o=0;o<E;o++)t=s[0]*this._lookUpTableBezier[o][0]+s[1]*this._lookUpTableBezier[o][1]+s[2]*this._lookUpTableBezier[o][2]+s[3]*this._lookUpTableBezier[o][3],a=p[0]*this._lookUpTableBezier[o][0]+p[1]*this._lookUpTableBezier[o][1]+p[2]*this._lookUpTableBezier[o][2]+p[3]*this._lookUpTableBezier[o][3],this.vertex(t,a);for(o=0;o<v;o++)this.immediateMode._curveVertex.shift()}}else if(v===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,s=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),p=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),r=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),o=0;o<E;o++)t=s[0]*this._lookUpTableBezier[o][0]+s[1]*this._lookUpTableBezier[o][1]+s[2]*this._lookUpTableBezier[o][2]+s[3]*this._lookUpTableBezier[o][3],a=p[0]*this._lookUpTableBezier[o][0]+p[1]*this._lookUpTableBezier[o][1]+p[2]*this._lookUpTableBezier[o][2]+p[3]*this._lookUpTableBezier[o][3],l=r[0]*this._lookUpTableBezier[o][0]+r[1]*this._lookUpTableBezier[o][1]+r[2]*this._lookUpTableBezier[o][2]+r[3]*this._lookUpTableBezier[o][3],this.vertex(t,a,l);for(o=0;o<v;o++)this.immediateMode._curveVertex.shift()}},f.default.RendererGL.prototype.image=function(r,w,a,j,o,c,s,p,v){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(r),this._pInst.textureMode(g.NORMAL);var b=0,x=(w<=r.width&&(b=w/r.width),1),w=(w+j<=r.width&&(x=(w+j)/r.width),0),j=(a<=r.height&&(w=a/r.height),1);a+o<=r.height&&(j=(a+o)/r.height),this.beginShape(),this.vertex(c,s,0,b,w),this.vertex(c+p,s,0,x,w),this.vertex(c+p,s+v,0,x,j),this.vertex(c,s+v,0,b,j),this.endShape(g.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(g.REMOVE)};var i=f.default;S.default=i},{"../core/constants":262,"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],317:[function(n,Z,S){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=(u=n("../core/main"))&&u.__esModule?u:{default:u},f=function(i){if(i&&i.__esModule)return i;if(i===null||d(i)!=="object"&&typeof i!="function")return{default:i};var r=g();if(r&&r.has(i))return r.get(i);var t,a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in i){var o;Object.prototype.hasOwnProperty.call(i,t)&&((o=l?Object.getOwnPropertyDescriptor(i,t):null)&&(o.get||o.set)?Object.defineProperty(a,t,o):a[t]=i[t])}return a.default=i,r&&r.set(i,a),a}(n("../core/constants"));function g(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,g=function(){return i},i)}function d(i){return(d=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(r){return y(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":y(r)})(i)}m.default.prototype.orbitControl=function(i,r,t,v){var l=this,o=(this._assert3d("orbitControl"),m.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);i===void 0&&(i=1),r===void 0&&(r=i),t===void 0&&(t=1),d(v)!=="object"&&(v={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var x=v.disableTouchActions;this.touchActionsDisabled===!0||x!==void 0&&!x||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var c,s,p,x=v.freeRotation,v=x!==void 0&&x,b=[],x=(this.touches.forEach(function(O){l._renderer.prevTouches.forEach(function(D){O.id===D.id&&(D={x:O.x,y:O.y,px:D.x,py:D.y},b.push(D))})}),this._renderer.prevTouches=this.touches,0),w=0,j=0,E=0,M=0,C=this.height<this.width?this.height:this.width,P=!1;return 0<b.length?(P=0<b[0].x&&b[0].x<this.width&&0<b[0].y&&b[0].y<this.height,b.length===1?(w=-i*((c=b[0]).x-c.px)/C,j=r*(c.y-c.py)/C):(c=b[0],s=b[1],x=-(Math.hypot(c.x-s.x,c.y-s.y)-Math.hypot(c.px-s.px,c.py-s.py))*t*4e-4,E=.5*(c.x+s.x)-.5*(c.px+s.px),M=.5*(c.y+s.y)-.5*(c.py+s.py)),0<this.touches.length?P&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(P=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(x=Math.sign(this._mouseWheelDeltaY)*t,x*=.01,this._mouseWheelDeltaY=0,P&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(w=-i*this.movedX/C,j=r*this.movedY/C):this.mouseButton===this.RIGHT&&(E=this.movedX,M=this.movedY),P&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),x!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=x),.001<Math.abs(this._renderer.zoomVelocity)?(v?o._orbitFree(0,0,this._renderer.zoomVelocity):o._orbit(0,0,this._renderer.zoomVelocity),o.projMatrix.mat4[15]!==0&&(o.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),o.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=o.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=o.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,w===0&&j===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*w,.6*j),1e-6<this._renderer.rotateVelocity.magSq()?(v?o._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):o._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),E===0&&M===0||!this._renderer.executeRotateAndMove||(c=2*E/this.width,s=2*-M/this.height,this._renderer.moveVelocity.add(.15*c,.15*s)),1e-6<this._renderer.moveVelocity.magSq()?(t=o._getLocalAxes(),i=o.eyeX-o.centerX,r=o.eyeY-o.centerY,C=o.eyeZ-o.centerZ,P=Math.sqrt(i*i+r*r+C*C),x=new m.default.Vector(o.centerX,o.centerY,o.centerZ),x=o.cameraMatrix.multiplyPoint(x),(x=this._renderer.uPMatrix.multiplyAndNormalizePoint(x)).x-=this._renderer.moveVelocity.x,x.y-=this._renderer.moveVelocity.y,j=(w=this._renderer.uPMatrix.mat4)[15]===0?(p=(w[8]+x.x)/w[0]*P,(w[9]+x.y)/w[5]*P):(p=(x.x-w[12])/w[0],(x.y-w[13])/w[5]),o.setPosition(o.eyeX+p*t.x[0]+j*t.y[0],o.eyeY+p*t.x[1]+j*t.y[1],o.eyeZ+p*t.x[2]+j*t.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},m.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var i=arguments.length,r=new Array(i),t=0;t<i;t++)r[t]=arguments[t];m.default._validateParameters("debugMode",r);for(var a=this._registeredMethods.post.length-1;0<=a;a--)this._registeredMethods.post[a].toString()!==this._grid().toString()&&this._registeredMethods.post[a].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(a,1);r[0]===f.GRID?this.registerMethod("post",this._grid.call(this,r[1],r[2],r[3],r[4],r[5])):r[0]===f.AXES?this.registerMethod("post",this._axesIcon.call(this,r[1],r[2],r[3],r[4])):(this.registerMethod("post",this._grid.call(this,r[0],r[1],r[2],r[3],r[4])),this.registerMethod("post",this._axesIcon.call(this,r[5],r[6],r[7],r[8])))},m.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1)},m.default.prototype._grid=function(i,r,t,a,l){i===void 0&&(i=this.width/2),r===void 0&&(r=Math.round(i/30)<4?4:Math.round(i/30)),t===void 0&&(t=0),a===void 0&&(a=0),l===void 0&&(l=0);var o=i/r,c=i/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var s=0;s<=r;s++)this.beginShape(this.LINES),this.vertex(-c+t,a,s*o-c+l),this.vertex(c+t,a,s*o-c+l),this.endShape();for(var p=0;p<=r;p++)this.beginShape(this.LINES),this.vertex(p*o-c+t,a,-c+l),this.vertex(p*o-c+t,a,c+l),this.endShape();this.pop()}},m.default.prototype._axesIcon=function(i,r,t,a){return i===void 0&&(i=40<this.width/20?this.width/20:40),r===void 0&&(r=-this.width/4),t===void 0&&(t=r),a===void 0&&(a=r),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(r,t,a),this.vertex(r+i,t,a),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(r,t,a),this.vertex(r,t+i,a),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(r,t,a),this.vertex(r,t,a+i),this.endShape(),this.pop()}};var u=m.default;S.default=u},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],318:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};y.default.prototype.ambientLight=function(m,f,g,d){this._assert3d("ambientLight"),y.default._validateParameters("ambientLight",arguments);var u=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(u._array[0],u._array[1],u._array[2]),this._renderer._enableLighting=!0,this},y.default.prototype.specularColor=function(m,f,g){this._assert3d("specularColor"),y.default._validateParameters("specularColor",arguments);var d=this.color.apply(this,arguments);return this._renderer.specularColors=[d._array[0],d._array[1],d._array[2]],this},y.default.prototype.directionalLight=function(m,l,a,d,u,i){this._assert3d("directionalLight"),y.default._validateParameters("directionalLight",arguments),m=m instanceof y.default.Color?m:this.color(m,l,a);var r,t,l=arguments[arguments.length-1],a=typeof l=="number"?(r=arguments[arguments.length-3],t=arguments[arguments.length-2],arguments[arguments.length-1]):(r=l.x,t=l.y,l.z),l=Math.sqrt(r*r+t*t+a*a);return this._renderer.directionalLightDirections.push(r/l,t/l,a/l),this._renderer.directionalLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},y.default.prototype.pointLight=function(m,a,l,d,u,i){this._assert3d("pointLight"),y.default._validateParameters("pointLight",arguments),m=m instanceof y.default.Color?m:this.color(m,a,l);var r,t,a=arguments[arguments.length-1],l=typeof a=="number"?(r=arguments[arguments.length-3],t=arguments[arguments.length-2],arguments[arguments.length-1]):(r=a.x,t=a.y,a.z);return this._renderer.pointLightPositions.push(r,t,l),this._renderer.pointLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},y.default.prototype.lights=function(){this._assert3d("lights");var m=this.color("rgb(128,128,128)");return this.ambientLight(m),this.directionalLight(m,0,0,-1),this},y.default.prototype.lightFalloff=function(m,f,g){return this._assert3d("lightFalloff"),y.default._validateParameters("lightFalloff",arguments),m<0&&(m=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),f<0&&(f=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),g<0&&(g=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),m===0&&f===0&&g===0&&(m=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=m,this._renderer.linearAttenuation=f,this._renderer.quadraticAttenuation=g,this},y.default.prototype.spotLight=function(m,f,g,d,u,i,r,t,a,l,o){this._assert3d("spotLight"),y.default._validateParameters("spotLight",arguments);var c,s,p,v=arguments.length;switch(v){case 11:case 10:c=this.color(m,f,g),s=new y.default.Vector(d,u,i),p=new y.default.Vector(r,t,a);break;case 9:m instanceof y.default.Color?(c=m,s=new y.default.Vector(f,g,d),p=new y.default.Vector(u,i,r),l=t,o=a):d instanceof y.default.Vector?(c=this.color(m,f,g),s=d,p=new y.default.Vector(u,i,r),l=t,o=a):r instanceof y.default.Vector?(c=this.color(m,f,g),s=new y.default.Vector(d,u,i),p=r,l=t,o=a):(c=this.color(m,f,g),s=new y.default.Vector(d,u,i),p=new y.default.Vector(r,t,a));break;case 8:l=(p=m instanceof y.default.Color?(c=m,s=new y.default.Vector(f,g,d),new y.default.Vector(u,i,r)):d instanceof y.default.Vector?(c=this.color(m,f,g),s=d,new y.default.Vector(u,i,r)):(c=this.color(m,f,g),s=new y.default.Vector(d,u,i),r),t);break;case 7:m instanceof y.default.Color&&f instanceof y.default.Vector?(c=m,s=f,p=new y.default.Vector(g,d,u),l=i,o=r):m instanceof y.default.Color&&u instanceof y.default.Vector?(c=m,s=new y.default.Vector(f,g,d),p=u,l=i,o=r):d instanceof y.default.Vector&&u instanceof y.default.Vector?(c=this.color(m,f,g),s=d,p=u,l=i,o=r):p=m instanceof y.default.Color?(c=m,s=new y.default.Vector(f,g,d),new y.default.Vector(u,i,r)):d instanceof y.default.Vector?(c=this.color(m,f,g),s=d,new y.default.Vector(u,i,r)):(c=this.color(m,f,g),s=new y.default.Vector(d,u,i),r);break;case 6:d instanceof y.default.Vector&&u instanceof y.default.Vector?(c=this.color(m,f,g),s=d,p=u,l=i):m instanceof y.default.Color&&u instanceof y.default.Vector?(c=m,s=new y.default.Vector(f,g,d),p=u,l=i):m instanceof y.default.Color&&f instanceof y.default.Vector&&(c=m,s=f,p=new y.default.Vector(g,d,u),l=i);break;case 5:m instanceof y.default.Color&&f instanceof y.default.Vector&&g instanceof y.default.Vector?(c=m,s=f,p=g,l=d,o=u):d instanceof y.default.Vector&&u instanceof y.default.Vector?(c=this.color(m,f,g),s=d,p=u):m instanceof y.default.Color&&u instanceof y.default.Vector?(c=m,s=new y.default.Vector(f,g,d),p=u):m instanceof y.default.Color&&f instanceof y.default.Vector&&(c=m,s=f,p=new y.default.Vector(g,d,u));break;case 4:c=m,s=f,p=g,l=d;break;case 3:c=m,s=f,p=g;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(v<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(c._array[0],c._array[1],c._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(s.x,s.y,s.z),p.normalize(),this._renderer.spotLightDirections.push(p.x,p.y,p.z),l===void 0&&(l=Math.PI/3),o!==void 0&&o<1?(o=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):o===void 0&&(o=100),l=this._renderer._pInst._toRadians(l),this._renderer.spotLightAngle.push(Math.cos(l)),this._renderer.spotLightConc.push(o),this._renderer._enableLighting=!0,this},y.default.prototype.noLights=function(){this._assert3d("noLights");for(var m=arguments.length,f=new Array(m),g=0;g<m;g++)f[g]=arguments[g];return y.default._validateParameters("noLights",f),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},n=y.default,S.default=n},{"../core/main":273}],319:[function(n,Z,S){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(m=n("../core/main"))&&m.__esModule?m:{default:m};n("./p5.Geometry"),y.default.prototype.loadModel=function(f){y.default._validateParameters("loadModel",arguments);var g,d,u,i=f.slice(-4),r=(typeof arguments[1]=="boolean"?(g=arguments[1],d=arguments[2],u=arguments[3],arguments[4]!==void 0&&(i=arguments[4])):(g=!1,d=arguments[1],u=arguments[2],arguments[3]!==void 0&&(i=arguments[3])),new y.default.Geometry),t=(r.gid="".concat(f,"|").concat(g),this);return i.match(/\.stl$/i)?this.httpDo(f,"GET","arrayBuffer",function(a){(function(l,o){if(function(c){for(var s=new DataView(c),p=[115,111,108,105,100],v=0;v<5;v++)if(function(b,x,w){for(var j=0,E=b.length;j<E;j++)if(b[j]!==x.getUint8(w+j,!1))return;return 1}(p,s,v))return;return 1}(o))(function(c,s){for(var p,v,b,x,w,j,E,M=new DataView(s),C=M.getUint32(80,!0),P=!1,O=0;O<70;O++)M.getUint32(O,!1)===1129270351&&M.getUint8(O+4)===82&&M.getUint8(O+5)===61&&(P=!0,x=[],w=M.getUint8(O+6)/255,j=M.getUint8(O+7)/255,E=M.getUint8(O+8)/255);for(var D=0;D<C;D++){for(var N,R=84+50*D,I=M.getFloat32(R,!0),H=M.getFloat32(4+R,!0),ee=M.getFloat32(8+R,!0),fe=(P&&(N=M.getUint16(48+R,!0),b=32768&N?(p=w,v=j,E):(p=(31&N)/31,v=(N>>5&31)/31,(N>>10&31)/31)),new y.default.Vector(I,H,ee)),xe=1;xe<=3;xe++){var q=R+12*xe,q=new y.default.Vector(M.getFloat32(q,!0),M.getFloat32(4+q,!0),M.getFloat32(8+q,!0));c.vertices.push(q),c.vertexNormals.push(fe),P&&x.push(p,v,b)}c.faces.push([3*D,3*D+1,3*D+2]),c.uvs.push([0,0],[0,0],[0,0])}})(l,o);else{if(o=new DataView(o),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");o=new TextDecoder("utf-8").decode(o).split(`
`),function(c,s){for(var p,v,b="",x=[],w=0;w<s.length;++w){for(var j=s[w].trim(),E=j.split(" "),M=0;M<E.length;++M)E[M]===""&&E.splice(M,1);if(E.length!==0)switch(b){case"":if(E[0]!=="solid")return console.error(j),console.error('Invalid state "'.concat(E[0],'", should be "solid"'));b="solid";break;case"solid":if(E[0]!=="facet"||E[1]!=="normal")return console.error(j),console.error('Invalid state "'.concat(E[0],'", should be "facet normal"'));p=new y.default.Vector(parseFloat(E[2]),parseFloat(E[3]),parseFloat(E[4])),c.vertexNormals.push(p,p,p),b="facet normal";break;case"facet normal":if(E[0]!=="outer"||E[1]!=="loop")return console.error(j),console.error('Invalid state "'.concat(E[0],'", should be "outer loop"'));b="vertex";break;case"vertex":if(E[0]==="vertex")v=new y.default.Vector(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3])),c.vertices.push(v),c.uvs.push([0,0]),x.push(c.vertices.indexOf(v));else{if(E[0]!=="endloop")return console.error(j),console.error('Invalid state "'.concat(E[0],'", should be "vertex" or "endloop"'));c.faces.push(x),x=[],b="endloop"}break;case"endloop":if(E[0]!=="endfacet")return console.error(j),console.error('Invalid state "'.concat(E[0],'", should be "endfacet"'));b="endfacet";break;case"endfacet":if(E[0]!=="endsolid"){if(E[0]!=="facet"||E[1]!=="normal")return console.error(j),console.error('Invalid state "'.concat(E[0],'", should be "endsolid" or "facet normal"'));p=new y.default.Vector(parseFloat(E[2]),parseFloat(E[3]),parseFloat(E[4])),c.vertexNormals.push(p,p,p),b="facet normal"}break;default:console.error('Invalid state "'.concat(b,'"'))}}}(l,o)}})(r,a),g&&r.normalize(),t._decrementPreload(),typeof d=="function"&&d(r)},u):i.match(/\.obj$/i)?this.loadStrings(f,function(a){for(var l=r,o=a,c={v:[],vt:[],vn:[]},s={},p=0;p<o.length;++p){var v=o[p].trim().split(/\b\s+/);if(0<v.length){if(v[0]==="v"||v[0]==="vn"){var b=new y.default.Vector(parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3]));c[v[0]].push(b)}else if(v[0]==="vt")b=[parseFloat(v[1]),1-parseFloat(v[2])],c[v[0]].push(b);else if(v[0]==="f")for(var x=3;x<v.length;++x){for(var w=[],j=[1,x-1,x],E=0;E<j.length;++E){var M=v[j[E]],C=0;if(s[M]!==void 0)C=s[M];else{for(var P=M.split("/"),O=0;O<P.length;O++)P[O]=parseInt(P[O])-1;C=s[M]=l.vertices.length,l.vertices.push(c.v[P[0]].copy()),c.vt[P[1]]?l.uvs.push(c.vt[P[1]].slice()):l.uvs.push([0,0]),c.vn[P[2]]&&l.vertexNormals.push(c.vn[P[2]].copy())}w.push(C)}w[0]!==w[1]&&w[0]!==w[2]&&w[1]!==w[2]&&l.faces.push(w)}}}l.vertexNormals.length===0&&l.computeNormals(),g&&r.normalize(),t._decrementPreload(),typeof d=="function"&&d(r)},u):(y.default._friendlyFileLoadError(3,f),u?u():y.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),r},y.default.prototype.model=function(f){this._assert3d("model"),y.default._validateParameters("model",arguments),0<f.vertices.length&&(this._renderer.geometryInHash(f.gid)||(f.edges.length===0&&f._makeTriangleEdges(),f._edgesToVertices(),this._renderer.createBuffers(f.gid,f)),this._renderer.drawBuffers(f.gid))};var m=y.default;S.default=m},{"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199}],320:[function(n,Z,S){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function m(i){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(r){return y(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":y(r)})(i)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(u=n("../core/main"))&&u.__esModule?u:{default:u},g=function(i){if(i&&i.__esModule)return i;if(i===null||m(i)!=="object"&&typeof i!="function")return{default:i};var r=d();if(r&&r.has(i))return r.get(i);var t,a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in i){var o;Object.prototype.hasOwnProperty.call(i,t)&&((o=l?Object.getOwnPropertyDescriptor(i,t):null)&&(o.get||o.set)?Object.defineProperty(a,t,o):a[t]=i[t])}return a.default=i,r&&r.set(i,a),a}(n("../core/constants"));function d(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,d=function(){return i},i)}n("./p5.Texture"),f.default.prototype.loadShader=function(i,r,t,a){f.default._validateParameters("loadShader",arguments),a=a||console.error;function l(){c._decrementPreload(),t&&t(o)}var o=new f.default.Shader,c=this,s=!1,p=!1;return this.loadStrings(i,function(v){o._vertSrc=v.join(`
`),p=!0,s&&l()},a),this.loadStrings(r,function(v){o._fragSrc=v.join(`
`),s=!0,p&&l()},a),o},f.default.prototype.createShader=function(i,r){return this._assert3d("createShader"),f.default._validateParameters("createShader",arguments),new f.default.Shader(this._renderer,i,r)},f.default.prototype.shader=function(i){return this._assert3d("shader"),f.default._validateParameters("shader",arguments),i._renderer===void 0&&(i._renderer=this._renderer),i.init(),i.isStrokeShader()?this._renderer.userStrokeShader=i:(this._renderer.userFillShader=i,this._renderer._useNormalMaterial=!1),this},f.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},f.default.prototype.texture=function(i){return this._assert3d("texture"),f.default._validateParameters("texture",arguments),i.gifProperties&&i._animateGif(this),this._renderer.drawMode=g.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=i,this._renderer._setProperty("_doFill",!0),this},f.default.prototype.textureMode=function(i){i!==g.IMAGE&&i!==g.NORMAL?console.warn("You tried to set ".concat(i," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=i},f.default.prototype.textureWrap=function(i){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,t=(this._renderer.textureWrapX=i,this._renderer.textureWrapY=r,!0),a=!1,l=void 0;try{for(var o,c=this._renderer.textures.values()[Symbol.iterator]();!(t=(o=c.next()).done);t=!0)o.value.setWrapMode(i,r)}catch(s){a=!0,l=s}finally{try{t||c.return==null||c.return()}finally{if(a)throw l}}},f.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var i=arguments.length,r=new Array(i),t=0;t<i;t++)r[t]=arguments[t];return f.default._validateParameters("normalMaterial",r),this._renderer.drawMode=g.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},f.default.prototype.ambientMaterial=function(i,r,t){this._assert3d("ambientMaterial"),f.default._validateParameters("ambientMaterial",arguments);var a=f.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=a._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},f.default.prototype.emissiveMaterial=function(i,r,t,a){this._assert3d("emissiveMaterial"),f.default._validateParameters("emissiveMaterial",arguments);var l=f.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=l._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},f.default.prototype.specularMaterial=function(i,r,t,a){this._assert3d("specularMaterial"),f.default._validateParameters("specularMaterial",arguments);var l=f.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=l._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},f.default.prototype.shininess=function(i){return this._assert3d("shininess"),f.default._validateParameters("shininess",arguments),this._renderer._useShininess=i=i<1?1:i,this},f.default.RendererGL.prototype._applyColorBlend=function(i){var r=this.GL,t=this.drawMode===g.TEXTURE,t=this.userFillShader||this.userStrokeShader||this.userPointShader||t||this.curBlendMode!==g.BLEND||i[i.length-1]<1||this._isErasing;return t!==this._isBlending&&(t||this.curBlendMode!==g.BLEND&&this.curBlendMode!==g.ADD?r.enable(r.BLEND):r.disable(r.BLEND),r.depthMask(!0),this._isBlending=t),this._applyBlendMode(),i},f.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var i=this.GL;switch(this.curBlendMode){case g.BLEND:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case g.ADD:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE);break;case g.REMOVE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ZERO,i.ONE_MINUS_SRC_ALPHA);break;case g.MULTIPLY:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA);break;case g.SCREEN:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_COLOR);break;case g.EXCLUSION:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE);break;case g.REPLACE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO);break;case g.SUBTRACT:i.blendEquationSeparate(i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case g.DARKEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case g.LIGHTEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var u=f.default;S.default=u},{"../core/constants":262,"../core/main":273,"./p5.Texture":330,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],321:[function(n,Z,S){n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.string.sub"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.string.sub"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};function m(f,g){for(var d=0;d<g.length;d++){var u=g[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(f,u.key,u)}}y.default.prototype.camera=function(){var f;this._assert3d("camera");for(var g=arguments.length,d=new Array(g),u=0;u<g;u++)d[u]=arguments[u];return y.default._validateParameters("camera",d),(f=this._renderer._curCamera).camera.apply(f,d),this},y.default.prototype.perspective=function(){var f;this._assert3d("perspective");for(var g=arguments.length,d=new Array(g),u=0;u<g;u++)d[u]=arguments[u];return y.default._validateParameters("perspective",d),(f=this._renderer._curCamera).perspective.apply(f,d),this},y.default.prototype.ortho=function(){var f;this._assert3d("ortho");for(var g=arguments.length,d=new Array(g),u=0;u<g;u++)d[u]=arguments[u];return y.default._validateParameters("ortho",d),(f=this._renderer._curCamera).ortho.apply(f,d),this},y.default.prototype.frustum=function(){var f;this._assert3d("frustum");for(var g=arguments.length,d=new Array(g),u=0;u<g;u++)d[u]=arguments[u];return y.default._validateParameters("frustum",d),(f=this._renderer._curCamera).frustum.apply(f,d),this},y.default.prototype.createCamera=function(){this._assert3d("createCamera");var f=new y.default.Camera(this._renderer);return f._computeCameraDefaultSettings(),f._setDefaultCamera(),this._renderer._curCamera=f},y.default.Camera=function(){function f(u){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._renderer=u,this.cameraType="default",this.cameraMatrix=new y.default.Matrix,this.projMatrix=new y.default.Matrix,this.yScale=1}var g,d;return g=f,(d=[{key:"perspective",value:function(a,i,r,t){this.cameraType=0<arguments.length?"custom":"default",a===void 0?(a=this.defaultCameraFOV,this.cameraFOV=a):this.cameraFOV=this._renderer._pInst._toRadians(a),i===void 0&&(i=this.defaultAspectRatio),r===void 0&&(r=this.defaultCameraNear),t===void 0&&(t=this.defaultCameraFar),r<=1e-4&&(r=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),t<r&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=i,this.cameraNear=r,this.cameraFar=t,this.projMatrix=y.default.Matrix.identity();var a=1/Math.tan(this.cameraFOV/2),l=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(a/i,0,0,0,0,-a*this.yScale,0,0,0,0,(t+r)*l,-1,0,0,2*t*r*l,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(x,b,r,t,a,l){x===void 0&&(x=-this._renderer.width/2),b===void 0&&(b=+this._renderer.width/2),r===void 0&&(r=-this._renderer.height/2),t===void 0&&(t=+this._renderer.height/2),a===void 0&&(a=0),l===void 0&&(l=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=a;var w=b-x,o=t-r,c=(this.cameraFar=l)-a,s=2/w,p=2/o*this.yScale,v=-2/c,b=-(b+x)/w,x=-(t+r)/o,w=-(l+a)/c;this.projMatrix=y.default.Matrix.identity(),this.projMatrix.set(s,0,0,0,0,-p,0,0,0,0,v,0,b,x,w,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(x,b,r,t,a,l){x===void 0&&(x=.05*-this._renderer.width),b===void 0&&(b=.05*+this._renderer.width),r===void 0&&(r=.05*+this._renderer.height),t===void 0&&(t=.05*-this._renderer.height),a===void 0&&(a=this.defaultCameraNear),l===void 0&&(l=this.defaultCameraFar),this.cameraNear=a;var w=b-x,o=t-r,c=(this.cameraFar=l)-a,s=2*a/w,p=2*a/o*this.yScale,v=-2*l*a/c,b=(b+x)/w,x=(t+r)/o,w=-(l+a)/c;this.projMatrix=y.default.Matrix.identity(),this.projMatrix.set(s,0,0,0,0,-p,0,0,b,x,w,-1,0,0,v,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(s,i,r,t){var a=this.centerX,l=this.centerY,o=this.centerZ,c=(a-=this.eyeX,l-=this.eyeY,o-=this.eyeZ,y.default.Matrix.identity(this._renderer._pInst)),s=(c.rotate(this._renderer._pInst._toRadians(s),i,r,t),[a*c.mat4[0]+l*c.mat4[4]+o*c.mat4[8],a*c.mat4[1]+l*c.mat4[5]+o*c.mat4[9],a*c.mat4[2]+l*c.mat4[6]+o*c.mat4[10]]);s[0]+=this.eyeX,s[1]+=this.eyeY,s[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,s[0],s[1],s[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(u){var i=this._getLocalAxes();this._rotateView(u,i.y[0],i.y[1],i.y[2])}},{key:"tilt",value:function(u){var i=this._getLocalAxes();this._rotateView(u,i.x[0],i.x[1],i.x[2])}},{key:"lookAt",value:function(u,i,r){this.camera(this.eyeX,this.eyeY,this.eyeZ,u,i,r,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(u,i,r,t,a,l,o,c,s){return u===void 0&&(u=this.defaultEyeX,i=this.defaultEyeY,r=this.defaultEyeZ,t=u,a=i,c=1,s=o=l=0),this.eyeX=u,this.eyeY=i,this.eyeZ=r,t!==void 0&&(this.centerX=t,this.centerY=a,this.centerZ=l),o!==void 0&&(this.upX=o,this.upY=c,this.upZ=s),t=this._getLocalAxes(),this.cameraMatrix.set(t.x[0],t.y[0],t.z[0],0,t.x[1],t.y[1],t.z[1],0,t.x[2],t.y[2],t.z[2],0,0,0,0,1),a=-u,this.cameraMatrix.translate([a,-i,-r]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(t,a,r){var l=this._getLocalAxes(),t=[l.x[0]*t,l.x[1]*t,l.x[2]*t],a=[l.y[0]*a,l.y[1]*a,l.y[2]*a],l=[l.z[0]*r,l.z[1]*r,l.z[2]*r];this.camera(this.eyeX+t[0]+a[0]+l[0],this.eyeY+t[1]+a[1]+l[1],this.eyeZ+t[2]+a[2]+l[2],this.centerX+t[0]+a[0]+l[0],this.centerY+t[1]+a[1]+l[1],this.centerZ+t[2]+a[2]+l[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(u,i,r){var t=u-this.eyeX,a=i-this.eyeY,l=r-this.eyeZ;this.camera(u,i,r,this.centerX+t,this.centerY+a,this.centerZ+l,this.upX,this.upY,this.upZ)}},{key:"set",value:function(u){for(var i=0,r=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType"];i<r.length;i++){var t=r[i];this[t]=u[t]}this.cameraMatrix=u.cameraMatrix.copy(),this.projMatrix=u.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(u,i,r){var t,a,l,o,c,s,p,v,b,x,w,j,E,M,C,P,O,D;r===0?this.set(u):r===1?this.set(i):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=u.projMatrix.mat4[0]*Math.pow(i.projMatrix.mat4[0]/u.projMatrix.mat4[0],r),this.projMatrix.mat4[5]=u.projMatrix.mat4[5]*Math.pow(i.projMatrix.mat4[5]/u.projMatrix.mat4[5],r),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),o=new y.default.Vector(u.eyeX,u.eyeY,u.eyeZ),c=new y.default.Vector(i.eyeX,i.eyeY,i.eyeZ),P=new y.default.Vector(u.centerX,u.centerY,u.centerZ),D=new y.default.Vector(i.centerX,i.centerY,i.centerZ),l=y.default.Vector.dist(o,P),t=y.default.Vector.dist(c,D),t=l*Math.pow(t/l,r),l=y.default.Vector.sub(o,c),a=1,1e-6<(O=(M=o.copy().sub(c).sub(P).add(D)).magSq())&&(a=y.default.Vector.dot(l,M)/O,a=Math.max(0,Math.min(a,1))),l=y.default.Vector.lerp(y.default.Vector.lerp(o,P,a),y.default.Vector.lerp(c,D,a),r),M=u.cameraMatrix.createSubMatrix3x3(),O=i.cameraMatrix.createSubMatrix3x3(),o=M.column(2),P=O.column(2),c=M.column(1),D=O.column(1),u=new y.default.Vector,i=new y.default.Vector,s=new y.default.Vector,p=new y.default.Vector,1-(v=.5*((M=(O=O.mult3x3(M.copy().transpose3x3())).diagonal())[0]+M[1]+M[2]-1))<1e-7?(u.set(y.default.Vector.lerp(o,P,r)).normalize(),s.set(u).mult(a*t).add(l),p.set(u).mult((a-1)*t).add(l),i.set(y.default.Vector.lerp(c,D,r)).normalize()):(P=1/(1-v),D=Math.max(M[0],M[1],M[2]),j=O.mat3[1]+O.mat3[3],E=O.mat3[2]+O.mat3[6],C=O.mat3[5]+O.mat3[7],D=D===M[0]?(x=.5*j*(P/=b=Math.sqrt((M[0]-v)*P)),w=.5*E*P,.5*(O.mat3[7]-O.mat3[5])/b):D===M[1]?(w=.5*C*(P/=x=Math.sqrt((M[1]-v)*P)),b=.5*j*P,.5*(O.mat3[2]-O.mat3[6])/x):(b=.5*E*(P/=w=Math.sqrt((M[2]-v)*P)),x=.5*C*P,.5*(O.mat3[3]-O.mat3[1])/w),j=r*Math.atan2(D,v),E=Math.cos(j),M=Math.sin(j),(D=new y.default.Matrix("mat3",[E+(C=1-E)*b*b,C*(P=b*x)-M*w,C*(O=w*b)+M*x,C*P+M*w,E+C*x*x,C*(r=x*w)-M*b,C*O-M*x,C*r+M*b,E+C*w*w])).multiplyVec3(o,u),s.set(u).mult(a*t).add(l),p.set(u).mult((a-1)*t).add(l),D.multiplyVec3(c,i)),this.camera(s.x,s.y,s.z,p.x,p.y,p.z,i.x,i.y,i.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)}},{key:"copy",value:function(){var u=new y.default.Camera(this._renderer);return u.cameraFOV=this.cameraFOV,u.aspectRatio=this.aspectRatio,u.eyeX=this.eyeX,u.eyeY=this.eyeY,u.eyeZ=this.eyeZ,u.centerX=this.centerX,u.centerY=this.centerY,u.centerZ=this.centerZ,u.upX=this.upX,u.upY=this.upY,u.upZ=this.upZ,u.cameraNear=this.cameraNear,u.cameraFar=this.cameraFar,u.cameraType=this.cameraType,u.cameraMatrix=this.cameraMatrix.copy(),u.projMatrix=this.projMatrix.copy(),u}},{key:"_getLocalAxes",value:function(){var u=this.eyeX-this.centerX,i=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,o=Math.sqrt(u*u+i*i+r*r),o=(o!==0&&(u/=o,i/=o,r/=o),this.upX),t=(c=this.upY)*r-(s=this.upZ)*i,a=-o*r+s*u,l=o*i-c*u,o=i*l-r*a,c=-u*l+r*t,s=u*a-i*t,p=Math.sqrt(t*t+a*a+l*l),p=(p!==0&&(t/=p,a/=p,l/=p),Math.sqrt(o*o+c*c+s*s));return p!==0&&(o/=p,c/=p,s/=p),{x:[t,a,l],y:[o,c,s],z:[u,i,r]}}},{key:"_orbit",value:function(u,p,s){var a=this.eyeX-this.centerX,l=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,t=Math.hypot(a,l,o),a=new y.default.Vector(a,l,o).normalize(),l=new y.default.Vector(this.upX,this.upY,this.upZ).normalize(),o=new y.default.Vector.cross(l,a).normalize(),c=new y.default.Vector.cross(o,l),s=((t=(t*=Math.pow(10,s))<this.cameraNear?this.cameraNear:t)>this.cameraFar&&(t=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,y.default.Vector.dot(a,l))))+p),p=u;(s<=0||s>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),l.mult(Math.cos(s)),c.mult(Math.cos(p)*Math.sin(s)),o.mult(Math.sin(p)*Math.sin(s)),a.set(l).add(c).add(o),this.eyeX=t*a.x+this.centerX,this.eyeY=t*a.y+this.centerY,this.eyeZ=t*a.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(s,p,b){var a=this.eyeX-this.centerX,l=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,t=Math.hypot(a,l,o),a=new y.default.Vector(a,l,o).normalize(),l=new y.default.Vector(this.upX,this.upY,this.upZ),o=new y.default.Vector.cross(l,a).normalize(),c=new y.default.Vector.cross(a,o),x=Math.atan2(p,s),x=(c.mult(Math.sin(x)),o.mult(Math.cos(x)).add(c),Math.sqrt(s*s+p*p)),c=new y.default.Vector.cross(a,o),s=((t=(t*=Math.pow(10,b))<this.cameraNear?this.cameraNear:t)>this.cameraFar&&(t=this.cameraFar),Math.cos(x)),p=Math.sin(x),b=l.dot(a),x=l.dot(o),v=b*s+x*p,b=-b*p+x*s,x=l.dot(c);l.x=v*a.x+b*o.x+x*c.x,l.y=v*a.y+b*o.y+x*c.y,l.z=v*a.z+b*o.z+x*c.z,o.mult(-p),a.mult(s).add(o).mult(t),this.camera(a.x+this.centerX,a.y+this.centerY,a.z+this.centerZ,this.centerX,this.centerY,this.centerZ,l.x,l.y,l.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&m(g.prototype,d),f}(),y.default.prototype.setCamera=function(f){this._renderer._curCamera=f,this._renderer.uPMatrix.set(f.projMatrix.mat4[0],f.projMatrix.mat4[1],f.projMatrix.mat4[2],f.projMatrix.mat4[3],f.projMatrix.mat4[4],f.projMatrix.mat4[5],f.projMatrix.mat4[6],f.projMatrix.mat4[7],f.projMatrix.mat4[8],f.projMatrix.mat4[9],f.projMatrix.mat4[10],f.projMatrix.mat4[11],f.projMatrix.mat4[12],f.projMatrix.mat4[13],f.projMatrix.mat4[14],f.projMatrix.mat4[15])},n=y.default.Camera,S.default=n},{"../core/main":273,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.string.sub":198}],322:[function(E,Z,S){function y(M){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(M)}E("core-js/modules/es.symbol"),E("core-js/modules/es.symbol.description"),E("core-js/modules/es.symbol.iterator"),E("core-js/modules/es.array.fill"),E("core-js/modules/es.array.from"),E("core-js/modules/es.array.includes"),E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.get-own-property-descriptor"),E("core-js/modules/es.object.get-prototype-of"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.reflect.construct"),E("core-js/modules/es.reflect.get"),E("core-js/modules/es.regexp.to-string"),E("core-js/modules/es.string.includes"),E("core-js/modules/es.string.iterator"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.uint8-array"),E("core-js/modules/es.typed-array.uint8-clamped-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),E("core-js/modules/es.weak-map"),E("core-js/modules/web.dom-collections.iterator"),E("core-js/modules/es.symbol"),E("core-js/modules/es.symbol.description"),E("core-js/modules/es.symbol.iterator"),E("core-js/modules/es.array.fill"),E("core-js/modules/es.array.from"),E("core-js/modules/es.array.includes"),E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.get-own-property-descriptor"),E("core-js/modules/es.object.get-prototype-of"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.reflect.construct"),E("core-js/modules/es.reflect.get"),E("core-js/modules/es.regexp.to-string"),E("core-js/modules/es.string.includes"),E("core-js/modules/es.string.iterator"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.uint8-array"),E("core-js/modules/es.typed-array.uint8-clamped-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),E("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=(j=E("../core/main"))&&j.__esModule?j:{default:j},f=function(M){if(M&&M.__esModule)return M;if(M===null||a(M)!=="object"&&typeof M!="function")return{default:M};var C=u();if(C&&C.has(M))return C.get(M);var P,O={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in M){var N;Object.prototype.hasOwnProperty.call(M,P)&&((N=D?Object.getOwnPropertyDescriptor(M,P):null)&&(N.get||N.set)?Object.defineProperty(O,P,N):O[P]=M[P])}return O.default=M,C&&C.set(M,O),O}(E("../core/constants")),g=E("./p5.Texture"),d=E("./p5.RendererGL");function u(){var M;return typeof WeakMap!="function"?null:(M=new WeakMap,u=function(){return M},M)}function i(M){return function(C){if(Array.isArray(C)){for(var P=0,O=new Array(C.length);P<C.length;P++)O[P]=C[P];return O}}(M)||function(C){if(Symbol.iterator in Object(C)||Object.prototype.toString.call(C)==="[object Arguments]")return Array.from(C)}(M)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(M,C){return function(P){if(Array.isArray(P))return P}(M)||function(P,O){if(Symbol.iterator in Object(P)||Object.prototype.toString.call(P)==="[object Arguments]"){var D=[],N=!0,R=!1,I=void 0;try{for(var H,ee=P[Symbol.iterator]();!(N=(H=ee.next()).done)&&(D.push(H.value),!O||D.length!==O);N=!0);}catch(fe){R=!0,I=fe}finally{try{N||ee.return==null||ee.return()}finally{if(R)throw I}}return D}}(M,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function t(M,C,P){return C in M?Object.defineProperty(M,C,{value:P,enumerable:!0,configurable:!0,writable:!0}):M[C]=P,M}function a(M){return(a=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(C){return y(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":y(C)})(M)}function l(M,C){if(!(M instanceof C))throw new TypeError("Cannot call a class as a function")}function o(M,C){for(var P=0;P<C.length;P++){var O=C[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(M,O.key,O)}}function c(M,C,P){C&&o(M.prototype,C),P&&o(M,P)}function s(M,C,P){return(s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(R,D,N){var R=function(I,H){for(;!Object.prototype.hasOwnProperty.call(I,H)&&(I=b(I))!==null;);return I}(R,D);if(R)return(R=Object.getOwnPropertyDescriptor(R,D)).get?R.get.call(N):R.value})(M,C,P||M)}function p(M,C){return(p=Object.setPrototypeOf||function(P,O){return P.__proto__=O,P})(M,C)}function v(M){return function(){var C,P=b(M),P=(C=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(C=b(this).constructor,Reflect.construct(P,arguments,C)):P.apply(this,arguments),this);if(!C||a(C)!=="object"&&typeof C!="function"){if(P!==void 0)return P;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return C}}function b(M){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(M)}var x=function(M){var C=O;if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),M&&p(C,M);var P=v(O);function O(D){var N;return l(this,O),(N=P.call(this,D.target._renderer)).fbo=D,N.yScale=-1,N}return c(O,[{key:"_computeCameraDefaultSettings",value:function(){s(b(O.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultEyeZ=this.fbo.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this.fbo.width/this.fbo.height)}}]),O}(m.default.Camera),w=(m.default.FramebufferCamera=x,function(){function M(C,P){l(this,M),this.framebuffer=C,this.property=P}return c(M,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),M}()),j=(m.default.FramebufferTexture=w,function(){function M(C){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},P=(l(this,M),this.target=C,this.target._renderer.framebuffers.add(this),this.pixels=[],this.format=P.format||f.UNSIGNED_BYTE,this.channels=P.channels||(C._renderer._pInst._glAttributes.alpha?f.RGBA:f.RGB),this.useDepth=P.depth===void 0||P.depth,this.depthFormat=P.depthFormat||f.FLOAT,this.textureFiltering=P.textureFiltering||f.LINEAR,P.antialias===void 0?this.antialiasSamples=C._renderer._pInst._glAttributes.antialias?2:0:typeof P.antialias=="number"?this.antialiasSamples=P.antialias:this.antialiasSamples=P.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&C.webglVersion!==f.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),P.width&&P.height?(this.width=P.width,this.height=P.height,this.autoSized=!1):(P.width===void 0!=(P.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=C.width,this.height=C.height,this.autoSized=!0),this.density=P.density||C.pixelDensity(),C._renderer.GL);if(this.gl=P,this._checkIfFormatsAvailable(),this.framebuffer=P.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=P.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),C=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=C}return c(M,[{key:"resize",value:function(C,P){this.autoSized=!1,this.width=C,this.height=P,this._handleResize()}},{key:"pixelDensity",value:function(C){if(!C)return this.density;this.autoSized=!1,this.density=C,this._handleResize()}},{key:"autoSized",value:function(C){if(C===void 0)return this.autoSized;this.autoSized=C,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var C=this.gl,C=(this.useDepth&&this.target.webglVersion===f.WEBGL&&!C.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===f.WEBGL&&this.depthFormat===f.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=f.UNSIGNED_INT),[f.UNSIGNED_BYTE,f.FLOAT,f.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.useDepth&&![f.UNSIGNED_INT,f.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=f.FLOAT),(0,g.checkWebGLCapabilities)(this.target._renderer));C.float||this.format!==f.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.useDepth&&!C.float&&this.depthFormat===f.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=f.UNSIGNED_INT),C.halfFloat||this.format!==f.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.channels===f.RGB&&[f.FLOAT,f.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=f.RGBA)}},{key:"_recreateTextures",value:function(){var C=this.gl,P=(this._updateSize(),C.getParameter(C.TEXTURE_BINDING_2D)),O=C.getParameter(C.FRAMEBUFFER_BINDING),D=C.createTexture();if(!D)throw new Error("Unable to create color texture");C.bindTexture(C.TEXTURE_2D,D);var N=this._glColorFormat();if(C.texImage2D(C.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,null),this.colorTexture=D,C.bindFramebuffer(C.FRAMEBUFFER,this.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,D,0),this.useDepth){var D=C.createTexture();if(!D)throw new Error("Unable to create depth texture");var R=this._glDepthFormat();C.bindTexture(C.TEXTURE_2D,D),C.texImage2D(C.TEXTURE_2D,0,R.internalFormat,this.width*this.density,this.height*this.density,0,R.format,R.type,null),C.framebufferTexture2D(C.FRAMEBUFFER,C.DEPTH_ATTACHMENT,C.TEXTURE_2D,D,0),this.depthTexture=D}this.antialias&&(this.colorRenderbuffer=C.createRenderbuffer(),C.bindRenderbuffer(C.RENDERBUFFER,this.colorRenderbuffer),C.renderbufferStorageMultisample(C.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,C.getParameter(C.MAX_SAMPLES))),N.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(R=this._glDepthFormat(),this.depthRenderbuffer=C.createRenderbuffer(),C.bindRenderbuffer(C.RENDERBUFFER,this.depthRenderbuffer),C.renderbufferStorageMultisample(C.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,C.getParameter(C.MAX_SAMPLES))),R.internalFormat,this.width*this.density,this.height*this.density)),C.bindFramebuffer(C.FRAMEBUFFER,this.aaFramebuffer),C.framebufferRenderbuffer(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&C.framebufferRenderbuffer(C.FRAMEBUFFER,C.DEPTH_ATTACHMENT,C.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new w(this,"depthTexture"),D=C.NEAREST,this.depthP5Texture=new m.default.Texture(this.target._renderer,this.depth,{minFilter:D,magFilter:D}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new w(this,"colorTexture"),N=this.textureFiltering===f.LINEAR?C.LINEAR:C.NEAREST,this.colorP5Texture=new m.default.Texture(this.target._renderer,this.color,{glMinFilter:N,glMagFilter:N}),this.target._renderer.textures.set(this.color,this.colorP5Texture),C.bindTexture(C.TEXTURE_2D,P),C.bindFramebuffer(C.FRAMEBUFFER,O)}},{key:"_glColorFormat",value:function(){var C,P,O=this.gl,D=this.format===f.FLOAT?O.FLOAT:this.format===f.HALF_FLOAT?this.target.webglVersion===f.WEBGL2?O.HALF_FLOAT:O.getExtension("OES_texture_half_float").HALF_FLOAT_OES:O.UNSIGNED_BYTE,N=this.channels===f.RGBA?O.RGBA:O.RGB;return{internalFormat:this.target.webglVersion===f.WEBGL2?(t(P={},O.FLOAT,t({},O.RGBA,O.RGBA32F)),t(P,O.HALF_FLOAT,t({},O.RGBA,O.RGBA16F)),t(P,O.UNSIGNED_BYTE,(t(C={},O.RGBA,O.RGBA8),t(C,O.RGB,O.RGB8),C)),P[D][N]):this.format===f.HALF_FLOAT?O.RGBA:N,format:N,type:D}}},{key:"_glDepthFormat",value:function(){var O=this.gl,C=this.depthFormat===f.FLOAT?O.FLOAT:O.UNSIGNED_INT,P=O.DEPTH_COMPONENT,O=this.target.webglVersion===f.WEBGL2?this.depthFormat===f.FLOAT?O.DEPTH_COMPONENT32F:O.DEPTH_COMPONENT24:O.DEPTH_COMPONENT;return{internalFormat:O,format:P,type:C}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var D=this.color,C=this.depth,P=this.colorRenderbuffer,O=this.depthRenderbuffer,D=(this._deleteTexture(D),C&&this._deleteTexture(C),this.gl);P&&D.deleteRenderbuffer(P),O&&D.deleteRenderbuffer(O),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var C=new x(this);return C._computeCameraDefaultSettings(),C._setDefaultCamera(),this.target._renderer._curCamera=C}},{key:"_deleteTexture",value:function(C){this.gl.deleteTexture(C.rawTexture()),this.target._renderer.textures.delete(C)}},{key:"remove",value:function(){var C=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),C.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&C.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&C.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&C.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){var C=this.gl;this.prevFramebuffer=C.getParameter(C.FRAMEBUFFER_BINDING),this.antialias?C.bindFramebuffer(C.FRAMEBUFFER,this.aaFramebuffer):C.bindFramebuffer(C.FRAMEBUFFER,this.framebuffer),this.prevViewport=C.getParameter(C.VIEWPORT),C.viewport(0,0,this.width*this.density,this.height*this.density),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"end",value:function(){var C=this.gl;if(this.antialias){C.bindFramebuffer(C.READ_FRAMEBUFFER,this.aaFramebuffer),C.bindFramebuffer(C.DRAW_FRAMEBUFFER,this.framebuffer);var P=[[C.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]];this.useDepth&&P.push([C.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var O=0,D=P;O<D.length;O++){var R=r(D[O],2),N=R[0],R=R[1];C.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,N,R)}}C.bindFramebuffer(C.FRAMEBUFFER,this.prevFramebuffer),C.viewport.apply(C,i(this.prevViewport)),this.target.pop()}},{key:"draw",value:function(C){this.begin(),C(),this.end()}},{key:"loadPixels",value:function(){var C=this.gl,P=C.getParameter(C.FRAMEBUFFER_BINDING),O=(C.bindFramebuffer(C.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,d.readPixelsWebGL)(this.pixels,C,this.framebuffer,0,0,this.width*this.density,this.height*this.density,O.format,O.type),C.bindFramebuffer(C.FRAMEBUFFER,P)}},{key:"get",value:function(C,P,O,D){m.default._validateParameters("p5.Framebuffer.get",arguments);var N=this._glColorFormat();if(C===void 0&&P===void 0)P=C=0,O=this.width,D=this.height;else if(O===void 0&&D===void 0)return(C<0||P<0||C>=this.width||P>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),C=this.target.constrain(C,0,this.width-1),P=this.target.constrain(P,0,this.height-1)),(0,d.readPixelWebGL)(this.gl,this.framebuffer,C*this.density,P*this.density,N.format,N.type);C=this.target.constrain(C,0,this.width-1),P=this.target.constrain(P,0,this.height-1),O=this.target.constrain(O,1,this.width-C),D=this.target.constrain(D,1,this.height-P);for(var R=(0,d.readPixelsWebGL)(void 0,this.gl,this.framebuffer,C*this.density,P*this.density,O*this.density,D*this.density,N.format,N.type),I=new Uint8ClampedArray(O*D*this.density*this.density*4),H=(I.fill(255),N.type===this.gl.RGB?3:4),ee=0;ee<D*this.density;ee++)for(var fe=0;fe<O*this.density;fe++)for(var xe=0;xe<4;xe++){var q,V=4*(ee*O*this.density+fe)+xe;xe<H&&(q=H==4?V:(ee*O*this.density+fe)*H+xe,I[V]=R[q])}return C=new m.default.Image(O*this.density,D*this.density),C.imageData=C.canvas.getContext("2d").createImageData(C.width,C.height),C.imageData.data.set(I),C.pixels=C.imageData.data,C.updatePixels(),this.density!==1&&C.resize(O,D),C}},{key:"updatePixels",value:function(){var C=this.gl,P=(this.colorP5Texture.bindTexture(),this._glColorFormat()),O=P.format===C.RGBA?4:3,O=this.width*this.height*this.density*this.density*O,D=P.type===C.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof D)||this.pixels.length!==O)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");C.texImage2D(C.TEXTURE_2D,0,P.internalFormat,this.width*this.density,this.height*this.density,0,P.format,P.type,this.pixels),this.colorP5Texture.unbindTexture(),this.prevFramebuffer=C.getParameter(C.FRAMEBUFFER_BINDING),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(C.clearDepth(1),C.clear(C.DEPTH_BUFFER_BIT)),this.end()):(C.bindFramebuffer(C.FRAMEBUFFER,this.framebuffer),this.useDepth&&(C.clearDepth(1),C.clear(C.DEPTH_BUFFER_BIT)),C.bindFramebuffer(C.FRAMEBUFFER,this.prevFramebuffer))}}]),M}()),E=m.default.Framebuffer=j;S.default=E},{"../core/constants":262,"../core/main":273,"./p5.RendererGL":328,"./p5.Texture":330,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],323:[function(n,Z,S){n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.string.sub"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.string.sub"),n("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};function m(f,g){for(var d=0;d<g.length;d++){var u=g[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(f,u.key,u)}}y.default.Geometry=function(){function f(u,i,r){if(this instanceof f)return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=u!==void 0?u:1,this.detailY=i!==void 0?i:1,this.dirtyFlags={},r instanceof Function&&r.call(this),this;throw new TypeError("Cannot call a class as a function")}var g,d;return g=f,(d=[{key:"reset",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"computeFaces",value:function(){this.faces.length=0;for(var u,i,r,t=this.detailX+1,a=0;a<this.detailY;a++)for(var l=0;l<this.detailX;l++)i=(a+1)*t+l+1,this.faces.push([a*t+l,u=a*t+l+1,r=(a+1)*t+l]),this.faces.push([r,u,i]);return this}},{key:"_getFaceNormal",value:function(i){var i=this.faces[i],r=this.vertices[i[0]],a=this.vertices[i[1]],i=this.vertices[i[2]],a=y.default.Vector.sub(a,r),i=y.default.Vector.sub(i,r),r=y.default.Vector.cross(a,i),t=y.default.Vector.mag(r),a=t/(y.default.Vector.mag(a)*y.default.Vector.mag(i));return a===0||isNaN(a)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),r):(1<a&&(a=1),r.mult(Math.asin(a)/t))}},{key:"computeNormals",value:function(){for(var u=this,i=this.vertexNormals,r=this.vertices,t=this.faces,a=i.length=0;a<r.length;++a)i.push(new y.default.Vector);for(t.forEach(function(l,o){for(var c=u._getFaceNormal(o),s=0;s<3;++s){var p=l[s];i[p].add(c)}}),a=0;a<r.length;++a)i[a].normalize();return this}},{key:"averageNormals",value:function(){for(var u=0;u<=this.detailY;u++){var i=this.detailX+1,r=y.default.Vector.add(this.vertexNormals[u*i],this.vertexNormals[u*i+this.detailX]),r=y.default.Vector.div(r,2);this.vertexNormals[u*i]=r,this.vertexNormals[u*i+this.detailX]=r}return this}},{key:"averagePoleNormals",value:function(){for(var u=new y.default.Vector(0,0,0),i=0;i<this.detailX;i++)u.add(this.vertexNormals[i]);for(var u=y.default.Vector.div(u,this.detailX),r=0;r<this.detailX;r++)this.vertexNormals[r]=u;u=new y.default.Vector(0,0,0);for(var t=this.vertices.length-1;t>this.vertices.length-1-this.detailX;t--)u.add(this.vertexNormals[t]);u=y.default.Vector.div(u,this.detailX);for(var a=this.vertices.length-1;a>this.vertices.length-1-this.detailX;a--)this.vertexNormals[a]=u;return this}},{key:"_makeTriangleEdges",value:function(){for(var u=this.edges.length=0;u<this.faces.length;u++)this.edges.push([this.faces[u][0],this.faces[u][1]]),this.edges.push([this.faces[u][1],this.faces[u][2]]),this.edges.push([this.faces[u][2],this.faces[u][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var u,i=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],r=!1,t=0;t<this.edges.length;t++){var a=this.edges[t-1],l=this.edges[t],o=this.vertices[l[0]],c=this.vertices[l[1]],s=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*l[0],4*(l[0]+1)):[0,0,0,0],p=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*l[1],4*(l[1]+1)):[0,0,0,0],v=c.copy().sub(o).normalize(),b=0<v.magSq();b&&this._addSegment(o,c,s,p,v),0<t&&a[1]===l[0]?(u&&b&&v.dot(u)<1-1e-8&&this._addJoin(o,u,v,s),!b||r||i||(this._addCap(o,v.copy().mult(-1),s),r=!0)):(r=!1,b&&(!i||0<t)&&(this._addCap(o,v.copy().mult(-1),s),r=!0),u&&(!i||t<this.edges.length-1)&&(this._addCap(this.vertices[a[1]],u,s),u=void 0)),t===this.edges.length-1&&(i?this._addJoin(c,v,this.vertices[this.edges[0][1]].copy().sub(c).normalize(),p):this._addCap(c,v,p)),b&&(u=v)}return this}},{key:"_addSegment",value:function(l,o,r,t,a){var l=l.array(),o=o.array(),c=a.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var s=0,p=[this.lineTangentsIn,this.lineTangentsOut];s<p.length;s++)p[s].push(c,c,c,c,c,c);return this.lineVertices.push(l,l,o,o,l,o),this.lineVertexColors.push(r,r,t,t,r,t),this}},{key:"_addCap",value:function(u,i,r){for(var t=u.array(),a=i.array(),l=[0,0,0],o=0;o<6;o++)this.lineVertices.push(t),this.lineTangentsIn.push(a),this.lineTangentsOut.push(l),this.lineVertexColors.push(r);return this.lineSides.push(-1,-2,2,2,1,-1),this}},{key:"_addJoin",value:function(u,i,r,t){for(var a=u.array(),l=i.array(),o=r.array(),c=0;c<12;c++)this.lineVertices.push(a),this.lineTangentsIn.push(l),this.lineTangentsOut.push(o),this.lineVertexColors.push(t);for(var s=0,p=[-1,1];s<p.length;s++){var v=p[s];this.lineSides.push(v,2*v,3*v,v,3*v,0)}return this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var u=this.vertices[0].copy(),i=this.vertices[0].copy(),r=0;r<this.vertices.length;r++)u.x=Math.max(u.x,this.vertices[r].x),i.x=Math.min(i.x,this.vertices[r].x),u.y=Math.max(u.y,this.vertices[r].y),i.y=Math.min(i.y,this.vertices[r].y),u.z=Math.max(u.z,this.vertices[r].z),i.z=Math.min(i.z,this.vertices[r].z);for(var t=y.default.Vector.lerp(u,i,.5),a=y.default.Vector.sub(u,i),l=200/Math.max(Math.max(a.x,a.y),a.z),o=0;o<this.vertices.length;o++)this.vertices[o].sub(t),this.vertices[o].mult(l)}return this}}])&&m(g.prototype,d),f}(),n=y.default.Geometry,S.default=n},{"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.slice":164,"core-js/modules/es.string.sub":198,"core-js/modules/web.dom-collections.for-each":235}],324:[function(d,Z,S){d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.typed-array.float32-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.typed-array.float32-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(d=d("../core/main"))&&d.__esModule?d:{default:d};function m(u,i){for(var r=0;r<i.length;r++){var t=i[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(u,t.key,t)}}var f=Array,g=function(u){return Array.isArray(u)},d=(typeof Float32Array<"u"&&(f=Float32Array,g=function(u){return Array.isArray(u)||u instanceof Float32Array}),y.default.Matrix=function(){function u(){var a=this,l=u;if(a instanceof l)return arguments.length&&((a=arguments.length-1)<0||arguments.length<=a?void 0:arguments[a])instanceof y.default&&(this.p5=(l=arguments.length-1)<0||arguments.length<=l?void 0:arguments[l]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new f([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new f([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var i,r,t;return i=u,t=[{key:"identity",value:function(a){return new y.default.Matrix(a)}}],(r=[{key:"set",value:function(a){return a instanceof y.default.Matrix?this.mat4=a.mat4:g(a)?this.mat4=a:arguments.length===16&&(this.mat4[0]=a,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new y.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var a;return this.mat3!==void 0?((a=new y.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],a.mat3[1]=this.mat3[1],a.mat3[2]=this.mat3[2],a.mat3[3]=this.mat3[3],a.mat3[4]=this.mat3[4],a.mat3[5]=this.mat3[5],a.mat3[6]=this.mat3[6],a.mat3[7]=this.mat3[7],a.mat3[8]=this.mat3[8]):((a=new y.default.Matrix(this.p5)).mat4[0]=this.mat4[0],a.mat4[1]=this.mat4[1],a.mat4[2]=this.mat4[2],a.mat4[3]=this.mat4[3],a.mat4[4]=this.mat4[4],a.mat4[5]=this.mat4[5],a.mat4[6]=this.mat4[6],a.mat4[7]=this.mat4[7],a.mat4[8]=this.mat4[8],a.mat4[9]=this.mat4[9],a.mat4[10]=this.mat4[10],a.mat4[11]=this.mat4[11],a.mat4[12]=this.mat4[12],a.mat4[13]=this.mat4[13],a.mat4[14]=this.mat4[14],a.mat4[15]=this.mat4[15]),a}},{key:"transpose",value:function(a){var l,o,c,s,p,v;return a instanceof y.default.Matrix?(l=a.mat4[1],o=a.mat4[2],c=a.mat4[3],s=a.mat4[6],p=a.mat4[7],v=a.mat4[11],this.mat4[0]=a.mat4[0],this.mat4[1]=a.mat4[4],this.mat4[2]=a.mat4[8],this.mat4[3]=a.mat4[12],this.mat4[4]=l,this.mat4[5]=a.mat4[5],this.mat4[6]=a.mat4[9],this.mat4[7]=a.mat4[13],this.mat4[8]=o,this.mat4[9]=s,this.mat4[10]=a.mat4[10],this.mat4[11]=a.mat4[14],this.mat4[12]=c,this.mat4[13]=p,this.mat4[14]=v,this.mat4[15]=a.mat4[15]):g(a)&&(l=a[1],o=a[2],c=a[3],s=a[6],p=a[7],v=a[11],this.mat4[0]=a[0],this.mat4[1]=a[4],this.mat4[2]=a[8],this.mat4[3]=a[12],this.mat4[4]=l,this.mat4[5]=a[5],this.mat4[6]=a[9],this.mat4[7]=a[13],this.mat4[8]=o,this.mat4[9]=s,this.mat4[10]=a[10],this.mat4[11]=a[14],this.mat4[12]=c,this.mat4[13]=p,this.mat4[14]=v,this.mat4[15]=a[15]),this}},{key:"invert",value:function(N){N instanceof y.default.Matrix?(l=N.mat4[0],o=N.mat4[1],c=N.mat4[2],s=N.mat4[3],p=N.mat4[4],v=N.mat4[5],b=N.mat4[6],x=N.mat4[7],w=N.mat4[8],j=N.mat4[9],E=N.mat4[10],M=N.mat4[11],C=N.mat4[12],P=N.mat4[13],O=N.mat4[14],D=N.mat4[15]):g(N)&&(l=N[0],o=N[1],c=N[2],s=N[3],p=N[4],v=N[5],b=N[6],x=N[7],w=N[8],j=N[9],E=N[10],M=N[11],C=N[12],P=N[13],O=N[14],D=N[15]);var l,o,c,s,p,v,b,x,w,j,E,M,C,P,O,D,N=l*v-o*p,R=l*b-c*p,I=l*x-s*p,H=o*b-c*v,ee=o*x-s*v,fe=c*x-s*b,xe=w*P-j*C,q=w*O-E*C,V=w*D-M*C,K=j*O-E*P,J=j*D-M*P,oe=E*D-M*O,_e=N*oe-R*J+I*K+H*V-ee*q+fe*xe;return _e?(this.mat4[0]=(v*oe-b*J+x*K)*(_e=1/_e),this.mat4[1]=(c*J-o*oe-s*K)*_e,this.mat4[2]=(P*fe-O*ee+D*H)*_e,this.mat4[3]=(E*ee-j*fe-M*H)*_e,this.mat4[4]=(b*V-p*oe-x*q)*_e,this.mat4[5]=(l*oe-c*V+s*q)*_e,this.mat4[6]=(O*I-C*fe-D*R)*_e,this.mat4[7]=(w*fe-E*I+M*R)*_e,this.mat4[8]=(p*J-v*V+x*xe)*_e,this.mat4[9]=(o*V-l*J-s*xe)*_e,this.mat4[10]=(C*ee-P*I+D*N)*_e,this.mat4[11]=(j*I-w*ee-M*N)*_e,this.mat4[12]=(v*q-p*K-b*xe)*_e,this.mat4[13]=(l*K-o*q+c*xe)*_e,this.mat4[14]=(P*R-C*H-O*N)*_e,this.mat4[15]=(w*H-j*R+E*N)*_e,this):null}},{key:"invert3x3",value:function(){var a=this.mat3[0],l=this.mat3[1],o=this.mat3[2],c=this.mat3[3],s=this.mat3[4],p=this.mat3[5],v=this.mat3[6],b=this.mat3[7],x=this.mat3[8],w=x*s-p*b,j=-x*c+p*v,E=b*c-s*v,M=a*w+l*j+o*E;return M?(this.mat3[0]=w*(M=1/M),this.mat3[1]=(-x*l+o*b)*M,this.mat3[2]=(p*l-o*s)*M,this.mat3[3]=j*M,this.mat3[4]=(x*a-o*v)*M,this.mat3[5]=(-p*a+o*c)*M,this.mat3[6]=E*M,this.mat3[7]=(-b*a+l*v)*M,this.mat3[8]=(s*a-l*c)*M,this):null}},{key:"transpose3x3",value:function(a){var l=(a=a===void 0?this.mat3:a)[1],o=a[2],c=a[5];return this.mat3[0]=a[0],this.mat3[1]=a[3],this.mat3[2]=a[6],this.mat3[3]=l,this.mat3[4]=a[4],this.mat3[5]=a[7],this.mat3[6]=o,this.mat3[7]=c,this.mat3[8]=a[8],this}},{key:"inverseTranspose",value:function(a){if(a=a.mat4,this.mat3===void 0?y.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=a[0],this.mat3[1]=a[1],this.mat3[2]=a[2],this.mat3[3]=a[4],this.mat3[4]=a[5],this.mat3[5]=a[6],this.mat3[6]=a[8],this.mat3[7]=a[9],this.mat3[8]=a[10]),a=this.invert3x3(),a)a.transpose3x3(this.mat3);else for(var l=0;l<9;l++)this.mat3[l]=0;return this}},{key:"determinant",value:function(){var a=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],l=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],o=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],c=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],s=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],p=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],v=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],b=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],x=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],w=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],j=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return a*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-l*j+o*w+c*x-s*b+p*v}},{key:"mult",value:function(o){var l;if(o===this||o===this.mat4)l=this.copy().mat4;else if(o instanceof y.default.Matrix)l=o.mat4;else if(g(o))l=o;else{if(arguments.length!==16)return;l=arguments}var o=this.mat4[0],c=this.mat4[1],s=this.mat4[2],p=this.mat4[3];return this.mat4[0]=o*l[0]+c*l[4]+s*l[8]+p*l[12],this.mat4[1]=o*l[1]+c*l[5]+s*l[9]+p*l[13],this.mat4[2]=o*l[2]+c*l[6]+s*l[10]+p*l[14],this.mat4[3]=o*l[3]+c*l[7]+s*l[11]+p*l[15],o=this.mat4[4],c=this.mat4[5],s=this.mat4[6],p=this.mat4[7],this.mat4[4]=o*l[0]+c*l[4]+s*l[8]+p*l[12],this.mat4[5]=o*l[1]+c*l[5]+s*l[9]+p*l[13],this.mat4[6]=o*l[2]+c*l[6]+s*l[10]+p*l[14],this.mat4[7]=o*l[3]+c*l[7]+s*l[11]+p*l[15],o=this.mat4[8],c=this.mat4[9],s=this.mat4[10],p=this.mat4[11],this.mat4[8]=o*l[0]+c*l[4]+s*l[8]+p*l[12],this.mat4[9]=o*l[1]+c*l[5]+s*l[9]+p*l[13],this.mat4[10]=o*l[2]+c*l[6]+s*l[10]+p*l[14],this.mat4[11]=o*l[3]+c*l[7]+s*l[11]+p*l[15],o=this.mat4[12],c=this.mat4[13],s=this.mat4[14],p=this.mat4[15],this.mat4[12]=o*l[0]+c*l[4]+s*l[8]+p*l[12],this.mat4[13]=o*l[1]+c*l[5]+s*l[9]+p*l[13],this.mat4[14]=o*l[2]+c*l[6]+s*l[10]+p*l[14],this.mat4[15]=o*l[3]+c*l[7]+s*l[11]+p*l[15],this}},{key:"apply",value:function(o){var l;if(o===this||o===this.mat4)l=this.copy().mat4;else if(o instanceof y.default.Matrix)l=o.mat4;else if(g(o))l=o;else{if(arguments.length!==16)return;l=arguments}var o=this.mat4,c=o[0],s=o[4],p=o[8],v=o[12],c=(o[0]=l[0]*c+l[1]*s+l[2]*p+l[3]*v,o[4]=l[4]*c+l[5]*s+l[6]*p+l[7]*v,o[8]=l[8]*c+l[9]*s+l[10]*p+l[11]*v,o[12]=l[12]*c+l[13]*s+l[14]*p+l[15]*v,o[1]),s=o[5],p=o[9],v=o[13],c=(o[1]=l[0]*c+l[1]*s+l[2]*p+l[3]*v,o[5]=l[4]*c+l[5]*s+l[6]*p+l[7]*v,o[9]=l[8]*c+l[9]*s+l[10]*p+l[11]*v,o[13]=l[12]*c+l[13]*s+l[14]*p+l[15]*v,o[2]),s=o[6],p=o[10],v=o[14],c=(o[2]=l[0]*c+l[1]*s+l[2]*p+l[3]*v,o[6]=l[4]*c+l[5]*s+l[6]*p+l[7]*v,o[10]=l[8]*c+l[9]*s+l[10]*p+l[11]*v,o[14]=l[12]*c+l[13]*s+l[14]*p+l[15]*v,o[3]),s=o[7],p=o[11],v=o[15];return o[3]=l[0]*c+l[1]*s+l[2]*p+l[3]*v,o[7]=l[4]*c+l[5]*s+l[6]*p+l[7]*v,o[11]=l[8]*c+l[9]*s+l[10]*p+l[11]*v,o[15]=l[12]*c+l[13]*s+l[14]*p+l[15]*v,this}},{key:"scale",value:function(a,l,o){return a instanceof y.default.Vector?(l=a.y,o=a.z,a=a.x):a instanceof Array&&(l=a[1],o=a[2],a=a[0]),this.mat4[0]*=a,this.mat4[1]*=a,this.mat4[2]*=a,this.mat4[3]*=a,this.mat4[4]*=l,this.mat4[5]*=l,this.mat4[6]*=l,this.mat4[7]*=l,this.mat4[8]*=o,this.mat4[9]*=o,this.mat4[10]*=o,this.mat4[11]*=o,this}},{key:"rotate",value:function(N,J,K,c){J instanceof y.default.Vector?(K=J.y,c=J.z,J=J.x):J instanceof Array&&(K=J[1],c=J[2],J=J[0]);var s=Math.sqrt(J*J+K*K+c*c),s=(J*=1/s,K*=1/s,c*=1/s,this.mat4[0]),p=this.mat4[1],v=this.mat4[2],b=this.mat4[3],x=this.mat4[4],w=this.mat4[5],j=this.mat4[6],E=this.mat4[7],M=this.mat4[8],C=this.mat4[9],P=this.mat4[10],O=this.mat4[11],D=Math.sin(N),N=Math.cos(N),R=1-N,I=J*J*R+N,H=K*J*R+c*D,ee=c*J*R-K*D,fe=J*K*R-c*D,xe=K*K*R+N,q=c*K*R+J*D,V=J*c*R+K*D,K=K*c*R-J*D,J=c*c*R+N;return this.mat4[0]=s*I+x*H+M*ee,this.mat4[1]=p*I+w*H+C*ee,this.mat4[2]=v*I+j*H+P*ee,this.mat4[3]=b*I+E*H+O*ee,this.mat4[4]=s*fe+x*xe+M*q,this.mat4[5]=p*fe+w*xe+C*q,this.mat4[6]=v*fe+j*xe+P*q,this.mat4[7]=b*fe+E*xe+O*q,this.mat4[8]=s*V+x*K+M*J,this.mat4[9]=p*V+w*K+C*J,this.mat4[10]=v*V+j*K+P*J,this.mat4[11]=b*V+E*K+O*J,this}},{key:"translate",value:function(c){var l=c[0],o=c[1],c=c[2]||0;this.mat4[12]+=this.mat4[0]*l+this.mat4[4]*o+this.mat4[8]*c,this.mat4[13]+=this.mat4[1]*l+this.mat4[5]*o+this.mat4[9]*c,this.mat4[14]+=this.mat4[2]*l+this.mat4[6]*o+this.mat4[10]*c,this.mat4[15]+=this.mat4[3]*l+this.mat4[7]*o+this.mat4[11]*c}},{key:"rotateX",value:function(a){this.rotate(a,1,0,0)}},{key:"rotateY",value:function(a){this.rotate(a,0,1,0)}},{key:"rotateZ",value:function(a){this.rotate(a,0,0,1)}},{key:"perspective",value:function(s,l,o,c){var s=1/Math.tan(s/2),p=1/(o-c);return this.mat4[0]=s/l,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=s,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(c+o)*p,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*c*o*p,this.mat4[15]=0,this}},{key:"ortho",value:function(a,l,o,c,s,p){var v=1/(a-l),b=1/(o-c),x=1/(s-p);return this.mat4[0]=-2*v,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*b,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*x,this.mat4[11]=0,this.mat4[12]=(a+l)*v,this.mat4[13]=(c+o)*b,this.mat4[14]=(p+s)*x,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(a,l,o,c){var s=new Array(4),p=this.mat4;return s[0]=p[0]*a+p[4]*l+p[8]*o+p[12]*c,s[1]=p[1]*a+p[5]*l+p[9]*o+p[13]*c,s[2]=p[2]*a+p[6]*l+p[10]*o+p[14]*c,s[3]=p[3]*a+p[7]*l+p[11]*o+p[15]*c,s}},{key:"multiplyPoint",value:function(o){var c=o.x,l=o.y,o=o.z,c=this.multiplyVec4(c,l,o,1);return new y.default.Vector(c[0],c[1],c[2])}},{key:"multiplyAndNormalizePoint",value:function(o){var c=o.x,l=o.y,o=o.z,c=this.multiplyVec4(c,l,o,1);return c[0]/=c[3],c[1]/=c[3],c[2]/=c[3],new y.default.Vector(c[0],c[1],c[2])}},{key:"multiplyDirection",value:function(o){var c=o.x,l=o.y,o=o.z,c=this.multiplyVec4(c,l,o,0);return new y.default.Vector(c[0],c[1],c[2])}},{key:"mult3x3",value:function(o){var l;if(o===this||o===this.mat3)l=this.copy().mat3;else if(o instanceof y.default.Matrix)l=o.mat3;else if(g(o))l=o;else{if(arguments.length!==9)return;l=arguments}var o=this.mat3[0],c=this.mat3[1],s=this.mat3[2];return this.mat3[0]=o*l[0]+c*l[3]+s*l[6],this.mat3[1]=o*l[1]+c*l[4]+s*l[7],this.mat3[2]=o*l[2]+c*l[5]+s*l[8],o=this.mat3[3],c=this.mat3[4],s=this.mat3[5],this.mat3[3]=o*l[0]+c*l[3]+s*l[6],this.mat3[4]=o*l[1]+c*l[4]+s*l[7],this.mat3[5]=o*l[2]+c*l[5]+s*l[8],o=this.mat3[6],c=this.mat3[7],s=this.mat3[8],this.mat3[6]=o*l[0]+c*l[3]+s*l[6],this.mat3[7]=o*l[1]+c*l[4]+s*l[7],this.mat3[8]=o*l[2]+c*l[5]+s*l[8],this}},{key:"column",value:function(a){return new y.default.Vector(this.mat3[a],this.mat3[a+3],this.mat3[a+6])}},{key:"row",value:function(a){return new y.default.Vector(this.mat3[3*a],this.mat3[3*a+1],this.mat3[3*a+2])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(a,l){return(l=l===void 0?a.copy():l).x=this.row(0).dot(a),l.y=this.row(1).dot(a),l.z=this.row(2).dot(a),l}},{key:"createSubMatrix3x3",value:function(){var a=new y.default.Matrix("mat3");return a.mat3[0]=this.mat4[0],a.mat3[1]=this.mat4[1],a.mat3[2]=this.mat4[2],a.mat3[3]=this.mat4[4],a.mat3[4]=this.mat4[5],a.mat3[5]=this.mat4[6],a.mat3[6]=this.mat4[8],a.mat3[7]=this.mat4[9],a.mat3[8]=this.mat4[10],a}}])&&m(i.prototype,r),t&&m(i,t),u}(),y.default.Matrix);S.default=d},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229}],325:[function(n,Z,S){n("core-js/modules/es.array.map"),n("core-js/modules/es.array.map"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,n=(n=n("../core/main"))&&n.__esModule?n:{default:n};function y(m,f){for(var g=0;g<f.length;g++){var d=f[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}n.default.RenderBuffer=function(){function m(d,u,i,r,t,a){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.size=d,this.src=u,this.dst=i,this.attr=r,this._renderer=t,this.map=a}var f,g;return f=m,(g=[{key:"_prepareBuffer",value:function(d,u){var i,r,t,o=u.attributes,a=this._renderer.GL,l=d.model||d,o=o[this.attr];o&&(i=d[this.dst],0<(r=l[this.src]).length?((t=!i)&&(d[this.dst]=i=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,i),!t&&l.dirtyFlags[this.src]===!1||(t=(d=this.map)?d(r):r,this._renderer._bindBuffer(i,a.ARRAY_BUFFER,t),l.dirtyFlags[this.src]=!1),u.enableAttrib(o,this.size)):(d=o.location)!==-1&&this._renderer.registerEnabled[d]&&(a.disableVertexAttribArray(d),this._renderer.registerEnabled[d]=!1))}}])&&y(f.prototype,g),m}(),n=n.default.RenderBuffer,S.default=n},{"../core/main":273,"core-js/modules/es.array.map":163}],326:[function(n,Z,S){function y(t){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(t)}function m(t){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(a){return y(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(t)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(r=n("../core/main"))&&r.__esModule?r:{default:r},g=function(t){if(t&&t.__esModule)return t;if(t===null||m(t)!=="object"&&typeof t!="function")return{default:t};var a=d();if(a&&a.has(t))return a.get(t);var l,o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in t){var s;Object.prototype.hasOwnProperty.call(t,l)&&((s=c?Object.getOwnPropertyDescriptor(t,l):null)&&(s.get||s.set)?Object.defineProperty(o,l,s):o[l]=t[l])}return o.default=t,a&&a.set(t,o),o}(n("../core/constants"));function d(){var t;return typeof WeakMap!="function"?null:(t=new WeakMap,d=function(){return t},t)}function u(t){return function(a){if(Array.isArray(a)){for(var l=0,o=new Array(a.length);l<a.length;l++)o[l]=a[l];return o}}(t)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n("./p5.RenderBuffer"),f.default.RendererGL.prototype.beginShape=function(t){return this.immediateMode.shapeMode=t!==void 0?t:g.TESS,this.immediateMode.geometry.reset(),this};var i={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},r=(f.default.RendererGL.prototype.vertex=function(t,a){if(this.immediateMode.shapeMode===g.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var l in i){var o=i[l],l=this.immediateMode.geometry[l];l.push.apply(l,u(l.slice(l.length-3*o,l.length-2*o)).concat(u(l.slice(l.length-o,l.length))))}var c,s,p=c=s=0,v=(arguments.length===3?p=arguments[2]:arguments.length===4?(c=arguments[2],s=arguments[3]):arguments.length===5&&(p=arguments[2],c=arguments[3],s=arguments[4]),new f.default.Vector(t,a,p)),v=(this.immediateMode.geometry.vertices.push(v),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),v=(this.immediateMode.geometry.vertexColors.push(v[0],v[1],v[2],v[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(v[0],v[1],v[2],v[3]),this.textureMode===g.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(c/=this._tex.width,s/=this._tex.height):!this.isProcessingVertices&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(c,s),this.immediateMode._bezierVertex[0]=t,this.immediateMode._bezierVertex[1]=a,this.immediateMode._bezierVertex[2]=p,this.immediateMode._quadraticVertex[0]=t,this.immediateMode._quadraticVertex[1]=a,this.immediateMode._quadraticVertex[2]=p,this},f.default.RendererGL.prototype.normal=function(t,a,l){return t instanceof f.default.Vector?this._currentNormal=t:this._currentNormal=new f.default.Vector(t,a,l),this},f.default.RendererGL.prototype.endShape=function(t,a,l,o,c,s){return this.immediateMode.shapeMode===g.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},f.default.RendererGL.prototype._processVertices=function(t){var a;this.immediateMode.geometry.vertices.length!==0&&(a=this._doStroke,t=t===g.CLOSE,a&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,t),this.immediateMode.geometry._edgesToVertices()),a=this.immediateMode.shapeMode===g.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||a)&&this.immediateMode.shapeMode!==g.LINES&&this._tesselateShape())},f.default.RendererGL.prototype._calculateEdges=function(t,a,l){var o=[],c=0;switch(t){case g.TRIANGLE_STRIP:for(c=0;c<a.length-2;c++)o.push([c,c+1]),o.push([c,c+2]);o.push([c,c+1]);break;case g.TRIANGLE_FAN:for(c=1;c<a.length-1;c++)o.push([0,c]),o.push([c,c+1]);o.push([0,a.length-1]);break;case g.TRIANGLES:for(c=0;c<a.length-2;c+=3)o.push([c,c+1]),o.push([c+1,c+2]),o.push([c+2,c]);break;case g.LINES:for(c=0;c<a.length-1;c+=2)o.push([c,c+1]);break;case g.QUADS:for(c=0;c<a.length-5;c+=6)o.push([c,c+1]),o.push([c+1,c+2]),o.push([c+3,c+5]),o.push([c+4,c+5]);break;case g.QUAD_STRIP:for(c=0;c<a.length-2;c+=2)o.push([c,c+1]),o.push([c,c+2]),o.push([c+1,c+3]);o.push([c,c+1]);break;default:for(c=0;c<a.length-1;c++)o.push([c,c+1])}return l&&o.push([a.length-1,0]),o},f.default.RendererGL.prototype._tesselateShape=function(){for(var t=this,a=(this.immediateMode.shapeMode=g.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(p,v){return[p.x,p.y,p.z,t.immediateMode.geometry.uvs[2*v],t.immediateMode.geometry.uvs[2*v+1],t.immediateMode.geometry.vertexColors[4*v],t.immediateMode.geometry.vertexColors[4*v+1],t.immediateMode.geometry.vertexColors[4*v+2],t.immediateMode.geometry.vertexColors[4*v+3],t.immediateMode.geometry.vertexNormals[v].x,t.immediateMode.geometry.vertexNormals[v].y,t.immediateMode.geometry.vertexNormals[v].z]}))]),l=this._triangulate(a),o=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),c=0,s=l.length;c<s;c+=f.default.RendererGL.prototype.tessyVertexSize)o.push.apply(o,u(l.slice(c+5,c+9))),this.normal.apply(this,u(l.slice(c+9,c+12))),this.vertex.apply(this,u(l.slice(c,c+5)));this.immediateMode.geometry.vertexColors=o},f.default.RendererGL.prototype._drawImmediateFill=function(){var t=this.GL,a=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),l=(this._setFillUniforms(a),!0),o=!1,c=void 0;try{for(var s,p=this.immediateMode.buffers.fill[Symbol.iterator]();!(l=(s=p.next()).done);l=!0)s.value._prepareBuffer(this.immediateMode.geometry,a)}catch(v){o=!0,c=v}finally{try{l||p.return==null||p.return()}finally{if(o)throw c}}this.immediateMode.shapeMode!==g.LINE_STRIP&&this.immediateMode.shapeMode!==g.LINES||(this.immediateMode.shapeMode=g.TRIANGLE_FAN),this.immediateMode.shapeMode===g.QUADS?this.immediateMode.shapeMode=g.TRIANGLES:this.immediateMode.shapeMode===g.QUAD_STRIP&&(this.immediateMode.shapeMode=g.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),t.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),a.unbindShader()},f.default.RendererGL.prototype._drawImmediateStroke=function(){var t=this.GL,a=t.isEnabled(t.CULL_FACE),l=(t.disable(t.CULL_FACE),this._getImmediateStrokeShader()),o=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(l),!0),c=!1,s=void 0;try{for(var p,v=this.immediateMode.buffers.stroke[Symbol.iterator]();!(o=(p=v.next()).done);o=!0)p.value._prepareBuffer(this.immediateMode.geometry,l)}catch(b){c=!0,s=b}finally{try{o||v.return==null||v.return()}finally{if(c)throw s}}this._applyColorBlend(this.curStrokeColor),t.drawArrays(t.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),a&&t.enable(t.CULL_FACE),l.unbindShader()},f.default.RendererGL);S.default=r},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],327:[function(n,Z,S){function y(r){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}function m(r){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(t){return y(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":y(t)})(r)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.some"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.uint16-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.some"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.uint16-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(i=n("../core/main"))&&i.__esModule?i:{default:i},g=(n("./p5.RendererGL"),n("./p5.RenderBuffer"),function(r){if(r&&r.__esModule)return r;if(r===null||m(r)!=="object"&&typeof r!="function")return{default:r};var t=d();if(t&&t.has(r))return t.get(r);var a,l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in r){var c;Object.prototype.hasOwnProperty.call(r,a)&&((c=o?Object.getOwnPropertyDescriptor(r,a):null)&&(c.get||c.set)?Object.defineProperty(l,a,c):l[a]=r[a])}return l.default=r,t&&t.set(r,l),l}(n("../core/constants")));function d(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,d=function(){return r},r)}var u=0,i=(f.default.RendererGL.prototype._initBufferDefaults=function(r){var t;return this._freeBuffers(r),1e3<++u&&(t=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[t],u--),this.retainedMode.geometry[r]={}},f.default.RendererGL.prototype._freeBuffers=function(r){var t,a=this.retainedMode.geometry[r];function l(o){var c=!0,s=!1,p=void 0;try{for(var v,b=o[Symbol.iterator]();!(c=(v=b.next()).done);c=!0){var x=v.value;a[x.dst]&&(t.deleteBuffer(a[x.dst]),a[x.dst]=null)}}catch(w){s=!0,p=w}finally{try{c||b.return==null||b.return()}finally{if(s)throw p}}}a&&(delete this.retainedMode.geometry[r],u--,t=this.GL,a.indexBuffer&&t.deleteBuffer(a.indexBuffer),l(this.retainedMode.buffers.stroke),l(this.retainedMode.buffers.fill))},f.default.RendererGL.prototype.createBuffers=function(s,t){var a,l,o,c=this.GL,s=this._initBufferDefaults(s),p=(s.model=t,s.indexBuffer);return t.faces.length?(p=p||(s.indexBuffer=c.createBuffer()),o=(l=(a=f.default.RendererGL.prototype._flatten(t.faces)).some(function(v){return 65535<v}))?Uint32Array:Uint16Array,this._bindBuffer(p,c.ELEMENT_ARRAY_BUFFER,a,o),s.indexBufferType=l?c.UNSIGNED_INT:c.UNSIGNED_SHORT,s.vertexCount=3*t.faces.length):(p&&(c.deleteBuffer(p),s.indexBuffer=null),s.vertexCount=t.vertices?t.vertices.length:0),s.lineVertexCount=t.lineVertices?t.lineVertices.length:0,s},f.default.RendererGL.prototype.drawBuffers=function(r){var t=this.GL,a=this.retainedMode.geometry[r];if(this._doFill){this._useVertexColor=0<a.model.vertexColors.length;var l=this._getRetainedFillShader(),o=(this._setFillUniforms(l),!0),c=!1,s=void 0;try{for(var p,v=this.retainedMode.buffers.fill[Symbol.iterator]();!(o=(p=v.next()).done);o=!0)p.value._prepareBuffer(a,l)}catch(M){c=!0,s=M}finally{try{o||v.return==null||v.return()}finally{if(c)throw s}}a.indexBuffer&&this._bindBuffer(a.indexBuffer,t.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(t.TRIANGLES,r),l.unbindShader()}if(this._doStroke&&0<a.lineVertexCount){var c=t.isEnabled(t.CULL_FACE),b=(t.disable(t.CULL_FACE),this._getRetainedStrokeShader()),x=(this._useLineColor=0<a.model.vertexStrokeColors.length,this._setStrokeUniforms(b),!0),s=!1,w=void 0;try{for(var j,E=this.retainedMode.buffers.stroke[Symbol.iterator]();!(x=(j=E.next()).done);x=!0)j.value._prepareBuffer(a,b)}catch(P){s=!0,w=P}finally{try{x||E.return==null||E.return()}finally{if(s)throw w}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(t.TRIANGLES,r),c&&t.enable(t.CULL_FACE),b.unbindShader()}return this},f.default.RendererGL.prototype.drawBuffersScaled=function(r,t,a,l){var o=this.uMVMatrix.copy();try{this.uMVMatrix.scale(t,a,l),this.drawBuffers(r)}finally{this.uMVMatrix=o}},f.default.RendererGL.prototype._drawArrays=function(r,t){return this.GL.drawArrays(r,0,this.retainedMode.geometry[t].lineVertexCount),this},f.default.RendererGL.prototype._drawElements=function(r,a){var a=this.retainedMode.geometry[a],l=this.GL;if(a.indexBuffer){if(this._pInst.webglVersion!==g.WEBGL2&&a.indexBufferType===l.UNSIGNED_INT&&!l.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");l.drawElements(l.TRIANGLES,a.vertexCount,a.indexBufferType,0)}else l.drawArrays(r||l.TRIANGLES,0,a.vertexCount)},f.default.RendererGL.prototype._drawPoints=function(r,t){var a=this.GL,l=this._getImmediatePointShader();this._setPointUniforms(l),this._bindBuffer(t,a.ARRAY_BUFFER,this._vToNArray(r),Float32Array,a.STATIC_DRAW),l.enableAttrib(l.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),a.drawArrays(a.Points,0,r.length),l.unbindShader()},f.default.RendererGL);S.default=i},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"./p5.RendererGL":328,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.some":165,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],328:[function(w,Z,S){function y(P){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(P)}w("core-js/modules/es.symbol"),w("core-js/modules/es.symbol.description"),w("core-js/modules/es.symbol.iterator"),w("core-js/modules/es.array.concat"),w("core-js/modules/es.array.copy-within"),w("core-js/modules/es.array.every"),w("core-js/modules/es.array.fill"),w("core-js/modules/es.array.from"),w("core-js/modules/es.array.includes"),w("core-js/modules/es.array.iterator"),w("core-js/modules/es.array.slice"),w("core-js/modules/es.array.some"),w("core-js/modules/es.map"),w("core-js/modules/es.object.assign"),w("core-js/modules/es.object.get-own-property-descriptor"),w("core-js/modules/es.object.get-prototype-of"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.reflect.construct"),w("core-js/modules/es.regexp.to-string"),w("core-js/modules/es.set"),w("core-js/modules/es.string.includes"),w("core-js/modules/es.string.iterator"),w("core-js/modules/es.typed-array.float32-array"),w("core-js/modules/es.typed-array.float64-array"),w("core-js/modules/es.typed-array.int16-array"),w("core-js/modules/es.typed-array.uint8-array"),w("core-js/modules/es.typed-array.uint16-array"),w("core-js/modules/es.typed-array.uint32-array"),w("core-js/modules/es.typed-array.copy-within"),w("core-js/modules/es.typed-array.every"),w("core-js/modules/es.typed-array.fill"),w("core-js/modules/es.typed-array.filter"),w("core-js/modules/es.typed-array.find"),w("core-js/modules/es.typed-array.find-index"),w("core-js/modules/es.typed-array.for-each"),w("core-js/modules/es.typed-array.includes"),w("core-js/modules/es.typed-array.index-of"),w("core-js/modules/es.typed-array.iterator"),w("core-js/modules/es.typed-array.join"),w("core-js/modules/es.typed-array.last-index-of"),w("core-js/modules/es.typed-array.map"),w("core-js/modules/es.typed-array.reduce"),w("core-js/modules/es.typed-array.reduce-right"),w("core-js/modules/es.typed-array.reverse"),w("core-js/modules/es.typed-array.set"),w("core-js/modules/es.typed-array.slice"),w("core-js/modules/es.typed-array.some"),w("core-js/modules/es.typed-array.sort"),w("core-js/modules/es.typed-array.subarray"),w("core-js/modules/es.typed-array.to-locale-string"),w("core-js/modules/es.typed-array.to-string"),w("core-js/modules/es.weak-map"),w("core-js/modules/web.dom-collections.iterator"),w("core-js/modules/es.symbol"),w("core-js/modules/es.symbol.description"),w("core-js/modules/es.symbol.iterator"),w("core-js/modules/es.array.concat"),w("core-js/modules/es.array.copy-within"),w("core-js/modules/es.array.every"),w("core-js/modules/es.array.fill"),w("core-js/modules/es.array.from"),w("core-js/modules/es.array.includes"),w("core-js/modules/es.array.iterator"),w("core-js/modules/es.array.slice"),w("core-js/modules/es.array.some"),w("core-js/modules/es.map"),w("core-js/modules/es.object.assign"),w("core-js/modules/es.object.get-prototype-of"),w("core-js/modules/es.object.to-string"),w("core-js/modules/es.reflect.construct"),w("core-js/modules/es.regexp.to-string"),w("core-js/modules/es.set"),w("core-js/modules/es.string.includes"),w("core-js/modules/es.string.iterator"),w("core-js/modules/es.typed-array.float32-array"),w("core-js/modules/es.typed-array.float64-array"),w("core-js/modules/es.typed-array.int16-array"),w("core-js/modules/es.typed-array.uint8-array"),w("core-js/modules/es.typed-array.uint16-array"),w("core-js/modules/es.typed-array.uint32-array"),w("core-js/modules/es.typed-array.copy-within"),w("core-js/modules/es.typed-array.every"),w("core-js/modules/es.typed-array.fill"),w("core-js/modules/es.typed-array.filter"),w("core-js/modules/es.typed-array.find"),w("core-js/modules/es.typed-array.find-index"),w("core-js/modules/es.typed-array.for-each"),w("core-js/modules/es.typed-array.includes"),w("core-js/modules/es.typed-array.index-of"),w("core-js/modules/es.typed-array.iterator"),w("core-js/modules/es.typed-array.join"),w("core-js/modules/es.typed-array.last-index-of"),w("core-js/modules/es.typed-array.map"),w("core-js/modules/es.typed-array.reduce"),w("core-js/modules/es.typed-array.reduce-right"),w("core-js/modules/es.typed-array.reverse"),w("core-js/modules/es.typed-array.set"),w("core-js/modules/es.typed-array.slice"),w("core-js/modules/es.typed-array.some"),w("core-js/modules/es.typed-array.sort"),w("core-js/modules/es.typed-array.subarray"),w("core-js/modules/es.typed-array.to-locale-string"),w("core-js/modules/es.typed-array.to-string"),w("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.readPixelsWebGL=M,S.readPixelWebGL=C,S.default=void 0;var m=u(w("../core/main")),f=function(P){if(P&&P.__esModule)return P;if(P===null||i(P)!=="object"&&typeof P!="function")return{default:P};var O=d();if(O&&O.has(P))return O.get(P);var D,N={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in P){var I;Object.prototype.hasOwnProperty.call(P,D)&&((I=R?Object.getOwnPropertyDescriptor(P,D):null)&&(I.get||I.set)?Object.defineProperty(N,D,I):N[D]=P[D])}return N.default=P,O&&O.set(P,N),N}(w("../core/constants")),g=u(w("libtess"));w("./p5.Shader"),w("./p5.Camera"),w("../core/p5.Renderer"),w("./p5.Matrix"),w("path");function d(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,d=function(){return P},P)}function u(P){return P&&P.__esModule?P:{default:P}}function i(P){return(i=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(O){return y(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":y(O)})(P)}function r(P){return function(O){if(Array.isArray(O)){for(var D=0,N=new Array(O.length);D<O.length;D++)N[D]=O[D];return N}}(P)||function(O){if(Symbol.iterator in Object(O)||Object.prototype.toString.call(O)==="[object Arguments]")return Array.from(O)}(P)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function t(P,O){for(var D=0;D<O.length;D++){var N=O[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}function a(P,O){return(a=Object.setPrototypeOf||function(D,N){return D.__proto__=N,D})(P,O)}function l(P){return function(){var O,D,N=c(P);return O=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(O=c(this).constructor,Reflect.construct(N,arguments,O)):N.apply(this,arguments),N=this,!(D=O)||i(D)!=="object"&&typeof D!="function"?o(N):D}}function o(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function c(P){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}function s(P,O){x+="#define STROKE_CAP_".concat(P," ").concat(O,`
`),v[f[P]]=O}function p(P,O){x+="#define STROKE_JOIN_".concat(P," ").concat(O,`
`),b[f[P]]=O}var v={},b={},x="",w=(s("ROUND",0),s("PROJECT",1),s("SQUARE",2),p("ROUND",0),p("MITER",1),p("BEVEL",2),`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),j=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`,E={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;
varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:w+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? texture2D(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    gl_FragColor = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:w+`// include lighting.glsl
precision highp float;
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? texture2D(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  gl_FragColor = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:j+`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec2 pixelScale = vec2(
    1. / uModelViewMatrix[0][0],
    1. / uModelViewMatrix[1][1]
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:j+`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:x+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump float;
precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

attribute vec4 aPosition;
attribute vec3 aTangentIn;
attribute vec3 aTangentOut;
attribute float aSide;
attribute vec4 aVertexColor;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5 * curPerspScale;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset / curPerspScale;

  gl_Position.xy = p.xy + offset.xy;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:x+`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`};function M(P,O,V,N,R,I,H,ee,fe,xe){var q=O.getParameter(O.FRAMEBUFFER_BINDING),V=(O.bindFramebuffer(O.FRAMEBUFFER,V),ee===O.RGBA?4:3),K=I*H*V,J=fe===O.UNSIGNED_BYTE?Uint8Array:Float32Array;if(P instanceof J&&P.length===K||(P=new J(K)),O.readPixels(N,xe?xe-R-H:R,I,H,ee,fe,P),O.bindFramebuffer(O.FRAMEBUFFER,q),xe)for(var oe=Math.floor(H/2),_e=new J(I*V),Oe=0;Oe<oe;Oe++){var De=Oe*I*4,Te=(H-Oe-1)*I*4;_e.set(P.subarray(De,De+4*I)),P.copyWithin(De,Te,Te+4*I),P.set(_e,Te)}return P}function C(P,fe,D,N,R,I,H){var ee=P.getParameter(P.FRAMEBUFFER_BINDING),fe=(P.bindFramebuffer(P.FRAMEBUFFER,fe),R===P.RGBA?4:3),fe=new(I===P.UNSIGNED_BYTE?Uint8Array:Float32Array)(fe);return P.readPixels(D,H?H-N-1:N,1,1,R,I,fe),P.bindFramebuffer(P.FRAMEBUFFER,ee),Array.from(fe)}m.default.prototype.setAttributes=function(P,O){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var D=!0;if(O!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[P]!==O&&(this._glAttributes[P]=O,D=!1)):P instanceof Object&&this._glAttributes!==P&&(this._glAttributes=P,D=!1),this._renderer.isP3D&&!D){if(!this._setupDone){for(var N in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(N))return void m.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},m.default.RendererGL=function(P){var O=N;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),P&&a(O,P);var D=l(N);function N(R,I,H,ee){if(this instanceof N)return(R=D.call(this,R,I,H))._setAttributeDefaults(I),R._initContext(),R.isP3D=!0,R.GL=R.drawingContext,R._pInst._setProperty("drawingContext",R.drawingContext),R._isErasing=!1,R._enableLighting=!1,R.ambientLightColors=[],R.specularColors=[1,1,1],R.directionalLightDirections=[],R.directionalLightDiffuseColors=[],R.directionalLightSpecularColors=[],R.pointLightPositions=[],R.pointLightDiffuseColors=[],R.pointLightSpecularColors=[],R.spotLightPositions=[],R.spotLightDirections=[],R.spotLightDiffuseColors=[],R.spotLightSpecularColors=[],R.spotLightAngle=[],R.spotLightConc=[],R.drawMode=f.FILL,R.curFillColor=R._cachedFillStyle=[1,1,1,1],R.curAmbientColor=R._cachedFillStyle=[1,1,1,1],R.curSpecularColor=R._cachedFillStyle=[0,0,0,0],R.curEmissiveColor=R._cachedFillStyle=[0,0,0,0],R.curStrokeColor=R._cachedStrokeStyle=[0,0,0,1],R.curBlendMode=f.BLEND,R._cachedBlendMode=void 0,R.webglVersion===f.WEBGL2?R.blendExt=R.GL:R.blendExt=R.GL.getExtension("EXT_blend_minmax"),R._isBlending=!1,R._hasSetAmbient=!1,R._useSpecularMaterial=!1,R._useEmissiveMaterial=!1,R._useNormalMaterial=!1,R._useShininess=1,R._useLineColor=!1,R._useVertexColor=!1,R.registerEnabled=[],R._tint=[255,255,255,255],R.constantAttenuation=1,R.linearAttenuation=0,R.quadraticAttenuation=0,R.uMVMatrix=new m.default.Matrix,R.uPMatrix=new m.default.Matrix,R.uNMatrix=new m.default.Matrix("mat3"),R._currentNormal=new m.default.Vector(0,0,1),R._curCamera=new m.default.Camera(o(R)),R._curCamera._computeCameraDefaultSettings(),R._curCamera._setDefaultCamera(),R.prevTouches=[],R.zoomVelocity=0,R.rotateVelocity=new m.default.Vector(0,0),R.moveVelocity=new m.default.Vector(0,0),R.executeZoom=!1,R.executeRotateAndMove=!1,R._defaultLightShader=void 0,R._defaultImmediateModeShader=void 0,R._defaultNormalShader=void 0,R._defaultColorShader=void 0,R._defaultPointShader=void 0,R.userFillShader=void 0,R.userStrokeShader=void 0,R.userPointShader=void 0,R.retainedMode={geometry:{},buffers:{stroke:[new m.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",o(R),R._flatten),new m.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",o(R),R._flatten),new m.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",o(R),R._flatten),new m.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",o(R),R._flatten),new m.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",o(R))],fill:[new m.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",o(R),R._vToNArray),new m.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",o(R),R._vToNArray),new m.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",o(R)),new m.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",o(R)),new m.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",o(R),R._flatten)],text:[new m.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",o(R),R._vToNArray),new m.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",o(R),R._flatten)]}},R.immediateMode={geometry:new m.default.Geometry,shapeMode:f.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new m.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",o(R),R._vToNArray),new m.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",o(R),R._vToNArray),new m.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",o(R)),new m.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",o(R)),new m.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",o(R),R._flatten)],stroke:[new m.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",o(R),R._flatten),new m.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",o(R),R._flatten),new m.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",o(R),R._flatten),new m.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",o(R),R._flatten),new m.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",o(R))],point:R.GL.createBuffer()}},R.pointSize=5,R.curStrokeWeight=1,R.curStrokeCap=f.ROUND,R.curStrokeJoin=f.ROUND,R.textures=new Map,R.framebuffers=new Set,R.textureMode=f.IMAGE,R.textureWrapX=f.CLAMP,R.textureWrapY=f.CLAMP,R._tex=null,R._curveTightness=6,R._lookUpTableBezier=[],R._lookUpTableQuadratic=[],R._lutBezierDetail=0,R._lutQuadraticDetail=0,R.isProcessingVertices=!1,R._tessy=R._initTessy(),R.fontInfos={},R._curShader=void 0,R;throw new TypeError("Cannot call a class as a function")}return O=N,(P=[{key:"_setAttributeDefaults",value:function(R){var I={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};R._glAttributes===null?R._glAttributes=I:R._glAttributes=Object.assign(I,R._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?f.WEBGL2:f.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var R=this.drawingContext;R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL),R.viewport(0,0,R.drawingBufferWidth,R.drawingBufferHeight),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(R,I){var H,ee=this.width,fe=this.height,q=this.canvas.id,xe=this._pInst instanceof m.default.Graphics,q=(xe?((H=this._pInst).canvas.parentNode.removeChild(H.canvas),H.canvas=document.createElement("canvas"),(H._pInst._userNode||document.body).appendChild(H.canvas),m.default.Element.call(H,H.canvas,H._pInst),H.width=ee,H.height=fe):((H=this.canvas)&&H.parentNode.removeChild(H),(H=document.createElement("canvas")).id=q,(this._pInst._userNode||document.body).appendChild(H),this._pInst.canvas=H,this.canvas=H),new m.default.RendererGL(this._pInst.canvas,this._pInst,!xe));this._pInst._setProperty("_renderer",q),q.resize(ee,fe),q._applyDefaults(),xe||this._pInst._elements.push(q),typeof I=="function"&&setTimeout(function(){I.apply(window._renderer,R)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"background",value:function(){var ee=(ee=this._pInst).color.apply(ee,arguments),R=ee.levels[0]/255,I=ee.levels[1]/255,H=ee.levels[2]/255,ee=ee.levels[3]/255;this.clear(R,I,H,ee)}},{key:"fill",value:function(R,I,H,ee){var fe=m.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=fe._array,this.drawMode=f.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(R,I,H,ee){var fe=m.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=fe._array}},{key:"strokeCap",value:function(R){this.curStrokeCap=R}},{key:"strokeJoin",value:function(R){this.curStrokeJoin=R}},{key:"filter",value:function(R){m.default._friendlyError("filter() does not work in WEBGL mode")}},{key:"blendMode",value:function(R){R===f.DARKEST||R===f.LIGHTEST||R===f.ADD||R===f.BLEND||R===f.SUBTRACT||R===f.SCREEN||R===f.EXCLUSION||R===f.REPLACE||R===f.MULTIPLY||R===f.REMOVE?this.curBlendMode=R:R!==f.BURN&&R!==f.OVERLAY&&R!==f.HARD_LIGHT&&R!==f.SOFT_LIGHT&&R!==f.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(R,I){this._isErasing||(this._applyBlendMode(f.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,R/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,I/255])}},{key:"noErase",value:function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))}},{key:"strokeWeight",value:function(R){this.curStrokeWeight!==R&&(this.pointSize=R,this.curStrokeWeight=R)}},{key:"_getPixel",value:function(R,I){var H=this.GL;return C(H,null,R,I,H.RGBA,H.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var R,I,H=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(R=this._pInst._pixelDensity,I=this.GL,H._setProperty("pixels",M(H.pixels,I,null,0,0,this.width*R,this.height*R,I.RGBA,I.UNSIGNED_BYTE,this.height*R)))}},{key:"updatePixels",value:function(){var R=this._getTempFramebuffer();R.pixels=this._pixelsState.pixels,R.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(f.CENTER),this._pInst.image(R,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:f.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:f.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(R){return this.retainedMode.geometry[R]!==void 0}},{key:"resize",value:function(fe,ee){m.default.Renderer.prototype.resize.call(this,fe,ee),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var fe=this._pixelsState,H=(fe.pixels!==void 0&&fe._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),ee=!1,fe=void 0;try{for(var xe,q=this.framebuffers[Symbol.iterator]();!(H=(xe=q.next()).done);H=!0)xe.value._canvasSizeChanged()}catch(V){ee=!0,fe=V}finally{try{H||q.return==null||q.return()}finally{if(ee)throw fe}}}},{key:"clear",value:function(){var R=(arguments.length<=0?void 0:arguments[0])||0,I=(arguments.length<=1?void 0:arguments[1])||0,H=(arguments.length<=2?void 0:arguments[2])||0,ee=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(R*ee,I*ee,H*ee,ee),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(R,I,H,ee,fe,xe){arguments.length===16?m.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([R,I,0,0,H,ee,0,0,0,0,1,0,fe,xe,0,1])}},{key:"translate",value:function(R,I,H){return R instanceof m.default.Vector&&(H=R.z,I=R.y,R=R.x),this.uMVMatrix.translate([R,I,H]),this}},{key:"scale",value:function(R,I,H){return this.uMVMatrix.scale(R,I,H),this}},{key:"rotate",value:function(R,I){return I===void 0?this.rotateZ(R):(m.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(R){return this.rotate(R,1,0,0),this}},{key:"rotateY",value:function(R){return this.rotate(R,0,1,0),this}},{key:"rotateZ",value:function(R){return this.rotate(R,0,0,1),this}},{key:"push",value:function(){var R=m.default.Renderer.prototype.push.apply(this),I=R.properties;return I.uMVMatrix=this.uMVMatrix.copy(),I.uPMatrix=this.uPMatrix.copy(),I._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),I.ambientLightColors=this.ambientLightColors.slice(),I.specularColors=this.specularColors.slice(),I.directionalLightDirections=this.directionalLightDirections.slice(),I.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),I.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),I.pointLightPositions=this.pointLightPositions.slice(),I.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),I.pointLightSpecularColors=this.pointLightSpecularColors.slice(),I.spotLightPositions=this.spotLightPositions.slice(),I.spotLightDirections=this.spotLightDirections.slice(),I.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),I.spotLightSpecularColors=this.spotLightSpecularColors.slice(),I.spotLightAngle=this.spotLightAngle.slice(),I.spotLightConc=this.spotLightConc.slice(),I.userFillShader=this.userFillShader,I.userStrokeShader=this.userStrokeShader,I.userPointShader=this.userPointShader,I.pointSize=this.pointSize,I.curStrokeWeight=this.curStrokeWeight,I.curStrokeColor=this.curStrokeColor,I.curFillColor=this.curFillColor,I.curAmbientColor=this.curAmbientColor,I.curSpecularColor=this.curSpecularColor,I.curEmissiveColor=this.curEmissiveColor,I._hasSetAmbient=this._hasSetAmbient,I._useSpecularMaterial=this._useSpecularMaterial,I._useEmissiveMaterial=this._useEmissiveMaterial,I._useShininess=this._useShininess,I.constantAttenuation=this.constantAttenuation,I.linearAttenuation=this.linearAttenuation,I.quadraticAttenuation=this.quadraticAttenuation,I._enableLighting=this._enableLighting,I._useNormalMaterial=this._useNormalMaterial,I._tex=this._tex,I.drawMode=this.drawMode,I._currentNormal=this._currentNormal,I.curBlendMode=this.curBlendMode,R}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var R=this.userStrokeShader;return R&&R.isStrokeShader()?R:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var R=this.userFillShader;if(this._useNormalMaterial&&(!R||!R.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getImmediateModeShader();return R}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var R=this.userFillShader;if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getColorShader();return R}},{key:"_getImmediatePointShader",value:function(){var R=this.userPointShader;return R&&R.isPointShader()?R:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new m.default.Shader(this,E.phongVert,E.phongFrag):this._defaultLightShader=new m.default.Shader(this,E.lightVert,E.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new m.default.Shader(this,E.immediateVert,E.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new m.default.Shader(this,E.normalVert,E.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new m.default.Shader(this,E.normalVert,E.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new m.default.Shader(this,E.pointVert,E.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new m.default.Shader(this,E.lineVert,E.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===f.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new m.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+E.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+E.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(R,I){var H="";return this.webglVersion===f.WEBGL2&&(H+=`#version 300 es
#define WEBGL2
`),R==="vert"?H+=`#define VERTEX_SHADER
`:R==="frag"&&(H+=`#define FRAGMENT_SHADER
`),I&&(H+="precision ".concat(I,` float;
`)),H}},{key:"_getEmptyTexture",value:function(){var R;return this._emptyTexture||((R=new m.default.Image(1,1)).set(0,0,255),this._emptyTexture=new m.default.Texture(this,R)),this._emptyTexture}},{key:"getTexture",value:function(R){R instanceof m.default.Framebuffer&&(R=R.color);var I=this.textures.get(R);return I||(I=new m.default.Texture(this,R),this.textures.set(R,I),I)}},{key:"createFramebuffer",value:function(R){return new m.default.Framebuffer(this,R)}},{key:"_setStrokeUniforms",value:function(R){R.bindShader(),R.setUniform("uUseLineColor",this._useLineColor),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uStrokeWeight",this.curStrokeWeight),R.setUniform("uStrokeCap",v[this.curStrokeCap]),R.setUniform("uStrokeJoin",b[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(R){R.bindShader(),R.setUniform("uUseVertexColor",this._useVertexColor),R.setUniform("uMaterialColor",this.curFillColor),R.setUniform("isTexture",!!this._tex),this._tex&&R.setUniform("uSampler",this._tex),R.setUniform("uTint",this._tint),R.setUniform("uHasSetAmbient",this._hasSetAmbient),R.setUniform("uAmbientMatColor",this.curAmbientColor),R.setUniform("uSpecularMatColor",this.curSpecularColor),R.setUniform("uEmissiveMatColor",this.curEmissiveColor),R.setUniform("uSpecular",this._useSpecularMaterial),R.setUniform("uEmissive",this._useEmissiveMaterial),R.setUniform("uShininess",this._useShininess),R.setUniform("uUseLighting",this._enableLighting);var I=this.pointLightDiffuseColors.length/3,I=(R.setUniform("uPointLightCount",I),R.setUniform("uPointLightLocation",this.pointLightPositions),R.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),R.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),I=(R.setUniform("uDirectionalLightCount",I),R.setUniform("uLightingDirection",this.directionalLightDirections),R.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),R.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),I=(R.setUniform("uAmbientLightCount",I),R.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);R.setUniform("uSpotLightCount",I),R.setUniform("uSpotLightAngle",this.spotLightAngle),R.setUniform("uSpotLightConc",this.spotLightConc),R.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),R.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),R.setUniform("uSpotLightLocation",this.spotLightPositions),R.setUniform("uSpotLightDirection",this.spotLightDirections),R.setUniform("uConstantAttenuation",this.constantAttenuation),R.setUniform("uLinearAttenuation",this.linearAttenuation),R.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),R.bindTextures()}},{key:"_setPointUniforms",value:function(R){R.bindShader(),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(R,I,H,ee,fe){I=I||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(I,R),H!==void 0&&(R=new(ee||Float32Array)(H),this.GL.bufferData(I,R,fe||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(R,I){return R.length===I.length&&R.every(function(H,ee){return H===I[ee]})}},{key:"_isTypedArray",value:function(R){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(I){return R instanceof I})}},{key:"_flatten",value:function(R){if(R.length===0)return[];var I;if(2e4<R.length){for(var H=[],ee=R.slice(),fe=ee.pop();Array.isArray(fe)?ee.push.apply(ee,r(fe)):H.push(fe),ee.length&&(fe=ee.pop())!==void 0;);return H.reverse(),H}return(I=[]).concat.apply(I,r(R))}},{key:"_vToNArray",value:function(R){var I=[],H=!0,ee=!1,fe=void 0;try{for(var xe,q=R[Symbol.iterator]();!(H=(xe=q.next()).done);H=!0){var V=xe.value;I.push(V.x,V.y,V.z)}}catch(K){ee=!0,fe=K}finally{try{H||q.return==null||q.return()}finally{if(ee)throw fe}}return I}},{key:"_bezierCoefficients",value:function(R){var I=R*R,H=1-R,ee=H*H;return[ee*H,3*ee*R,3*H*I,I*R]}},{key:"_quadraticCoefficients",value:function(R){var I=1-R;return[I*I,2*I*R,R*R]}},{key:"_bezierToCatmull",value:function(R){return[R[1],R[1]+(R[2]-R[0])/this._curveTightness,R[2]-(R[3]-R[1])/this._curveTightness,R[2]]}},{key:"_initTessy",value:function(){var R=new g.default.GluTesselator;return R.gluTessCallback(g.default.gluEnum.GLU_TESS_VERTEX_DATA,function(I,H){for(var ee=0;ee<I.length;ee++)H.push(I[ee])}),R.gluTessCallback(g.default.gluEnum.GLU_TESS_BEGIN,function(I){I!==g.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(I))}),R.gluTessCallback(g.default.gluEnum.GLU_TESS_ERROR,function(I){console.log("error callback"),console.log("error number: ".concat(I))}),R.gluTessCallback(g.default.gluEnum.GLU_TESS_COMBINE,function(I,H,ee){for(var fe=new Array(m.default.RendererGL.prototype.tessyVertexSize).fill(0),xe=0;xe<ee.length;xe++)for(var q=0;q<fe.length;q++)ee[xe]!==0&&H[xe]&&(fe[q]+=H[xe][q]*ee[xe]);return fe}),R.gluTessCallback(g.default.gluEnum.GLU_TESS_EDGE_FLAG,function(I){}),R}},{key:"_triangulate",value:function(R){var I=R[0]?R[0][2]:void 0,H=!0,ee=!0,K=!1,oe=void 0;try{for(var fe,xe=R[Symbol.iterator]();!(ee=(fe=xe.next()).done);ee=!0)for(var q=fe.value,V=0;V<q.length;V+=m.default.RendererGL.prototype.tessyVertexSize)if(q[V+2]!==I){H=!1;break}}catch(ve){K=!0,oe=ve}finally{try{ee||xe.return==null||xe.return()}finally{if(K)throw oe}}H?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var K=[],J=(this._tessy.gluTessBeginPolygon(K),!0),oe=!1,_e=void 0;try{for(var Oe,De=R[Symbol.iterator]();!(J=(Oe=De.next()).done);J=!0){var Te=Oe.value;this._tessy.gluTessBeginContour();for(var Be=0;Be<Te.length;Be+=m.default.RendererGL.prototype.tessyVertexSize){var Re=Te.slice(Be,Be+m.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Re,Re)}this._tessy.gluTessEndContour()}}catch(ve){oe=!0,_e=ve}finally{try{J||De.return==null||De.return()}finally{if(oe)throw _e}}return this._tessy.gluTessEndPolygon(),K}}])&&t(O.prototype,P),N}(m.default.Renderer),m.default.prototype._assert3d=function(P){if(!this._renderer.isP3D)throw new Error("".concat(P,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},m.default.RendererGL.prototype.tessyVertexSize=12,w=m.default.RendererGL,S.default=w},{"../core/constants":262,"../core/main":273,"../core/p5.Renderer":276,"./p5.Camera":321,"./p5.Matrix":324,"./p5.Shader":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.map":168,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.float64-array":210,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int16-array":214,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,libtess:245,path:248}],329:[function(n,Z,S){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=(n=n("../core/main"))&&n.__esModule?n:{default:n};function m(f,g){for(var d=0;d<g.length;d++){var u=g[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(f,u.key,u)}}y.default.Shader=function(){function f(u,i,r){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._renderer=u,this._vertSrc=i,this._fragSrc=r,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var g,d;return g=f,(d=[{key:"init",value:function(){if(this._glProgram===0){var u=this._renderer.GL;if(this._vertShader=u.createShader(u.VERTEX_SHADER),u.shaderSource(this._vertShader,this._vertSrc),u.compileShader(this._vertShader),!u.getShaderParameter(this._vertShader,u.COMPILE_STATUS))return y.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(u.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=u.createShader(u.FRAGMENT_SHADER),u.shaderSource(this._fragShader,this._fragSrc),u.compileShader(this._fragShader),!u.getShaderParameter(this._fragShader,u.COMPILE_STATUS))return y.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(u.getShaderInfoLog(this._fragShader))),null;this._glProgram=u.createProgram(),u.attachShader(this._glProgram,this._vertShader),u.attachShader(this._glProgram,this._fragShader),u.linkProgram(this._glProgram),u.getProgramParameter(this._glProgram,u.LINK_STATUS)||y.default._friendlyError("Snap! Error linking shader program: ".concat(u.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var u=this._renderer.GL,i=u.getProgramParameter(this._glProgram,u.ACTIVE_ATTRIBUTES),r=0;r<i;++r){var t=u.getActiveAttrib(this._glProgram,r),a=t.name,l=u.getAttribLocation(this._glProgram,a),o={};o.name=a,o.location=l,o.index=r,o.type=t.type,o.size=t.size,this.attributes[a]=o}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var u=this._renderer.GL,i=u.getProgramParameter(this._glProgram,u.ACTIVE_UNIFORMS),r=0,t=0;t<i;++t){var a=u.getActiveUniform(this._glProgram,t),l={},o=(l.location=u.getUniformLocation(this._glProgram,a.name),l.size=a.size,a.name);1<a.size&&(o=o.substring(0,o.indexOf("[0]"))),l.name=o,l.type=a.type,l._cachedData=void 0,l.type===u.SAMPLER_2D&&(l.samplerIndex=r,r++,this.samplers.push(l)),l.isArray=1<a.size||l.type===u.FLOAT_MAT3||l.type===u.FLOAT_MAT4||l.type===u.FLOAT_VEC2||l.type===u.FLOAT_VEC3||l.type===u.FLOAT_VEC4||l.type===u.INT_VEC2||l.type===u.INT_VEC4||l.type===u.INT_VEC3,this.uniforms[o]=l}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var u=this._renderer.GL,i=!0,r=!1,t=void 0;try{for(var a,l=this.samplers[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var o=a.value,c=o.texture;c===void 0&&(c=this._renderer._getEmptyTexture()),u.activeTexture(u.TEXTURE0+o.samplerIndex),c.bindTexture(),c.update(),u.uniform1i(o.location,o.samplerIndex)}}catch(s){r=!0,t=s}finally{try{i||l.return==null||l.return()}finally{if(r)throw t}}}},{key:"updateTextures",value:function(){var u=!0,i=!1,r=void 0;try{for(var t,a=this.samplers[Symbol.iterator]();!(u=(t=a.next()).done);u=!0){var l=t.value.texture;l&&l.update()}}catch(o){i=!0,r=o}finally{try{u||a.return==null||a.return()}finally{if(i)throw r}}}},{key:"unbindTextures",value:function(){var u=!0,i=!1,r=void 0;try{for(var t,a=this.samplers[Symbol.iterator]();!(u=(t=a.next()).done);u=!0){var l=t.value;this.setUniform(l.name,this._renderer._getEmptyTexture())}}catch(o){i=!0,r=o}finally{try{u||a.return==null||a.return()}finally{if(i)throw r}}}},{key:"_setMatrixUniforms",value:function(){var u=this._renderer._curCamera.cameraMatrix,i=this._renderer.uPMatrix,r=this._renderer.uMVMatrix,t=r.copy();t.mult(i),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",u.mat4),this.setUniform("uProjectionMatrix",i.mat4),this.setUniform("uModelViewMatrix",r.mat4),this.setUniform("uModelViewProjectionMatrix",t.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var u=this._renderer.GL;return this._renderer._curShader!==this&&(u.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(u,i){var r=this.uniforms[u];if(r){var t=this._renderer.GL;if(r.isArray){if(r._cachedData&&this._renderer._arraysEqual(r._cachedData,i))return;r._cachedData=i.slice(0)}else{if(r._cachedData&&r._cachedData===i)return;Array.isArray(i)?r._cachedData=i.slice(0):r._cachedData=i}var a=r.location;switch(this.useProgram(),r.type){case t.BOOL:i===!0?t.uniform1i(a,1):t.uniform1i(a,0);break;case t.INT:1<r.size?i.length&&t.uniform1iv(a,i):t.uniform1i(a,i);break;case t.FLOAT:1<r.size?i.length&&t.uniform1fv(a,i):t.uniform1f(a,i);break;case t.FLOAT_MAT3:t.uniformMatrix3fv(a,!1,i);break;case t.FLOAT_MAT4:t.uniformMatrix4fv(a,!1,i);break;case t.FLOAT_VEC2:1<r.size?i.length&&t.uniform2fv(a,i):t.uniform2f(a,i[0],i[1]);break;case t.FLOAT_VEC3:1<r.size?i.length&&t.uniform3fv(a,i):t.uniform3f(a,i[0],i[1],i[2]);break;case t.FLOAT_VEC4:1<r.size?i.length&&t.uniform4fv(a,i):t.uniform4f(a,i[0],i[1],i[2],i[3]);break;case t.INT_VEC2:1<r.size?i.length&&t.uniform2iv(a,i):t.uniform2i(a,i[0],i[1]);break;case t.INT_VEC3:1<r.size?i.length&&t.uniform3iv(a,i):t.uniform3i(a,i[0],i[1],i[2]);break;case t.INT_VEC4:1<r.size?i.length&&t.uniform4iv(a,i):t.uniform4i(a,i[0],i[1],i[2],i[3]);break;case t.SAMPLER_2D:t.activeTexture(t.TEXTURE0+r.samplerIndex),r.texture=i instanceof y.default.Texture?i:this._renderer.getTexture(i),t.uniform1i(a,r.samplerIndex),r.texture.src.gifProperties&&r.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(u,i,r,t,a,l){var o;return u&&(u=u.location)!==-1&&(o=this._renderer.GL,this._renderer.registerEnabled[u]||(o.enableVertexAttribArray(u),this._renderer.registerEnabled[u]=!0),this._renderer.GL.vertexAttribPointer(u,i,r||o.FLOAT,t||!1,a||0,l||0)),this}}])&&m(g.prototype,d),f}(),n=y.default.Shader,S.default=n},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],330:[function(n,Z,S){function y(t){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(t)}function m(t){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(a){return y(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(t)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.checkWebGLCapabilities=i,S.default=void 0;var f=(r=n("../core/main"))&&r.__esModule?r:{default:r},g=function(t){if(t&&t.__esModule)return t;if(t===null||m(t)!=="object"&&typeof t!="function")return{default:t};var a=d();if(a&&a.has(t))return a.get(t);var l,o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in t){var s;Object.prototype.hasOwnProperty.call(t,l)&&((s=c?Object.getOwnPropertyDescriptor(t,l):null)&&(s.get||s.set)?Object.defineProperty(o,l,s):o[l]=t[l])}return o.default=t,a&&a.set(t,o),o}(n("../core/constants"));function d(){var t;return typeof WeakMap!="function"?null:(t=new WeakMap,d=function(){return t},t)}function u(t,a){for(var l=0;l<a.length;l++){var o=a[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(c){var a=c.GL,c=c.webglVersion,l=c===g.WEBGL2?a.getExtension("EXT_color_buffer_float")&&a.getExtension("EXT_float_blend"):a.getExtension("OES_texture_float"),o=l&&a.getExtension("OES_texture_float_linear"),c=c===g.WEBGL2?a.getExtension("EXT_color_buffer_float"):a.getExtension("OES_texture_half_float");return{float:l,floatLinear:o,halfFloat:c,halfFloatLinear:c&&a.getExtension("OES_texture_half_float_linear")}}f.default.Texture=function(){function t(b,c,v){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._renderer=b;var p=this._renderer.GL,v=(v=v||{},this.src=c,this.glTex=void 0,this.glTarget=p.TEXTURE_2D,this.glFormat=v.format||p.RGBA,this.mipmaps=!1,this.glMinFilter=v.minFilter||p.LINEAR,this.glMagFilter=v.magFilter||p.LINEAR,this.glWrapS=v.wrapS||p.CLAMP_TO_EDGE,this.glWrapT=v.wrapT||p.CLAMP_TO_EDGE,this.glDataType=v.dataType||p.UNSIGNED_BYTE,i(b)),b=(this.glFormat!==p.HALF_FLOAT||v.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=p.FLOAT),this.glFormat!==p.HALF_FLOAT||this.glMinFilter!==p.LINEAR&&this.glMagFilter!==p.LINEAR||v.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===p.LINEAR&&(this.glMinFilter=p.NEAREST),this.glMagFilter===p.LINEAR&&(this.glMagFilter=p.NEAREST)),this.glFormat!==p.FLOAT||v.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=p.UNSIGNED_BYTE),this.glFormat!==p.FLOAT||this.glMinFilter!==p.LINEAR&&this.glMagFilter!==p.LINEAR||v.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===p.LINEAR&&(this.glMinFilter=p.NEAREST),this.glMagFilter===p.LINEAR&&(this.glMagFilter=p.NEAREST)),this.isSrcMediaElement=f.default.MediaElement!==void 0&&c instanceof f.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=f.default.Element!==void 0&&c instanceof f.default.Element&&!(c instanceof f.default.Graphics)&&!(c instanceof f.default.Renderer),this.isSrcP5Image=c instanceof f.default.Image,this.isSrcP5Graphics=c instanceof f.default.Graphics,this.isSrcP5Renderer=c instanceof f.default.Renderer,this.isImageData=typeof ImageData<"u"&&c instanceof ImageData,this.isFramebufferTexture=c instanceof f.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=b.width,this.height=b.height,this.init(b),this}var a,l;return a=t,(l=[{key:"_getTextureDataFromSource",value:function(){var o;return this.isFramebufferTexture?o=this.src.rawTexture():this.isSrcP5Image?o=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?o=this.src.elt:this.isImageData&&(o=this.src),o}},{key:"init",value:function(o){var c,s=this._renderer.GL;this.isFramebufferTexture||(this.glTex=s.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.glMagFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(c=new Uint8Array([1,1,1,1]),s.texImage2D(this.glTarget,0,s.RGBA,1,1,0,this.glFormat,this.glDataType,c)):s.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,o))}},{key:"update",value:function(){var o,c,s,p=this.src;return p.width!==0&&p.height!==0&&!this.isFramebufferTexture&&(o=this._getTextureDataFromSource(),c=!1,s=this._renderer.GL,o.width!==this.width||o.height!==this.height?(c=!0,this.width=o.width||p.width,this.height=o.height||p.height,this.isSrcP5Image?p.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&p.setModified(!0)):this.isSrcP5Image?p.isModified()&&p.setModified(!(c=!0)):this.isSrcMediaElement?p.isModified()?p.setModified(!(c=!0)):p.loadedmetadata&&this._videoPrevUpdateTime!==p.time()&&(this._videoPrevUpdateTime=p.time(),c=!0):this.isImageData?p._dirty&&(c=!(p._dirty=!1)):c=!0,c&&(this.bindTexture(),s.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,o)),c)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(o,c){var s=this._renderer.GL;o===g.NEAREST?this.glMinFilter=s.NEAREST:this.glMinFilter=s.LINEAR,c===g.NEAREST?this.glMagFilter=s.NEAREST:this.glMagFilter=s.LINEAR,this.bindTexture(),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.glMinFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"setWrapMode",value:function(o,c){function s(x){return(x&x-1)==0}var p=this._renderer.GL,b=this._getTextureDataFromSource(),b=b.naturalWidth&&b.naturalHeight?(v=b.naturalWidth,b.naturalHeight):(v=this.width,this.height),v=s(v),b=s(b);o===g.REPEAT?this._renderer.webglVersion===g.WEBGL2||v&&b?this.glWrapS=p.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=p.CLAMP_TO_EDGE):o===g.MIRROR?this._renderer.webglVersion===g.WEBGL2||v&&b?this.glWrapS=p.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=p.CLAMP_TO_EDGE):this.glWrapS=p.CLAMP_TO_EDGE,c===g.REPEAT?this._renderer.webglVersion===g.WEBGL2||v&&b?this.glWrapT=p.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=p.CLAMP_TO_EDGE):c===g.MIRROR?this._renderer.webglVersion===g.WEBGL2||v&&b?this.glWrapT=p.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=p.CLAMP_TO_EDGE):this.glWrapT=p.CLAMP_TO_EDGE,this.bindTexture(),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,this.glWrapS),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}])&&u(a.prototype,l),t}();var r=f.default.Texture;S.default=r},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],331:[function(n,Z,S){function y(s){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(s)}function m(s){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(p){return y(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":y(p)})(s)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.sub"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.sub"),n("core-js/modules/web.dom-collections.iterator");var f,g=(f=n("../core/main"))&&f.__esModule?f:{default:f},d=function(s){if(s&&s.__esModule)return s;if(s===null||m(s)!=="object"&&typeof s!="function")return{default:s};var p=u();if(p&&p.has(s))return p.get(s);var v,b={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in s){var w;Object.prototype.hasOwnProperty.call(s,v)&&((w=x?Object.getOwnPropertyDescriptor(s,v):null)&&(w.get||w.set)?Object.defineProperty(b,v,w):b[v]=s[v])}return b.default=s,p&&p.set(s,b),b}(n("../core/constants"));function u(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,u=function(){return s},s)}function i(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}function r(s,p){for(var v=0;v<p.length;v++){var b=p[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(s,b.key,b)}}function t(s,p,v){p&&r(s.prototype,p),v&&r(s,v)}n("./p5.Shader"),n("./p5.RendererGL.Retained"),g.default.RendererGL.prototype._applyTextProperties=function(){},g.default.RendererGL.prototype.textWidth=function(s){return this._isOpenType()?this._textFont._textWidth(s,this._textSize):0};var a=function(){function s(p,v){i(this,s),this.width=p,this.height=v,this.infos=[]}return t(s,[{key:"findImage",value:function(p){var v,b,x=this.width*this.height;if(x<p)throw new Error("font is too complex to render in 3D");for(var w=this.infos.length-1;0<=w;--w){var j=this.infos[w];if(j.index+p<x){b=(v=j).imageData;break}}if(!v){try{b=new ImageData(this.width,this.height)}catch{var E=document.getElementsByTagName("canvas")[0],M=!E,C=(E||((E=document.createElement("canvas")).style.display="none",document.body.appendChild(E)),E.getContext("2d"));C&&(b=C.createImageData(this.width,this.height)),M&&document.body.removeChild(E)}this.infos.push(v={index:0,imageData:b})}return C=v.index,v.index+=p,b._dirty=!0,{imageData:b,index:C}}}]),s}();function l(j,p,v,b,x){var w=j.imageData.data,j=4*j.index++;w[j++]=p,w[j++]=v,w[j++]=b,w[+j]=x}var o=Math.sqrt(3),c=function(){function s(p){i(this,s),this.font=p,this.strokeImageInfos=new a(64,64),this.colDimImageInfos=new a(64,64),this.rowDimImageInfos=new a(64,64),this.colCellImageInfos=new a(64,64),this.rowCellImageInfos=new a(64,64),this.glyphInfos={}}return t(s,[{key:"getGlyphInfo",value:function(p){var v=this.glyphInfos[p.index];if(!v){var b=p.getBoundingBox(),x=b.x1,w=b.y1,j=b.x2-x,E=b.y2-w,M=p.path.commands;if(j==0||E==0||!M.length)return this.glyphInfos[p.index]={};for(var C=[],P=[],O=[],D=8;0<=D;--D)O.push([]);for(D=8;0<=D;--D)P.push([]);var N,R,I,H,ee=function(){function re(Le,h,_,T){i(this,re),this.p0=Le,this.c0=h,this.c1=_,this.p1=T}return t(re,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return g.default.Vector.sub(g.default.Vector.sub(this.p1,this.p0),g.default.Vector.mult(g.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(L){var h=g.default.Vector.lerp(this.p0,this.c0,L),T=g.default.Vector.lerp(this.c0,this.c1,L),_=g.default.Vector.lerp(h,T,L),T=(this.c1=g.default.Vector.lerp(this.c1,this.p1,L),this.c0=g.default.Vector.lerp(T,this.c1,L),g.default.Vector.lerp(_,this.c0,L)),L=new re(this.p0,h,_,T);return this.p0=T,L}},{key:"splitInflections",value:function(){var Le=g.default.Vector.sub(this.c0,this.p0),h=g.default.Vector.sub(g.default.Vector.sub(this.c1,this.c0),Le),_=g.default.Vector.sub(g.default.Vector.sub(g.default.Vector.sub(this.p1,this.c1),Le),g.default.Vector.mult(h,2)),T=[],L=h.x*_.y-h.y*_.x;return L!==0&&0<=(Le=(_=Le.x*_.y-Le.y*_.x)*_-4*L*(Le.x*h.y-Le.y*h.x))&&(L<0&&(L=-L,_=-_),Le=(-_+(h=Math.sqrt(Le)))/(2*L),0<(_=(-_-h)/(2*L))&&_<1&&(T.push(this.split(_)),Le=1-(1-Le)/(1-_)),0<Le&&Le<1&&T.push(this.split(Le))),T.push(this),T}}]),re}(),fe=!0,xe=!1,q=void 0;try{for(var V,K=M[Symbol.iterator]();!(fe=(V=K.next()).done);fe=!0){var J=V.value,oe=(J.x-x)/j,_e=(J.y-w)/E;if(!pe(N,R,oe,_e)){switch(J.type){case"M":I=oe,H=_e;break;case"L":Me(N,R,oe,_e);break;case"Q":var Oe=(J.x1-x)/j,De=(J.y1-w)/E;ae([N,oe,Oe],[R,_e,De],{x:N,y:R,cx:Oe,cy:De});break;case"Z":pe(N,R,I,H)?C.push({x:N,y:R}):(Me(N,R,I,H),C.push({x:I,y:H}));break;case"C":for(var Te=function(W,he,U,_,T,L,G,B){var W=new ee(new g.default.Vector(W,he),new g.default.Vector(U,_),new g.default.Vector(T,L),new g.default.Vector(G,B)).splitInflections(),F=[],Y=30/o,ie=!0,he=!1,U=void 0;try{for(var se,ue=W[Symbol.iterator]();!(ie=(se=ue.next()).done);ie=!0){for(var we=se.value,ce=[],Se=void 0;!(.125<=(Se=Y/we.quadError()));){var $=Math.pow(Se,.3333333333333333),je=we.split($),be=we.split(1-$/(1-$));F.push(je),ce.push(we),we=be}Se<1&&F.push(we.split(.5)),F.push(we),Array.prototype.push.apply(F,ce.reverse())}}catch(k){he=!0,U=k}finally{try{ie||ue.return==null||ue.return()}finally{if(he)throw U}}return F}(N,R,(J.x1-x)/j,(J.y1-w)/E,(J.x2-x)/j,(J.y2-w)/E,oe,_e),Be=0;Be<Te.length;Be++){var Re=Te[Be].toQuadratic();ae([Re.x,Re.x1,Re.cx],[Re.y,Re.y1,Re.cy],Re)}break;default:throw new Error("unknown command type: ".concat(J.type))}N=oe,R=_e}}}catch(re){xe=!0,q=re}finally{try{fe||K.return==null||K.return()}finally{if(xe)throw q}}for(var ve=C.length,ge=this.strokeImageInfos.findImage(ve),Ae=ge.index,Ie=0;Ie<ve;++Ie){var de=C[Ie];l(ge,ne(de.x),ne(de.y),ne(de.cx),ne(de.cy))}(v=this.glyphInfos[p.index]={glyph:p,uGlyphRect:[b.x1,-b.y1,b.x2,-b.y2],strokeImageInfo:ge,strokes:C,colInfo:le(O,this.colDimImageInfos,this.colCellImageInfos),rowInfo:le(P,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset]}return v;function ae(re,Le,h){var _=C.length;function T(F,Y,ie){for(var he=F.length;0<he--;){var U=F[he];U<Y&&(Y=U),ie<U&&(ie=U)}return{min:Y,max:ie}}C.push(h);for(var h=T(re,1,0),re=Math.max(Math.floor(9*h.min-.5),0),L=Math.min(Math.ceil(9*h.max+.5),9),G=re;G<L;++G)O[G].push(_);for(var h=T(Le,1,0),re=Math.max(Math.floor(9*h.min-.5),0),B=Math.min(Math.ceil(9*h.max+.5),9),W=re;W<B;++W)P[W].push(_)}function ne(re){return(re=(h=255)*re)<(Le=0)?Le:h<re?h:re;var Le,h}function Me(re,Le,h,_){ae([re,h],[Le,_],{x:re,y:Le,cx:(re+h)/2,cy:(Le+_)/2})}function pe(re,Le,h,_){return Math.abs(h-re)<1e-5&&Math.abs(_-Le)<1e-5}function le(re,Le,h){for(var _=re.length,T=Le.findImage(_),Le=T.index,L=0,G=0;G<_;++G)L+=re[G].length;for(var B=h.findImage(L),W=0;W<_;++W){var F=re[W],Y=F.length,ie=B.index;l(T,ie>>7,127&ie,Y>>7,127&Y);for(var he=0;he<Y;++he){var U=F[he]+Ae;l(B,U>>7,127&U,0,0)}}return{cellImageInfo:B,dimOffset:Le,dimImageInfo:T}}}}]),s}();g.default.RendererGL.prototype._renderText=function(s,p,v,b,x){if(this._textFont&&typeof this._textFont!="string"){if(!(x<=b)&&this._doFill){if(this._isOpenType()){s.push();var x=this._doStroke,w=this.drawMode,j=(this._doStroke=!1,this.drawMode=d.TEXTURE,this._textFont.font),E=(E=this._textFont._fontInfo)||(this._textFont._fontInfo=new c(j)),v=this._textFont._handleAlignment(this,p,v,b),b=this._textSize/j.unitsPerEm,M=(this.translate(v.x,v.y,0),this.scale(b,b,1),this.GL),v=!this._defaultFontShader,C=this._getFontShader(),P=(C.init(),C.bindShader(),v&&(C.setUniform("uGridImageSize",[64,64]),C.setUniform("uCellsImageSize",[64,64]),C.setUniform("uStrokeImageSize",[64,64]),C.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),O=(P||((b=this._textGeom=new g.default.Geometry(1,1,function(){for(var Be=0;Be<=1;Be++)for(var Re=0;Re<=1;Re++)this.vertices.push(new g.default.Vector(Re,Be,0)),this.uvs.push(Re,Be)})).computeFaces().computeNormals(),P=this.createBuffers("glyph",b)),!0),v=!1,b=void 0;try{for(var D,N=this.retainedMode.buffers.text[Symbol.iterator]();!(O=(D=N.next()).done);O=!0)D.value._prepareBuffer(P,C)}catch(Be){v=!0,b=Be}finally{try{O||N.return==null||N.return()}finally{if(v)throw b}}this._bindBuffer(P.indexBuffer,M.ELEMENT_ARRAY_BUFFER),C.setUniform("uMaterialColor",this.curFillColor),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var R=0,I=null,H=j.stringToGlyphs(p),ee=!0,fe=!1,xe=void 0;try{for(var q,V=H[Symbol.iterator]();!(ee=(q=V.next()).done);ee=!0){var K,J,oe=q.value,_e=(I&&(R+=j.getKerningValue(I,oe)),E.getGlyphInfo(oe));_e.uGlyphRect&&(K=_e.rowInfo,J=_e.colInfo,C.setUniform("uSamplerStrokes",_e.strokeImageInfo.imageData),C.setUniform("uSamplerRowStrokes",K.cellImageInfo.imageData),C.setUniform("uSamplerRows",K.dimImageInfo.imageData),C.setUniform("uSamplerColStrokes",J.cellImageInfo.imageData),C.setUniform("uSamplerCols",J.dimImageInfo.imageData),C.setUniform("uGridOffset",_e.uGridOffset),C.setUniform("uGlyphRect",_e.uGlyphRect),C.setUniform("uGlyphOffset",R),C.bindTextures(),M.drawElements(M.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),R+=oe.advanceWidth,I=oe}}catch(Be){fe=!0,xe=Be}finally{try{ee||V.return==null||V.return()}finally{if(fe)throw xe}}}finally{C.unbindShader(),this._doStroke=x,this.drawMode=w,M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),s.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return s}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":262,"../core/main":273,"./p5.RendererGL.Retained":327,"./p5.Shader":329,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}]},{},[257])(257)})})(xi);var Ni=xi.exports;const Ui=yn(Ni);var Si={exports:{}};(function($e,Je){if((typeof Ye>"u"||!Ye)&&typeof self<"u")var Ye=self;(function(n){$e.exports=n()})(function(){return function(){function n(Z,S,y){function m(d,u){if(!S[d]){if(!Z[d]){var i=typeof Wr=="function"&&Wr;if(!u&&i)return i(d,!0);if(f)return f(d,!0);var r=new Error("Cannot find module '"+d+"'");throw r.code="MODULE_NOT_FOUND",r}var t=S[d]={exports:{}};Z[d][0].call(t.exports,function(a){var l=Z[d][1][a];return m(l||a)},t,t.exports,n,Z,S,y)}return S[d].exports}for(var f=typeof Wr=="function"&&Wr,g=0;g<y.length;g++)m(y[g]);return m}return n}()({1:[function(n,Z,S){function y(m){if(Array.isArray(m))return m}Z.exports=y},{}],2:[function(n,Z,S){function y(m){if(Array.isArray(m)){for(var f=0,g=new Array(m.length);f<m.length;f++)g[f]=m[f];return g}}Z.exports=y},{}],3:[function(n,Z,S){function y(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}Z.exports=y},{}],4:[function(n,Z,S){function y(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}Z.exports=y},{}],5:[function(n,Z,S){var y=n("./setPrototypeOf");function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(g,d,u){return m()?Z.exports=f=Reflect.construct:Z.exports=f=function(r,t,a){var l=[null];l.push.apply(l,t);var o=Function.bind.apply(r,l),c=new o;return a&&y(c,a.prototype),c},f.apply(null,arguments)}Z.exports=f},{"./setPrototypeOf":18}],6:[function(n,Z,S){function y(f,g){for(var d=0;d<g.length;d++){var u=g[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(f,u.key,u)}}function m(f,g,d){return g&&y(f.prototype,g),d&&y(f,d),f}Z.exports=m},{}],7:[function(n,Z,S){function y(m,f,g){return f in m?Object.defineProperty(m,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[f]=g,m}Z.exports=y},{}],8:[function(n,Z,S){function y(){return Z.exports=y=Object.assign||function(m){for(var f=1;f<arguments.length;f++){var g=arguments[f];for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])}return m},y.apply(this,arguments)}Z.exports=y},{}],9:[function(n,Z,S){function y(m){return Z.exports=y=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},y(m)}Z.exports=y},{}],10:[function(n,Z,S){var y=n("./setPrototypeOf");function m(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),g&&y(f,g)}Z.exports=m},{"./setPrototypeOf":18}],11:[function(n,Z,S){function y(m){return m&&m.__esModule?m:{default:m}}Z.exports=y},{}],12:[function(n,Z,S){var y=n("../helpers/typeof");function m(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return m=function(){return g},g}function f(g){if(g&&g.__esModule)return g;if(g===null||y(g)!=="object"&&typeof g!="function")return{default:g};var d=m();if(d&&d.has(g))return d.get(g);var u={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in g)if(Object.prototype.hasOwnProperty.call(g,r)){var t=i?Object.getOwnPropertyDescriptor(g,r):null;t&&(t.get||t.set)?Object.defineProperty(u,r,t):u[r]=g[r]}return u.default=g,d&&d.set(g,u),u}Z.exports=f},{"../helpers/typeof":21}],13:[function(n,Z,S){function y(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}Z.exports=y},{}],14:[function(n,Z,S){function y(m,f){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]"){var g=[],d=!0,u=!1,i=void 0;try{for(var r=m[Symbol.iterator](),t;!(d=(t=r.next()).done)&&(g.push(t.value),!(f&&g.length===f));d=!0);}catch(a){u=!0,i=a}finally{try{!d&&r.return!=null&&r.return()}finally{if(u)throw i}}return g}}Z.exports=y},{}],15:[function(n,Z,S){function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}Z.exports=y},{}],16:[function(n,Z,S){function y(){throw new TypeError("Invalid attempt to spread non-iterable instance")}Z.exports=y},{}],17:[function(n,Z,S){var y=n("../helpers/typeof"),m=n("./assertThisInitialized");function f(g,d){return d&&(y(d)==="object"||typeof d=="function")?d:m(g)}Z.exports=f},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(n,Z,S){function y(m,f){return Z.exports=y=Object.setPrototypeOf||function(d,u){return d.__proto__=u,d},y(m,f)}Z.exports=y},{}],19:[function(n,Z,S){var y=n("./arrayWithHoles"),m=n("./iterableToArrayLimit"),f=n("./nonIterableRest");function g(d,u){return y(d)||m(d,u)||f()}Z.exports=g},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(n,Z,S){var y=n("./arrayWithoutHoles"),m=n("./iterableToArray"),f=n("./nonIterableSpread");function g(d){return y(d)||m(d)||f()}Z.exports=g},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(n,Z,S){function y(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(d){return typeof d}:y=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},y(f)}function m(f){return typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?Z.exports=m=function(d){return y(d)}:Z.exports=m=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)},m(f)}Z.exports=m},{}],22:[function(n,Z,S){Z.exports=n("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(n,Z,S){var y=n("./src/converter");function m(f,g){var d=new y(f,g);return function(u){return d.convert(u)}}m.BIN="01",m.OCT="01234567",m.DEC="0123456789",m.HEX="0123456789abcdef",Z.exports=m},{"./src/converter":24}],24:[function(n,Z,S){function y(m,f){if(!m||!f||!m.length||!f.length)throw new Error("Bad alphabet");this.srcAlphabet=m,this.dstAlphabet=f}y.prototype.convert=function(m){var f,g,d,u={},i=this.srcAlphabet.length,r=this.dstAlphabet.length,t=m.length,a=typeof m=="string"?"":[];if(!this.isValid(m))throw new Error('Number "'+m+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return m;for(f=0;f<t;f++)u[f]=this.srcAlphabet.indexOf(m[f]);do{for(g=0,d=0,f=0;f<t;f++)g=g*i+u[f],g>=r?(u[d++]=parseInt(g/r,10),g=g%r):d>0&&(u[d++]=0);t=d,a=this.dstAlphabet.slice(g,g+1).concat(a)}while(d!==0);return a},y.prototype.isValid=function(m){for(var f=0;f<m.length;++f)if(this.srcAlphabet.indexOf(m[f])===-1)return!1;return!0},Z.exports=y},{}],25:[function(n,Z,S){(function(y){var m=n("object-assign");/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function f(R,I){if(R===I)return 0;for(var H=R.length,ee=I.length,fe=0,xe=Math.min(H,ee);fe<xe;++fe)if(R[fe]!==I[fe]){H=R[fe],ee=I[fe];break}return H<ee?-1:ee<H?1:0}function g(R){return y.Buffer&&typeof y.Buffer.isBuffer=="function"?y.Buffer.isBuffer(R):!!(R!=null&&R._isBuffer)}var d=n("util/"),u=Object.prototype.hasOwnProperty,i=Array.prototype.slice,r=function(){return(function(){}).name==="foo"}();function t(R){return Object.prototype.toString.call(R)}function a(R){return g(R)||typeof y.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(R):R?!!(R instanceof DataView||R.buffer&&R.buffer instanceof ArrayBuffer):!1}var l=Z.exports=x,o=/\s*function\s+([^\(\s]*)\s*/;function c(R){if(d.isFunction(R)){if(r)return R.name;var I=R.toString(),H=I.match(o);return H&&H[1]}}l.AssertionError=function(I){this.name="AssertionError",this.actual=I.actual,this.expected=I.expected,this.operator=I.operator,I.message?(this.message=I.message,this.generatedMessage=!1):(this.message=v(this),this.generatedMessage=!0);var H=I.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,H);else{var ee=new Error;if(ee.stack){var fe=ee.stack,xe=c(H),q=fe.indexOf(`
`+xe);if(q>=0){var V=fe.indexOf(`
`,q+1);fe=fe.substring(V+1)}this.stack=fe}}},d.inherits(l.AssertionError,Error);function s(R,I){return typeof R=="string"?R.length<I?R:R.slice(0,I):R}function p(R){if(r||!d.isFunction(R))return d.inspect(R);var I=c(R),H=I?": "+I:"";return"[Function"+H+"]"}function v(R){return s(p(R.actual),128)+" "+R.operator+" "+s(p(R.expected),128)}function b(R,I,H,ee,fe){throw new l.AssertionError({message:H,actual:R,expected:I,operator:ee,stackStartFunction:fe})}l.fail=b;function x(R,I){R||b(R,!0,I,"==",l.ok)}l.ok=x,l.equal=function(I,H,ee){I!=H&&b(I,H,ee,"==",l.equal)},l.notEqual=function(I,H,ee){I==H&&b(I,H,ee,"!=",l.notEqual)},l.deepEqual=function(I,H,ee){w(I,H,!1)||b(I,H,ee,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(I,H,ee){w(I,H,!0)||b(I,H,ee,"deepStrictEqual",l.deepStrictEqual)};function w(R,I,H,ee){if(R===I)return!0;if(g(R)&&g(I))return f(R,I)===0;if(d.isDate(R)&&d.isDate(I))return R.getTime()===I.getTime();if(d.isRegExp(R)&&d.isRegExp(I))return R.source===I.source&&R.global===I.global&&R.multiline===I.multiline&&R.lastIndex===I.lastIndex&&R.ignoreCase===I.ignoreCase;if((R===null||typeof R!="object")&&(I===null||typeof I!="object"))return H?R===I:R==I;if(a(R)&&a(I)&&t(R)===t(I)&&!(R instanceof Float32Array||R instanceof Float64Array))return f(new Uint8Array(R.buffer),new Uint8Array(I.buffer))===0;if(g(R)!==g(I))return!1;ee=ee||{actual:[],expected:[]};var fe=ee.actual.indexOf(R);return fe!==-1&&fe===ee.expected.indexOf(I)?!0:(ee.actual.push(R),ee.expected.push(I),E(R,I,H,ee))}function j(R){return Object.prototype.toString.call(R)=="[object Arguments]"}function E(R,I,H,ee){if(R==null||I===null||I===void 0)return!1;if(d.isPrimitive(R)||d.isPrimitive(I))return R===I;if(H&&Object.getPrototypeOf(R)!==Object.getPrototypeOf(I))return!1;var fe=j(R),xe=j(I);if(fe&&!xe||!fe&&xe)return!1;if(fe)return R=i.call(R),I=i.call(I),w(R,I,H);var q=N(R),V=N(I),K,J;if(q.length!==V.length)return!1;for(q.sort(),V.sort(),J=q.length-1;J>=0;J--)if(q[J]!==V[J])return!1;for(J=q.length-1;J>=0;J--)if(K=q[J],!w(R[K],I[K],H,ee))return!1;return!0}l.notDeepEqual=function(I,H,ee){w(I,H,!1)&&b(I,H,ee,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=M;function M(R,I,H){w(R,I,!0)&&b(R,I,H,"notDeepStrictEqual",M)}l.strictEqual=function(I,H,ee){I!==H&&b(I,H,ee,"===",l.strictEqual)},l.notStrictEqual=function(I,H,ee){I===H&&b(I,H,ee,"!==",l.notStrictEqual)};function C(R,I){if(!R||!I)return!1;if(Object.prototype.toString.call(I)=="[object RegExp]")return I.test(R);try{if(R instanceof I)return!0}catch{}return Error.isPrototypeOf(I)?!1:I.call({},R)===!0}function P(R){var I;try{R()}catch(H){I=H}return I}function O(R,I,H,ee){var fe;if(typeof I!="function")throw new TypeError('"block" argument must be a function');typeof H=="string"&&(ee=H,H=null),fe=P(I),ee=(H&&H.name?" ("+H.name+").":".")+(ee?" "+ee:"."),R&&!fe&&b(fe,H,"Missing expected exception"+ee);var xe=typeof ee=="string",q=!R&&d.isError(fe),V=!R&&fe&&!H;if((q&&xe&&C(fe,H)||V)&&b(fe,H,"Got unwanted exception"+ee),R&&fe&&H&&!C(fe,H)||!R&&fe)throw fe}l.throws=function(R,I,H){O(!0,R,I,H)},l.doesNotThrow=function(R,I,H){O(!1,R,I,H)},l.ifError=function(R){if(R)throw R};function D(R,I){R||b(R,!0,I,"==",D)}l.strict=m(D,l,{equal:l.strictEqual,deepEqual:l.deepStrictEqual,notEqual:l.notStrictEqual,notDeepEqual:l.notDeepStrictEqual}),l.strict.strict=l.strict;var N=Object.keys||function(R){var I=[];for(var H in R)u.call(R,H)&&I.push(H);return I}}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{})},{"object-assign":84,"util/":28}],26:[function(n,Z,S){typeof Object.create=="function"?Z.exports=function(m,f){m.super_=f,m.prototype=Object.create(f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}})}:Z.exports=function(m,f){m.super_=f;var g=function(){};g.prototype=f.prototype,m.prototype=new g,m.prototype.constructor=m}},{}],27:[function(n,Z,S){Z.exports=function(m){return m&&typeof m=="object"&&typeof m.copy=="function"&&typeof m.fill=="function"&&typeof m.readUInt8=="function"}},{}],28:[function(n,Z,S){(function(y,m){var f=/%[sdj%]/g;S.format=function(V){if(!E(V)){for(var K=[],J=0;J<arguments.length;J++)K.push(u(arguments[J]));return K.join(" ")}for(var J=1,oe=arguments,_e=oe.length,Oe=String(V).replace(f,function(Te){if(Te==="%%")return"%";if(J>=_e)return Te;switch(Te){case"%s":return String(oe[J++]);case"%d":return Number(oe[J++]);case"%j":try{return JSON.stringify(oe[J++])}catch{return"[Circular]"}default:return Te}}),De=oe[J];J<_e;De=oe[++J])x(De)||!O(De)?Oe+=" "+De:Oe+=" "+u(De);return Oe},S.deprecate=function(V,K){if(C(m.process))return function(){return S.deprecate(V,K).apply(this,arguments)};if(y.noDeprecation===!0)return V;var J=!1;function oe(){if(!J){if(y.throwDeprecation)throw new Error(K);y.traceDeprecation?console.trace(K):console.error(K),J=!0}return V.apply(this,arguments)}return oe};var g={},d;S.debuglog=function(V){if(C(d)&&(d={}.NODE_DEBUG||""),V=V.toUpperCase(),!g[V])if(new RegExp("\\b"+V+"\\b","i").test(d)){var K=y.pid;g[V]=function(){var J=S.format.apply(S,arguments);console.error("%s %d: %s",V,K,J)}}else g[V]=function(){};return g[V]};function u(V,K){var J={seen:[],stylize:r};return arguments.length>=3&&(J.depth=arguments[2]),arguments.length>=4&&(J.colors=arguments[3]),b(K)?J.showHidden=K:K&&S._extend(J,K),C(J.showHidden)&&(J.showHidden=!1),C(J.depth)&&(J.depth=2),C(J.colors)&&(J.colors=!1),C(J.customInspect)&&(J.customInspect=!0),J.colors&&(J.stylize=i),a(J,V,J.depth)}S.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function i(V,K){var J=u.styles[K];return J?"\x1B["+u.colors[J][0]+"m"+V+"\x1B["+u.colors[J][1]+"m":V}function r(V,K){return V}function t(V){var K={};return V.forEach(function(J,oe){K[J]=!0}),K}function a(V,K,J){if(V.customInspect&&K&&R(K.inspect)&&K.inspect!==S.inspect&&!(K.constructor&&K.constructor.prototype===K)){var oe=K.inspect(J,V);return E(oe)||(oe=a(V,oe,J)),oe}var _e=l(V,K);if(_e)return _e;var Oe=Object.keys(K),De=t(Oe);if(V.showHidden&&(Oe=Object.getOwnPropertyNames(K)),N(K)&&(Oe.indexOf("message")>=0||Oe.indexOf("description")>=0))return o(K);if(Oe.length===0){if(R(K)){var Te=K.name?": "+K.name:"";return V.stylize("[Function"+Te+"]","special")}if(P(K))return V.stylize(RegExp.prototype.toString.call(K),"regexp");if(D(K))return V.stylize(Date.prototype.toString.call(K),"date");if(N(K))return o(K)}var Be="",Re=!1,ve=["{","}"];if(v(K)&&(Re=!0,ve=["[","]"]),R(K)){var ge=K.name?": "+K.name:"";Be=" [Function"+ge+"]"}if(P(K)&&(Be=" "+RegExp.prototype.toString.call(K)),D(K)&&(Be=" "+Date.prototype.toUTCString.call(K)),N(K)&&(Be=" "+o(K)),Oe.length===0&&(!Re||K.length==0))return ve[0]+Be+ve[1];if(J<0)return P(K)?V.stylize(RegExp.prototype.toString.call(K),"regexp"):V.stylize("[Object]","special");V.seen.push(K);var Ae;return Re?Ae=c(V,K,J,De,Oe):Ae=Oe.map(function(Ie){return s(V,K,J,De,Ie,Re)}),V.seen.pop(),p(Ae,Be,ve)}function l(V,K){if(C(K))return V.stylize("undefined","undefined");if(E(K)){var J="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return V.stylize(J,"string")}if(j(K))return V.stylize(""+K,"number");if(b(K))return V.stylize(""+K,"boolean");if(x(K))return V.stylize("null","null")}function o(V){return"["+Error.prototype.toString.call(V)+"]"}function c(V,K,J,oe,_e){for(var Oe=[],De=0,Te=K.length;De<Te;++De)q(K,String(De))?Oe.push(s(V,K,J,oe,String(De),!0)):Oe.push("");return _e.forEach(function(Be){Be.match(/^\d+$/)||Oe.push(s(V,K,J,oe,Be,!0))}),Oe}function s(V,K,J,oe,_e,Oe){var De,Te,Be;if(Be=Object.getOwnPropertyDescriptor(K,_e)||{value:K[_e]},Be.get?Be.set?Te=V.stylize("[Getter/Setter]","special"):Te=V.stylize("[Getter]","special"):Be.set&&(Te=V.stylize("[Setter]","special")),q(oe,_e)||(De="["+_e+"]"),Te||(V.seen.indexOf(Be.value)<0?(x(J)?Te=a(V,Be.value,null):Te=a(V,Be.value,J-1),Te.indexOf(`
`)>-1&&(Oe?Te=Te.split(`
`).map(function(Re){return"  "+Re}).join(`
`).substr(2):Te=`
`+Te.split(`
`).map(function(Re){return"   "+Re}).join(`
`))):Te=V.stylize("[Circular]","special")),C(De)){if(Oe&&_e.match(/^\d+$/))return Te;De=JSON.stringify(""+_e),De.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(De=De.substr(1,De.length-2),De=V.stylize(De,"name")):(De=De.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),De=V.stylize(De,"string"))}return De+": "+Te}function p(V,K,J){var oe=V.reduce(function(_e,Oe){return Oe.indexOf(`
`)>=0,_e+Oe.replace(/\u001b\[\d\d?m/g,"").length+1},0);return oe>60?J[0]+(K===""?"":K+`
 `)+" "+V.join(`,
  `)+" "+J[1]:J[0]+K+" "+V.join(", ")+" "+J[1]}function v(V){return Array.isArray(V)}S.isArray=v;function b(V){return typeof V=="boolean"}S.isBoolean=b;function x(V){return V===null}S.isNull=x;function w(V){return V==null}S.isNullOrUndefined=w;function j(V){return typeof V=="number"}S.isNumber=j;function E(V){return typeof V=="string"}S.isString=E;function M(V){return typeof V=="symbol"}S.isSymbol=M;function C(V){return V===void 0}S.isUndefined=C;function P(V){return O(V)&&H(V)==="[object RegExp]"}S.isRegExp=P;function O(V){return typeof V=="object"&&V!==null}S.isObject=O;function D(V){return O(V)&&H(V)==="[object Date]"}S.isDate=D;function N(V){return O(V)&&(H(V)==="[object Error]"||V instanceof Error)}S.isError=N;function R(V){return typeof V=="function"}S.isFunction=R;function I(V){return V===null||typeof V=="boolean"||typeof V=="number"||typeof V=="string"||typeof V=="symbol"||typeof V>"u"}S.isPrimitive=I,S.isBuffer=n("./support/isBuffer");function H(V){return Object.prototype.toString.call(V)}function ee(V){return V<10?"0"+V.toString(10):V.toString(10)}var fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function xe(){var V=new Date,K=[ee(V.getHours()),ee(V.getMinutes()),ee(V.getSeconds())].join(":");return[V.getDate(),fe[V.getMonth()],K].join(" ")}S.log=function(){console.log("%s - %s",xe(),S.format.apply(S,arguments))},S.inherits=n("inherits"),S._extend=function(V,K){if(!K||!O(K))return V;for(var J=Object.keys(K),oe=J.length;oe--;)V[J[oe]]=K[J[oe]];return V};function q(V,K){return Object.prototype.hasOwnProperty.call(V,K)}}).call(this,n("_process"),typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(n,Z,S){S.byteLength=r,S.toByteArray=a,S.fromByteArray=c;for(var y=[],m=[],f=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,u=g.length;d<u;++d)y[d]=g[d],m[g.charCodeAt(d)]=d;m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63;function i(s){var p=s.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=s.indexOf("=");v===-1&&(v=p);var b=v===p?0:4-v%4;return[v,b]}function r(s){var p=i(s),v=p[0],b=p[1];return(v+b)*3/4-b}function t(s,p,v){return(p+v)*3/4-v}function a(s){var p,v=i(s),b=v[0],x=v[1],w=new f(t(s,b,x)),j=0,E=x>0?b-4:b,M;for(M=0;M<E;M+=4)p=m[s.charCodeAt(M)]<<18|m[s.charCodeAt(M+1)]<<12|m[s.charCodeAt(M+2)]<<6|m[s.charCodeAt(M+3)],w[j++]=p>>16&255,w[j++]=p>>8&255,w[j++]=p&255;return x===2&&(p=m[s.charCodeAt(M)]<<2|m[s.charCodeAt(M+1)]>>4,w[j++]=p&255),x===1&&(p=m[s.charCodeAt(M)]<<10|m[s.charCodeAt(M+1)]<<4|m[s.charCodeAt(M+2)]>>2,w[j++]=p>>8&255,w[j++]=p&255),w}function l(s){return y[s>>18&63]+y[s>>12&63]+y[s>>6&63]+y[s&63]}function o(s,p,v){for(var b,x=[],w=p;w<v;w+=3)b=(s[w]<<16&16711680)+(s[w+1]<<8&65280)+(s[w+2]&255),x.push(l(b));return x.join("")}function c(s){for(var p,v=s.length,b=v%3,x=[],w=16383,j=0,E=v-b;j<E;j+=w)x.push(o(s,j,j+w>E?E:j+w));return b===1?(p=s[v-1],x.push(y[p>>2]+y[p<<4&63]+"==")):b===2&&(p=(s[v-2]<<8)+s[v-1],x.push(y[p>>10]+y[p>>4&63]+y[p<<2&63]+"=")),x.join("")}},{}],30:[function(n,Z,S){var y=n("./lib/encoder"),m=n("./lib/decoder");Z.exports={encode:y,decode:m}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(n,Z,S){(function(y){function m(f,g){if(this.pos=0,this.buffer=f,this.is_with_alpha=!!g,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}m.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var f=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(f);for(var g=0;g<f;g++){var d=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);this.palette[g]={red:i,green:u,blue:d,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},m.prototype.parseRGBA=function(){var f="bit"+this.bitPP,g=this.width*this.height*4;this.data=new y(g),this[f]()},m.prototype.bit1=function(){for(var f=Math.ceil(this.width/8),g=f%4,d=this.height>=0?this.height-1:-this.height,d=this.height-1;d>=0;d--){for(var u=this.bottom_up?d:this.height-1-d,i=0;i<f;i++)for(var r=this.buffer.readUInt8(this.pos++),t=u*this.width*4+i*8*4,a=0;a<8&&i*8+a<this.width;a++){var l=this.palette[r>>7-a&1];this.data[t+a*4]=0,this.data[t+a*4+1]=l.blue,this.data[t+a*4+2]=l.green,this.data[t+a*4+3]=l.red}g!=0&&(this.pos+=4-g)}},m.prototype.bit4=function(){if(this.compress==2){let w=function(j){var E=this.palette[j];this.data[f]=0,this.data[f+1]=E.blue,this.data[f+2]=E.green,this.data[f+3]=E.red,f+=4};var x=w;this.data.fill(255);for(var f=0,g=this.bottom_up?this.height-1:0,d=!1;f<this.data.length;){var u=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(u==0)if(i==0){this.bottom_up?g--:g++,f=g*this.width*4,d=!1;continue}else{if(i==1)break;if(i==2){var r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.bottom_up?g-=t:g+=t,f+=t*this.width*4+r*4}else{for(var a=this.buffer.readUInt8(this.pos++),l=0;l<i;l++)d?w.call(this,a&15):w.call(this,(a&240)>>4),l&1&&l+1<i&&(a=this.buffer.readUInt8(this.pos++)),d=!d;(i+1>>1&1)==1&&this.pos++}}else for(var l=0;l<u;l++)d?w.call(this,i&15):w.call(this,(i&240)>>4),d=!d}}else for(var o=Math.ceil(this.width/2),c=o%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,r=0;r<o;r++){var i=this.buffer.readUInt8(this.pos++),f=s*this.width*4+r*2*4,p=i>>4,v=i&15,b=this.palette[p];if(this.data[f]=0,this.data[f+1]=b.blue,this.data[f+2]=b.green,this.data[f+3]=b.red,r*2+1>=this.width)break;b=this.palette[v],this.data[f+4]=0,this.data[f+4+1]=b.blue,this.data[f+4+2]=b.green,this.data[f+4+3]=b.red}c!=0&&(this.pos+=4-c)}},m.prototype.bit8=function(){if(this.compress==1){let p=function(v){var b=this.palette[v];this.data[f]=0,this.data[f+1]=b.blue,this.data[f+2]=b.green,this.data[f+3]=b.red,f+=4};var s=p;this.data.fill(255);for(var f=0,g=this.bottom_up?this.height-1:0;f<this.data.length;){var d=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++);if(d==0)if(u==0){this.bottom_up?g--:g++,f=g*this.width*4;continue}else{if(u==1)break;if(u==2){var i=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);this.bottom_up?g-=r:g+=r,f+=r*this.width*4+i*4}else{for(var t=0;t<u;t++){var a=this.buffer.readUInt8(this.pos++);p.call(this,a)}u&!0&&this.pos++}}else for(var t=0;t<d;t++)p.call(this,u)}}else for(var l=this.width%4,r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var u=this.buffer.readUInt8(this.pos++),f=o*this.width*4+i*4;if(u<this.palette.length){var c=this.palette[u];this.data[f]=0,this.data[f+1]=c.blue,this.data[f+2]=c.green,this.data[f+3]=c.red}else this.data[f]=0,this.data[f+1]=255,this.data[f+2]=255,this.data[f+3]=255}l!=0&&(this.pos+=4-l)}},m.prototype.bit15=function(){for(var f=this.width%3,g=parseInt("11111",2),d=g,u=this.height-1;u>=0;u--){for(var i=this.bottom_up?u:this.height-1-u,r=0;r<this.width;r++){var t=this.buffer.readUInt16LE(this.pos);this.pos+=2;var a=(t&d)/d*255|0,l=(t>>5&d)/d*255|0,o=(t>>10&d)/d*255|0,c=t>>15?255:0,s=i*this.width*4+r*4;this.data[s]=c,this.data[s+1]=a,this.data[s+2]=l,this.data[s+3]=o}this.pos+=f}},m.prototype.bit16=function(){var f=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var g=[0,0,0],d=0;d<16;d++)this.maskRed>>d&1&&g[0]++,this.maskGreen>>d&1&&g[1]++,this.maskBlue>>d&1&&g[2]++;g[1]+=g[0],g[2]+=g[1],g[0]=8-g[0],g[1]-=8,g[2]-=8;for(var u=this.height-1;u>=0;u--){for(var i=this.bottom_up?u:this.height-1-u,r=0;r<this.width;r++){var t=this.buffer.readUInt16LE(this.pos);this.pos+=2;var a=(t&this.maskBlue)<<g[0],l=(t&this.maskGreen)>>g[1],o=(t&this.maskRed)>>g[2],c=i*this.width*4+r*4;this.data[c]=0,this.data[c+1]=a,this.data[c+2]=l,this.data[c+3]=o}this.pos+=f}},m.prototype.bit24=function(){for(var f=this.height-1;f>=0;f--){for(var g=this.bottom_up?f:this.height-1-f,d=0;d<this.width;d++){var u=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=g*this.width*4+d*4;this.data[t]=0,this.data[t+1]=u,this.data[t+2]=i,this.data[t+3]=r}this.pos+=this.width%4}},m.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var f=this.height-1;f>=0;f--)for(var g=this.bottom_up?f:this.height-1-f,d=0;d<this.width;d++){var u=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),a=g*this.width*4+d*4;this.data[a]=u,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=t}}else for(var f=this.height-1;f>=0;f--)for(var g=this.bottom_up?f:this.height-1-f,d=0;d<this.width;d++){var i=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),u=this.buffer.readUInt8(this.pos++),a=g*this.width*4+d*4;this.data[a]=u,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=t}},m.prototype.getData=function(){return this.data},Z.exports=function(f){var g=new m(f);return g}}).call(this,n("buffer").Buffer)},{buffer:48}],32:[function(n,Z,S){(function(y){function m(f){this.buffer=f.data,this.width=f.width,this.height=f.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}m.prototype.encode=function(){var f=new y(this.offset+this.rgbSize);this.pos=0,f.write(this.flag,this.pos,2),this.pos+=2,f.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,f.writeUInt32LE(this.reserved,this.pos),this.pos+=4,f.writeUInt32LE(this.offset,this.pos),this.pos+=4,f.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,f.writeUInt32LE(this.width,this.pos),this.pos+=4,f.writeInt32LE(-this.height,this.pos),this.pos+=4,f.writeUInt16LE(this.planes,this.pos),this.pos+=2,f.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,f.writeUInt32LE(this.compress,this.pos),this.pos+=4,f.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,f.writeUInt32LE(this.hr,this.pos),this.pos+=4,f.writeUInt32LE(this.vr,this.pos),this.pos+=4,f.writeUInt32LE(this.colors,this.pos),this.pos+=4,f.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var g=0,d=3*this.width+this.extraBytes,u=0;u<this.height;u++){for(var i=0;i<this.width;i++){var r=this.pos+u*d+i*3;g++,f[r]=this.buffer[g++],f[r+1]=this.buffer[g++],f[r+2]=this.buffer[g++]}if(this.extraBytes>0){var t=this.pos+u*d+this.width*3;f.fill(0,t,t+this.extraBytes)}}return f},Z.exports=function(f,g){var d=new m(f),u=d.encode();return{data:u,width:f.width,height:f.height}}}).call(this,n("buffer").Buffer)},{buffer:48}],33:[function(n,Z,S){},{}],34:[function(n,Z,S){(function(y,m){var f=n("assert"),g=n("pako/lib/zlib/zstream"),d=n("pako/lib/zlib/deflate.js"),u=n("pako/lib/zlib/inflate.js"),i=n("pako/lib/zlib/constants");for(var r in i)S[r]=i[r];S.NONE=0,S.DEFLATE=1,S.INFLATE=2,S.GZIP=3,S.GUNZIP=4,S.DEFLATERAW=5,S.INFLATERAW=6,S.UNZIP=7;var t=31,a=139;function l(o){if(typeof o!="number"||o<S.DEFLATE||o>S.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=o,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}l.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,f(this.init_done,"close before init"),f(this.mode<=S.UNZIP),this.mode===S.DEFLATE||this.mode===S.GZIP||this.mode===S.DEFLATERAW?d.deflateEnd(this.strm):(this.mode===S.INFLATE||this.mode===S.GUNZIP||this.mode===S.INFLATERAW||this.mode===S.UNZIP)&&u.inflateEnd(this.strm),this.mode=S.NONE,this.dictionary=null},l.prototype.write=function(o,c,s,p,v,b,x){return this._write(!0,o,c,s,p,v,b,x)},l.prototype.writeSync=function(o,c,s,p,v,b,x){return this._write(!1,o,c,s,p,v,b,x)},l.prototype._write=function(o,c,s,p,v,b,x,w){if(f.equal(arguments.length,8),f(this.init_done,"write before init"),f(this.mode!==S.NONE,"already finalized"),f.equal(!1,this.write_in_progress,"write already in progress"),f.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,f.equal(!1,c===void 0,"must provide flush value"),this.write_in_progress=!0,c!==S.Z_NO_FLUSH&&c!==S.Z_PARTIAL_FLUSH&&c!==S.Z_SYNC_FLUSH&&c!==S.Z_FULL_FLUSH&&c!==S.Z_FINISH&&c!==S.Z_BLOCK)throw new Error("Invalid flush value");if(s==null&&(s=m.alloc(0),v=0,p=0),this.strm.avail_in=v,this.strm.input=s,this.strm.next_in=p,this.strm.avail_out=w,this.strm.output=b,this.strm.next_out=x,this.flush=c,!o)return this._process(),this._checkError()?this._afterSync():void 0;var j=this;return y.nextTick(function(){j._process(),j._after()}),this},l.prototype._afterSync=function(){var o=this.strm.avail_out,c=this.strm.avail_in;return this.write_in_progress=!1,[c,o]},l.prototype._process=function(){var o=null;switch(this.mode){case S.DEFLATE:case S.GZIP:case S.DEFLATERAW:this.err=d.deflate(this.strm,this.flush);break;case S.UNZIP:switch(this.strm.avail_in>0&&(o=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(o===null)break;if(this.strm.input[o]===t){if(this.gzip_id_bytes_read=1,o++,this.strm.avail_in===1)break}else{this.mode=S.INFLATE;break}case 1:if(o===null)break;this.strm.input[o]===a?(this.gzip_id_bytes_read=2,this.mode=S.GUNZIP):this.mode=S.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case S.INFLATE:case S.GUNZIP:case S.INFLATERAW:for(this.err=u.inflate(this.strm,this.flush),this.err===S.Z_NEED_DICT&&this.dictionary&&(this.err=u.inflateSetDictionary(this.strm,this.dictionary),this.err===S.Z_OK?this.err=u.inflate(this.strm,this.flush):this.err===S.Z_DATA_ERROR&&(this.err=S.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===S.GUNZIP&&this.err===S.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=u.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case S.Z_OK:case S.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===S.Z_FINISH)return this._error("unexpected end of file"),!1;break;case S.Z_STREAM_END:break;case S.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var o=this.strm.avail_out,c=this.strm.avail_in;this.write_in_progress=!1,this.callback(c,o),this.pending_close&&this.close()}},l.prototype._error=function(o){this.strm.msg&&(o=this.strm.msg),this.onerror(o,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(o,c,s,p,v){f(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),f(o>=8&&o<=15,"invalid windowBits"),f(c>=-1&&c<=9,"invalid compression level"),f(s>=1&&s<=9,"invalid memlevel"),f(p===S.Z_FILTERED||p===S.Z_HUFFMAN_ONLY||p===S.Z_RLE||p===S.Z_FIXED||p===S.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(c,o,s,p,v),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(o,c,s,p,v){switch(this.level=o,this.windowBits=c,this.memLevel=s,this.strategy=p,this.flush=S.Z_NO_FLUSH,this.err=S.Z_OK,(this.mode===S.GZIP||this.mode===S.GUNZIP)&&(this.windowBits+=16),this.mode===S.UNZIP&&(this.windowBits+=32),(this.mode===S.DEFLATERAW||this.mode===S.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new g,this.mode){case S.DEFLATE:case S.GZIP:case S.DEFLATERAW:this.err=d.deflateInit2(this.strm,this.level,S.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case S.INFLATE:case S.GUNZIP:case S.INFLATERAW:case S.UNZIP:this.err=u.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==S.Z_OK&&this._error("Init error"),this.dictionary=v,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=S.Z_OK,this.mode){case S.DEFLATE:case S.DEFLATERAW:this.err=d.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==S.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=S.Z_OK,this.mode){case S.DEFLATE:case S.DEFLATERAW:case S.GZIP:this.err=d.deflateReset(this.strm);break;case S.INFLATE:case S.INFLATERAW:case S.GUNZIP:this.err=u.inflateReset(this.strm);break}this.err!==S.Z_OK&&this._error("Failed to reset stream")},S.Zlib=l}).call(this,n("_process"),n("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(n,Z,S){(function(y){var m=n("buffer").Buffer,f=n("stream").Transform,g=n("./binding"),d=n("util"),u=n("assert").ok,i=n("buffer").kMaxLength,r="Cannot create final Buffer. It would be larger than 0x"+i.toString(16)+" bytes";g.Z_MIN_WINDOWBITS=8,g.Z_MAX_WINDOWBITS=15,g.Z_DEFAULT_WINDOWBITS=15,g.Z_MIN_CHUNK=64,g.Z_MAX_CHUNK=1/0,g.Z_DEFAULT_CHUNK=16*1024,g.Z_MIN_MEMLEVEL=1,g.Z_MAX_MEMLEVEL=9,g.Z_DEFAULT_MEMLEVEL=8,g.Z_MIN_LEVEL=-1,g.Z_MAX_LEVEL=9,g.Z_DEFAULT_LEVEL=g.Z_DEFAULT_COMPRESSION;for(var t=Object.keys(g),a=0;a<t.length;a++){var l=t[a];l.match(/^Z/)&&Object.defineProperty(S,l,{enumerable:!0,value:g[l],writable:!1})}for(var o={Z_OK:g.Z_OK,Z_STREAM_END:g.Z_STREAM_END,Z_NEED_DICT:g.Z_NEED_DICT,Z_ERRNO:g.Z_ERRNO,Z_STREAM_ERROR:g.Z_STREAM_ERROR,Z_DATA_ERROR:g.Z_DATA_ERROR,Z_MEM_ERROR:g.Z_MEM_ERROR,Z_BUF_ERROR:g.Z_BUF_ERROR,Z_VERSION_ERROR:g.Z_VERSION_ERROR},c=Object.keys(o),s=0;s<c.length;s++){var p=c[s];o[o[p]]=p}Object.defineProperty(S,"codes",{enumerable:!0,value:Object.freeze(o),writable:!1}),S.Deflate=x,S.Inflate=w,S.Gzip=j,S.Gunzip=E,S.DeflateRaw=M,S.InflateRaw=C,S.Unzip=P,S.createDeflate=function(I){return new x(I)},S.createInflate=function(I){return new w(I)},S.createDeflateRaw=function(I){return new M(I)},S.createInflateRaw=function(I){return new C(I)},S.createGzip=function(I){return new j(I)},S.createGunzip=function(I){return new E(I)},S.createUnzip=function(I){return new P(I)},S.deflate=function(I,H,ee){return typeof H=="function"&&(ee=H,H={}),v(new x(H),I,ee)},S.deflateSync=function(I,H){return b(new x(H),I)},S.gzip=function(I,H,ee){return typeof H=="function"&&(ee=H,H={}),v(new j(H),I,ee)},S.gzipSync=function(I,H){return b(new j(H),I)},S.deflateRaw=function(I,H,ee){return typeof H=="function"&&(ee=H,H={}),v(new M(H),I,ee)},S.deflateRawSync=function(I,H){return b(new M(H),I)},S.unzip=function(I,H,ee){return typeof H=="function"&&(ee=H,H={}),v(new P(H),I,ee)},S.unzipSync=function(I,H){return b(new P(H),I)},S.inflate=function(I,H,ee){return typeof H=="function"&&(ee=H,H={}),v(new w(H),I,ee)},S.inflateSync=function(I,H){return b(new w(H),I)},S.gunzip=function(I,H,ee){return typeof H=="function"&&(ee=H,H={}),v(new E(H),I,ee)},S.gunzipSync=function(I,H){return b(new E(H),I)},S.inflateRaw=function(I,H,ee){return typeof H=="function"&&(ee=H,H={}),v(new C(H),I,ee)},S.inflateRawSync=function(I,H){return b(new C(H),I)};function v(I,H,ee){var fe=[],xe=0;I.on("error",V),I.on("end",K),I.end(H),q();function q(){for(var J;(J=I.read())!==null;)fe.push(J),xe+=J.length;I.once("readable",q)}function V(J){I.removeListener("end",K),I.removeListener("readable",q),ee(J)}function K(){var J,oe=null;xe>=i?oe=new RangeError(r):J=m.concat(fe,xe),fe=[],I.close(),ee(oe,J)}}function b(I,H){if(typeof H=="string"&&(H=m.from(H)),!m.isBuffer(H))throw new TypeError("Not a string or buffer");var ee=I._finishFlushFlag;return I._processChunk(H,ee)}function x(I){if(!(this instanceof x))return new x(I);D.call(this,I,g.DEFLATE)}function w(I){if(!(this instanceof w))return new w(I);D.call(this,I,g.INFLATE)}function j(I){if(!(this instanceof j))return new j(I);D.call(this,I,g.GZIP)}function E(I){if(!(this instanceof E))return new E(I);D.call(this,I,g.GUNZIP)}function M(I){if(!(this instanceof M))return new M(I);D.call(this,I,g.DEFLATERAW)}function C(I){if(!(this instanceof C))return new C(I);D.call(this,I,g.INFLATERAW)}function P(I){if(!(this instanceof P))return new P(I);D.call(this,I,g.UNZIP)}function O(I){return I===g.Z_NO_FLUSH||I===g.Z_PARTIAL_FLUSH||I===g.Z_SYNC_FLUSH||I===g.Z_FULL_FLUSH||I===g.Z_FINISH||I===g.Z_BLOCK}function D(I,H){var ee=this;if(this._opts=I=I||{},this._chunkSize=I.chunkSize||S.Z_DEFAULT_CHUNK,f.call(this,I),I.flush&&!O(I.flush))throw new Error("Invalid flush flag: "+I.flush);if(I.finishFlush&&!O(I.finishFlush))throw new Error("Invalid flush flag: "+I.finishFlush);if(this._flushFlag=I.flush||g.Z_NO_FLUSH,this._finishFlushFlag=typeof I.finishFlush<"u"?I.finishFlush:g.Z_FINISH,I.chunkSize&&(I.chunkSize<S.Z_MIN_CHUNK||I.chunkSize>S.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+I.chunkSize);if(I.windowBits&&(I.windowBits<S.Z_MIN_WINDOWBITS||I.windowBits>S.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+I.windowBits);if(I.level&&(I.level<S.Z_MIN_LEVEL||I.level>S.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+I.level);if(I.memLevel&&(I.memLevel<S.Z_MIN_MEMLEVEL||I.memLevel>S.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+I.memLevel);if(I.strategy&&I.strategy!=S.Z_FILTERED&&I.strategy!=S.Z_HUFFMAN_ONLY&&I.strategy!=S.Z_RLE&&I.strategy!=S.Z_FIXED&&I.strategy!=S.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+I.strategy);if(I.dictionary&&!m.isBuffer(I.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new g.Zlib(H);var fe=this;this._hadError=!1,this._handle.onerror=function(V,K){N(fe),fe._hadError=!0;var J=new Error(V);J.errno=K,J.code=S.codes[K],fe.emit("error",J)};var xe=S.Z_DEFAULT_COMPRESSION;typeof I.level=="number"&&(xe=I.level);var q=S.Z_DEFAULT_STRATEGY;typeof I.strategy=="number"&&(q=I.strategy),this._handle.init(I.windowBits||S.Z_DEFAULT_WINDOWBITS,xe,I.memLevel||S.Z_DEFAULT_MEMLEVEL,q,I.dictionary),this._buffer=m.allocUnsafe(this._chunkSize),this._offset=0,this._level=xe,this._strategy=q,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!ee._handle},configurable:!0,enumerable:!0})}d.inherits(D,f),D.prototype.params=function(I,H,ee){if(I<S.Z_MIN_LEVEL||I>S.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+I);if(H!=S.Z_FILTERED&&H!=S.Z_HUFFMAN_ONLY&&H!=S.Z_RLE&&H!=S.Z_FIXED&&H!=S.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+H);if(this._level!==I||this._strategy!==H){var fe=this;this.flush(g.Z_SYNC_FLUSH,function(){u(fe._handle,"zlib binding closed"),fe._handle.params(I,H),fe._hadError||(fe._level=I,fe._strategy=H,ee&&ee())})}else y.nextTick(ee)},D.prototype.reset=function(){return u(this._handle,"zlib binding closed"),this._handle.reset()},D.prototype._flush=function(I){this._transform(m.alloc(0),"",I)},D.prototype.flush=function(I,H){var ee=this,fe=this._writableState;(typeof I=="function"||I===void 0&&!H)&&(H=I,I=g.Z_FULL_FLUSH),fe.ended?H&&y.nextTick(H):fe.ending?H&&this.once("end",H):fe.needDrain?H&&this.once("drain",function(){return ee.flush(I,H)}):(this._flushFlag=I,this.write(m.alloc(0),"",H))},D.prototype.close=function(I){N(this,I),y.nextTick(R,this)};function N(I,H){H&&y.nextTick(H),I._handle&&(I._handle.close(),I._handle=null)}function R(I){I.emit("close")}D.prototype._transform=function(I,H,ee){var fe,xe=this._writableState,q=xe.ending||xe.ended,V=q&&(!I||xe.length===I.length);if(I!==null&&!m.isBuffer(I))return ee(new Error("invalid input"));if(!this._handle)return ee(new Error("zlib binding closed"));V?fe=this._finishFlushFlag:(fe=this._flushFlag,I.length>=xe.length&&(this._flushFlag=this._opts.flush||g.Z_NO_FLUSH)),this._processChunk(I,fe,ee)},D.prototype._processChunk=function(I,H,ee){var fe=I&&I.length,xe=this._chunkSize-this._offset,q=0,V=this,K=typeof ee=="function";if(!K){var J=[],oe=0,_e;this.on("error",function(Re){_e=Re}),u(this._handle,"zlib binding closed");do var Oe=this._handle.writeSync(H,I,q,fe,this._buffer,this._offset,xe);while(!this._hadError&&Be(Oe[0],Oe[1]));if(this._hadError)throw _e;if(oe>=i)throw N(this),new RangeError(r);var De=m.concat(J,oe);return N(this),De}u(this._handle,"zlib binding closed");var Te=this._handle.write(H,I,q,fe,this._buffer,this._offset,xe);Te.buffer=I,Te.callback=Be;function Be(Re,ve){if(this&&(this.buffer=null,this.callback=null),!V._hadError){var ge=xe-ve;if(u(ge>=0,"have should not go down"),ge>0){var Ae=V._buffer.slice(V._offset,V._offset+ge);V._offset+=ge,K?V.push(Ae):(J.push(Ae),oe+=Ae.length)}if((ve===0||V._offset>=V._chunkSize)&&(xe=V._chunkSize,V._offset=0,V._buffer=m.allocUnsafe(V._chunkSize)),ve===0){if(q+=fe-Re,fe=Re,!K)return!0;var Ie=V._handle.write(H,I,q,fe,V._buffer,V._offset,V._chunkSize);Ie.callback=Be,Ie.buffer=I;return}if(!K)return!1;ee()}}},d.inherits(x,D),d.inherits(w,D),d.inherits(j,D),d.inherits(E,D),d.inherits(M,D),d.inherits(C,D),d.inherits(P,D)}).call(this,n("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(n,Z,S){var y=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function m(d,u){return Object.prototype.hasOwnProperty.call(d,u)}S.assign=function(d){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var i=u.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(var r in i)m(i,r)&&(d[r]=i[r])}}return d},S.shrinkBuf=function(d,u){return d.length===u?d:d.subarray?d.subarray(0,u):(d.length=u,d)};var f={arraySet:function(d,u,i,r,t){if(u.subarray&&d.subarray){d.set(u.subarray(i,i+r),t);return}for(var a=0;a<r;a++)d[t+a]=u[i+a]},flattenChunks:function(d){var u,i,r,t,a,l;for(r=0,u=0,i=d.length;u<i;u++)r+=d[u].length;for(l=new Uint8Array(r),t=0,u=0,i=d.length;u<i;u++)a=d[u],l.set(a,t),t+=a.length;return l}},g={arraySet:function(d,u,i,r,t){for(var a=0;a<r;a++)d[t+a]=u[i+a]},flattenChunks:function(d){return[].concat.apply([],d)}};S.setTyped=function(d){d?(S.Buf8=Uint8Array,S.Buf16=Uint16Array,S.Buf32=Int32Array,S.assign(S,f)):(S.Buf8=Array,S.Buf16=Array,S.Buf32=Array,S.assign(S,g))},S.setTyped(y)},{}],37:[function(n,Z,S){function y(m,f,g,d){for(var u=m&65535|0,i=m>>>16&65535|0,r=0;g!==0;){r=g>2e3?2e3:g,g-=r;do u=u+f[d++]|0,i=i+u|0;while(--r);u%=65521,i%=65521}return u|i<<16|0}Z.exports=y},{}],38:[function(n,Z,S){Z.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(n,Z,S){function y(){for(var g,d=[],u=0;u<256;u++){g=u;for(var i=0;i<8;i++)g=g&1?3988292384^g>>>1:g>>>1;d[u]=g}return d}var m=y();function f(g,d,u,i){var r=m,t=i+u;g^=-1;for(var a=i;a<t;a++)g=g>>>8^r[(g^d[a])&255];return g^-1}Z.exports=f},{}],40:[function(n,Z,S){var y=n("../utils/common"),m=n("./trees"),f=n("./adler32"),g=n("./crc32"),d=n("./messages"),u=0,i=1,r=3,t=4,a=5,l=0,o=1,c=-2,s=-3,p=-5,v=-1,b=1,x=2,w=3,j=4,E=0,M=2,C=8,P=9,O=15,D=8,N=29,R=256,I=R+1+N,H=30,ee=19,fe=2*I+1,xe=15,q=3,V=258,K=V+q+1,J=32,oe=42,_e=69,Oe=73,De=91,Te=103,Be=113,Re=666,ve=1,ge=2,Ae=3,Ie=4,de=3;function ae(k,ye){return k.msg=d[ye],ye}function ne(k){return(k<<1)-(k>4?9:0)}function Me(k){for(var ye=k.length;--ye>=0;)k[ye]=0}function pe(k){var ye=k.state,Ce=ye.pending;Ce>k.avail_out&&(Ce=k.avail_out),Ce!==0&&(y.arraySet(k.output,ye.pending_buf,ye.pending_out,Ce,k.next_out),k.next_out+=Ce,ye.pending_out+=Ce,k.total_out+=Ce,k.avail_out-=Ce,ye.pending-=Ce,ye.pending===0&&(ye.pending_out=0))}function le(k,ye){m._tr_flush_block(k,k.block_start>=0?k.block_start:-1,k.strstart-k.block_start,ye),k.block_start=k.strstart,pe(k.strm)}function re(k,ye){k.pending_buf[k.pending++]=ye}function Le(k,ye){k.pending_buf[k.pending++]=ye>>>8&255,k.pending_buf[k.pending++]=ye&255}function h(k,ye,Ce,X){var Ee=k.avail_in;return Ee>X&&(Ee=X),Ee===0?0:(k.avail_in-=Ee,y.arraySet(ye,k.input,k.next_in,Ee,Ce),k.state.wrap===1?k.adler=f(k.adler,ye,Ee,Ce):k.state.wrap===2&&(k.adler=g(k.adler,ye,Ee,Ce)),k.next_in+=Ee,k.total_in+=Ee,Ee)}function _(k,ye){var Ce=k.max_chain_length,X=k.strstart,Ee,Fe,Ne=k.prev_length,Ge=k.nice_match,ze=k.strstart>k.w_size-K?k.strstart-(k.w_size-K):0,We=k.window,Qe=k.w_mask,rt=k.prev,et=k.strstart+V,ut=We[X+Ne-1],mt=We[X+Ne];k.prev_length>=k.good_match&&(Ce>>=2),Ge>k.lookahead&&(Ge=k.lookahead);do if(Ee=ye,!(We[Ee+Ne]!==mt||We[Ee+Ne-1]!==ut||We[Ee]!==We[X]||We[++Ee]!==We[X+1])){X+=2,Ee++;do;while(We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&X<et);if(Fe=V-(et-X),X=et-V,Fe>Ne){if(k.match_start=ye,Ne=Fe,Fe>=Ge)break;ut=We[X+Ne-1],mt=We[X+Ne]}}while((ye=rt[ye&Qe])>ze&&--Ce!==0);return Ne<=k.lookahead?Ne:k.lookahead}function T(k){var ye=k.w_size,Ce,X,Ee,Fe,Ne;do{if(Fe=k.window_size-k.lookahead-k.strstart,k.strstart>=ye+(ye-K)){y.arraySet(k.window,k.window,ye,ye,0),k.match_start-=ye,k.strstart-=ye,k.block_start-=ye,X=k.hash_size,Ce=X;do Ee=k.head[--Ce],k.head[Ce]=Ee>=ye?Ee-ye:0;while(--X);X=ye,Ce=X;do Ee=k.prev[--Ce],k.prev[Ce]=Ee>=ye?Ee-ye:0;while(--X);Fe+=ye}if(k.strm.avail_in===0)break;if(X=h(k.strm,k.window,k.strstart+k.lookahead,Fe),k.lookahead+=X,k.lookahead+k.insert>=q)for(Ne=k.strstart-k.insert,k.ins_h=k.window[Ne],k.ins_h=(k.ins_h<<k.hash_shift^k.window[Ne+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[Ne+q-1])&k.hash_mask,k.prev[Ne&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=Ne,Ne++,k.insert--,!(k.lookahead+k.insert<q)););}while(k.lookahead<K&&k.strm.avail_in!==0)}function L(k,ye){var Ce=65535;for(Ce>k.pending_buf_size-5&&(Ce=k.pending_buf_size-5);;){if(k.lookahead<=1){if(T(k),k.lookahead===0&&ye===u)return ve;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var X=k.block_start+Ce;if((k.strstart===0||k.strstart>=X)&&(k.lookahead=k.strstart-X,k.strstart=X,le(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-K&&(le(k,!1),k.strm.avail_out===0))return ve}return k.insert=0,ye===t?(le(k,!0),k.strm.avail_out===0?Ae:Ie):(k.strstart>k.block_start&&(le(k,!1),k.strm.avail_out===0),ve)}function G(k,ye){for(var Ce,X;;){if(k.lookahead<K){if(T(k),k.lookahead<K&&ye===u)return ve;if(k.lookahead===0)break}if(Ce=0,k.lookahead>=q&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+q-1])&k.hash_mask,Ce=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),Ce!==0&&k.strstart-Ce<=k.w_size-K&&(k.match_length=_(k,Ce)),k.match_length>=q)if(X=m._tr_tally(k,k.strstart-k.match_start,k.match_length-q),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=q){k.match_length--;do k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+q-1])&k.hash_mask,Ce=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart;while(--k.match_length!==0);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else X=m._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(X&&(le(k,!1),k.strm.avail_out===0))return ve}return k.insert=k.strstart<q-1?k.strstart:q-1,ye===t?(le(k,!0),k.strm.avail_out===0?Ae:Ie):k.last_lit&&(le(k,!1),k.strm.avail_out===0)?ve:ge}function B(k,ye){for(var Ce,X,Ee;;){if(k.lookahead<K){if(T(k),k.lookahead<K&&ye===u)return ve;if(k.lookahead===0)break}if(Ce=0,k.lookahead>=q&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+q-1])&k.hash_mask,Ce=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=q-1,Ce!==0&&k.prev_length<k.max_lazy_match&&k.strstart-Ce<=k.w_size-K&&(k.match_length=_(k,Ce),k.match_length<=5&&(k.strategy===b||k.match_length===q&&k.strstart-k.match_start>4096)&&(k.match_length=q-1)),k.prev_length>=q&&k.match_length<=k.prev_length){Ee=k.strstart+k.lookahead-q,X=m._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-q),k.lookahead-=k.prev_length-1,k.prev_length-=2;do++k.strstart<=Ee&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+q-1])&k.hash_mask,Ce=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart);while(--k.prev_length!==0);if(k.match_available=0,k.match_length=q-1,k.strstart++,X&&(le(k,!1),k.strm.avail_out===0))return ve}else if(k.match_available){if(X=m._tr_tally(k,0,k.window[k.strstart-1]),X&&le(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return ve}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(X=m._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<q-1?k.strstart:q-1,ye===t?(le(k,!0),k.strm.avail_out===0?Ae:Ie):k.last_lit&&(le(k,!1),k.strm.avail_out===0)?ve:ge}function W(k,ye){for(var Ce,X,Ee,Fe,Ne=k.window;;){if(k.lookahead<=V){if(T(k),k.lookahead<=V&&ye===u)return ve;if(k.lookahead===0)break}if(k.match_length=0,k.lookahead>=q&&k.strstart>0&&(Ee=k.strstart-1,X=Ne[Ee],X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee])){Fe=k.strstart+V;do;while(X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&Ee<Fe);k.match_length=V-(Fe-Ee),k.match_length>k.lookahead&&(k.match_length=k.lookahead)}if(k.match_length>=q?(Ce=m._tr_tally(k,1,k.match_length-q),k.lookahead-=k.match_length,k.strstart+=k.match_length,k.match_length=0):(Ce=m._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++),Ce&&(le(k,!1),k.strm.avail_out===0))return ve}return k.insert=0,ye===t?(le(k,!0),k.strm.avail_out===0?Ae:Ie):k.last_lit&&(le(k,!1),k.strm.avail_out===0)?ve:ge}function F(k,ye){for(var Ce;;){if(k.lookahead===0&&(T(k),k.lookahead===0)){if(ye===u)return ve;break}if(k.match_length=0,Ce=m._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++,Ce&&(le(k,!1),k.strm.avail_out===0))return ve}return k.insert=0,ye===t?(le(k,!0),k.strm.avail_out===0?Ae:Ie):k.last_lit&&(le(k,!1),k.strm.avail_out===0)?ve:ge}function Y(k,ye,Ce,X,Ee){this.good_length=k,this.max_lazy=ye,this.nice_length=Ce,this.max_chain=X,this.func=Ee}var ie;ie=[new Y(0,0,0,0,L),new Y(4,4,8,4,G),new Y(4,5,16,8,G),new Y(4,6,32,32,G),new Y(4,4,16,16,B),new Y(8,16,32,32,B),new Y(8,16,128,128,B),new Y(8,32,128,256,B),new Y(32,128,258,1024,B),new Y(32,258,258,4096,B)];function he(k){k.window_size=2*k.w_size,Me(k.head),k.max_lazy_match=ie[k.level].max_lazy,k.good_match=ie[k.level].good_length,k.nice_match=ie[k.level].nice_length,k.max_chain_length=ie[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=q-1,k.match_available=0,k.ins_h=0}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(fe*2),this.dyn_dtree=new y.Buf16((2*H+1)*2),this.bl_tree=new y.Buf16((2*ee+1)*2),Me(this.dyn_ltree),Me(this.dyn_dtree),Me(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(xe+1),this.heap=new y.Buf16(2*I+1),Me(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(2*I+1),Me(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(k){var ye;return!k||!k.state?ae(k,c):(k.total_in=k.total_out=0,k.data_type=M,ye=k.state,ye.pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?oe:Be,k.adler=ye.wrap===2?0:1,ye.last_flush=u,m._tr_init(ye),l)}function ue(k){var ye=se(k);return ye===l&&he(k.state),ye}function we(k,ye){return!k||!k.state||k.state.wrap!==2?c:(k.state.gzhead=ye,l)}function ce(k,ye,Ce,X,Ee,Fe){if(!k)return c;var Ne=1;if(ye===v&&(ye=6),X<0?(Ne=0,X=-X):X>15&&(Ne=2,X-=16),Ee<1||Ee>P||Ce!==C||X<8||X>15||ye<0||ye>9||Fe<0||Fe>j)return ae(k,c);X===8&&(X=9);var Ge=new U;return k.state=Ge,Ge.strm=k,Ge.wrap=Ne,Ge.gzhead=null,Ge.w_bits=X,Ge.w_size=1<<Ge.w_bits,Ge.w_mask=Ge.w_size-1,Ge.hash_bits=Ee+7,Ge.hash_size=1<<Ge.hash_bits,Ge.hash_mask=Ge.hash_size-1,Ge.hash_shift=~~((Ge.hash_bits+q-1)/q),Ge.window=new y.Buf8(Ge.w_size*2),Ge.head=new y.Buf16(Ge.hash_size),Ge.prev=new y.Buf16(Ge.w_size),Ge.lit_bufsize=1<<Ee+6,Ge.pending_buf_size=Ge.lit_bufsize*4,Ge.pending_buf=new y.Buf8(Ge.pending_buf_size),Ge.d_buf=1*Ge.lit_bufsize,Ge.l_buf=(1+2)*Ge.lit_bufsize,Ge.level=ye,Ge.strategy=Fe,Ge.method=Ce,ue(k)}function Se(k,ye){return ce(k,ye,C,O,D,E)}function $(k,ye){var Ce,X,Ee,Fe;if(!k||!k.state||ye>a||ye<0)return k?ae(k,c):c;if(X=k.state,!k.output||!k.input&&k.avail_in!==0||X.status===Re&&ye!==t)return ae(k,k.avail_out===0?p:c);if(X.strm=k,Ce=X.last_flush,X.last_flush=ye,X.status===oe)if(X.wrap===2)k.adler=0,re(X,31),re(X,139),re(X,8),X.gzhead?(re(X,(X.gzhead.text?1:0)+(X.gzhead.hcrc?2:0)+(X.gzhead.extra?4:0)+(X.gzhead.name?8:0)+(X.gzhead.comment?16:0)),re(X,X.gzhead.time&255),re(X,X.gzhead.time>>8&255),re(X,X.gzhead.time>>16&255),re(X,X.gzhead.time>>24&255),re(X,X.level===9?2:X.strategy>=x||X.level<2?4:0),re(X,X.gzhead.os&255),X.gzhead.extra&&X.gzhead.extra.length&&(re(X,X.gzhead.extra.length&255),re(X,X.gzhead.extra.length>>8&255)),X.gzhead.hcrc&&(k.adler=g(k.adler,X.pending_buf,X.pending,0)),X.gzindex=0,X.status=_e):(re(X,0),re(X,0),re(X,0),re(X,0),re(X,0),re(X,X.level===9?2:X.strategy>=x||X.level<2?4:0),re(X,de),X.status=Be);else{var Ne=C+(X.w_bits-8<<4)<<8,Ge=-1;X.strategy>=x||X.level<2?Ge=0:X.level<6?Ge=1:X.level===6?Ge=2:Ge=3,Ne|=Ge<<6,X.strstart!==0&&(Ne|=J),Ne+=31-Ne%31,X.status=Be,Le(X,Ne),X.strstart!==0&&(Le(X,k.adler>>>16),Le(X,k.adler&65535)),k.adler=1}if(X.status===_e)if(X.gzhead.extra){for(Ee=X.pending;X.gzindex<(X.gzhead.extra.length&65535)&&!(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),pe(k),Ee=X.pending,X.pending===X.pending_buf_size));)re(X,X.gzhead.extra[X.gzindex]&255),X.gzindex++;X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),X.gzindex===X.gzhead.extra.length&&(X.gzindex=0,X.status=Oe)}else X.status=Oe;if(X.status===Oe)if(X.gzhead.name){Ee=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),pe(k),Ee=X.pending,X.pending===X.pending_buf_size)){Fe=1;break}X.gzindex<X.gzhead.name.length?Fe=X.gzhead.name.charCodeAt(X.gzindex++)&255:Fe=0,re(X,Fe)}while(Fe!==0);X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),Fe===0&&(X.gzindex=0,X.status=De)}else X.status=De;if(X.status===De)if(X.gzhead.comment){Ee=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),pe(k),Ee=X.pending,X.pending===X.pending_buf_size)){Fe=1;break}X.gzindex<X.gzhead.comment.length?Fe=X.gzhead.comment.charCodeAt(X.gzindex++)&255:Fe=0,re(X,Fe)}while(Fe!==0);X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),Fe===0&&(X.status=Te)}else X.status=Te;if(X.status===Te&&(X.gzhead.hcrc?(X.pending+2>X.pending_buf_size&&pe(k),X.pending+2<=X.pending_buf_size&&(re(X,k.adler&255),re(X,k.adler>>8&255),k.adler=0,X.status=Be)):X.status=Be),X.pending!==0){if(pe(k),k.avail_out===0)return X.last_flush=-1,l}else if(k.avail_in===0&&ne(ye)<=ne(Ce)&&ye!==t)return ae(k,p);if(X.status===Re&&k.avail_in!==0)return ae(k,p);if(k.avail_in!==0||X.lookahead!==0||ye!==u&&X.status!==Re){var ze=X.strategy===x?F(X,ye):X.strategy===w?W(X,ye):ie[X.level].func(X,ye);if((ze===Ae||ze===Ie)&&(X.status=Re),ze===ve||ze===Ae)return k.avail_out===0&&(X.last_flush=-1),l;if(ze===ge&&(ye===i?m._tr_align(X):ye!==a&&(m._tr_stored_block(X,0,0,!1),ye===r&&(Me(X.head),X.lookahead===0&&(X.strstart=0,X.block_start=0,X.insert=0))),pe(k),k.avail_out===0))return X.last_flush=-1,l}return ye!==t?l:X.wrap<=0?o:(X.wrap===2?(re(X,k.adler&255),re(X,k.adler>>8&255),re(X,k.adler>>16&255),re(X,k.adler>>24&255),re(X,k.total_in&255),re(X,k.total_in>>8&255),re(X,k.total_in>>16&255),re(X,k.total_in>>24&255)):(Le(X,k.adler>>>16),Le(X,k.adler&65535)),pe(k),X.wrap>0&&(X.wrap=-X.wrap),X.pending!==0?l:o)}function je(k){var ye;return!k||!k.state?c:(ye=k.state.status,ye!==oe&&ye!==_e&&ye!==Oe&&ye!==De&&ye!==Te&&ye!==Be&&ye!==Re?ae(k,c):(k.state=null,ye===Be?ae(k,s):l))}function be(k,ye){var Ce=ye.length,X,Ee,Fe,Ne,Ge,ze,We,Qe;if(!k||!k.state||(X=k.state,Ne=X.wrap,Ne===2||Ne===1&&X.status!==oe||X.lookahead))return c;for(Ne===1&&(k.adler=f(k.adler,ye,Ce,0)),X.wrap=0,Ce>=X.w_size&&(Ne===0&&(Me(X.head),X.strstart=0,X.block_start=0,X.insert=0),Qe=new y.Buf8(X.w_size),y.arraySet(Qe,ye,Ce-X.w_size,X.w_size,0),ye=Qe,Ce=X.w_size),Ge=k.avail_in,ze=k.next_in,We=k.input,k.avail_in=Ce,k.next_in=0,k.input=ye,T(X);X.lookahead>=q;){Ee=X.strstart,Fe=X.lookahead-(q-1);do X.ins_h=(X.ins_h<<X.hash_shift^X.window[Ee+q-1])&X.hash_mask,X.prev[Ee&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=Ee,Ee++;while(--Fe);X.strstart=Ee,X.lookahead=q-1,T(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=q-1,X.match_available=0,k.next_in=ze,k.input=We,k.avail_in=Ge,X.wrap=Ne,l}S.deflateInit=Se,S.deflateInit2=ce,S.deflateReset=ue,S.deflateResetKeep=se,S.deflateSetHeader=we,S.deflate=$,S.deflateEnd=je,S.deflateSetDictionary=be,S.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(n,Z,S){var y=30,m=12;Z.exports=function(g,d){var u,i,r,t,a,l,o,c,s,p,v,b,x,w,j,E,M,C,P,O,D,N,R,I,H;u=g.state,i=g.next_in,I=g.input,r=i+(g.avail_in-5),t=g.next_out,H=g.output,a=t-(d-g.avail_out),l=t+(g.avail_out-257),o=u.dmax,c=u.wsize,s=u.whave,p=u.wnext,v=u.window,b=u.hold,x=u.bits,w=u.lencode,j=u.distcode,E=(1<<u.lenbits)-1,M=(1<<u.distbits)-1;e:do{x<15&&(b+=I[i++]<<x,x+=8,b+=I[i++]<<x,x+=8),C=w[b&E];t:for(;;){if(P=C>>>24,b>>>=P,x-=P,P=C>>>16&255,P===0)H[t++]=C&65535;else if(P&16){O=C&65535,P&=15,P&&(x<P&&(b+=I[i++]<<x,x+=8),O+=b&(1<<P)-1,b>>>=P,x-=P),x<15&&(b+=I[i++]<<x,x+=8,b+=I[i++]<<x,x+=8),C=j[b&M];r:for(;;){if(P=C>>>24,b>>>=P,x-=P,P=C>>>16&255,P&16){if(D=C&65535,P&=15,x<P&&(b+=I[i++]<<x,x+=8,x<P&&(b+=I[i++]<<x,x+=8)),D+=b&(1<<P)-1,D>o){g.msg="invalid distance too far back",u.mode=y;break e}if(b>>>=P,x-=P,P=t-a,D>P){if(P=D-P,P>s&&u.sane){g.msg="invalid distance too far back",u.mode=y;break e}if(N=0,R=v,p===0){if(N+=c-P,P<O){O-=P;do H[t++]=v[N++];while(--P);N=t-D,R=H}}else if(p<P){if(N+=c+p-P,P-=p,P<O){O-=P;do H[t++]=v[N++];while(--P);if(N=0,p<O){P=p,O-=P;do H[t++]=v[N++];while(--P);N=t-D,R=H}}}else if(N+=p-P,P<O){O-=P;do H[t++]=v[N++];while(--P);N=t-D,R=H}for(;O>2;)H[t++]=R[N++],H[t++]=R[N++],H[t++]=R[N++],O-=3;O&&(H[t++]=R[N++],O>1&&(H[t++]=R[N++]))}else{N=t-D;do H[t++]=H[N++],H[t++]=H[N++],H[t++]=H[N++],O-=3;while(O>2);O&&(H[t++]=H[N++],O>1&&(H[t++]=H[N++]))}}else if(P&64){g.msg="invalid distance code",u.mode=y;break e}else{C=j[(C&65535)+(b&(1<<P)-1)];continue r}break}}else if(P&64)if(P&32){u.mode=m;break e}else{g.msg="invalid literal/length code",u.mode=y;break e}else{C=w[(C&65535)+(b&(1<<P)-1)];continue t}break}}while(i<r&&t<l);O=x>>3,i-=O,x-=O<<3,b&=(1<<x)-1,g.next_in=i,g.next_out=t,g.avail_in=i<r?5+(r-i):5-(i-r),g.avail_out=t<l?257+(l-t):257-(t-l),u.hold=b,u.bits=x}},{}],42:[function(n,Z,S){var y=n("../utils/common"),m=n("./adler32"),f=n("./crc32"),g=n("./inffast"),d=n("./inftrees"),u=0,i=1,r=2,t=4,a=5,l=6,o=0,c=1,s=2,p=-2,v=-3,b=-4,x=-5,w=8,j=1,E=2,M=3,C=4,P=5,O=6,D=7,N=8,R=9,I=10,H=11,ee=12,fe=13,xe=14,q=15,V=16,K=17,J=18,oe=19,_e=20,Oe=21,De=22,Te=23,Be=24,Re=25,ve=26,ge=27,Ae=28,Ie=29,de=30,ae=31,ne=32,Me=852,pe=592,le=15,re=le;function Le(ce){return(ce>>>24&255)+(ce>>>8&65280)+((ce&65280)<<8)+((ce&255)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(ce){var Se;return!ce||!ce.state?p:(Se=ce.state,ce.total_in=ce.total_out=Se.total=0,ce.msg="",Se.wrap&&(ce.adler=Se.wrap&1),Se.mode=j,Se.last=0,Se.havedict=0,Se.dmax=32768,Se.head=null,Se.hold=0,Se.bits=0,Se.lencode=Se.lendyn=new y.Buf32(Me),Se.distcode=Se.distdyn=new y.Buf32(pe),Se.sane=1,Se.back=-1,o)}function T(ce){var Se;return!ce||!ce.state?p:(Se=ce.state,Se.wsize=0,Se.whave=0,Se.wnext=0,_(ce))}function L(ce,Se){var $,je;return!ce||!ce.state||(je=ce.state,Se<0?($=0,Se=-Se):($=(Se>>4)+1,Se<48&&(Se&=15)),Se&&(Se<8||Se>15))?p:(je.window!==null&&je.wbits!==Se&&(je.window=null),je.wrap=$,je.wbits=Se,T(ce))}function G(ce,Se){var $,je;return ce?(je=new h,ce.state=je,je.window=null,$=L(ce,Se),$!==o&&(ce.state=null),$):p}function B(ce){return G(ce,re)}var W=!0,F,Y;function ie(ce){if(W){var Se;for(F=new y.Buf32(512),Y=new y.Buf32(32),Se=0;Se<144;)ce.lens[Se++]=8;for(;Se<256;)ce.lens[Se++]=9;for(;Se<280;)ce.lens[Se++]=7;for(;Se<288;)ce.lens[Se++]=8;for(d(i,ce.lens,0,288,F,0,ce.work,{bits:9}),Se=0;Se<32;)ce.lens[Se++]=5;d(r,ce.lens,0,32,Y,0,ce.work,{bits:5}),W=!1}ce.lencode=F,ce.lenbits=9,ce.distcode=Y,ce.distbits=5}function he(ce,Se,$,je){var be,k=ce.state;return k.window===null&&(k.wsize=1<<k.wbits,k.wnext=0,k.whave=0,k.window=new y.Buf8(k.wsize)),je>=k.wsize?(y.arraySet(k.window,Se,$-k.wsize,k.wsize,0),k.wnext=0,k.whave=k.wsize):(be=k.wsize-k.wnext,be>je&&(be=je),y.arraySet(k.window,Se,$-je,be,k.wnext),je-=be,je?(y.arraySet(k.window,Se,$-je,je,0),k.wnext=je,k.whave=k.wsize):(k.wnext+=be,k.wnext===k.wsize&&(k.wnext=0),k.whave<k.wsize&&(k.whave+=be))),0}function U(ce,Se){var $,je,be,k,ye,Ce,X,Ee,Fe,Ne,Ge,ze,We,Qe,rt=0,et,ut,mt,bt,xt,He,Ze,it,at=new y.Buf8(4),yt,st,Et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ce||!ce.state||!ce.output||!ce.input&&ce.avail_in!==0)return p;$=ce.state,$.mode===ee&&($.mode=fe),ye=ce.next_out,be=ce.output,X=ce.avail_out,k=ce.next_in,je=ce.input,Ce=ce.avail_in,Ee=$.hold,Fe=$.bits,Ne=Ce,Ge=X,it=o;e:for(;;)switch($.mode){case j:if($.wrap===0){$.mode=fe;break}for(;Fe<16;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}if($.wrap&2&&Ee===35615){$.check=0,at[0]=Ee&255,at[1]=Ee>>>8&255,$.check=f($.check,at,2,0),Ee=0,Fe=0,$.mode=E;break}if($.flags=0,$.head&&($.head.done=!1),!($.wrap&1)||(((Ee&255)<<8)+(Ee>>8))%31){ce.msg="incorrect header check",$.mode=de;break}if((Ee&15)!==w){ce.msg="unknown compression method",$.mode=de;break}if(Ee>>>=4,Fe-=4,Ze=(Ee&15)+8,$.wbits===0)$.wbits=Ze;else if(Ze>$.wbits){ce.msg="invalid window size",$.mode=de;break}$.dmax=1<<Ze,ce.adler=$.check=1,$.mode=Ee&512?I:ee,Ee=0,Fe=0;break;case E:for(;Fe<16;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}if($.flags=Ee,($.flags&255)!==w){ce.msg="unknown compression method",$.mode=de;break}if($.flags&57344){ce.msg="unknown header flags set",$.mode=de;break}$.head&&($.head.text=Ee>>8&1),$.flags&512&&(at[0]=Ee&255,at[1]=Ee>>>8&255,$.check=f($.check,at,2,0)),Ee=0,Fe=0,$.mode=M;case M:for(;Fe<32;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}$.head&&($.head.time=Ee),$.flags&512&&(at[0]=Ee&255,at[1]=Ee>>>8&255,at[2]=Ee>>>16&255,at[3]=Ee>>>24&255,$.check=f($.check,at,4,0)),Ee=0,Fe=0,$.mode=C;case C:for(;Fe<16;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}$.head&&($.head.xflags=Ee&255,$.head.os=Ee>>8),$.flags&512&&(at[0]=Ee&255,at[1]=Ee>>>8&255,$.check=f($.check,at,2,0)),Ee=0,Fe=0,$.mode=P;case P:if($.flags&1024){for(;Fe<16;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}$.length=Ee,$.head&&($.head.extra_len=Ee),$.flags&512&&(at[0]=Ee&255,at[1]=Ee>>>8&255,$.check=f($.check,at,2,0)),Ee=0,Fe=0}else $.head&&($.head.extra=null);$.mode=O;case O:if($.flags&1024&&(ze=$.length,ze>Ce&&(ze=Ce),ze&&($.head&&(Ze=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),y.arraySet($.head.extra,je,k,ze,Ze)),$.flags&512&&($.check=f($.check,je,ze,k)),Ce-=ze,k+=ze,$.length-=ze),$.length))break e;$.length=0,$.mode=D;case D:if($.flags&2048){if(Ce===0)break e;ze=0;do Ze=je[k+ze++],$.head&&Ze&&$.length<65536&&($.head.name+=String.fromCharCode(Ze));while(Ze&&ze<Ce);if($.flags&512&&($.check=f($.check,je,ze,k)),Ce-=ze,k+=ze,Ze)break e}else $.head&&($.head.name=null);$.length=0,$.mode=N;case N:if($.flags&4096){if(Ce===0)break e;ze=0;do Ze=je[k+ze++],$.head&&Ze&&$.length<65536&&($.head.comment+=String.fromCharCode(Ze));while(Ze&&ze<Ce);if($.flags&512&&($.check=f($.check,je,ze,k)),Ce-=ze,k+=ze,Ze)break e}else $.head&&($.head.comment=null);$.mode=R;case R:if($.flags&512){for(;Fe<16;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}if(Ee!==($.check&65535)){ce.msg="header crc mismatch",$.mode=de;break}Ee=0,Fe=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),ce.adler=$.check=0,$.mode=ee;break;case I:for(;Fe<32;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}ce.adler=$.check=Le(Ee),Ee=0,Fe=0,$.mode=H;case H:if($.havedict===0)return ce.next_out=ye,ce.avail_out=X,ce.next_in=k,ce.avail_in=Ce,$.hold=Ee,$.bits=Fe,s;ce.adler=$.check=1,$.mode=ee;case ee:if(Se===a||Se===l)break e;case fe:if($.last){Ee>>>=Fe&7,Fe-=Fe&7,$.mode=ge;break}for(;Fe<3;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}switch($.last=Ee&1,Ee>>>=1,Fe-=1,Ee&3){case 0:$.mode=xe;break;case 1:if(ie($),$.mode=_e,Se===l){Ee>>>=2,Fe-=2;break e}break;case 2:$.mode=K;break;case 3:ce.msg="invalid block type",$.mode=de}Ee>>>=2,Fe-=2;break;case xe:for(Ee>>>=Fe&7,Fe-=Fe&7;Fe<32;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}if((Ee&65535)!==(Ee>>>16^65535)){ce.msg="invalid stored block lengths",$.mode=de;break}if($.length=Ee&65535,Ee=0,Fe=0,$.mode=q,Se===l)break e;case q:$.mode=V;case V:if(ze=$.length,ze){if(ze>Ce&&(ze=Ce),ze>X&&(ze=X),ze===0)break e;y.arraySet(be,je,k,ze,ye),Ce-=ze,k+=ze,X-=ze,ye+=ze,$.length-=ze;break}$.mode=ee;break;case K:for(;Fe<14;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}if($.nlen=(Ee&31)+257,Ee>>>=5,Fe-=5,$.ndist=(Ee&31)+1,Ee>>>=5,Fe-=5,$.ncode=(Ee&15)+4,Ee>>>=4,Fe-=4,$.nlen>286||$.ndist>30){ce.msg="too many length or distance symbols",$.mode=de;break}$.have=0,$.mode=J;case J:for(;$.have<$.ncode;){for(;Fe<3;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}$.lens[Et[$.have++]]=Ee&7,Ee>>>=3,Fe-=3}for(;$.have<19;)$.lens[Et[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,yt={bits:$.lenbits},it=d(u,$.lens,0,19,$.lencode,0,$.work,yt),$.lenbits=yt.bits,it){ce.msg="invalid code lengths set",$.mode=de;break}$.have=0,$.mode=oe;case oe:for(;$.have<$.nlen+$.ndist;){for(;rt=$.lencode[Ee&(1<<$.lenbits)-1],et=rt>>>24,ut=rt>>>16&255,mt=rt&65535,!(et<=Fe);){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}if(mt<16)Ee>>>=et,Fe-=et,$.lens[$.have++]=mt;else{if(mt===16){for(st=et+2;Fe<st;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}if(Ee>>>=et,Fe-=et,$.have===0){ce.msg="invalid bit length repeat",$.mode=de;break}Ze=$.lens[$.have-1],ze=3+(Ee&3),Ee>>>=2,Fe-=2}else if(mt===17){for(st=et+3;Fe<st;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}Ee>>>=et,Fe-=et,Ze=0,ze=3+(Ee&7),Ee>>>=3,Fe-=3}else{for(st=et+7;Fe<st;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}Ee>>>=et,Fe-=et,Ze=0,ze=11+(Ee&127),Ee>>>=7,Fe-=7}if($.have+ze>$.nlen+$.ndist){ce.msg="invalid bit length repeat",$.mode=de;break}for(;ze--;)$.lens[$.have++]=Ze}}if($.mode===de)break;if($.lens[256]===0){ce.msg="invalid code -- missing end-of-block",$.mode=de;break}if($.lenbits=9,yt={bits:$.lenbits},it=d(i,$.lens,0,$.nlen,$.lencode,0,$.work,yt),$.lenbits=yt.bits,it){ce.msg="invalid literal/lengths set",$.mode=de;break}if($.distbits=6,$.distcode=$.distdyn,yt={bits:$.distbits},it=d(r,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,yt),$.distbits=yt.bits,it){ce.msg="invalid distances set",$.mode=de;break}if($.mode=_e,Se===l)break e;case _e:$.mode=Oe;case Oe:if(Ce>=6&&X>=258){ce.next_out=ye,ce.avail_out=X,ce.next_in=k,ce.avail_in=Ce,$.hold=Ee,$.bits=Fe,g(ce,Ge),ye=ce.next_out,be=ce.output,X=ce.avail_out,k=ce.next_in,je=ce.input,Ce=ce.avail_in,Ee=$.hold,Fe=$.bits,$.mode===ee&&($.back=-1);break}for($.back=0;rt=$.lencode[Ee&(1<<$.lenbits)-1],et=rt>>>24,ut=rt>>>16&255,mt=rt&65535,!(et<=Fe);){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}if(ut&&!(ut&240)){for(bt=et,xt=ut,He=mt;rt=$.lencode[He+((Ee&(1<<bt+xt)-1)>>bt)],et=rt>>>24,ut=rt>>>16&255,mt=rt&65535,!(bt+et<=Fe);){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}Ee>>>=bt,Fe-=bt,$.back+=bt}if(Ee>>>=et,Fe-=et,$.back+=et,$.length=mt,ut===0){$.mode=ve;break}if(ut&32){$.back=-1,$.mode=ee;break}if(ut&64){ce.msg="invalid literal/length code",$.mode=de;break}$.extra=ut&15,$.mode=De;case De:if($.extra){for(st=$.extra;Fe<st;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}$.length+=Ee&(1<<$.extra)-1,Ee>>>=$.extra,Fe-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=Te;case Te:for(;rt=$.distcode[Ee&(1<<$.distbits)-1],et=rt>>>24,ut=rt>>>16&255,mt=rt&65535,!(et<=Fe);){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}if(!(ut&240)){for(bt=et,xt=ut,He=mt;rt=$.distcode[He+((Ee&(1<<bt+xt)-1)>>bt)],et=rt>>>24,ut=rt>>>16&255,mt=rt&65535,!(bt+et<=Fe);){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}Ee>>>=bt,Fe-=bt,$.back+=bt}if(Ee>>>=et,Fe-=et,$.back+=et,ut&64){ce.msg="invalid distance code",$.mode=de;break}$.offset=mt,$.extra=ut&15,$.mode=Be;case Be:if($.extra){for(st=$.extra;Fe<st;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}$.offset+=Ee&(1<<$.extra)-1,Ee>>>=$.extra,Fe-=$.extra,$.back+=$.extra}if($.offset>$.dmax){ce.msg="invalid distance too far back",$.mode=de;break}$.mode=Re;case Re:if(X===0)break e;if(ze=Ge-X,$.offset>ze){if(ze=$.offset-ze,ze>$.whave&&$.sane){ce.msg="invalid distance too far back",$.mode=de;break}ze>$.wnext?(ze-=$.wnext,We=$.wsize-ze):We=$.wnext-ze,ze>$.length&&(ze=$.length),Qe=$.window}else Qe=be,We=ye-$.offset,ze=$.length;ze>X&&(ze=X),X-=ze,$.length-=ze;do be[ye++]=Qe[We++];while(--ze);$.length===0&&($.mode=Oe);break;case ve:if(X===0)break e;be[ye++]=$.length,X--,$.mode=Oe;break;case ge:if($.wrap){for(;Fe<32;){if(Ce===0)break e;Ce--,Ee|=je[k++]<<Fe,Fe+=8}if(Ge-=X,ce.total_out+=Ge,$.total+=Ge,Ge&&(ce.adler=$.check=$.flags?f($.check,be,Ge,ye-Ge):m($.check,be,Ge,ye-Ge)),Ge=X,($.flags?Ee:Le(Ee))!==$.check){ce.msg="incorrect data check",$.mode=de;break}Ee=0,Fe=0}$.mode=Ae;case Ae:if($.wrap&&$.flags){for(;Fe<32;){if(Ce===0)break e;Ce--,Ee+=je[k++]<<Fe,Fe+=8}if(Ee!==($.total&4294967295)){ce.msg="incorrect length check",$.mode=de;break}Ee=0,Fe=0}$.mode=Ie;case Ie:it=c;break e;case de:it=v;break e;case ae:return b;case ne:default:return p}return ce.next_out=ye,ce.avail_out=X,ce.next_in=k,ce.avail_in=Ce,$.hold=Ee,$.bits=Fe,($.wsize||Ge!==ce.avail_out&&$.mode<de&&($.mode<ge||Se!==t))&&he(ce,ce.output,ce.next_out,Ge-ce.avail_out),Ne-=ce.avail_in,Ge-=ce.avail_out,ce.total_in+=Ne,ce.total_out+=Ge,$.total+=Ge,$.wrap&&Ge&&(ce.adler=$.check=$.flags?f($.check,be,Ge,ce.next_out-Ge):m($.check,be,Ge,ce.next_out-Ge)),ce.data_type=$.bits+($.last?64:0)+($.mode===ee?128:0)+($.mode===_e||$.mode===q?256:0),(Ne===0&&Ge===0||Se===t)&&it===o&&(it=x),it}function se(ce){if(!ce||!ce.state)return p;var Se=ce.state;return Se.window&&(Se.window=null),ce.state=null,o}function ue(ce,Se){var $;return!ce||!ce.state||($=ce.state,!($.wrap&2))?p:($.head=Se,Se.done=!1,o)}function we(ce,Se){var $=Se.length,je,be,k;return!ce||!ce.state||(je=ce.state,je.wrap!==0&&je.mode!==H)?p:je.mode===H&&(be=1,be=m(be,Se,$,0),be!==je.check)?v:(k=he(ce,Se,$,$),k?(je.mode=ae,b):(je.havedict=1,o))}S.inflateReset=T,S.inflateReset2=L,S.inflateResetKeep=_,S.inflateInit=B,S.inflateInit2=G,S.inflate=U,S.inflateEnd=se,S.inflateGetHeader=ue,S.inflateSetDictionary=we,S.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(n,Z,S){var y=n("../utils/common"),m=15,f=852,g=592,d=0,u=1,i=2,r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Z.exports=function(c,s,p,v,b,x,w,j){var E=j.bits,M=0,C=0,P=0,O=0,D=0,N=0,R=0,I=0,H=0,ee=0,fe,xe,q,V,K,J=null,oe=0,_e,Oe=new y.Buf16(m+1),De=new y.Buf16(m+1),Te=null,Be=0,Re,ve,ge;for(M=0;M<=m;M++)Oe[M]=0;for(C=0;C<v;C++)Oe[s[p+C]]++;for(D=E,O=m;O>=1&&Oe[O]===0;O--);if(D>O&&(D=O),O===0)return b[x++]=1<<24|64<<16|0,b[x++]=1<<24|64<<16|0,j.bits=1,0;for(P=1;P<O&&Oe[P]===0;P++);for(D<P&&(D=P),I=1,M=1;M<=m;M++)if(I<<=1,I-=Oe[M],I<0)return-1;if(I>0&&(c===d||O!==1))return-1;for(De[1]=0,M=1;M<m;M++)De[M+1]=De[M]+Oe[M];for(C=0;C<v;C++)s[p+C]!==0&&(w[De[s[p+C]]++]=C);if(c===d?(J=Te=w,_e=19):c===u?(J=r,oe-=257,Te=t,Be-=257,_e=256):(J=a,Te=l,_e=-1),ee=0,C=0,M=P,K=x,N=D,R=0,q=-1,H=1<<D,V=H-1,c===u&&H>f||c===i&&H>g)return 1;for(;;){Re=M-R,w[C]<_e?(ve=0,ge=w[C]):w[C]>_e?(ve=Te[Be+w[C]],ge=J[oe+w[C]]):(ve=32+64,ge=0),fe=1<<M-R,xe=1<<N,P=xe;do xe-=fe,b[K+(ee>>R)+xe]=Re<<24|ve<<16|ge|0;while(xe!==0);for(fe=1<<M-1;ee&fe;)fe>>=1;if(fe!==0?(ee&=fe-1,ee+=fe):ee=0,C++,--Oe[M]===0){if(M===O)break;M=s[p+w[C]]}if(M>D&&(ee&V)!==q){for(R===0&&(R=D),K+=P,N=M-R,I=1<<N;N+R<O&&(I-=Oe[N+R],!(I<=0));)N++,I<<=1;if(H+=1<<N,c===u&&H>f||c===i&&H>g)return 1;q=ee&V,b[q]=D<<24|N<<16|K-x|0}}return ee!==0&&(b[K+ee]=M-R<<24|64<<16|0),j.bits=D,0}},{"../utils/common":36}],44:[function(n,Z,S){Z.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(n,Z,S){var y=n("../utils/common"),m=4,f=0,g=1,d=2;function u(U){for(var se=U.length;--se>=0;)U[se]=0}var i=0,r=1,t=2,a=3,l=258,o=29,c=256,s=c+1+o,p=30,v=19,b=2*s+1,x=15,w=16,j=7,E=256,M=16,C=17,P=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=512,H=new Array((s+2)*2);u(H);var ee=new Array(p*2);u(ee);var fe=new Array(I);u(fe);var xe=new Array(l-a+1);u(xe);var q=new Array(o);u(q);var V=new Array(p);u(V);function K(U,se,ue,we,ce){this.static_tree=U,this.extra_bits=se,this.extra_base=ue,this.elems=we,this.max_length=ce,this.has_stree=U&&U.length}var J,oe,_e;function Oe(U,se){this.dyn_tree=U,this.max_code=0,this.stat_desc=se}function De(U){return U<256?fe[U]:fe[256+(U>>>7)]}function Te(U,se){U.pending_buf[U.pending++]=se&255,U.pending_buf[U.pending++]=se>>>8&255}function Be(U,se,ue){U.bi_valid>w-ue?(U.bi_buf|=se<<U.bi_valid&65535,Te(U,U.bi_buf),U.bi_buf=se>>w-U.bi_valid,U.bi_valid+=ue-w):(U.bi_buf|=se<<U.bi_valid&65535,U.bi_valid+=ue)}function Re(U,se,ue){Be(U,ue[se*2],ue[se*2+1])}function ve(U,se){var ue=0;do ue|=U&1,U>>>=1,ue<<=1;while(--se>0);return ue>>>1}function ge(U){U.bi_valid===16?(Te(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):U.bi_valid>=8&&(U.pending_buf[U.pending++]=U.bi_buf&255,U.bi_buf>>=8,U.bi_valid-=8)}function Ae(U,se){var ue=se.dyn_tree,we=se.max_code,ce=se.stat_desc.static_tree,Se=se.stat_desc.has_stree,$=se.stat_desc.extra_bits,je=se.stat_desc.extra_base,be=se.stat_desc.max_length,k,ye,Ce,X,Ee,Fe,Ne=0;for(X=0;X<=x;X++)U.bl_count[X]=0;for(ue[U.heap[U.heap_max]*2+1]=0,k=U.heap_max+1;k<b;k++)ye=U.heap[k],X=ue[ue[ye*2+1]*2+1]+1,X>be&&(X=be,Ne++),ue[ye*2+1]=X,!(ye>we)&&(U.bl_count[X]++,Ee=0,ye>=je&&(Ee=$[ye-je]),Fe=ue[ye*2],U.opt_len+=Fe*(X+Ee),Se&&(U.static_len+=Fe*(ce[ye*2+1]+Ee)));if(Ne!==0){do{for(X=be-1;U.bl_count[X]===0;)X--;U.bl_count[X]--,U.bl_count[X+1]+=2,U.bl_count[be]--,Ne-=2}while(Ne>0);for(X=be;X!==0;X--)for(ye=U.bl_count[X];ye!==0;)Ce=U.heap[--k],!(Ce>we)&&(ue[Ce*2+1]!==X&&(U.opt_len+=(X-ue[Ce*2+1])*ue[Ce*2],ue[Ce*2+1]=X),ye--)}}function Ie(U,se,ue){var we=new Array(x+1),ce=0,Se,$;for(Se=1;Se<=x;Se++)we[Se]=ce=ce+ue[Se-1]<<1;for($=0;$<=se;$++){var je=U[$*2+1];je!==0&&(U[$*2]=ve(we[je]++,je))}}function de(){var U,se,ue,we,ce,Se=new Array(x+1);for(ue=0,we=0;we<o-1;we++)for(q[we]=ue,U=0;U<1<<O[we];U++)xe[ue++]=we;for(xe[ue-1]=we,ce=0,we=0;we<16;we++)for(V[we]=ce,U=0;U<1<<D[we];U++)fe[ce++]=we;for(ce>>=7;we<p;we++)for(V[we]=ce<<7,U=0;U<1<<D[we]-7;U++)fe[256+ce++]=we;for(se=0;se<=x;se++)Se[se]=0;for(U=0;U<=143;)H[U*2+1]=8,U++,Se[8]++;for(;U<=255;)H[U*2+1]=9,U++,Se[9]++;for(;U<=279;)H[U*2+1]=7,U++,Se[7]++;for(;U<=287;)H[U*2+1]=8,U++,Se[8]++;for(Ie(H,s+1,Se),U=0;U<p;U++)ee[U*2+1]=5,ee[U*2]=ve(U,5);J=new K(H,O,c+1,s,x),oe=new K(ee,D,0,p,x),_e=new K(new Array(0),N,0,v,j)}function ae(U){var se;for(se=0;se<s;se++)U.dyn_ltree[se*2]=0;for(se=0;se<p;se++)U.dyn_dtree[se*2]=0;for(se=0;se<v;se++)U.bl_tree[se*2]=0;U.dyn_ltree[E*2]=1,U.opt_len=U.static_len=0,U.last_lit=U.matches=0}function ne(U){U.bi_valid>8?Te(U,U.bi_buf):U.bi_valid>0&&(U.pending_buf[U.pending++]=U.bi_buf),U.bi_buf=0,U.bi_valid=0}function Me(U,se,ue,we){ne(U),we&&(Te(U,ue),Te(U,~ue)),y.arraySet(U.pending_buf,U.window,se,ue,U.pending),U.pending+=ue}function pe(U,se,ue,we){var ce=se*2,Se=ue*2;return U[ce]<U[Se]||U[ce]===U[Se]&&we[se]<=we[ue]}function le(U,se,ue){for(var we=U.heap[ue],ce=ue<<1;ce<=U.heap_len&&(ce<U.heap_len&&pe(se,U.heap[ce+1],U.heap[ce],U.depth)&&ce++,!pe(se,we,U.heap[ce],U.depth));)U.heap[ue]=U.heap[ce],ue=ce,ce<<=1;U.heap[ue]=we}function re(U,se,ue){var we,ce,Se=0,$,je;if(U.last_lit!==0)do we=U.pending_buf[U.d_buf+Se*2]<<8|U.pending_buf[U.d_buf+Se*2+1],ce=U.pending_buf[U.l_buf+Se],Se++,we===0?Re(U,ce,se):($=xe[ce],Re(U,$+c+1,se),je=O[$],je!==0&&(ce-=q[$],Be(U,ce,je)),we--,$=De(we),Re(U,$,ue),je=D[$],je!==0&&(we-=V[$],Be(U,we,je)));while(Se<U.last_lit);Re(U,E,se)}function Le(U,se){var ue=se.dyn_tree,we=se.stat_desc.static_tree,ce=se.stat_desc.has_stree,Se=se.stat_desc.elems,$,je,be=-1,k;for(U.heap_len=0,U.heap_max=b,$=0;$<Se;$++)ue[$*2]!==0?(U.heap[++U.heap_len]=be=$,U.depth[$]=0):ue[$*2+1]=0;for(;U.heap_len<2;)k=U.heap[++U.heap_len]=be<2?++be:0,ue[k*2]=1,U.depth[k]=0,U.opt_len--,ce&&(U.static_len-=we[k*2+1]);for(se.max_code=be,$=U.heap_len>>1;$>=1;$--)le(U,ue,$);k=Se;do $=U.heap[1],U.heap[1]=U.heap[U.heap_len--],le(U,ue,1),je=U.heap[1],U.heap[--U.heap_max]=$,U.heap[--U.heap_max]=je,ue[k*2]=ue[$*2]+ue[je*2],U.depth[k]=(U.depth[$]>=U.depth[je]?U.depth[$]:U.depth[je])+1,ue[$*2+1]=ue[je*2+1]=k,U.heap[1]=k++,le(U,ue,1);while(U.heap_len>=2);U.heap[--U.heap_max]=U.heap[1],Ae(U,se),Ie(ue,be,U.bl_count)}function h(U,se,ue){var we,ce=-1,Se,$=se[0*2+1],je=0,be=7,k=4;for($===0&&(be=138,k=3),se[(ue+1)*2+1]=65535,we=0;we<=ue;we++)Se=$,$=se[(we+1)*2+1],!(++je<be&&Se===$)&&(je<k?U.bl_tree[Se*2]+=je:Se!==0?(Se!==ce&&U.bl_tree[Se*2]++,U.bl_tree[M*2]++):je<=10?U.bl_tree[C*2]++:U.bl_tree[P*2]++,je=0,ce=Se,$===0?(be=138,k=3):Se===$?(be=6,k=3):(be=7,k=4))}function _(U,se,ue){var we,ce=-1,Se,$=se[0*2+1],je=0,be=7,k=4;for($===0&&(be=138,k=3),we=0;we<=ue;we++)if(Se=$,$=se[(we+1)*2+1],!(++je<be&&Se===$)){if(je<k)do Re(U,Se,U.bl_tree);while(--je!==0);else Se!==0?(Se!==ce&&(Re(U,Se,U.bl_tree),je--),Re(U,M,U.bl_tree),Be(U,je-3,2)):je<=10?(Re(U,C,U.bl_tree),Be(U,je-3,3)):(Re(U,P,U.bl_tree),Be(U,je-11,7));je=0,ce=Se,$===0?(be=138,k=3):Se===$?(be=6,k=3):(be=7,k=4)}}function T(U){var se;for(h(U,U.dyn_ltree,U.l_desc.max_code),h(U,U.dyn_dtree,U.d_desc.max_code),Le(U,U.bl_desc),se=v-1;se>=3&&U.bl_tree[R[se]*2+1]===0;se--);return U.opt_len+=3*(se+1)+5+5+4,se}function L(U,se,ue,we){var ce;for(Be(U,se-257,5),Be(U,ue-1,5),Be(U,we-4,4),ce=0;ce<we;ce++)Be(U,U.bl_tree[R[ce]*2+1],3);_(U,U.dyn_ltree,se-1),_(U,U.dyn_dtree,ue-1)}function G(U){var se=4093624447,ue;for(ue=0;ue<=31;ue++,se>>>=1)if(se&1&&U.dyn_ltree[ue*2]!==0)return f;if(U.dyn_ltree[9*2]!==0||U.dyn_ltree[10*2]!==0||U.dyn_ltree[13*2]!==0)return g;for(ue=32;ue<c;ue++)if(U.dyn_ltree[ue*2]!==0)return g;return f}var B=!1;function W(U){B||(de(),B=!0),U.l_desc=new Oe(U.dyn_ltree,J),U.d_desc=new Oe(U.dyn_dtree,oe),U.bl_desc=new Oe(U.bl_tree,_e),U.bi_buf=0,U.bi_valid=0,ae(U)}function F(U,se,ue,we){Be(U,(i<<1)+(we?1:0),3),Me(U,se,ue,!0)}function Y(U){Be(U,r<<1,3),Re(U,E,H),ge(U)}function ie(U,se,ue,we){var ce,Se,$=0;U.level>0?(U.strm.data_type===d&&(U.strm.data_type=G(U)),Le(U,U.l_desc),Le(U,U.d_desc),$=T(U),ce=U.opt_len+3+7>>>3,Se=U.static_len+3+7>>>3,Se<=ce&&(ce=Se)):ce=Se=ue+5,ue+4<=ce&&se!==-1?F(U,se,ue,we):U.strategy===m||Se===ce?(Be(U,(r<<1)+(we?1:0),3),re(U,H,ee)):(Be(U,(t<<1)+(we?1:0),3),L(U,U.l_desc.max_code+1,U.d_desc.max_code+1,$+1),re(U,U.dyn_ltree,U.dyn_dtree)),ae(U),we&&ne(U)}function he(U,se,ue){return U.pending_buf[U.d_buf+U.last_lit*2]=se>>>8&255,U.pending_buf[U.d_buf+U.last_lit*2+1]=se&255,U.pending_buf[U.l_buf+U.last_lit]=ue&255,U.last_lit++,se===0?U.dyn_ltree[ue*2]++:(U.matches++,se--,U.dyn_ltree[(xe[ue]+c+1)*2]++,U.dyn_dtree[De(se)*2]++),U.last_lit===U.lit_bufsize-1}S._tr_init=W,S._tr_stored_block=F,S._tr_flush_block=ie,S._tr_tally=he,S._tr_align=Y},{"../utils/common":36}],46:[function(n,Z,S){function y(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}Z.exports=y},{}],47:[function(n,Z,S){arguments[4][33][0].apply(S,arguments)},{dup:33}],48:[function(n,Z,S){(function(r){var m=n("base64-js"),f=n("ieee754"),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;S.Buffer=r,S.SlowBuffer=x,S.INSPECT_MAX_BYTES=50;var d=2147483647;S.kMaxLength=d,r.TYPED_ARRAY_SUPPORT=u(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var pe=new Uint8Array(1),le={foo:function(){return 42}};return Object.setPrototypeOf(le,Uint8Array.prototype),Object.setPrototypeOf(pe,le),pe.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function i(pe){if(pe>d)throw new RangeError('The value "'+pe+'" is invalid for option "size"');var le=new Uint8Array(pe);return Object.setPrototypeOf(le,r.prototype),le}function r(pe,le,re){if(typeof pe=="number"){if(typeof le=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(pe)}return t(pe,le,re)}typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192;function t(pe,le,re){if(typeof pe=="string")return c(pe,le);if(ArrayBuffer.isView(pe))return s(pe);if(pe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof pe);if(ae(pe,ArrayBuffer)||pe&&ae(pe.buffer,ArrayBuffer))return p(pe,le,re);if(typeof pe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Le=pe.valueOf&&pe.valueOf();if(Le!=null&&Le!==pe)return r.from(Le,le,re);var h=v(pe);if(h)return h;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof pe[Symbol.toPrimitive]=="function")return r.from(pe[Symbol.toPrimitive]("string"),le,re);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof pe)}r.from=function(pe,le,re){return t(pe,le,re)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array);function a(pe){if(typeof pe!="number")throw new TypeError('"size" argument must be of type number');if(pe<0)throw new RangeError('The value "'+pe+'" is invalid for option "size"')}function l(pe,le,re){return a(pe),pe<=0?i(pe):le!==void 0?typeof re=="string"?i(pe).fill(le,re):i(pe).fill(le):i(pe)}r.alloc=function(pe,le,re){return l(pe,le,re)};function o(pe){return a(pe),i(pe<0?0:b(pe)|0)}r.allocUnsafe=function(pe){return o(pe)},r.allocUnsafeSlow=function(pe){return o(pe)};function c(pe,le){if((typeof le!="string"||le==="")&&(le="utf8"),!r.isEncoding(le))throw new TypeError("Unknown encoding: "+le);var re=w(pe,le)|0,Le=i(re),h=Le.write(pe,le);return h!==re&&(Le=Le.slice(0,h)),Le}function s(pe){for(var le=pe.length<0?0:b(pe.length)|0,re=i(le),Le=0;Le<le;Le+=1)re[Le]=pe[Le]&255;return re}function p(pe,le,re){if(le<0||pe.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(pe.byteLength<le+(re||0))throw new RangeError('"length" is outside of buffer bounds');var Le;return le===void 0&&re===void 0?Le=new Uint8Array(pe):re===void 0?Le=new Uint8Array(pe,le):Le=new Uint8Array(pe,le,re),Object.setPrototypeOf(Le,r.prototype),Le}function v(pe){if(r.isBuffer(pe)){var le=b(pe.length)|0,re=i(le);return re.length===0||pe.copy(re,0,0,le),re}if(pe.length!==void 0)return typeof pe.length!="number"||ne(pe.length)?i(0):s(pe);if(pe.type==="Buffer"&&Array.isArray(pe.data))return s(pe.data)}function b(pe){if(pe>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return pe|0}function x(pe){return+pe!=pe&&(pe=0),r.alloc(+pe)}r.isBuffer=function(le){return le!=null&&le._isBuffer===!0&&le!==r.prototype},r.compare=function(le,re){if(ae(le,Uint8Array)&&(le=r.from(le,le.offset,le.byteLength)),ae(re,Uint8Array)&&(re=r.from(re,re.offset,re.byteLength)),!r.isBuffer(le)||!r.isBuffer(re))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(le===re)return 0;for(var Le=le.length,h=re.length,_=0,T=Math.min(Le,h);_<T;++_)if(le[_]!==re[_]){Le=le[_],h=re[_];break}return Le<h?-1:h<Le?1:0},r.isEncoding=function(le){switch(String(le).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(le,re){if(!Array.isArray(le))throw new TypeError('"list" argument must be an Array of Buffers');if(le.length===0)return r.alloc(0);var Le;if(re===void 0)for(re=0,Le=0;Le<le.length;++Le)re+=le[Le].length;var h=r.allocUnsafe(re),_=0;for(Le=0;Le<le.length;++Le){var T=le[Le];if(ae(T,Uint8Array)&&(T=r.from(T)),!r.isBuffer(T))throw new TypeError('"list" argument must be an Array of Buffers');T.copy(h,_),_+=T.length}return h};function w(pe,le){if(r.isBuffer(pe))return pe.length;if(ArrayBuffer.isView(pe)||ae(pe,ArrayBuffer))return pe.byteLength;if(typeof pe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof pe);var re=pe.length,Le=arguments.length>2&&arguments[2]===!0;if(!Le&&re===0)return 0;for(var h=!1;;)switch(le){case"ascii":case"latin1":case"binary":return re;case"utf8":case"utf-8":return ve(pe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re*2;case"hex":return re>>>1;case"base64":return Ie(pe).length;default:if(h)return Le?-1:ve(pe).length;le=(""+le).toLowerCase(),h=!0}}r.byteLength=w;function j(pe,le,re){var Le=!1;if((le===void 0||le<0)&&(le=0),le>this.length||((re===void 0||re>this.length)&&(re=this.length),re<=0)||(re>>>=0,le>>>=0,re<=le))return"";for(pe||(pe="utf8");;)switch(pe){case"hex":return K(this,le,re);case"utf8":case"utf-8":return ee(this,le,re);case"ascii":return q(this,le,re);case"latin1":case"binary":return V(this,le,re);case"base64":return H(this,le,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,le,re);default:if(Le)throw new TypeError("Unknown encoding: "+pe);pe=(pe+"").toLowerCase(),Le=!0}}r.prototype._isBuffer=!0;function E(pe,le,re){var Le=pe[le];pe[le]=pe[re],pe[re]=Le}r.prototype.swap16=function(){var le=this.length;if(le%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var re=0;re<le;re+=2)E(this,re,re+1);return this},r.prototype.swap32=function(){var le=this.length;if(le%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var re=0;re<le;re+=4)E(this,re,re+3),E(this,re+1,re+2);return this},r.prototype.swap64=function(){var le=this.length;if(le%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var re=0;re<le;re+=8)E(this,re,re+7),E(this,re+1,re+6),E(this,re+2,re+5),E(this,re+3,re+4);return this},r.prototype.toString=function(){var le=this.length;return le===0?"":arguments.length===0?ee(this,0,le):j.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(le){if(!r.isBuffer(le))throw new TypeError("Argument must be a Buffer");return this===le?!0:r.compare(this,le)===0},r.prototype.inspect=function(){var le="",re=S.INSPECT_MAX_BYTES;return le=this.toString("hex",0,re).replace(/(.{2})/g,"$1 ").trim(),this.length>re&&(le+=" ... "),"<Buffer "+le+">"},g&&(r.prototype[g]=r.prototype.inspect),r.prototype.compare=function(le,re,Le,h,_){if(ae(le,Uint8Array)&&(le=r.from(le,le.offset,le.byteLength)),!r.isBuffer(le))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof le);if(re===void 0&&(re=0),Le===void 0&&(Le=le?le.length:0),h===void 0&&(h=0),_===void 0&&(_=this.length),re<0||Le>le.length||h<0||_>this.length)throw new RangeError("out of range index");if(h>=_&&re>=Le)return 0;if(h>=_)return-1;if(re>=Le)return 1;if(re>>>=0,Le>>>=0,h>>>=0,_>>>=0,this===le)return 0;for(var T=_-h,L=Le-re,G=Math.min(T,L),B=this.slice(h,_),W=le.slice(re,Le),F=0;F<G;++F)if(B[F]!==W[F]){T=B[F],L=W[F];break}return T<L?-1:L<T?1:0};function M(pe,le,re,Le,h){if(pe.length===0)return-1;if(typeof re=="string"?(Le=re,re=0):re>2147483647?re=2147483647:re<-2147483648&&(re=-2147483648),re=+re,ne(re)&&(re=h?0:pe.length-1),re<0&&(re=pe.length+re),re>=pe.length){if(h)return-1;re=pe.length-1}else if(re<0)if(h)re=0;else return-1;if(typeof le=="string"&&(le=r.from(le,Le)),r.isBuffer(le))return le.length===0?-1:C(pe,le,re,Le,h);if(typeof le=="number")return le=le&255,typeof Uint8Array.prototype.indexOf=="function"?h?Uint8Array.prototype.indexOf.call(pe,le,re):Uint8Array.prototype.lastIndexOf.call(pe,le,re):C(pe,[le],re,Le,h);throw new TypeError("val must be string, number or Buffer")}function C(pe,le,re,Le,h){var _=1,T=pe.length,L=le.length;if(Le!==void 0&&(Le=String(Le).toLowerCase(),Le==="ucs2"||Le==="ucs-2"||Le==="utf16le"||Le==="utf-16le")){if(pe.length<2||le.length<2)return-1;_=2,T/=2,L/=2,re/=2}function G(ie,he){return _===1?ie[he]:ie.readUInt16BE(he*_)}var B;if(h){var W=-1;for(B=re;B<T;B++)if(G(pe,B)===G(le,W===-1?0:B-W)){if(W===-1&&(W=B),B-W+1===L)return W*_}else W!==-1&&(B-=B-W),W=-1}else for(re+L>T&&(re=T-L),B=re;B>=0;B--){for(var F=!0,Y=0;Y<L;Y++)if(G(pe,B+Y)!==G(le,Y)){F=!1;break}if(F)return B}return-1}r.prototype.includes=function(le,re,Le){return this.indexOf(le,re,Le)!==-1},r.prototype.indexOf=function(le,re,Le){return M(this,le,re,Le,!0)},r.prototype.lastIndexOf=function(le,re,Le){return M(this,le,re,Le,!1)};function P(pe,le,re,Le){re=Number(re)||0;var h=pe.length-re;Le?(Le=Number(Le),Le>h&&(Le=h)):Le=h;var _=le.length;Le>_/2&&(Le=_/2);for(var T=0;T<Le;++T){var L=parseInt(le.substr(T*2,2),16);if(ne(L))return T;pe[re+T]=L}return T}function O(pe,le,re,Le){return de(ve(le,pe.length-re),pe,re,Le)}function D(pe,le,re,Le){return de(ge(le),pe,re,Le)}function N(pe,le,re,Le){return D(pe,le,re,Le)}function R(pe,le,re,Le){return de(Ie(le),pe,re,Le)}function I(pe,le,re,Le){return de(Ae(le,pe.length-re),pe,re,Le)}r.prototype.write=function(le,re,Le,h){if(re===void 0)h="utf8",Le=this.length,re=0;else if(Le===void 0&&typeof re=="string")h=re,Le=this.length,re=0;else if(isFinite(re))re=re>>>0,isFinite(Le)?(Le=Le>>>0,h===void 0&&(h="utf8")):(h=Le,Le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var _=this.length-re;if((Le===void 0||Le>_)&&(Le=_),le.length>0&&(Le<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");for(var T=!1;;)switch(h){case"hex":return P(this,le,re,Le);case"utf8":case"utf-8":return O(this,le,re,Le);case"ascii":return D(this,le,re,Le);case"latin1":case"binary":return N(this,le,re,Le);case"base64":return R(this,le,re,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,le,re,Le);default:if(T)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),T=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(pe,le,re){return le===0&&re===pe.length?m.fromByteArray(pe):m.fromByteArray(pe.slice(le,re))}function ee(pe,le,re){re=Math.min(pe.length,re);for(var Le=[],h=le;h<re;){var _=pe[h],T=null,L=_>239?4:_>223?3:_>191?2:1;if(h+L<=re){var G,B,W,F;switch(L){case 1:_<128&&(T=_);break;case 2:G=pe[h+1],(G&192)===128&&(F=(_&31)<<6|G&63,F>127&&(T=F));break;case 3:G=pe[h+1],B=pe[h+2],(G&192)===128&&(B&192)===128&&(F=(_&15)<<12|(G&63)<<6|B&63,F>2047&&(F<55296||F>57343)&&(T=F));break;case 4:G=pe[h+1],B=pe[h+2],W=pe[h+3],(G&192)===128&&(B&192)===128&&(W&192)===128&&(F=(_&15)<<18|(G&63)<<12|(B&63)<<6|W&63,F>65535&&F<1114112&&(T=F))}}T===null?(T=65533,L=1):T>65535&&(T-=65536,Le.push(T>>>10&1023|55296),T=56320|T&1023),Le.push(T),h+=L}return xe(Le)}var fe=4096;function xe(pe){var le=pe.length;if(le<=fe)return String.fromCharCode.apply(String,pe);for(var re="",Le=0;Le<le;)re+=String.fromCharCode.apply(String,pe.slice(Le,Le+=fe));return re}function q(pe,le,re){var Le="";re=Math.min(pe.length,re);for(var h=le;h<re;++h)Le+=String.fromCharCode(pe[h]&127);return Le}function V(pe,le,re){var Le="";re=Math.min(pe.length,re);for(var h=le;h<re;++h)Le+=String.fromCharCode(pe[h]);return Le}function K(pe,le,re){var Le=pe.length;(!le||le<0)&&(le=0),(!re||re<0||re>Le)&&(re=Le);for(var h="",_=le;_<re;++_)h+=Me[pe[_]];return h}function J(pe,le,re){for(var Le=pe.slice(le,re),h="",_=0;_<Le.length;_+=2)h+=String.fromCharCode(Le[_]+Le[_+1]*256);return h}r.prototype.slice=function(le,re){var Le=this.length;le=~~le,re=re===void 0?Le:~~re,le<0?(le+=Le,le<0&&(le=0)):le>Le&&(le=Le),re<0?(re+=Le,re<0&&(re=0)):re>Le&&(re=Le),re<le&&(re=le);var h=this.subarray(le,re);return Object.setPrototypeOf(h,r.prototype),h};function oe(pe,le,re){if(pe%1!==0||pe<0)throw new RangeError("offset is not uint");if(pe+le>re)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUIntLE=function(le,re,Le){le=le>>>0,re=re>>>0,Le||oe(le,re,this.length);for(var h=this[le],_=1,T=0;++T<re&&(_*=256);)h+=this[le+T]*_;return h},r.prototype.readUIntBE=function(le,re,Le){le=le>>>0,re=re>>>0,Le||oe(le,re,this.length);for(var h=this[le+--re],_=1;re>0&&(_*=256);)h+=this[le+--re]*_;return h},r.prototype.readUInt8=function(le,re){return le=le>>>0,re||oe(le,1,this.length),this[le]},r.prototype.readUInt16LE=function(le,re){return le=le>>>0,re||oe(le,2,this.length),this[le]|this[le+1]<<8},r.prototype.readUInt16BE=function(le,re){return le=le>>>0,re||oe(le,2,this.length),this[le]<<8|this[le+1]},r.prototype.readUInt32LE=function(le,re){return le=le>>>0,re||oe(le,4,this.length),(this[le]|this[le+1]<<8|this[le+2]<<16)+this[le+3]*16777216},r.prototype.readUInt32BE=function(le,re){return le=le>>>0,re||oe(le,4,this.length),this[le]*16777216+(this[le+1]<<16|this[le+2]<<8|this[le+3])},r.prototype.readIntLE=function(le,re,Le){le=le>>>0,re=re>>>0,Le||oe(le,re,this.length);for(var h=this[le],_=1,T=0;++T<re&&(_*=256);)h+=this[le+T]*_;return _*=128,h>=_&&(h-=Math.pow(2,8*re)),h},r.prototype.readIntBE=function(le,re,Le){le=le>>>0,re=re>>>0,Le||oe(le,re,this.length);for(var h=re,_=1,T=this[le+--h];h>0&&(_*=256);)T+=this[le+--h]*_;return _*=128,T>=_&&(T-=Math.pow(2,8*re)),T},r.prototype.readInt8=function(le,re){return le=le>>>0,re||oe(le,1,this.length),this[le]&128?(255-this[le]+1)*-1:this[le]},r.prototype.readInt16LE=function(le,re){le=le>>>0,re||oe(le,2,this.length);var Le=this[le]|this[le+1]<<8;return Le&32768?Le|4294901760:Le},r.prototype.readInt16BE=function(le,re){le=le>>>0,re||oe(le,2,this.length);var Le=this[le+1]|this[le]<<8;return Le&32768?Le|4294901760:Le},r.prototype.readInt32LE=function(le,re){return le=le>>>0,re||oe(le,4,this.length),this[le]|this[le+1]<<8|this[le+2]<<16|this[le+3]<<24},r.prototype.readInt32BE=function(le,re){return le=le>>>0,re||oe(le,4,this.length),this[le]<<24|this[le+1]<<16|this[le+2]<<8|this[le+3]},r.prototype.readFloatLE=function(le,re){return le=le>>>0,re||oe(le,4,this.length),f.read(this,le,!0,23,4)},r.prototype.readFloatBE=function(le,re){return le=le>>>0,re||oe(le,4,this.length),f.read(this,le,!1,23,4)},r.prototype.readDoubleLE=function(le,re){return le=le>>>0,re||oe(le,8,this.length),f.read(this,le,!0,52,8)},r.prototype.readDoubleBE=function(le,re){return le=le>>>0,re||oe(le,8,this.length),f.read(this,le,!1,52,8)};function _e(pe,le,re,Le,h,_){if(!r.isBuffer(pe))throw new TypeError('"buffer" argument must be a Buffer instance');if(le>h||le<_)throw new RangeError('"value" argument is out of bounds');if(re+Le>pe.length)throw new RangeError("Index out of range")}r.prototype.writeUIntLE=function(le,re,Le,h){if(le=+le,re=re>>>0,Le=Le>>>0,!h){var _=Math.pow(2,8*Le)-1;_e(this,le,re,Le,_,0)}var T=1,L=0;for(this[re]=le&255;++L<Le&&(T*=256);)this[re+L]=le/T&255;return re+Le},r.prototype.writeUIntBE=function(le,re,Le,h){if(le=+le,re=re>>>0,Le=Le>>>0,!h){var _=Math.pow(2,8*Le)-1;_e(this,le,re,Le,_,0)}var T=Le-1,L=1;for(this[re+T]=le&255;--T>=0&&(L*=256);)this[re+T]=le/L&255;return re+Le},r.prototype.writeUInt8=function(le,re,Le){return le=+le,re=re>>>0,Le||_e(this,le,re,1,255,0),this[re]=le&255,re+1},r.prototype.writeUInt16LE=function(le,re,Le){return le=+le,re=re>>>0,Le||_e(this,le,re,2,65535,0),this[re]=le&255,this[re+1]=le>>>8,re+2},r.prototype.writeUInt16BE=function(le,re,Le){return le=+le,re=re>>>0,Le||_e(this,le,re,2,65535,0),this[re]=le>>>8,this[re+1]=le&255,re+2},r.prototype.writeUInt32LE=function(le,re,Le){return le=+le,re=re>>>0,Le||_e(this,le,re,4,4294967295,0),this[re+3]=le>>>24,this[re+2]=le>>>16,this[re+1]=le>>>8,this[re]=le&255,re+4},r.prototype.writeUInt32BE=function(le,re,Le){return le=+le,re=re>>>0,Le||_e(this,le,re,4,4294967295,0),this[re]=le>>>24,this[re+1]=le>>>16,this[re+2]=le>>>8,this[re+3]=le&255,re+4},r.prototype.writeIntLE=function(le,re,Le,h){if(le=+le,re=re>>>0,!h){var _=Math.pow(2,8*Le-1);_e(this,le,re,Le,_-1,-_)}var T=0,L=1,G=0;for(this[re]=le&255;++T<Le&&(L*=256);)le<0&&G===0&&this[re+T-1]!==0&&(G=1),this[re+T]=(le/L>>0)-G&255;return re+Le},r.prototype.writeIntBE=function(le,re,Le,h){if(le=+le,re=re>>>0,!h){var _=Math.pow(2,8*Le-1);_e(this,le,re,Le,_-1,-_)}var T=Le-1,L=1,G=0;for(this[re+T]=le&255;--T>=0&&(L*=256);)le<0&&G===0&&this[re+T+1]!==0&&(G=1),this[re+T]=(le/L>>0)-G&255;return re+Le},r.prototype.writeInt8=function(le,re,Le){return le=+le,re=re>>>0,Le||_e(this,le,re,1,127,-128),le<0&&(le=255+le+1),this[re]=le&255,re+1},r.prototype.writeInt16LE=function(le,re,Le){return le=+le,re=re>>>0,Le||_e(this,le,re,2,32767,-32768),this[re]=le&255,this[re+1]=le>>>8,re+2},r.prototype.writeInt16BE=function(le,re,Le){return le=+le,re=re>>>0,Le||_e(this,le,re,2,32767,-32768),this[re]=le>>>8,this[re+1]=le&255,re+2},r.prototype.writeInt32LE=function(le,re,Le){return le=+le,re=re>>>0,Le||_e(this,le,re,4,2147483647,-2147483648),this[re]=le&255,this[re+1]=le>>>8,this[re+2]=le>>>16,this[re+3]=le>>>24,re+4},r.prototype.writeInt32BE=function(le,re,Le){return le=+le,re=re>>>0,Le||_e(this,le,re,4,2147483647,-2147483648),le<0&&(le=4294967295+le+1),this[re]=le>>>24,this[re+1]=le>>>16,this[re+2]=le>>>8,this[re+3]=le&255,re+4};function Oe(pe,le,re,Le,h,_){if(re+Le>pe.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("Index out of range")}function De(pe,le,re,Le,h){return le=+le,re=re>>>0,h||Oe(pe,le,re,4),f.write(pe,le,re,Le,23,4),re+4}r.prototype.writeFloatLE=function(le,re,Le){return De(this,le,re,!0,Le)},r.prototype.writeFloatBE=function(le,re,Le){return De(this,le,re,!1,Le)};function Te(pe,le,re,Le,h){return le=+le,re=re>>>0,h||Oe(pe,le,re,8),f.write(pe,le,re,Le,52,8),re+8}r.prototype.writeDoubleLE=function(le,re,Le){return Te(this,le,re,!0,Le)},r.prototype.writeDoubleBE=function(le,re,Le){return Te(this,le,re,!1,Le)},r.prototype.copy=function(le,re,Le,h){if(!r.isBuffer(le))throw new TypeError("argument should be a Buffer");if(Le||(Le=0),!h&&h!==0&&(h=this.length),re>=le.length&&(re=le.length),re||(re=0),h>0&&h<Le&&(h=Le),h===Le||le.length===0||this.length===0)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(Le<0||Le>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),le.length-re<h-Le&&(h=le.length-re+Le);var _=h-Le;if(this===le&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(re,Le,h);else if(this===le&&Le<re&&re<h)for(var T=_-1;T>=0;--T)le[T+re]=this[T+Le];else Uint8Array.prototype.set.call(le,this.subarray(Le,h),re);return _},r.prototype.fill=function(le,re,Le,h){if(typeof le=="string"){if(typeof re=="string"?(h=re,re=0,Le=this.length):typeof Le=="string"&&(h=Le,Le=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!r.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(le.length===1){var _=le.charCodeAt(0);(h==="utf8"&&_<128||h==="latin1")&&(le=_)}}else typeof le=="number"?le=le&255:typeof le=="boolean"&&(le=Number(le));if(re<0||this.length<re||this.length<Le)throw new RangeError("Out of range index");if(Le<=re)return this;re=re>>>0,Le=Le===void 0?this.length:Le>>>0,le||(le=0);var T;if(typeof le=="number")for(T=re;T<Le;++T)this[T]=le;else{var L=r.isBuffer(le)?le:r.from(le,h),G=L.length;if(G===0)throw new TypeError('The value "'+le+'" is invalid for argument "value"');for(T=0;T<Le-re;++T)this[T+re]=L[T%G]}return this};var Be=/[^+/0-9A-Za-z-_]/g;function Re(pe){if(pe=pe.split("=")[0],pe=pe.trim().replace(Be,""),pe.length<2)return"";for(;pe.length%4!==0;)pe=pe+"=";return pe}function ve(pe,le){le=le||1/0;for(var re,Le=pe.length,h=null,_=[],T=0;T<Le;++T){if(re=pe.charCodeAt(T),re>55295&&re<57344){if(!h){if(re>56319){(le-=3)>-1&&_.push(239,191,189);continue}else if(T+1===Le){(le-=3)>-1&&_.push(239,191,189);continue}h=re;continue}if(re<56320){(le-=3)>-1&&_.push(239,191,189),h=re;continue}re=(h-55296<<10|re-56320)+65536}else h&&(le-=3)>-1&&_.push(239,191,189);if(h=null,re<128){if((le-=1)<0)break;_.push(re)}else if(re<2048){if((le-=2)<0)break;_.push(re>>6|192,re&63|128)}else if(re<65536){if((le-=3)<0)break;_.push(re>>12|224,re>>6&63|128,re&63|128)}else if(re<1114112){if((le-=4)<0)break;_.push(re>>18|240,re>>12&63|128,re>>6&63|128,re&63|128)}else throw new Error("Invalid code point")}return _}function ge(pe){for(var le=[],re=0;re<pe.length;++re)le.push(pe.charCodeAt(re)&255);return le}function Ae(pe,le){for(var re,Le,h,_=[],T=0;T<pe.length&&!((le-=2)<0);++T)re=pe.charCodeAt(T),Le=re>>8,h=re%256,_.push(h),_.push(Le);return _}function Ie(pe){return m.toByteArray(Re(pe))}function de(pe,le,re,Le){for(var h=0;h<Le&&!(h+re>=le.length||h>=pe.length);++h)le[h+re]=pe[h];return h}function ae(pe,le){return pe instanceof le||pe!=null&&pe.constructor!=null&&pe.constructor.name!=null&&pe.constructor.name===le.name}function ne(pe){return pe!==pe}var Me=function(){for(var pe="0123456789abcdef",le=new Array(256),re=0;re<16;++re)for(var Le=re*16,h=0;h<16;++h)le[Le+h]=pe[re]+pe[h];return le}()}).call(this,n("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(n,Z,S){var y=n("buffer").Buffer;Z.exports=function(m,f){if(y.isBuffer(m)&&y.isBuffer(f)){if(typeof m.equals=="function")return m.equals(f);if(m.length!==f.length)return!1;for(var g=0;g<m.length;g++)if(m[g]!==f[g])return!1;return!0}}},{buffer:48}],50:[function(n,Z,S){Z.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],51:[function(n,Z,S){(function(y){function m(b){return Array.isArray?Array.isArray(b):v(b)==="[object Array]"}S.isArray=m;function f(b){return typeof b=="boolean"}S.isBoolean=f;function g(b){return b===null}S.isNull=g;function d(b){return b==null}S.isNullOrUndefined=d;function u(b){return typeof b=="number"}S.isNumber=u;function i(b){return typeof b=="string"}S.isString=i;function r(b){return typeof b=="symbol"}S.isSymbol=r;function t(b){return b===void 0}S.isUndefined=t;function a(b){return v(b)==="[object RegExp]"}S.isRegExp=a;function l(b){return typeof b=="object"&&b!==null}S.isObject=l;function o(b){return v(b)==="[object Date]"}S.isDate=o;function c(b){return v(b)==="[object Error]"||b instanceof Error}S.isError=c;function s(b){return typeof b=="function"}S.isFunction=s;function p(b){return b===null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||typeof b=="symbol"||typeof b>"u"}S.isPrimitive=p,S.isBuffer=y.isBuffer;function v(b){return Object.prototype.toString.call(b)}}).call(this,{isBuffer:n("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(n,Z,S){var y=Object.create||M,m=Object.keys||C,f=Function.prototype.bind||P;function g(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=y(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}Z.exports=g,g.EventEmitter=g,g.prototype._events=void 0,g.prototype._maxListeners=void 0;var d=10,u;try{var i={};Object.defineProperty&&Object.defineProperty(i,"x",{value:0}),u=i.x===0}catch{u=!1}u?Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(O){if(typeof O!="number"||O<0||O!==O)throw new TypeError('"defaultMaxListeners" must be a positive number');d=O}}):g.defaultMaxListeners=d,g.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||isNaN(D))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=D,this};function r(O){return O._maxListeners===void 0?g.defaultMaxListeners:O._maxListeners}g.prototype.getMaxListeners=function(){return r(this)};function t(O,D,N){if(D)O.call(N);else for(var R=O.length,I=j(O,R),H=0;H<R;++H)I[H].call(N)}function a(O,D,N,R){if(D)O.call(N,R);else for(var I=O.length,H=j(O,I),ee=0;ee<I;++ee)H[ee].call(N,R)}function l(O,D,N,R,I){if(D)O.call(N,R,I);else for(var H=O.length,ee=j(O,H),fe=0;fe<H;++fe)ee[fe].call(N,R,I)}function o(O,D,N,R,I,H){if(D)O.call(N,R,I,H);else for(var ee=O.length,fe=j(O,ee),xe=0;xe<ee;++xe)fe[xe].call(N,R,I,H)}function c(O,D,N,R){if(D)O.apply(N,R);else for(var I=O.length,H=j(O,I),ee=0;ee<I;++ee)H[ee].apply(N,R)}g.prototype.emit=function(D){var N,R,I,H,ee,fe,xe=D==="error";if(fe=this._events,fe)xe=xe&&fe.error==null;else if(!xe)return!1;if(xe){if(arguments.length>1&&(N=arguments[1]),N instanceof Error)throw N;var q=new Error('Unhandled "error" event. ('+N+")");throw q.context=N,q}if(R=fe[D],!R)return!1;var V=typeof R=="function";switch(I=arguments.length,I){case 1:t(R,V,this);break;case 2:a(R,V,this,arguments[1]);break;case 3:l(R,V,this,arguments[1],arguments[2]);break;case 4:o(R,V,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(I-1),ee=1;ee<I;ee++)H[ee-1]=arguments[ee];c(R,V,this,H)}return!0};function s(O,D,N,R){var I,H,ee;if(typeof N!="function")throw new TypeError('"listener" argument must be a function');if(H=O._events,H?(H.newListener&&(O.emit("newListener",D,N.listener?N.listener:N),H=O._events),ee=H[D]):(H=O._events=y(null),O._eventsCount=0),!ee)ee=H[D]=N,++O._eventsCount;else if(typeof ee=="function"?ee=H[D]=R?[N,ee]:[ee,N]:R?ee.unshift(N):ee.push(N),!ee.warned&&(I=r(O),I&&I>0&&ee.length>I)){ee.warned=!0;var fe=new Error("Possible EventEmitter memory leak detected. "+ee.length+' "'+String(D)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');fe.name="MaxListenersExceededWarning",fe.emitter=O,fe.type=D,fe.count=ee.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",fe.name,fe.message)}return O}g.prototype.addListener=function(D,N){return s(this,D,N,!1)},g.prototype.on=g.prototype.addListener,g.prototype.prependListener=function(D,N){return s(this,D,N,!0)};function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var O=new Array(arguments.length),D=0;D<O.length;++D)O[D]=arguments[D];this.listener.apply(this.target,O)}}function v(O,D,N){var R={fired:!1,wrapFn:void 0,target:O,type:D,listener:N},I=f.call(p,R);return I.listener=N,R.wrapFn=I,I}g.prototype.once=function(D,N){if(typeof N!="function")throw new TypeError('"listener" argument must be a function');return this.on(D,v(this,D,N)),this},g.prototype.prependOnceListener=function(D,N){if(typeof N!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(D,v(this,D,N)),this},g.prototype.removeListener=function(D,N){var R,I,H,ee,fe;if(typeof N!="function")throw new TypeError('"listener" argument must be a function');if(I=this._events,!I)return this;if(R=I[D],!R)return this;if(R===N||R.listener===N)--this._eventsCount===0?this._events=y(null):(delete I[D],I.removeListener&&this.emit("removeListener",D,R.listener||N));else if(typeof R!="function"){for(H=-1,ee=R.length-1;ee>=0;ee--)if(R[ee]===N||R[ee].listener===N){fe=R[ee].listener,H=ee;break}if(H<0)return this;H===0?R.shift():w(R,H),R.length===1&&(I[D]=R[0]),I.removeListener&&this.emit("removeListener",D,fe||N)}return this},g.prototype.removeAllListeners=function(D){var N,R,I;if(R=this._events,!R)return this;if(!R.removeListener)return arguments.length===0?(this._events=y(null),this._eventsCount=0):R[D]&&(--this._eventsCount===0?this._events=y(null):delete R[D]),this;if(arguments.length===0){var H=m(R),ee;for(I=0;I<H.length;++I)ee=H[I],ee!=="removeListener"&&this.removeAllListeners(ee);return this.removeAllListeners("removeListener"),this._events=y(null),this._eventsCount=0,this}if(N=R[D],typeof N=="function")this.removeListener(D,N);else if(N)for(I=N.length-1;I>=0;I--)this.removeListener(D,N[I]);return this};function b(O,D,N){var R=O._events;if(!R)return[];var I=R[D];return I?typeof I=="function"?N?[I.listener||I]:[I]:N?E(I):j(I,I.length):[]}g.prototype.listeners=function(D){return b(this,D,!0)},g.prototype.rawListeners=function(D){return b(this,D,!1)},g.listenerCount=function(O,D){return typeof O.listenerCount=="function"?O.listenerCount(D):x.call(O,D)},g.prototype.listenerCount=x;function x(O){var D=this._events;if(D){var N=D[O];if(typeof N=="function")return 1;if(N)return N.length}return 0}g.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function w(O,D){for(var N=D,R=N+1,I=O.length;R<I;N+=1,R+=1)O[N]=O[R];O.pop()}function j(O,D){for(var N=new Array(D),R=0;R<D;++R)N[R]=O[R];return N}function E(O){for(var D=new Array(O.length),N=0;N<D.length;++N)D[N]=O[N].listener||O[N];return D}function M(O){var D=function(){};return D.prototype=O,new D}function C(O){for(var D in O)Object.prototype.hasOwnProperty.call(O,D);return D}function P(O){var D=this;return function(){return D.apply(O,arguments)}}},{}],53:[function(n,Z,S){var y=n("./lib/parser");function m(){return(0,eval)("this")}Z.exports={create:function(f,g){if(g=g||m(),f instanceof g.ArrayBuffer){var d=n("./lib/dom-bufferstream");return new y(new d(f,0,f.byteLength,!0,g))}else{var u=n("./lib/bufferstream");return new y(new u(f,0,f.length,!0))}}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(n,Z,S){function y(m,f,g,d){this.buffer=m,this.offset=f||0,g=typeof g=="number"?g:m.length,this.endPosition=this.offset+g,this.setBigEndian(d)}y.prototype={setBigEndian:function(m){this.bigEndian=!!m},nextUInt8:function(){var m=this.buffer.readUInt8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.buffer.readInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,m},nextUInt32:function(){var m=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,m},nextInt16:function(){var m=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,m},nextInt32:function(){var m=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,m},nextFloat:function(){var m=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,m},nextDouble:function(){var m=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,m},nextBuffer:function(m){var f=this.buffer.slice(this.offset,this.offset+m);return this.offset+=m,f},remainingLength:function(){return this.endPosition-this.offset},nextString:function(m){var f=this.buffer.toString("utf8",this.offset,this.offset+m);return this.offset+=m,f},mark:function(){var m=this;return{openWithOffset:function(f){return f=(f||0)+this.offset,new y(m.buffer,f,m.endPosition-f,m.bigEndian)},offset:this.offset}},offsetFrom:function(m){return this.offset-m.offset},skip:function(m){this.offset+=m},branch:function(m,f){return f=typeof f=="number"?f:this.endPosition-(this.offset+m),new y(this.buffer,this.offset+m,f,this.bigEndian)}},Z.exports=y},{}],55:[function(n,Z,S){function y(r){return parseInt(r,10)}var m=3600,f=60;function g(r,t){r=r.map(y),t=t.map(y);var a=r[0],l=r[1]-1,o=r[2],c=t[0],s=t[1],p=t[2],v=Date.UTC(a,l,o,c,s,p,0),b=v/1e3;return b}function d(r){var t=r.substr(0,10).split("-"),a=r.substr(11,8).split(":"),l=r.substr(19,6),o=l.split(":").map(y),c=o[0]*m+o[1]*f,s=g(t,a);if(s-=c,typeof s=="number"&&!isNaN(s))return s}function u(r){var t=r.split(" "),a=t[0].split(":"),l=t[1].split(":"),o=g(a,l);if(typeof o=="number"&&!isNaN(o))return o}function i(r){var t=r.length===19&&r.charAt(4)===":",a=r.length===25&&r.charAt(10)==="T";if(a)return d(r);if(t)return u(r)}Z.exports={parseDateWithSpecFormat:u,parseDateWithTimezoneFormat:d,parseExifDate:i}},{}],56:[function(n,Z,S){function y(m,f,g,d,u,i){this.global=u,f=f||0,g=g||m.byteLength-f,this.arrayBuffer=m.slice(f,f+g),this.view=new u.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(d),this.offset=0,this.parentOffset=(i||0)+f}y.prototype={setBigEndian:function(m){this.littleEndian=!m},nextUInt8:function(){var m=this.view.getUint8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.view.getInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,m},nextUInt32:function(){var m=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,m},nextInt16:function(){var m=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,m},nextInt32:function(){var m=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,m},nextFloat:function(){var m=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,m},nextDouble:function(){var m=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,m},nextBuffer:function(m){var f=this.arrayBuffer.slice(this.offset,this.offset+m);return this.offset+=m,f},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(m){var f=this.arrayBuffer.slice(this.offset,this.offset+m);return f=String.fromCharCode.apply(null,new this.global.Uint8Array(f)),this.offset+=m,f},mark:function(){var m=this;return{openWithOffset:function(f){return f=(f||0)+this.offset,new y(m.arrayBuffer,f,m.arrayBuffer.byteLength-f,!m.littleEndian,m.global,m.parentOffset)},offset:this.offset,getParentOffset:function(){return m.parentOffset}}},offsetFrom:function(m){return this.parentOffset+this.offset-(m.offset+m.getParentOffset())},skip:function(m){this.offset+=m},branch:function(m,f){return f=typeof f=="number"?f:this.arrayBuffer.byteLength-(this.offset+m),new y(this.arrayBuffer,this.offset+m,f,!this.littleEndian,this.global,this.parentOffset)}},Z.exports=y},{}],57:[function(n,Z,S){Z.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(n,Z,S){function y(u,i){switch(u){case 1:return i.nextUInt8();case 3:return i.nextUInt16();case 4:return i.nextUInt32();case 5:return[i.nextUInt32(),i.nextUInt32()];case 6:return i.nextInt8();case 8:return i.nextUInt16();case 9:return i.nextUInt32();case 10:return[i.nextInt32(),i.nextInt32()];case 11:return i.nextFloat();case 12:return i.nextDouble();default:throw new Error("Invalid format while decoding: "+u)}}function m(u){switch(u){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function f(u,i){var r=i.nextUInt16(),t=i.nextUInt16(),a=m(t),l=i.nextUInt32(),o=a*l,c,s;if(o>4&&(i=u.openWithOffset(i.nextUInt32())),t===2){c=i.nextString(l);var p=c.indexOf("\0");p!==-1&&(c=c.substr(0,p))}else if(t===7)c=i.nextBuffer(l);else if(t!==0)for(c=[],s=0;s<l;++s)c.push(y(t,i));return o<4&&i.skip(4-o),[r,c,t]}function g(u,i,r){var t=i.nextUInt16(),a,l;for(l=0;l<t;++l)a=f(u,i),r(a[0],a[1],a[2])}function d(u){var i=u.nextString(6);if(i!=="Exif\0\0")throw new Error("Invalid EXIF header");var r=u.mark(),t=u.nextUInt16();if(t===18761)u.setBigEndian(!1);else if(t===19789)u.setBigEndian(!0);else throw new Error("Invalid TIFF header");if(u.nextUInt16()!==42)throw new Error("Invalid TIFF data");return r}Z.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(u,i){var r;try{r=d(u)}catch{return!1}var t,a,l,o=r.openWithOffset(u.nextUInt32()),c=this.IFD0;g(r,o,function(j,E,M){switch(j){case 34853:a=E[0];break;case 34665:t=E[0];break;default:i(c,j,E,M);break}});var s=o.nextUInt32();if(s!==0){var p=r.openWithOffset(s);g(r,p,i.bind(null,this.IFD1))}if(a){var v=r.openWithOffset(a);g(r,v,i.bind(null,this.GPSIFD))}if(t){var b=r.openWithOffset(t),x=this.InteropIFD;g(r,b,function(j,E,M){j===40965?l=E[0]:i(x,j,E,M)})}if(l){var w=r.openWithOffset(l);g(r,w,i.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(n,Z,S){Z.exports={parseSections:function(y,m){var f,g;for(y.setBigEndian(!0);y.remainingLength()>0&&g!==218;){if(y.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");g=y.nextUInt8(),g>=208&&g<=217||g===218?f=0:f=y.nextUInt16()-2,m(g,y.branch(0,f)),y.skip(f)}},getSizeFromSOFSection:function(y){return y.skip(1),{height:y.nextUInt16(),width:y.nextUInt16()}},getSectionName:function(y){var m,f;switch(y){case 216:m="SOI";break;case 196:m="DHT";break;case 219:m="DQT";break;case 221:m="DRI";break;case 218:m="SOS";break;case 254:m="COM";break;case 217:m="EOI";break;default:y>=224&&y<=239?(m="APP",f=y-224):y>=192&&y<=207&&y!==196&&y!==200&&y!==204?(m="SOF",f=y-192):y>=208&&y<=215&&(m="RST",f=y-208);break}var g={name:m};return typeof f=="number"&&(g.index=f),g}}},{}],60:[function(n,Z,S){var y=n("./jpeg"),m=n("./exif"),f=n("./simplify");function g(u,i,r,t,a,l,o){this.startMarker=u,this.tags=i,this.imageSize=r,this.thumbnailOffset=t,this.thumbnailLength=a,this.thumbnailType=l,this.app1Offset=o}g.prototype={hasThumbnail:function(u){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof u!="string"?!0:u.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:u.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var u=this._getThumbnailStream(),i;return y.parseSections(u,function(r,t){y.getSectionName(r).name==="SOF"&&(i=y.getSizeFromSOFSection(t))}),i}};function d(u){this.stream=u,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}d.prototype={enableBinaryFields:function(u){return this.flags.readBinaryTags=!!u,this},enablePointers:function(u){return this.flags.hidePointers=!u,this},enableTagNames:function(u){return this.flags.resolveTagNames=!!u,this},enableImageSize:function(u){return this.flags.imageSize=!!u,this},enableReturnTags:function(u){return this.flags.returnTags=!!u,this},enableSimpleValues:function(u){return this.flags.simplifyValues=!!u,this},parse:function(){var u=this.stream.mark(),i=u.openWithOffset(0),r=this.flags,t,a,l,o,c,s,p,v,b;return r.resolveTagNames&&(p=n("./exif-tags")),r.resolveTagNames?(t={},v=function(x){return t[x.name]},b=function(x,w){t[x.name]=w}):(t=[],v=function(x){var w;for(w=0;w<t.length;++w)if(t[w].type===x.type&&t[w].section===x.section)return t.value},b=function(x,w){var j;for(j=0;j<t.length;++j)if(t[j].type===x.type&&t[j].section===x.section){t.value=w;return}}),y.parseSections(i,function(x,w){var j,E=w.offsetFrom(u);x===225?(j=m.parseTags(w,function(M,C,P,O){if(!(!r.readBinaryTags&&O===7)){if(C===513){if(l=P[0],r.hidePointers)return}else if(C===514){if(o=P[0],r.hidePointers)return}else if(C===259&&(c=P[0],r.hidePointers))return;if(r.returnTags)if(r.simplifyValues&&(P=f.simplifyValue(P,O)),r.resolveTagNames){var D=M===m.GPSIFD?p.gps:p.exif,N=D[C];N||(N=p.exif[C]),t.hasOwnProperty(N)||(t[N]=P)}else t.push({section:M,type:C,value:P})}}),j&&(s=E)):r.imageSize&&y.getSectionName(x).name==="SOF"&&(a=y.getSizeFromSOFSection(w))}),r.simplifyValues&&(f.castDegreeValues(v,b),f.castDateValues(v,b)),new g(u,t,a,l,o,c,s)}},Z.exports=d},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(n,Z,S){var y=n("./exif"),m=n("./date"),f=[{section:y.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:y.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],g=[{section:y.SubIFD,type:306,name:"ModifyDate"},{section:y.SubIFD,type:36867,name:"DateTimeOriginal"},{section:y.SubIFD,type:36868,name:"CreateDate"},{section:y.SubIFD,type:306,name:"ModifyDate"}];Z.exports={castDegreeValues:function(d,u){f.forEach(function(i){var r=d(i);if(r){var t=d({section:i.section,type:i.refType,name:i.refName}),a=t===i.posVal?1:-1,l=(r[0]+r[1]/60+r[2]/3600)*a;u(i,l)}})},castDateValues:function(d,u){g.forEach(function(i){var r=d(i);if(r){var t=m.parseExifDate(r);typeof t<"u"&&u(i,t)}})},simplifyValue:function(d,u){return Array.isArray(d)&&(d=d.map(function(i){return u===10||u===5?i[0]/i[1]:i}),d.length===1&&(d=d[0])),d}}},{"./date":55,"./exif":58}],62:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireDefault"),m=y(n("@babel/runtime/helpers/toConsumableArray")),f=function(r){return(0,m.default)(r).map(function(t){return t.charCodeAt(0)})},g=f("META-INF/mozilla.rsa"),d=f("[Content_Types].xml"),u=f("_rels/.rels");Z.exports=function(i){var r=i instanceof Uint8Array?i:new Uint8Array(i);if(!(r&&r.length>1))return null;var t=function(M,C){C=Object.assign({offset:0},C);for(var P=0;P<M.length;P++)if(C.mask){if(M[P]!==(C.mask[P]&r[P+C.offset]))return!1}else if(M[P]!==r[P+C.offset])return!1;return!0},a=function(M,C){return t(f(M),C)};if(t([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(t([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(t([71,73,70]))return{ext:"gif",mime:"image/gif"};if(t([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(t([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((t([73,73,42,0])||t([77,77,0,42]))&&t([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(t([73,73,42,0])||t([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(t([66,77]))return{ext:"bmp",mime:"image/bmp"};if(t([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(t([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(t([80,75,3,4])){if(t([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(t(g,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(a("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(a("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(a("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var l=function(M){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return M.findIndex(function(P,O,D){return O>=C&&D[O]===80&&D[O+1]===75&&D[O+2]===3&&D[O+3]===4})},o=0,c=!1,s=null;do{var p=o+30;if(c||(c=t(d,{offset:p})||t(u,{offset:p})),s||(a("word/",{offset:p})?s={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:a("ppt/",{offset:p})?s={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:a("xl/",{offset:p})&&(s={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),c&&s)return s;o=l(r,p)}while(o>=0);if(s)return s}if(t([80,75])&&(r[2]===3||r[2]===5||r[2]===7)&&(r[3]===4||r[3]===6||r[3]===8))return{ext:"zip",mime:"application/zip"};if(t([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(t([82,97,114,33,26,7])&&(r[6]===0||r[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(t([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(t([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(t([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(t([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(t([51,103,112,53])||t([0,0,0])&&t([102,116,121,112],{offset:4})&&(t([109,112,52,49],{offset:8})||t([109,112,52,50],{offset:8})||t([105,115,111,109],{offset:8})||t([105,115,111,50],{offset:8})||t([109,109,112,52],{offset:8})||t([77,52,86],{offset:8})||t([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(t([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(t([26,69,223,163])){var v=r.subarray(4,4100),b=v.findIndex(function(E,M,C){return C[M]===66&&C[M+1]===130});if(b!==-1){var x=b+3,w=function(M){return(0,m.default)(M).every(function(C,P){return v[x+P]===C.charCodeAt(0)})};if(w("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(w("webm"))return{ext:"webm",mime:"video/webm"}}}if(t([0,0,0,20,102,116,121,112,113,116,32,32])||t([102,114,101,101],{offset:4})||t([102,116,121,112,113,116,32,32],{offset:4})||t([109,100,97,116],{offset:4})||t([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(t([82,73,70,70])){if(t([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(t([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(t([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(t([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(t([0,0,1,186])||t([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(t([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var j=0;j<2&&j<r.length-16;j++){if(t([73,68,51],{offset:j})||t([255,226],{offset:j,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(t([255,228],{offset:j,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(t([255,248],{offset:j,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(t([255,240],{offset:j,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(t([102,116,121,112,77,52,65],{offset:4})||t([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(t([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(t([79,103,103,83]))return t([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:t([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:t([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:t([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:t([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(t([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(t([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(t([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(t([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(t([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(t([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((r[0]===67||r[0]===70)&&t([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(t([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(t([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(t([119,79,70,70])&&(t([0,1,0,0],{offset:4})||t([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(t([119,79,70,50])&&(t([0,1,0,0],{offset:4})||t([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(t([76,80],{offset:34})&&(t([0,0,1],{offset:8})||t([1,0,2],{offset:8})||t([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(t([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(t([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(t([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(t([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(t([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(t([37,33]))return{ext:"ps",mime:"application/postscript"};if(t([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(t([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(t([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(t([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(t([77,83,67,70])||t([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(t([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(t([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(t([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(t([31,160])||t([31,157]))return{ext:"Z",mime:"application/x-compress"};if(t([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(t([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(t([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(t([71],{offset:4})&&(t([71],{offset:192})||t([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(t([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(t([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(t([0,0,0,12,106,80,32,32,13,10,135,10])){if(t([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(t([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(t([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(t([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(t([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(a("<?xml "))return{ext:"xml",mime:"application/xml"};if(t([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(t([102,116,121,112],{offset:4})){if(t([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(t([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(t([104,101,105,99],{offset:8})||t([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(t([104,101,118,99],{offset:8})||t([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return t([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(n,Z,S){var y=n("is-callable"),m=Object.prototype.toString,f=Object.prototype.hasOwnProperty,g=function(t,a,l){for(var o=0,c=t.length;o<c;o++)f.call(t,o)&&(l==null?a(t[o],o,t):a.call(l,t[o],o,t))},d=function(t,a,l){for(var o=0,c=t.length;o<c;o++)l==null?a(t.charAt(o),o,t):a.call(l,t.charAt(o),o,t)},u=function(t,a,l){for(var o in t)f.call(t,o)&&(l==null?a(t[o],o,t):a.call(l,t[o],o,t))},i=function(t,a,l){if(!y(a))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=l),m.call(t)==="[object Array]"?g(t,a,o):typeof t=="string"?d(t,a,o):u(t,a,o)};Z.exports=i},{"is-callable":77}],64:[function(n,Z,S){function y(d,u,i,a){var t=0,a=a===void 0?{}:a,l=a.loop===void 0?null:a.loop,o=a.palette===void 0?null:a.palette;if(u<=0||i<=0||u>65535||i>65535)throw new Error("Width/Height invalid.");function c(E){var M=E.length;if(M<2||M>256||M&M-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return M}d[t++]=71,d[t++]=73,d[t++]=70,d[t++]=56,d[t++]=57,d[t++]=97;var s=0,p=0;if(o!==null){for(var v=c(o);v>>=1;)++s;if(v=1<<s,--s,a.background!==void 0){if(p=a.background,p>=v)throw new Error("Background index out of range.");if(p===0)throw new Error("Background index explicitly passed as 0.")}}if(d[t++]=u&255,d[t++]=u>>8&255,d[t++]=i&255,d[t++]=i>>8&255,d[t++]=(o!==null?128:0)|s,d[t++]=p,d[t++]=0,o!==null)for(var b=0,x=o.length;b<x;++b){var w=o[b];d[t++]=w>>16&255,d[t++]=w>>8&255,d[t++]=w&255}if(l!==null){if(l<0||l>65535)throw new Error("Loop count invalid.");d[t++]=33,d[t++]=255,d[t++]=11,d[t++]=78,d[t++]=69,d[t++]=84,d[t++]=83,d[t++]=67,d[t++]=65,d[t++]=80,d[t++]=69,d[t++]=50,d[t++]=46,d[t++]=48,d[t++]=3,d[t++]=1,d[t++]=l&255,d[t++]=l>>8&255,d[t++]=0}var j=!1;this.addFrame=function(E,M,C,P,O,D){if(j===!0&&(--t,j=!1),D=D===void 0?{}:D,E<0||M<0||E>65535||M>65535)throw new Error("x/y invalid.");if(C<=0||P<=0||C>65535||P>65535)throw new Error("Width/Height invalid.");if(O.length<C*P)throw new Error("Not enough pixels for the frame size.");var N=!0,R=D.palette;if(R==null&&(N=!1,R=o),R==null)throw new Error("Must supply either a local or global palette.");for(var I=c(R),H=0;I>>=1;)++H;I=1<<H;var ee=D.delay===void 0?0:D.delay,fe=D.disposal===void 0?0:D.disposal;if(fe<0||fe>3)throw new Error("Disposal out of range.");var xe=!1,q=0;if(D.transparent!==void 0&&D.transparent!==null&&(xe=!0,q=D.transparent,q<0||q>=I))throw new Error("Transparent color index.");if((fe!==0||xe||ee!==0)&&(d[t++]=33,d[t++]=249,d[t++]=4,d[t++]=fe<<2|(xe===!0?1:0),d[t++]=ee&255,d[t++]=ee>>8&255,d[t++]=q,d[t++]=0),d[t++]=44,d[t++]=E&255,d[t++]=E>>8&255,d[t++]=M&255,d[t++]=M>>8&255,d[t++]=C&255,d[t++]=C>>8&255,d[t++]=P&255,d[t++]=P>>8&255,d[t++]=N===!0?128|H-1:0,N===!0)for(var V=0,K=R.length;V<K;++V){var J=R[V];d[t++]=J>>16&255,d[t++]=J>>8&255,d[t++]=J&255}return t=m(d,t,H<2?2:H,O),t},this.end=function(){return j===!1&&(d[t++]=59,j=!0),t},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(E){d=E},this.getOutputBufferPosition=function(){return t},this.setOutputBufferPosition=function(E){t=E}}function m(d,u,i,r){d[u++]=i;var t=u++,a=1<<i,l=a-1,o=a+1,c=o+1,s=i+1,p=0,v=0;function b(D){for(;p>=D;)d[u++]=v&255,v>>=8,p-=8,u===t+256&&(d[t]=255,t=u++)}function x(D){v|=D<<p,p+=s,b(8)}var w=r[0]&l,j={};x(a);for(var E=1,M=r.length;E<M;++E){var C=r[E]&l,P=w<<8|C,O=j[P];if(O===void 0){for(v|=w<<p,p+=s;p>=8;)d[u++]=v&255,v>>=8,p-=8,u===t+256&&(d[t]=255,t=u++);c===4096?(x(a),c=o+1,s=i+1,j={}):(c>=1<<s&&++s,j[P]=c++),w=C}else w=O}return x(w),x(o),b(1),t+1===u?d[t]=0:(d[t]=u-t-1,d[u++]=0),u}function f(d){var u=0;if(d[u++]!==71||d[u++]!==73||d[u++]!==70||d[u++]!==56||(d[u++]+1&253)!==56||d[u++]!==97)throw new Error("Invalid GIF 87a/89a header.");var i=d[u++]|d[u++]<<8,r=d[u++]|d[u++]<<8,t=d[u++],a=t>>7,l=t&7,o=1<<l+1;d[u++],d[u++];var c=null,s=null;a&&(c=u,s=o,u+=o*3);var p=!0,v=[],b=0,x=null,w=0,j=null;for(this.width=i,this.height=r;p&&u<d.length;)switch(d[u++]){case 33:switch(d[u++]){case 255:if(d[u]!==11||d[u+1]==78&&d[u+2]==69&&d[u+3]==84&&d[u+4]==83&&d[u+5]==67&&d[u+6]==65&&d[u+7]==80&&d[u+8]==69&&d[u+9]==50&&d[u+10]==46&&d[u+11]==48&&d[u+12]==3&&d[u+13]==1&&d[u+16]==0)u+=14,j=d[u++]|d[u++]<<8,u++;else for(u+=12;;){var E=d[u++];if(!(E>=0))throw Error("Invalid block size");if(E===0)break;u+=E}break;case 249:if(d[u++]!==4||d[u+4]!==0)throw new Error("Invalid graphics extension block.");var M=d[u++];b=d[u++]|d[u++]<<8,x=d[u++],M&1||(x=null),w=M>>2&7,u++;break;case 254:for(;;){var E=d[u++];if(!(E>=0))throw Error("Invalid block size");if(E===0)break;u+=E}break;default:throw new Error("Unknown graphic control label: 0x"+d[u-1].toString(16))}break;case 44:var C=d[u++]|d[u++]<<8,P=d[u++]|d[u++]<<8,O=d[u++]|d[u++]<<8,D=d[u++]|d[u++]<<8,N=d[u++],R=N>>7,I=N>>6&1,H=N&7,ee=1<<H+1,fe=c,xe=s,q=!1;if(R){var q=!0;fe=u,xe=ee,u+=ee*3}var V=u;for(u++;;){var E=d[u++];if(!(E>=0))throw Error("Invalid block size");if(E===0)break;u+=E}v.push({x:C,y:P,width:O,height:D,has_local_palette:q,palette_offset:fe,palette_size:xe,data_offset:V,data_length:u-V,transparent_index:x,interlaced:!!I,delay:b,disposal:w});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+d[u-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return j},this.frameInfo=function(K){if(K<0||K>=v.length)throw new Error("Frame index out of range.");return v[K]},this.decodeAndBlitFrameBGRA=function(K,J){var oe=this.frameInfo(K),_e=oe.width*oe.height,Oe=new Uint8Array(_e);g(d,oe.data_offset,Oe,_e);var De=oe.palette_offset,Te=oe.transparent_index;Te===null&&(Te=256);var Be=oe.width,Re=i-Be,ve=Be,ge=(oe.y*i+oe.x)*4,Ae=((oe.y+oe.height)*i+oe.x)*4,Ie=ge,de=Re*4;oe.interlaced===!0&&(de+=i*4*7);for(var ae=8,ne=0,Me=Oe.length;ne<Me;++ne){var pe=Oe[ne];if(ve===0&&(Ie+=de,ve=Be,Ie>=Ae&&(de=Re*4+i*4*(ae-1),Ie=ge+(Be+Re)*(ae<<1),ae>>=1)),pe===Te)Ie+=4;else{var le=d[De+pe*3],re=d[De+pe*3+1],Le=d[De+pe*3+2];J[Ie++]=Le,J[Ie++]=re,J[Ie++]=le,J[Ie++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(K,J){var oe=this.frameInfo(K),_e=oe.width*oe.height,Oe=new Uint8Array(_e);g(d,oe.data_offset,Oe,_e);var De=oe.palette_offset,Te=oe.transparent_index;Te===null&&(Te=256);var Be=oe.width,Re=i-Be,ve=Be,ge=(oe.y*i+oe.x)*4,Ae=((oe.y+oe.height)*i+oe.x)*4,Ie=ge,de=Re*4;oe.interlaced===!0&&(de+=i*4*7);for(var ae=8,ne=0,Me=Oe.length;ne<Me;++ne){var pe=Oe[ne];if(ve===0&&(Ie+=de,ve=Be,Ie>=Ae&&(de=Re*4+i*4*(ae-1),Ie=ge+(Be+Re)*(ae<<1),ae>>=1)),pe===Te)Ie+=4;else{var le=d[De+pe*3],re=d[De+pe*3+1],Le=d[De+pe*3+2];J[Ie++]=le,J[Ie++]=re,J[Ie++]=Le,J[Ie++]=255}--ve}}}function g(d,u,i,r){for(var t=d[u++],a=1<<t,l=a+1,o=l+1,c=t+1,s=(1<<c)-1,p=0,v=0,b=0,x=d[u++],w=new Int32Array(4096),j=null;;){for(;p<16&&x!==0;)v|=d[u++]<<p,p+=8,x===1?x=d[u++]:--x;if(p<c)break;var E=v&s;if(v>>=c,p-=c,E===a){o=l+1,c=t+1,s=(1<<c)-1,j=null;continue}else if(E===l)break;for(var M=E<o?E:j,C=0,P=M;P>a;)P=w[P]>>8,++C;var O=P,D=b+C+(M!==E?1:0);if(D>r){console.log("Warning, gif stream longer than expected.");return}i[b++]=O,b+=C;var N=b;for(M!==E&&(i[b++]=O),P=M;C--;)P=w[P],i[--N]=P&255,P>>=8;j!==null&&o<4096&&(w[o++]=j<<8|O,o>=s+1&&c<12&&(++c,s=s<<1|1)),j=E}return b!==r&&console.log("Warning, gif stream shorter than expected."),i}try{S.GifWriter=y,S.GifReader=f}catch{}},{}],65:[function(n,Z,S){(function(y){class m{constructor(...g){if(g.length===0)throw new Error("constructor requires parameters");const d=g[0];if(d!==null&&typeof d=="object")if(d instanceof m){const u=d.bitmap;this.bitmap={width:u.width,height:u.height,data:new y(u.width*u.height*4)},u.data.copy(this.bitmap.data)}else if(d.width&&d.height&&d.data)this.bitmap=d;else throw new Error("unrecognized constructor parameters");else if(typeof d=="number"&&typeof g[1]=="number"){const u=d,i=g[1],r=g[2];this.bitmap={width:u,height:i},y.isBuffer(r)?this.bitmap.data=r:(this.bitmap.data=new y(u*i*4),typeof r=="number"&&this.fillRGBA(r))}else throw new Error("unrecognized constructor parameters")}blit(g,d,u,i,r,t,a){if(i+t>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(d+t>g.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(r+a>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(u+a>g.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const l=this.bitmap.data,o=g.bitmap.data,c=this.bitmap.width*4,s=g.bitmap.width*4,p=t*4;let v=r*c+i*4,b=u*s+d*4;for(;--a>=0;)l.copy(o,b,v,v+p),v+=c,b+=s;return this}fillRGBA(g){const d=this.bitmap.data,u=this.bitmap.height*4;let i=0;for(;i<u;)d.writeUInt32BE(g,i),i+=4;for(;i<d.length;)d.copy(d,i,0,u),i+=u;return this}getRGBA(g,d){const u=(d*this.bitmap.width+g)*4;return this.bitmap.data.readUInt32BE(u)}getRGBASet(){const g=new Set,d=this.bitmap.data;for(let u=0;u<d.length;u+=4)g.add(d.readUInt32BE(u,!0));return g}greyscale(){const g=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(d,u,i)=>{const r=Math.round(.299*g[i]+.587*g[i+1]+.114*g[i+2]);g[i]=r,g[i+1]=r,g[i+2]=r}),this}reframe(g,d,u,i,r){const t=g<0?0:g,a=d<0?0:d,l=u+t>this.bitmap.width?this.bitmap.width-t:u,o=i+a>this.bitmap.height?this.bitmap.height-a:i,c=g<0?-g:0,s=d<0?-d:0;let p;if(r===void 0){if(t!==g||a!=d||l!==u||o!==i)throw new GifError("fillRGBA required for this reframing");p=new m(u,i)}else p=new m(u,i,r);return this.blit(p,c,s,t,a,l,o),this.bitmap=p.bitmap,this}scale(g){if(g===1)return;if(!Number.isInteger(g)||g<1)throw new Error("the scale must be an integer >= 1");const d=this.bitmap.width,u=this.bitmap.height,i=d*g*4,r=this.bitmap.data,t=new y(u*i*g);let a=0,l,o=0;for(let c=0;c<u;++c){l=o;for(let s=0;s<d;++s){const p=r.readUInt32BE(a,!0);for(let v=0;v<g;++v)t.writeUInt32BE(p,o),o+=4;a+=4}for(let s=1;s<g;++s)t.copy(t,o,l,o),o+=i,l+=i}return this.bitmap={width:d*g,height:u*g,data:t},this}scanAllCoords(g){const d=this.bitmap.width,u=this.bitmap.data.length;let i=0,r=0;for(let t=0;t<u;t+=4)g(i,r,t),++i===d&&(i=0,++r)}scanAllIndexes(g){const d=this.bitmap.data.length;for(let u=0;u<d;u+=4)g(u)}}Z.exports=m}).call(this,n("buffer").Buffer)},{buffer:48}],66:[function(n,Z,S){class y{constructor(g,d,u){this.width=u.width,this.height=u.height,this.loops=u.loops,this.usesTransparency=u.usesTransparency,this.colorScope=u.colorScope,this.frames=d,this.buffer=g}}y.GlobalColorsPreferred=0,y.GlobalColorsOnly=1,y.LocalColorsOnly=2;class m extends Error{constructor(g){super(g),g instanceof Error&&(this.stack="Gif"+g.stack)}}S.Gif=y,S.GifError=m},{}],67:[function(n,Z,S){(function(y,m){const f=n("omggif"),{Gif:g,GifError:d}=n("./gif");let u;y.nextTick(()=>{u=n("./gifutil")});const{GifFrame:i}=n("./gifframe"),r=200,t=100;class a{constructor(E={}){this._transparentRGB=null,typeof E.transparentRGB=="number"&&E.transparentRGB!==0&&(this._transparentRGBA=E.transparentRGB*256),this._testInitialBufferSize=0}decodeGif(E){try{let M;try{M=new f.GifReader(E)}catch(D){throw new d(D)}const C=M.numFrames(),P=[],O={width:M.width,height:M.height,loops:M.loopCount()};O.usesTransparency=!1;for(let D=0;D<C;++D){const N=this._decodeFrame(M,D,O.usesTransparency);P.push(N.frame),N.usesTransparency&&(O.usesTransparency=!0)}return Promise.resolve(new g(E,P,O))}catch(M){return Promise.reject(M)}}encodeGif(E,M={}){try{if(E===null||E.length===0)throw new d("there are no frames");const C=u.getMaxDimensions(E);return M=Object.assign({},M),M.width=C.maxWidth,M.height=C.maxHeight,M.loops=M.loops||0,M.colorScope=M.colorScope||g.GlobalColorsPreferred,Promise.resolve(this._encodeGif(E,M))}catch(C){return Promise.reject(C)}}_decodeFrame(E,M,C){let P,O;try{if(P=E.frameInfo(M),O=new m(E.width*E.height*4),E.decodeAndBlitFrameRGBA(M,O),P.width!==E.width||P.height!==E.height){if(P.y&&(O=O.slice(P.y*E.width*4)),E.width>P.width)for(let R=0;R<P.height;++R)O.copy(O,R*P.width*4,(P.x+R*E.width)*4,(P.x+R*E.width)*4+P.width*4);O=O.slice(0,P.width*P.height*4)}}catch(R){throw new d(R)}let D=!1;if(this._transparentRGBA===null){if(!C)for(let R=3;R<O.length;R+=4)O[R]===0&&(D=!0,R=O.length)}else for(let R=3;R<O.length;R+=4)O[R]===0&&(O.writeUInt32BE(this._transparentRGBA,R-3),D=!0);return{frame:new i(P.width,P.height,O,{xOffset:P.x,yOffset:P.y,disposalMethod:P.disposal,interlaced:P.interlaced,delayCentisecs:P.delay}),usesTransparency:D}}_encodeGif(E,M){let C;if(M.colorScope===g.LocalColorsOnly)C=u.getColorInfo(E,0);else if(C=u.getColorInfo(E,256),!C.colors){if(M.colorScope===g.GlobalColorsOnly)throw new d("Too many color indexes for global color table");M.colorScope=g.LocalColorsOnly}M.usesTransparency=C.usesTransparency;const P=C.palettes;return M.colorScope===g.LocalColorsOnly?s(E,M,2e3,P):c(E,M,2e3,C)}_getSizeEstimateGlobal(E,M){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let C=r+3*256;const P=x(E);return M.forEach(O=>{C+=v(O,P)}),C}_getSizeEstimateLocal(E,M){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let C=r;for(let P=0;P<M.length;++P){const O=E[P],D=x(O);C+=v(M[P],D)}return C}}S.GifCodec=a;function l(j,E){const M=j.indexOf(E);return M===-1?null:M}function o(j,E){for(var M=0,C=j.length-1,P;M<=C;)if(P=Math.floor((M+C)/2),j[P]>E)C=P-1;else if(j[P]<E)M=P+1;else return P;return null}function c(j,E,M,C){const P={colors:C.colors.slice(),usesTransparency:C.usesTransparency};p(P);const O={palette:P.colors,loop:E.loops};let D=new m(M),N;try{N=new f.GifWriter(D,E.width,E.height,O)}catch(R){throw new d(R)}for(let R=0;R<j.length;++R)D=w(N,R,j[R],C,!1);return new g(D.slice(0,N.end()),j,E)}function s(j,E,M,C){const P={loop:E.loops};let O=new m(M),D;try{D=new f.GifWriter(O,E.width,E.height,P)}catch(N){throw new d(N)}for(let N=0;N<j.length;++N)O=w(D,N,j[N],C[N],!0);return new g(O.slice(0,D.end()),j,E)}function p(j){const E=j.colors;j.usesTransparency&&E.push(0);const M=E.length;let C=2;for(;M>C;)C<<=1;E.length=C,E.fill(0,M)}function v(j,E){let M=j.bitmap.width*j.bitmap.height;return M=Math.ceil(M*E/8),M+=Math.ceil(M/255),t+M+3*256}function b(j,E,M){const C=M.colors,P=C.length<=8?l:o,O=E.bitmap.data,D=new m(O.length/4);let N=C.length,R=0,I=0;for(;R<O.length;){if(O[R+3]!==0){const H=O.readUInt32BE(R,!0)>>8&16777215;D[I]=P(C,H)}else D[I]=N;R+=4,++I}if(M.usesTransparency){if(N===256)throw new d(`Frame ${j} already has 256 colorsand so can't use transparency`)}else N=null;return{buffer:D,transparentIndex:N}}function x(j){let E=j.indexCount,M=0;for(--E;E;)++M,E>>=1;return M>0?M:1}function w(j,E,M,C,P){if(M.interlaced)throw new d("writing interlaced GIFs is not supported");const O=b(E,M,C),D={delay:M.delayCentisecs,disposal:M.disposalMethod,transparent:O.transparentIndex};P&&(p(C),D.palette=C.colors);try{let N=j.getOutputBuffer(),R=j.getOutputBufferPosition(),I,H=!0;for(;H;)if(I=j.addFrame(M.xOffset,M.yOffset,M.bitmap.width,M.bitmap.height,O.buffer,D),H=!1,I>=N.length-1){const ee=new m(N.length*1.5);N.copy(ee),j.setOutputBuffer(ee),j.setOutputBufferPosition(R),N=ee,H=!0}return N}catch(N){throw new d(N)}}}).call(this,n("_process"),n("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(n,Z,S){const y=n("./bitmapimage");n("./gif");class m extends y{constructor(...g){if(super(...g),g[0]instanceof m){const d=g[0];this.xOffset=d.xOffset,this.yOffset=d.yOffset,this.disposalMethod=d.disposalMethod,this.delayCentisecs=d.delayCentisecs,this.interlaced=d.interlaced}else{const d=g[g.length-1];let u={};typeof d=="object"&&!(d instanceof y)&&(u=d),this.xOffset=u.xOffset||0,this.yOffset=u.yOffset||0,this.disposalMethod=u.disposalMethod!==void 0?u.disposalMethod:m.DisposeToBackgroundColor,this.delayCentisecs=u.delayCentisecs||8,this.interlaced=u.interlaced||!1}}getPalette(){const g=new Set,d=this.bitmap.data;let u=0,i=!1;for(;u<d.length;){if(d[u+3]===0)i=!0;else{const l=d.readUInt32BE(u,!0)>>8&16777215;g.add(l)}u+=4}const r=new Array(g.size),t=g.values();for(u=0;u<r.length;++u)r[u]=t.next().value;r.sort((l,o)=>l-o);let a=r.length;return i&&++a,{colors:r,usesTransparency:i,indexCount:a}}}m.DisposeToAnything=0,m.DisposeNothing=1,m.DisposeToBackgroundColor=2,m.DisposeToPrevious=3,S.GifFrame=m},{"./bitmapimage":65,"./gif":66}],69:[function(n,Z,S){(function(y){const m=n("fs"),f=n("image-q"),g=n("./bitmapimage"),{GifFrame:d}=n("./gifframe"),{GifError:u}=n("./gif"),{GifCodec:i}=n("./gifcodec"),r=[".jpg",".jpeg",".png",".bmp"],t=new i;S.cloneFrames=function(c){let s=[];return c.forEach(p=>{s.push(new d(p))}),s},S.getColorInfo=function(c,s){let p=!1;const v=[];for(let E=0;E<c.length;++E){let M=c[E].getPalette();if(M.usesTransparency&&(p=!0),M.indexCount>256)throw new u(`Frame ${E} uses more than 256 color indexes`);v.push(M)}if(s===0)return{usesTransparency:p,palettes:v};const b=new Set;v.forEach(E=>{E.colors.forEach(M=>{b.add(M)})});let x=b.size;if(p&&++x,s&&x>s)return{usesTransparency:p,palettes:v};const w=new Array(b.size),j=b.values();for(let E=0;E<w.length;++E)w[E]=j.next().value;return w.sort((E,M)=>E-M),{colors:w,indexCount:x,usesTransparency:p,palettes:v}},S.copyAsJimp=function(c,s){return S.shareAsJimp(c,new g(s))},S.getMaxDimensions=function(c){let s=0,p=0;return c.forEach(v=>{const b=v.xOffset+v.bitmap.width;b>s&&(s=b);const x=v.yOffset+v.bitmap.height;x>p&&(p=x)}),{maxWidth:s,maxHeight:p}},S.quantizeDekker=function(c,s,p){s=s||256,a(c,"NeuQuantFloat",s,0,p)},S.quantizeSorokin=function(c,s,p,v){s=s||256,p=p||"min-pop";let b;switch(p){case"min-pop":b=2;break;case"top-pop":b=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${p}'`)}a(c,"RGBQuant",s,b,v)},S.quantizeWu=function(c,s,p,v){if(s=s||256,p=p||5,p<1||p>8)throw new Error("Invalid quantization quality");a(c,"WuQuant",s,p,v)},S.read=function(c,s){return s=s||t,y.isBuffer(c)?s.decodeGif(c):l(c).then(p=>s.decodeGif(p))},S.shareAsJimp=function(c,s){const p=new c(s.bitmap.width,s.bitmap.height,0);return p.bitmap.data=s.bitmap.data,p},S.write=function(c,s,p,v){v=v||t;const b=c.match(/\.[a-zA-Z]+$/);if(b!==null&&r.includes(b[0].toLowerCase()))throw new Error(`GIF '${c}' has an unexpected suffix`);return v.encodeGif(s,p).then(x=>o(c,x.buffer).then(()=>x))};function a(c,s,p,v,b){const x=Array.isArray(c)?c:[c],w=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(b){if(w.indexOf(b.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${b.ditherAlgorithm}'`);b.serpentine===void 0&&(b.serpentine=!0),b.minimumColorDistanceToDither===void 0&&(b.minimumColorDistanceToDither=0),b.calculateErrorLikeGIMP===void 0&&(b.calculateErrorLikeGIMP=!1)}const j=new f.distance.Euclidean,E=new f.palette[s](j,p,v);let M;b?M=new f.image.ErrorDiffusionArray(j,f.image.ErrorDiffusionArrayKernel[b.ditherAlgorithm],b.serpentine,b.minimumColorDistanceToDither,b.calculateErrorLikeGIMP):M=new f.image.NearestColor(j);const C=[];x.forEach(O=>{const D=O.bitmap.data,N=new ArrayBuffer(D.length),R=new Uint32Array(N);for(let H=0,ee=0;H<D.length;H+=4,++ee)R[ee]=D.readUInt32LE(H,!0);const I=f.utils.PointContainer.fromUint32Array(R,O.bitmap.width,O.bitmap.height);E.sample(I),C.push(I)});const P=E.quantize();for(let O=0;O<x.length;++O){const D=x[O].bitmap.data,R=M.quantize(C[O],P).toUint32Array();for(let I=0,H=0;I<D.length;I+=4,++H)D.writeUInt32LE(R[H],I)}}function l(c){return new Promise((s,p)=>{m.readFile(c,(v,b)=>v?p(v):s(b))})}function o(c,s){return new Promise((p,v)=>{m.writeFile(c,s,b=>b?v(b):p())})}}).call(this,{isBuffer:n("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(n,Z,S){const y=n("./bitmapimage"),{Gif:m,GifError:f}=n("./gif"),{GifCodec:g}=n("./gifcodec"),{GifFrame:d}=n("./gifframe"),u=n("./gifutil");Z.exports={BitmapImage:y,Gif:m,GifCodec:g,GifFrame:d,GifUtil:u,GifError:f}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(n,Z,S){(function(y){var m;typeof Ye<"u"?m=Ye:typeof y<"u"?m=y:typeof self<"u"?m=self:m={},Z.exports=m}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{})},{}],72:[function(n,Z,S){var y=n("http"),m=n("url"),f=Z.exports;for(var g in y)y.hasOwnProperty(g)&&(f[g]=y[g]);f.request=function(u,i){return u=d(u),y.request.call(this,u,i)},f.get=function(u,i){return u=d(u),y.get.call(this,u,i)};function d(u){if(typeof u=="string"&&(u=m.parse(u)),u.protocol||(u.protocol="https:"),u.protocol!=="https:")throw new Error('Protocol "'+u.protocol+'" not supported. Expected "https:"');return u}},{http:156,url:180}],73:[function(n,Z,S){S.read=function(y,m,f,g,d){var u,i,r=d*8-g-1,t=(1<<r)-1,a=t>>1,l=-7,o=f?d-1:0,c=f?-1:1,s=y[m+o];for(o+=c,u=s&(1<<-l)-1,s>>=-l,l+=r;l>0;u=u*256+y[m+o],o+=c,l-=8);for(i=u&(1<<-l)-1,u>>=-l,l+=g;l>0;i=i*256+y[m+o],o+=c,l-=8);if(u===0)u=1-a;else{if(u===t)return i?NaN:(s?-1:1)*(1/0);i=i+Math.pow(2,g),u=u-a}return(s?-1:1)*i*Math.pow(2,u-g)},S.write=function(y,m,f,g,d,u){var i,r,t,a=u*8-d-1,l=(1<<a)-1,o=l>>1,c=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,s=g?0:u-1,p=g?1:-1,v=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(r=isNaN(m)?1:0,i=l):(i=Math.floor(Math.log(m)/Math.LN2),m*(t=Math.pow(2,-i))<1&&(i--,t*=2),i+o>=1?m+=c/t:m+=c*Math.pow(2,1-o),m*t>=2&&(i++,t/=2),i+o>=l?(r=0,i=l):i+o>=1?(r=(m*t-1)*Math.pow(2,d),i=i+o):(r=m*Math.pow(2,o-1)*Math.pow(2,d),i=0));d>=8;y[f+s]=r&255,s+=p,r/=256,d-=8);for(i=i<<d|r,a+=d;a>0;y[f+s]=i&255,s+=p,i/=256,a-=8);y[f+s-p]|=v*128}},{}],74:[function(n,Z,S){(function(m,f){typeof S=="object"&&typeof Z=="object"?Z.exports=f():typeof S=="object"?S.iq=f():m.iq=f()})(this,function(){return function(y){var m={};function f(g){if(m[g])return m[g].exports;var d=m[g]={exports:{},id:g,loaded:!1};return y[g].call(d.exports,d,d.exports,f),d.loaded=!0,d.exports}return f.m=y,f.c=m,f.p="",f(0)}([function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var g=f(1);m.constants=g;var d=f(3);m.conversion=d;var u=f(12);m.distance=u;var i=f(20);m.palette=i;var r=f(30);m.image=r;var t=f(35);m.quality=t;var a=f(37);m.utils=a},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 */var g=f(2);m.bt709=g},function(y,m){var f;(function(u){u[u.RED=.2126]="RED",u[u.GREEN=.7152]="GREEN",u[u.BLUE=.0722]="BLUE",u[u.WHITE=1]="WHITE"})(f||(f={})),m.Y=f;var g;(function(u){u[u.RED=.64]="RED",u[u.GREEN=.3]="GREEN",u[u.BLUE=.15]="BLUE",u[u.WHITE=.3127]="WHITE"})(g||(g={})),m.x=g;var d;(function(u){u[u.RED=.33]="RED",u[u.GREEN=.6]="GREEN",u[u.BLUE=.06]="BLUE",u[u.WHITE=.329]="WHITE"})(d||(d={})),m.y=d},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var g=f(4);m.rgb2xyz=g.rgb2xyz;var d=f(5);m.rgb2hsl=d.rgb2hsl;var u=f(7);m.rgb2lab=u.rgb2lab;var i=f(9);m.lab2xyz=i.lab2xyz;var r=f(10);m.lab2rgb=r.lab2rgb;var t=f(8);m.xyz2lab=t.xyz2lab;var a=f(11);m.xyz2rgb=a.xyz2rgb},function(y,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 */function f(d){return d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92}function g(d,u,i){return d=f(d/255),u=f(u/255),i=f(i/255),{x:d*.4124+u*.3576+i*.1805,y:d*.2126+u*.7152+i*.0722,z:d*.0193+u*.1192+i*.9505}}m.rgb2xyz=g},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 */var g=f(6);function d(u,i,r){var t=g.min3(u,i,r),a=g.max3(u,i,r),l=a-t,o=(t+a)/510,c=0;o>0&&o<1&&(c=l/(o<.5?a+t:510-a-t));var s=0;return l>0&&(a===u?s=(i-r)/l:a===i?s=2+(r-u)/l:s=4+(u-i)/l,s*=60,s<0&&(s+=360)),{h:s,s:c,l:o}}m.rgb2hsl=d},function(y,m){function f(a){return a*(Math.PI/180)}m.degrees2radians=f;function g(a,l,o){var c=a;return c<l&&(c=l),c<o&&(c=o),c}m.max3=g;function d(a,l,o){var c=a;return c>l&&(c=l),c>o&&(c=o),c}m.min3=d;function u(a,l,o){return a>o&&(a=o),a<l&&(a=l),a|0}m.intInRange=u;function i(a){return a=Math.round(a),a>255?a=255:a<0&&(a=0),a}m.inRange0to255Rounded=i;function r(a){return a>255?a=255:a<0&&(a=0),a}m.inRange0to255=r;function t(a,l){var o=typeof a[0],c;if(o==="number"||o==="string"){for(var s=Object.create(null),p=0,v=a.length;p<v;p++){var b=a[p];s[b]||s[b]===0||(s[b]=p)}c=a.sort(function(w,j){return l(w,j)||s[w]-s[j]})}else{var x=a.slice(0);c=a.sort(function(w,j){return l(w,j)||x.indexOf(w)-x.indexOf(j)})}return c}m.stableSort=t},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 */var g=f(4),d=f(8);function u(i,r,t){var a=g.rgb2xyz(i,r,t);return d.xyz2lab(a.x,a.y,a.z)}m.rgb2lab=u},function(y,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 */var f=.95047,g=1,d=1.08883;function u(r){return r>.008856?Math.pow(r,1/3):7.787*r+16/116}function i(r,t,a){if(r=u(r/f),t=u(t/g),a=u(a/d),116*t-16<0)throw new Error("xxx");return{L:Math.max(0,116*t-16),a:500*(r-t),b:200*(t-a)}}m.xyz2lab=i},function(y,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 */var f=.95047,g=1,d=1.08883;function u(r){return r>.206893034?Math.pow(r,3):(r-16/116)/7.787}function i(r,t,a){var l=(r+16)/116,o=t/500+l,c=l-a/200;return{x:f*u(o),y:g*u(l),z:d*u(c)}}m.lab2xyz=i},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 */var g=f(9),d=f(11);function u(i,r,t){var a=g.lab2xyz(i,r,t);return d.xyz2rgb(a.x,a.y,a.z)}m.lab2rgb=u},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 */var g=f(6);function d(i){return i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i}function u(i,r,t){var a=d(i*3.2406+r*-1.5372+t*-.4986),l=d(i*-.9689+r*1.8758+t*.0415),o=d(i*.0557+r*-.204+t*1.057);return{r:g.inRange0to255Rounded(a*255),g:g.inRange0to255Rounded(l*255),b:g.inRange0to255Rounded(o*255)}}m.xyz2rgb=u},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var g=f(13);m.AbstractDistanceCalculator=g.AbstractDistanceCalculator;var d=f(14);m.CIE94Textiles=d.CIE94Textiles,m.CIE94GraphicArts=d.CIE94GraphicArts;var u=f(15);m.CIEDE2000=u.CIEDE2000;var i=f(16);m.CMETRIC=i.CMETRIC;var r=f(17);m.AbstractEuclidean=r.AbstractEuclidean,m.Euclidean=r.Euclidean,m.EuclideanRgbQuantWOAlpha=r.EuclideanRgbQuantWOAlpha,m.EuclideanRgbQuantWithAlpha=r.EuclideanRgbQuantWithAlpha;var t=f(18);m.AbstractManhattan=t.AbstractManhattan,m.Manhattan=t.Manhattan,m.ManhattanSRGB=t.ManhattanSRGB,m.ManhattanNommyde=t.ManhattanNommyde;var a=f(19);m.PNGQUANT=a.PNGQUANT},function(y,m){var f=function(){function g(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return g.prototype.setWhitePoint=function(d,u,i,r){this._whitePoint={r:d>0?255/d:0,g:u>0?255/u:0,b:i>0?255/i:0,a:r>0?255/r:0},this._maxDistance=this.calculateRaw(d,u,i,r,0,0,0,0)},g.prototype.calculateNormalized=function(d,u){return this.calculateRaw(d.r,d.g,d.b,d.a,u.r,u.g,u.b,u.a)/this._maxDistance},g.prototype._setDefaults=function(){},g}();m.AbstractDistanceCalculator=f},function(y,m,f){var g=this&&this.__extends||function(l,o){for(var c in o)o.hasOwnProperty(c)&&(l[c]=o[c]);function s(){this.constructor=l}l.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 */var d=f(13),u=f(7),i=f(6),r=function(l){g(o,l);function o(){l.apply(this,arguments)}return o.prototype.calculateRaw=function(c,s,p,v,b,x,w,j){var E=u.rgb2lab(i.inRange0to255(c*this._whitePoint.r),i.inRange0to255(s*this._whitePoint.g),i.inRange0to255(p*this._whitePoint.b)),M=u.rgb2lab(i.inRange0to255(b*this._whitePoint.r),i.inRange0to255(x*this._whitePoint.g),i.inRange0to255(w*this._whitePoint.b)),C=E.L-M.L,P=E.a-M.a,O=E.b-M.b,D=Math.sqrt(E.a*E.a+E.b*E.b),N=Math.sqrt(M.a*M.a+M.b*M.b),R=D-N,I=P*P+O*O-R*R;I=I<0?0:Math.sqrt(I);var H=(j-v)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(C/this._Kl,2)+Math.pow(R/(1+this._K1*D),2)+Math.pow(I/(1+this._K2*D),2)+Math.pow(H,2))},o}(d.AbstractDistanceCalculator);m.AbstractCIE94=r;var t=function(l){g(o,l);function o(){l.apply(this,arguments)}return o.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=.25*50/255},o}(r);m.CIE94Textiles=t;var a=function(l){g(o,l);function o(){l.apply(this,arguments)}return o.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=.25*100/255},o}(r);m.CIE94GraphicArts=a},function(y,m,f){var g=this&&this.__extends||function(t,a){for(var l in a)a.hasOwnProperty(l)&&(t[l]=a[l]);function o(){this.constructor=t}t.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 */var d=f(13),u=f(7),i=f(6),r=function(t){g(a,t);function a(){t.apply(this,arguments)}return a.prototype.calculateRaw=function(l,o,c,s,p,v,b,x){var w=u.rgb2lab(i.inRange0to255(l*this._whitePoint.r),i.inRange0to255(o*this._whitePoint.g),i.inRange0to255(c*this._whitePoint.b)),j=u.rgb2lab(i.inRange0to255(p*this._whitePoint.r),i.inRange0to255(v*this._whitePoint.g),i.inRange0to255(b*this._whitePoint.b)),E=(x-s)*this._whitePoint.a*a._kA,M=this.calculateRawInLab(w,j);return Math.sqrt(M+E*E)},a.prototype.calculateRawInLab=function(l,o){var c=l.L,s=l.a,p=l.b,v=o.L,b=o.a,x=o.b,w=Math.sqrt(s*s+p*p),j=Math.sqrt(b*b+x*x),E=Math.pow((w+j)/2,7),M=.5*(1-Math.sqrt(E/(E+a._pow25to7))),C=(1+M)*s,P=(1+M)*b,O=Math.sqrt(C*C+p*p),D=Math.sqrt(P*P+x*x),N=O*D,R=a._calculatehp(p,C),I=a._calculatehp(x,P),H=Math.abs(R-I),ee=v-c,fe=D-O,xe=a._calculate_dHp(N,H,I,R),q=a._calculate_ahp(N,H,R,I),V=a._calculateT(q),K=(O+D)/2,J=Math.pow((c+v)/2-50,2),oe=1+.015*J/Math.sqrt(20+J),_e=1+.045*K,Oe=1+.015*V*K,De=a._calculateRT(q,K),Te=ee/oe,Be=fe/_e,Re=xe/Oe;return Math.pow(Te,2)+Math.pow(Be,2)+Math.pow(Re,2)+De*Be*Re},a._calculatehp=function(l,o){var c=Math.atan2(l,o);return c>=0?c:c+a._deg360InRad},a._calculateRT=function(l,o){var c=Math.pow(o,7),s=2*Math.sqrt(c/(c+a._pow25to7)),p=a._deg30InRad*Math.exp(-Math.pow((l-a._deg275InRad)/a._deg25InRad,2));return-Math.sin(2*p)*s},a._calculateT=function(l){return 1-.17*Math.cos(l-a._deg30InRad)+.24*Math.cos(l*2)+.32*Math.cos(l*3+a._deg6InRad)-.2*Math.cos(l*4-a._deg63InRad)},a._calculate_ahp=function(l,o,c,s){var p=c+s;return l==0?p:o<=a._deg180InRad?p/2:p<a._deg360InRad?(p+a._deg360InRad)/2:(p-a._deg360InRad)/2},a._calculate_dHp=function(l,o,c,s){var p;return l==0?p=0:o<=a._deg180InRad?p=c-s:c<=s?p=c-s+a._deg360InRad:p=c-s-a._deg360InRad,2*Math.sqrt(l)*Math.sin(p/2)},a._kA=.25*100/255,a._pow25to7=Math.pow(25,7),a._deg360InRad=i.degrees2radians(360),a._deg180InRad=i.degrees2radians(180),a._deg30InRad=i.degrees2radians(30),a._deg6InRad=i.degrees2radians(6),a._deg63InRad=i.degrees2radians(63),a._deg275InRad=i.degrees2radians(275),a._deg25InRad=i.degrees2radians(25),a}(d.AbstractDistanceCalculator);m.CIEDE2000=r},function(y,m,f){var g=this&&this.__extends||function(i,r){for(var t in r)r.hasOwnProperty(t)&&(i[t]=r[t]);function a(){this.constructor=i}i.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 */var d=f(13),u=function(i){g(r,i);function r(){i.apply(this,arguments)}return r.prototype.calculateRaw=function(t,a,l,o,c,s,p,v){var b=(t+c)/2*this._whitePoint.r,x=(t-c)*this._whitePoint.r,w=(a-s)*this._whitePoint.g,j=(l-p)*this._whitePoint.b,E=((512+b)*x*x>>8)+4*w*w+((767-b)*j*j>>8),M=(v-o)*this._whitePoint.a;return Math.sqrt(E+M*M)},r}(d.AbstractDistanceCalculator);m.CMETRIC=u},function(y,m,f){var g=this&&this.__extends||function(l,o){for(var c in o)o.hasOwnProperty(c)&&(l[c]=o[c]);function s(){this.constructor=l}l.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 */var d=f(13),u=f(2),i=function(l){g(o,l);function o(){l.apply(this,arguments)}return o.prototype.calculateRaw=function(c,s,p,v,b,x,w,j){var E=b-c,M=x-s,C=w-p,P=j-v;return Math.sqrt(this._kR*E*E+this._kG*M*M+this._kB*C*C+this._kA*P*P)},o}(d.AbstractDistanceCalculator);m.AbstractEuclidean=i;var r=function(l){g(o,l);function o(){l.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},o}(i);m.Euclidean=r;var t=function(l){g(o,l);function o(){l.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=u.Y.RED,this._kG=u.Y.GREEN,this._kB=u.Y.BLUE,this._kA=1},o}(i);m.EuclideanRgbQuantWithAlpha=t;var a=function(l){g(o,l);function o(){l.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=u.Y.RED,this._kG=u.Y.GREEN,this._kB=u.Y.BLUE,this._kA=0},o}(i);m.EuclideanRgbQuantWOAlpha=a},function(y,m,f){var g=this&&this.__extends||function(l,o){for(var c in o)o.hasOwnProperty(c)&&(l[c]=o[c]);function s(){this.constructor=l}l.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 */var d=f(13),u=f(2),i=function(l){g(o,l);function o(){l.apply(this,arguments)}return o.prototype.calculateRaw=function(c,s,p,v,b,x,w,j){var E=b-c,M=x-s,C=w-p,P=j-v;return E<0&&(E=0-E),M<0&&(M=0-M),C<0&&(C=0-C),P<0&&(P=0-P),this._kR*E+this._kG*M+this._kB*C+this._kA*P},o}(d.AbstractDistanceCalculator);m.AbstractManhattan=i;var r=function(l){g(o,l);function o(){l.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},o}(i);m.Manhattan=r;var t=function(l){g(o,l);function o(){l.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},o}(i);m.ManhattanNommyde=t;var a=function(l){g(o,l);function o(){l.apply(this,arguments)}return o.prototype._setDefaults=function(){this._kR=u.Y.RED,this._kG=u.Y.GREEN,this._kB=u.Y.BLUE,this._kA=1},o}(i);m.ManhattanSRGB=a},function(y,m,f){var g=this&&this.__extends||function(i,r){for(var t in r)r.hasOwnProperty(t)&&(i[t]=r[t]);function a(){this.constructor=i}i.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 */var d=f(13),u=function(i){g(r,i);function r(){i.apply(this,arguments)}return r.prototype.calculateRaw=function(t,a,l,o,c,s,p,v){var b=(v-o)*this._whitePoint.a;return this._colordifference_ch(t*this._whitePoint.r,c*this._whitePoint.r,b)+this._colordifference_ch(a*this._whitePoint.g,s*this._whitePoint.g,b)+this._colordifference_ch(l*this._whitePoint.b,p*this._whitePoint.b,b)},r.prototype._colordifference_ch=function(t,a,l){var o=t-a,c=o+l;return o*o+c*c},r}(d.AbstractDistanceCalculator);m.PNGQUANT=u},function(y,m,f){var g=f(21);m.NeuQuant=g.NeuQuant;var d=f(25);m.NeuQuantFloat=d.NeuQuantFloat;var u=f(26);m.RGBQuant=u.RGBQuant;var i=f(27);m.ColorHistogram=i.ColorHistogram;var r=f(29);m.WuQuant=r.WuQuant,m.WuColorCube=r.WuColorCube},function(y,m,f){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var g=f(22),d=f(24),u=3,i=function(){function t(a){this.r=this.g=this.b=this.a=a}return t.prototype.toPoint=function(){return d.Point.createByRGBA(this.r>>u,this.g>>u,this.b>>u,this.a>>u)},t.prototype.subtract=function(a,l,o,c){this.r-=a|0,this.g-=l|0,this.b-=o|0,this.a-=c|0},t}(),r=function(){function t(a,l){l===void 0&&(l=256),this._distance=a,this._pointArray=[],this._sampleFactor=1,this._networkSize=l,this._distance.setWhitePoint(255<<u,255<<u,255<<u,255<<u)}return t.prototype.sample=function(a){this._pointArray=this._pointArray.concat(a.getPointArray())},t.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},t.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var a=0;a<this._networkSize;a++)this._network[a]=new i((a<<u+8)/this._networkSize|0),this._freq[a]=t._initialBias/this._networkSize|0,this._bias[a]=0},t.prototype._learn=function(){var a=this._sampleFactor,l=this._pointArray.length;l<t._minpicturebytes&&(a=1);var o=30+(a-1)/3|0,c=l/a|0,s=c/t._nCycles|0,p=t._initAlpha,v=(this._networkSize>>3)*t._radiusBias,b=v>>t._radiusBiasShift;b<=1&&(b=0);for(var x=0;x<b;x++)this._radPower[x]=p*((b*b-x*x)*t._radBias/(b*b))>>>0;var w;l<t._minpicturebytes?w=1:l%t._prime1!=0?w=t._prime1:l%t._prime2!=0?w=t._prime2:l%t._prime3!=0?w=t._prime3:w=t._prime4;for(var x=0,j=0;x<c;){var E=this._pointArray[j],M=E.b<<u,C=E.g<<u,P=E.r<<u,O=E.a<<u,D=this._contest(M,C,P,O);if(this._alterSingle(p,D,M,C,P,O),b!==0&&this._alterNeighbour(b,D,M,C,P,O),j+=w,j>=l&&(j-=l),x++,s===0&&(s=1),x%s===0){p-=p/o|0,v-=v/t._radiusDecrease|0,b=v>>t._radiusBiasShift,b<=1&&(b=0);for(var N=0;N<b;N++)this._radPower[N]=p*((b*b-N*N)*t._radBias/(b*b))>>>0}}},t.prototype._buildPalette=function(){var a=new g.Palette;return this._network.forEach(function(l){a.add(l.toPoint())}),a.sort(),a},t.prototype._alterNeighbour=function(a,l,o,c,s,p){var v=l-a;v<-1&&(v=-1);var b=l+a;b>this._networkSize&&(b=this._networkSize);for(var x=l+1,w=l-1,j=1;x<b||w>v;){var E=this._radPower[j++]/t._alphaRadBias;if(x<b){var M=this._network[x++];M.subtract(E*(M.r-s),E*(M.g-c),E*(M.b-o),E*(M.a-p))}if(w>v){var M=this._network[w--];M.subtract(E*(M.r-s),E*(M.g-c),E*(M.b-o),E*(M.a-p))}}},t.prototype._alterSingle=function(a,l,o,c,s,p){a/=t._initAlpha;var v=this._network[l];v.subtract(a*(v.r-s),a*(v.g-c),a*(v.b-o),a*(v.a-p))},t.prototype._contest=function(a,l,o,c){for(var s=1020<<u,p=~(1<<31),v=p,b=-1,x=b,w=0;w<this._networkSize;w++){var j=this._network[w],E=this._distance.calculateNormalized(j,{r:o,g:l,b:a,a:c})*s|0;E<p&&(p=E,b=w);var M=E-(this._bias[w]>>t._initialBiasShift-u);M<v&&(v=M,x=w);var C=this._freq[w]>>t._betaShift;this._freq[w]-=C,this._bias[w]+=C<<t._gammaShift}return this._freq[b]+=t._beta,this._bias[b]-=t._betaGamma,x},t._prime1=499,t._prime2=491,t._prime3=487,t._prime4=503,t._minpicturebytes=t._prime4,t._nCycles=100,t._initialBiasShift=16,t._initialBias=1<<t._initialBiasShift,t._gammaShift=10,t._betaShift=10,t._beta=t._initialBias>>t._betaShift,t._betaGamma=t._initialBias<<t._gammaShift-t._betaShift,t._radiusBiasShift=6,t._radiusBias=1<<t._radiusBiasShift,t._radiusDecrease=30,t._alphaBiasShift=10,t._initAlpha=1<<t._alphaBiasShift,t._radBiasShift=8,t._radBias=1<<t._radBiasShift,t._alphaRadBiasShift=t._alphaBiasShift+t._radBiasShift,t._alphaRadBias=1<<t._alphaRadBiasShift,t}();m.NeuQuant=r},function(y,m,f){var g=f(23),d=f(5),u=10;function i(t,a){for(var l=360,o=l/a,c=o/2,s=1,p=o-c;s<a;s++,p+=o)if(t>=p&&t<p+o)return s;return 0}m.hueGroup=i;var r=function(){function t(){this._pointArray=[],this._i32idx={},this._pointContainer=new g.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return t.prototype.add=function(a){this._pointArray.push(a),this._pointContainer.setWidth(this._pointArray.length)},t.prototype.has=function(a){for(var l=this._pointArray.length-1;l>=0;l--)if(a.uint32===this._pointArray[l].uint32)return!0;return!1},t.prototype.getNearestColor=function(a,l){return this._pointArray[this.getNearestIndex(a,l)|0]},t.prototype.getPointContainer=function(){return this._pointContainer},t.prototype._nearestPointFromCache=function(a){return typeof this._i32idx[a]=="number"?this._i32idx[a]:-1},t.prototype.getNearestIndex=function(a,l){var o=this._nearestPointFromCache(""+l.uint32);if(o>=0)return o;var c=Number.MAX_VALUE;o=0;for(var s=0,p=this._pointArray.length;s<p;s++){var v=this._pointArray[s],b=a.calculateRaw(l.r,l.g,l.b,l.a,v.r,v.g,v.b,v.a);b<c&&(c=b,o=s)}return this._i32idx[l.uint32]=o,o},t.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(a,l){var o=d.rgb2hsl(a.r,a.g,a.b),c=d.rgb2hsl(l.r,l.g,l.b),s=a.r===a.g&&a.g===a.b?0:1+i(o.h,u),p=l.r===l.g&&l.g===l.b?0:1+i(c.h,u),v=p-s;if(v)return-v;var b=a.getLuminosity(!0),x=l.getLuminosity(!0);if(x-b!==0)return x-b;var w=(c.s*100|0)-(o.s*100|0);return w?-w:0})},t}();m.Palette=r},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 */var g=f(24),d=function(){function u(){this._width=0,this._height=0,this._pointArray=[]}return u.prototype.getWidth=function(){return this._width},u.prototype.getHeight=function(){return this._height},u.prototype.setWidth=function(i){this._width=i},u.prototype.setHeight=function(i){this._height=i},u.prototype.getPointArray=function(){return this._pointArray},u.prototype.clone=function(){var i=new u;i._width=this._width,i._height=this._height;for(var r=0,t=this._pointArray.length;r<t;r++)i._pointArray[r]=g.Point.createByUint32(this._pointArray[r].uint32|0);return i},u.prototype.toUint32Array=function(){for(var i=this._pointArray.length,r=new Uint32Array(i),t=0;t<i;t++)r[t]=this._pointArray[t].uint32;return r},u.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},u.fromHTMLImageElement=function(i){var r=i.naturalWidth,t=i.naturalHeight,a=document.createElement("canvas");a.width=r,a.height=t;var l=a.getContext("2d");return l.drawImage(i,0,0,r,t,0,0,r,t),u.fromHTMLCanvasElement(a)},u.fromHTMLCanvasElement=function(i){var r=i.width,t=i.height,a=i.getContext("2d"),l=a.getImageData(0,0,r,t);return u.fromImageData(l)},u.fromNodeCanvas=function(i){return u.fromHTMLCanvasElement(i)},u.fromImageData=function(i){var r=i.width,t=i.height;return u.fromCanvasPixelArray(i.data,r,t)},u.fromArray=function(i,r,t){var a=new Uint8Array(i);return u.fromUint8Array(a,r,t)},u.fromCanvasPixelArray=function(i,r,t){return u.fromArray(i,r,t)},u.fromUint8Array=function(i,r,t){return u.fromUint32Array(new Uint32Array(i.buffer),r,t)},u.fromUint32Array=function(i,r,t){var a=new u;a._width=r,a._height=t;for(var l=0,o=i.length;l<o;l++)a._pointArray[l]=g.Point.createByUint32(i[l]|0);return a},u}();m.PointContainer=d},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 */var g=f(2),d=function(){function u(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return u.createByQuadruplet=function(i){var r=new u;return r.r=i[0]|0,r.g=i[1]|0,r.b=i[2]|0,r.a=i[3]|0,r._loadUINT32(),r._loadQuadruplet(),r},u.createByRGBA=function(i,r,t,a){var l=new u;return l.r=i|0,l.g=r|0,l.b=t|0,l.a=a|0,l._loadUINT32(),l._loadQuadruplet(),l},u.createByUint32=function(i){var r=new u;return r.uint32=i>>>0,r._loadRGBA(),r._loadQuadruplet(),r},u.prototype.from=function(i){this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.uint32=i.uint32,this.rgba[0]=i.r,this.rgba[1]=i.g,this.rgba[2]=i.b,this.rgba[3]=i.a},u.prototype.getLuminosity=function(i){var r=this.r,t=this.g,a=this.b;return i&&(r=Math.min(255,255-this.a+this.a*r/255),t=Math.min(255,255-this.a+this.a*t/255),a=Math.min(255,255-this.a+this.a*a/255)),r*g.Y.RED+t*g.Y.GREEN+a*g.Y.BLUE},u.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},u.prototype._loadRGBA=function(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},u.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},u}();m.Point=d},function(y,m,f){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var g=f(22),d=f(24),u=3,i=function(){function t(a){this.r=this.g=this.b=this.a=a}return t.prototype.toPoint=function(){return d.Point.createByRGBA(this.r>>u,this.g>>u,this.b>>u,this.a>>u)},t.prototype.subtract=function(a,l,o,c){this.r-=a,this.g-=l,this.b-=o,this.a-=c},t}(),r=function(){function t(a,l){l===void 0&&(l=256),this._distance=a,this._pointArray=[],this._sampleFactor=1,this._networkSize=l,this._distance.setWhitePoint(255<<u,255<<u,255<<u,255<<u)}return t.prototype.sample=function(a){this._pointArray=this._pointArray.concat(a.getPointArray())},t.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},t.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var a=0;a<this._networkSize;a++)this._network[a]=new i((a<<u+8)/this._networkSize),this._freq[a]=t._initialBias/this._networkSize,this._bias[a]=0},t.prototype._learn=function(){var a=this._sampleFactor,l=this._pointArray.length;l<t._minpicturebytes&&(a=1);var o=30+(a-1)/3,c=l/a,s=c/t._nCycles|0,p=t._initAlpha,v=(this._networkSize>>3)*t._radiusBias,b=v>>t._radiusBiasShift;b<=1&&(b=0);for(var x=0;x<b;x++)this._radPower[x]=p*((b*b-x*x)*t._radBias/(b*b));var w;l<t._minpicturebytes?w=1:l%t._prime1!=0?w=t._prime1:l%t._prime2!=0?w=t._prime2:l%t._prime3!=0?w=t._prime3:w=t._prime4;for(var x=0,j=0;x<c;){var E=this._pointArray[j],M=E.b<<u,C=E.g<<u,P=E.r<<u,O=E.a<<u,D=this._contest(M,C,P,O);if(this._alterSingle(p,D,M,C,P,O),b!=0&&this._alterNeighbour(b,D,M,C,P,O),j+=w,j>=l&&(j-=l),x++,s==0&&(s=1),x%s==0){p-=p/o,v-=v/t._radiusDecrease,b=v>>t._radiusBiasShift,b<=1&&(b=0);for(var N=0;N<b;N++)this._radPower[N]=p*((b*b-N*N)*t._radBias/(b*b))}}},t.prototype._buildPalette=function(){var a=new g.Palette;return this._network.forEach(function(l){a.add(l.toPoint())}),a.sort(),a},t.prototype._alterNeighbour=function(a,l,o,c,s,p){var v=l-a;v<-1&&(v=-1);var b=l+a;b>this._networkSize&&(b=this._networkSize);for(var x=l+1,w=l-1,j=1;x<b||w>v;){var E=this._radPower[j++]/t._alphaRadBias;if(x<b){var M=this._network[x++];M.subtract(E*(M.r-s),E*(M.g-c),E*(M.b-o),E*(M.a-p))}if(w>v){var M=this._network[w--];M.subtract(E*(M.r-s),E*(M.g-c),E*(M.b-o),E*(M.a-p))}}},t.prototype._alterSingle=function(a,l,o,c,s,p){a/=t._initAlpha;var v=this._network[l];v.subtract(a*(v.r-s),a*(v.g-c),a*(v.b-o),a*(v.a-p))},t.prototype._contest=function(a,l,o,c){for(var s=1020<<u,p=~(1<<31),v=p,b=-1,x=b,w=0;w<this._networkSize;w++){var j=this._network[w],E=this._distance.calculateNormalized(j,{r:o,g:l,b:a,a:c})*s;E<p&&(p=E,b=w);var M=E-(this._bias[w]>>t._initialBiasShift-u);M<v&&(v=M,x=w);var C=this._freq[w]>>t._betaShift;this._freq[w]-=C,this._bias[w]+=C<<t._gammaShift}return this._freq[b]+=t._beta,this._bias[b]-=t._betaGamma,x},t._prime1=499,t._prime2=491,t._prime3=487,t._prime4=503,t._minpicturebytes=t._prime4,t._nCycles=100,t._initialBiasShift=16,t._initialBias=1<<t._initialBiasShift,t._gammaShift=10,t._betaShift=10,t._beta=t._initialBias>>t._betaShift,t._betaGamma=t._initialBias<<t._gammaShift-t._betaShift,t._radiusBiasShift=6,t._radiusBias=1<<t._radiusBiasShift,t._radiusDecrease=30,t._alphaBiasShift=10,t._initAlpha=1<<t._alphaBiasShift,t._radBiasShift=8,t._radBias=1<<t._radBiasShift,t._alphaRadBiasShift=t._alphaBiasShift+t._radBiasShift,t._alphaRadBias=1<<t._alphaRadBiasShift,t}();m.NeuQuantFloat=r},function(y,m,f){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */var g=f(22),d=f(24),u=f(27),i=f(6),r=function(){function a(l,o,c){this.index=l,this.color=o,this.distance=c}return a}(),t=function(){function a(l,o,c){o===void 0&&(o=256),c===void 0&&(c=2),this._distance=l,this._colors=o,this._histogram=new u.ColorHistogram(c,o),this._initialDistance=.01,this._distanceIncrement=.005}return a.prototype.sample=function(l){this._histogram.sample(l)},a.prototype.quantize=function(){var l=this._histogram.getImportanceSortedColorsIDXI32();if(l.length===0)throw new Error("No colors in image");var o=this._buildPalette(l);return o.sort(),o},a.prototype._buildPalette=function(l){for(var o=new g.Palette,c=o.getPointContainer().getPointArray(),s=new Array(l.length),p=0;p<l.length;p++)c.push(d.Point.createByUint32(l[p])),s[p]=1;for(var v=c.length,b=[],x=v,w=this._initialDistance;x>this._colors;){b.length=0;for(var p=0;p<v;p++)if(s[p]!==0){for(var j=c[p],E=p+1;E<v;E++)if(s[E]!==0){var M=c[E],C=this._distance.calculateNormalized(j,M);C<w&&(b.push(new r(E,M,C)),s[E]=0,x--)}}w+=x>this._colors*3?this._initialDistance:this._distanceIncrement}if(x<this._colors){i.stableSort(b,function(R,I){return I.distance-R.distance});for(var P=0;x<this._colors&&P<b.length;){var O=b[P];s[O.index]=1,x++,P++}}for(var D=c.length,N=D-1;N>=0;N--)s[N]===0&&(N!==D-1&&(c[N]=c[D-1]),--D);return c.length=D,o},a}();m.RGBQuant=t},function(y,m,f){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 */var g=f(28),d=f(6),u=function(){function i(r,t){this._method=r,this._minHueCols=t<<2,this._initColors=t<<2,this._hueStats=new g.HueStatistics(i._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return i.prototype.sample=function(r){switch(this._method){case 1:this._colorStats1D(r);break;case 2:this._colorStats2D(r);break}},i.prototype.getImportanceSortedColorsIDXI32=function(){var r=this,t=d.stableSort(Object.keys(this._histogram),function(v,b){return r._histogram[b]-r._histogram[v]});if(t.length===0)return[];var a;switch(this._method){case 1:var l=Math.min(t.length,this._initColors),o=t[l-1],c=this._histogram[o];a=t.slice(0,l);for(var s=l,p=t.length;s<p&&this._histogram[t[s]]==c;)a.push(t[s++]);this._hueStats.injectIntoArray(a);break;case 2:a=t;break;default:throw new Error("Incorrect method")}return a.map(function(v){return+v})},i.prototype._colorStats1D=function(r){for(var t=this._histogram,a=r.getPointArray(),l=a.length,o=0;o<l;o++){var c=a[o].uint32;this._hueStats.check(c),c in t?t[c]++:t[c]=1}},i.prototype._colorStats2D=function(r){var t=this,a=r.getWidth(),l=r.getHeight(),o=r.getPointArray(),c=i._boxSize[0],s=i._boxSize[1],p=c*s,v=this._makeBoxes(a,l,c,s),b=this._histogram;v.forEach(function(x){var w=Math.round(x.w*x.h/p)*i._boxPixels;w<2&&(w=2);var j={};t._iterateBox(x,a,function(E){var M=o[E].uint32;t._hueStats.check(M),M in b?b[M]++:M in j?++j[M]>=w&&(b[M]=j[M]):j[M]=1})}),this._hueStats.injectIntoDictionary(b)},i.prototype._iterateBox=function(r,t,a){var l=r,o=l.y*t+l.x,c=(l.y+l.h-1)*t+(l.x+l.w-1),s=t-l.w+1,p=0,v=o;do a.call(this,v),v+=++p%l.w==0?s:1;while(v<=c)},i.prototype._makeBoxes=function(r,t,a,l){for(var o=r%a,c=t%l,s=r-o,p=t-c,v=[],b=0;b<t;b+=l)for(var x=0;x<r;x+=a)v.push({x,y:b,w:x==s?o:a,h:b==p?c:l});return v},i._boxSize=[64,64],i._boxPixels=2,i._hueGroups=10,i}();m.ColorHistogram=u},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 */var g=f(5),d=f(22),u=function(){function r(){this.num=0,this.cols=[]}return r}(),i=function(){function r(t,a){this._numGroups=t,this._minCols=a,this._stats=[];for(var l=0;l<=t;l++)this._stats[l]=new u;this._groupsFull=0}return r.prototype.check=function(t){this._groupsFull==this._numGroups+1&&(this.check=function(){});var a=t&255,l=t>>>8&255,o=t>>>16&255,c=a==l&&l==o?0:1+d.hueGroup(g.rgb2hsl(a,l,o).h,this._numGroups),s=this._stats[c],p=this._minCols;s.num++,!(s.num>p)&&(s.num==p&&this._groupsFull++,s.num<=p&&this._stats[c].cols.push(t))},r.prototype.injectIntoDictionary=function(t){for(var a=0;a<=this._numGroups;a++)this._stats[a].num<=this._minCols&&this._stats[a].cols.forEach(function(l){t[l]?t[l]++:t[l]=1})},r.prototype.injectIntoArray=function(t){for(var a=0;a<=this._numGroups;a++)this._stats[a].num<=this._minCols&&this._stats[a].cols.forEach(function(l){t.indexOf(l)==-1&&t.push(l)})},r}();m.HueStatistics=i},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 */var g=f(22),d=f(24);function u(c){for(var s=[],p=0;p<c;p++)s[p]=0;return s}function i(c,s,p,v){for(var b=new Array(c),x=0;x<c;x++){b[x]=new Array(s);for(var w=0;w<s;w++){b[x][w]=new Array(p);for(var j=0;j<p;j++){b[x][w][j]=new Array(v);for(var E=0;E<v;E++)b[x][w][j][E]=0}}}return b}function r(c,s,p){for(var v=new Array(c),b=0;b<c;b++){v[b]=new Array(s);for(var x=0;x<s;x++){v[b][x]=new Array(p);for(var w=0;w<p;w++)v[b][x][w]=0}}return v}function t(c,s,p,v,b){for(var x=0;x<s;x++){c[x]=[];for(var w=0;w<p;w++){c[x][w]=[];for(var j=0;j<v;j++)c[x][w][j]=b}}}function a(c,s,p){for(var v=0;v<s;v++)c[v]=p}var l=function(){function c(){}return c}();m.WuColorCube=l;var o=function(){function c(s,p,v){p===void 0&&(p=256),v===void 0&&(v=5),this._distance=s,this._setQuality(v),this._initialize(p)}return c.prototype.sample=function(s){for(var p=s.getPointArray(),v=0,b=p.length;v<b;v++)this._addColor(p[v]);this._pixels=this._pixels.concat(p)},c.prototype.quantize=function(){this._preparePalette();for(var s=new g.Palette,p=0;p<this._colors;p++)if(this._sums[p]>0){var v=this._sums[p],b=this._reds[p]/v,x=this._greens[p]/v,w=this._blues[p]/v,j=this._alphas[p]/v,E=d.Point.createByRGBA(b|0,x|0,w|0,j|0);s.add(E)}return s.sort(),s},c.prototype._preparePalette=function(){this._calculateMoments();for(var s=0,p=u(this._colors),v=1;v<this._colors;++v){this._cut(this._cubes[s],this._cubes[v])?(p[s]=this._cubes[s].volume>1?this._calculateVariance(this._cubes[s]):0,p[v]=this._cubes[v].volume>1?this._calculateVariance(this._cubes[v]):0):(p[s]=0,v--),s=0;for(var b=p[0],x=1;x<=v;++x)p[x]>b&&(b=p[x],s=x);if(b<=0){this._colors=v+1;break}}for(var w=[],j=[],E=[],M=[],C=0;C<this._colors;++C){var P=c._volume(this._cubes[C],this._weights);P>0?(w[C]=c._volume(this._cubes[C],this._momentsRed)/P|0,j[C]=c._volume(this._cubes[C],this._momentsGreen)/P|0,E[C]=c._volume(this._cubes[C],this._momentsBlue)/P|0,M[C]=c._volume(this._cubes[C],this._momentsAlpha)/P|0):(w[C]=0,j[C]=0,E[C]=0,M[C]=0)}this._reds=u(this._colors+1),this._greens=u(this._colors+1),this._blues=u(this._colors+1),this._alphas=u(this._colors+1),this._sums=u(this._colors+1);for(var x=0,O=this._pixels.length;x<O;x++){for(var D=this._pixels[x],N=-1,R=N,I=Number.MAX_VALUE,H=0;H<this._colors;H++){var ee=w[H],fe=j[H],xe=E[H],q=M[H],V=this._distance.calculateRaw(ee,fe,xe,q,D.r,D.g,D.b,D.a);V<I&&(I=V,R=H)}this._reds[R]+=D.r,this._greens[R]+=D.g,this._blues[R]+=D.b,this._alphas[R]+=D.a,this._sums[R]++}},c.prototype._addColor=function(s){var p=8-this._significantBitsPerChannel,v=(s.r>>p)+1,b=(s.g>>p)+1,x=(s.b>>p)+1,w=(s.a>>p)+1;this._weights[w][v][b][x]++,this._momentsRed[w][v][b][x]+=s.r,this._momentsGreen[w][v][b][x]+=s.g,this._momentsBlue[w][v][b][x]+=s.b,this._momentsAlpha[w][v][b][x]+=s.a,this._moments[w][v][b][x]+=this._table[s.r]+this._table[s.g]+this._table[s.b]+this._table[s.a]},c.prototype._calculateMoments=function(){for(var s=[],p=[],v=[],b=[],x=[],w=[],j=r(this._sideSize,this._sideSize,this._sideSize),E=r(this._sideSize,this._sideSize,this._sideSize),M=r(this._sideSize,this._sideSize,this._sideSize),C=r(this._sideSize,this._sideSize,this._sideSize),P=r(this._sideSize,this._sideSize,this._sideSize),O=r(this._sideSize,this._sideSize,this._sideSize),D=1;D<=this._alphaMaxSideIndex;++D){t(j,this._sideSize,this._sideSize,this._sideSize,0),t(E,this._sideSize,this._sideSize,this._sideSize,0),t(M,this._sideSize,this._sideSize,this._sideSize,0),t(C,this._sideSize,this._sideSize,this._sideSize,0),t(P,this._sideSize,this._sideSize,this._sideSize,0),t(O,this._sideSize,this._sideSize,this._sideSize,0);for(var N=1;N<=this._maxSideIndex;++N){a(s,this._sideSize,0),a(p,this._sideSize,0),a(v,this._sideSize,0),a(b,this._sideSize,0),a(x,this._sideSize,0),a(w,this._sideSize,0);for(var R=1;R<=this._maxSideIndex;++R)for(var I=0,H=0,ee=0,fe=0,xe=0,q=0,V=1;V<=this._maxSideIndex;++V)I+=this._weights[D][N][R][V],H+=this._momentsRed[D][N][R][V],ee+=this._momentsGreen[D][N][R][V],fe+=this._momentsBlue[D][N][R][V],xe+=this._momentsAlpha[D][N][R][V],q+=this._moments[D][N][R][V],s[V]+=I,p[V]+=H,v[V]+=ee,b[V]+=fe,x[V]+=xe,w[V]+=q,j[N][R][V]=j[N-1][R][V]+s[V],E[N][R][V]=E[N-1][R][V]+p[V],M[N][R][V]=M[N-1][R][V]+v[V],C[N][R][V]=C[N-1][R][V]+b[V],P[N][R][V]=P[N-1][R][V]+x[V],O[N][R][V]=O[N-1][R][V]+w[V],this._weights[D][N][R][V]=this._weights[D-1][N][R][V]+j[N][R][V],this._momentsRed[D][N][R][V]=this._momentsRed[D-1][N][R][V]+E[N][R][V],this._momentsGreen[D][N][R][V]=this._momentsGreen[D-1][N][R][V]+M[N][R][V],this._momentsBlue[D][N][R][V]=this._momentsBlue[D-1][N][R][V]+C[N][R][V],this._momentsAlpha[D][N][R][V]=this._momentsAlpha[D-1][N][R][V]+P[N][R][V],this._moments[D][N][R][V]=this._moments[D-1][N][R][V]+O[N][R][V]}}},c._volumeFloat=function(s,p){return p[s.alphaMaximum][s.redMaximum][s.greenMaximum][s.blueMaximum]-p[s.alphaMaximum][s.redMaximum][s.greenMinimum][s.blueMaximum]-p[s.alphaMaximum][s.redMinimum][s.greenMaximum][s.blueMaximum]+p[s.alphaMaximum][s.redMinimum][s.greenMinimum][s.blueMaximum]-p[s.alphaMinimum][s.redMaximum][s.greenMaximum][s.blueMaximum]+p[s.alphaMinimum][s.redMaximum][s.greenMinimum][s.blueMaximum]+p[s.alphaMinimum][s.redMinimum][s.greenMaximum][s.blueMaximum]-p[s.alphaMinimum][s.redMinimum][s.greenMinimum][s.blueMaximum]-(p[s.alphaMaximum][s.redMaximum][s.greenMaximum][s.blueMinimum]-p[s.alphaMinimum][s.redMaximum][s.greenMaximum][s.blueMinimum]-p[s.alphaMaximum][s.redMaximum][s.greenMinimum][s.blueMinimum]+p[s.alphaMinimum][s.redMaximum][s.greenMinimum][s.blueMinimum]-p[s.alphaMaximum][s.redMinimum][s.greenMaximum][s.blueMinimum]+p[s.alphaMinimum][s.redMinimum][s.greenMaximum][s.blueMinimum]+p[s.alphaMaximum][s.redMinimum][s.greenMinimum][s.blueMinimum]-p[s.alphaMinimum][s.redMinimum][s.greenMinimum][s.blueMinimum])},c._volume=function(s,p){return c._volumeFloat(s,p)|0},c._top=function(s,p,v,b){var x;switch(p){case c.alpha:x=b[v][s.redMaximum][s.greenMaximum][s.blueMaximum]-b[v][s.redMaximum][s.greenMinimum][s.blueMaximum]-b[v][s.redMinimum][s.greenMaximum][s.blueMaximum]+b[v][s.redMinimum][s.greenMinimum][s.blueMaximum]-(b[v][s.redMaximum][s.greenMaximum][s.blueMinimum]-b[v][s.redMaximum][s.greenMinimum][s.blueMinimum]-b[v][s.redMinimum][s.greenMaximum][s.blueMinimum]+b[v][s.redMinimum][s.greenMinimum][s.blueMinimum]);break;case c.red:x=b[s.alphaMaximum][v][s.greenMaximum][s.blueMaximum]-b[s.alphaMaximum][v][s.greenMinimum][s.blueMaximum]-b[s.alphaMinimum][v][s.greenMaximum][s.blueMaximum]+b[s.alphaMinimum][v][s.greenMinimum][s.blueMaximum]-(b[s.alphaMaximum][v][s.greenMaximum][s.blueMinimum]-b[s.alphaMaximum][v][s.greenMinimum][s.blueMinimum]-b[s.alphaMinimum][v][s.greenMaximum][s.blueMinimum]+b[s.alphaMinimum][v][s.greenMinimum][s.blueMinimum]);break;case c.green:x=b[s.alphaMaximum][s.redMaximum][v][s.blueMaximum]-b[s.alphaMaximum][s.redMinimum][v][s.blueMaximum]-b[s.alphaMinimum][s.redMaximum][v][s.blueMaximum]+b[s.alphaMinimum][s.redMinimum][v][s.blueMaximum]-(b[s.alphaMaximum][s.redMaximum][v][s.blueMinimum]-b[s.alphaMaximum][s.redMinimum][v][s.blueMinimum]-b[s.alphaMinimum][s.redMaximum][v][s.blueMinimum]+b[s.alphaMinimum][s.redMinimum][v][s.blueMinimum]);break;case c.blue:x=b[s.alphaMaximum][s.redMaximum][s.greenMaximum][v]-b[s.alphaMaximum][s.redMaximum][s.greenMinimum][v]-b[s.alphaMaximum][s.redMinimum][s.greenMaximum][v]+b[s.alphaMaximum][s.redMinimum][s.greenMinimum][v]-(b[s.alphaMinimum][s.redMaximum][s.greenMaximum][v]-b[s.alphaMinimum][s.redMaximum][s.greenMinimum][v]-b[s.alphaMinimum][s.redMinimum][s.greenMaximum][v]+b[s.alphaMinimum][s.redMinimum][s.greenMinimum][v]);break;default:throw new Error("impossible")}return x|0},c._bottom=function(s,p,v){switch(p){case c.alpha:return-v[s.alphaMinimum][s.redMaximum][s.greenMaximum][s.blueMaximum]+v[s.alphaMinimum][s.redMaximum][s.greenMinimum][s.blueMaximum]+v[s.alphaMinimum][s.redMinimum][s.greenMaximum][s.blueMaximum]-v[s.alphaMinimum][s.redMinimum][s.greenMinimum][s.blueMaximum]-(-v[s.alphaMinimum][s.redMaximum][s.greenMaximum][s.blueMinimum]+v[s.alphaMinimum][s.redMaximum][s.greenMinimum][s.blueMinimum]+v[s.alphaMinimum][s.redMinimum][s.greenMaximum][s.blueMinimum]-v[s.alphaMinimum][s.redMinimum][s.greenMinimum][s.blueMinimum]);case c.red:return-v[s.alphaMaximum][s.redMinimum][s.greenMaximum][s.blueMaximum]+v[s.alphaMaximum][s.redMinimum][s.greenMinimum][s.blueMaximum]+v[s.alphaMinimum][s.redMinimum][s.greenMaximum][s.blueMaximum]-v[s.alphaMinimum][s.redMinimum][s.greenMinimum][s.blueMaximum]-(-v[s.alphaMaximum][s.redMinimum][s.greenMaximum][s.blueMinimum]+v[s.alphaMaximum][s.redMinimum][s.greenMinimum][s.blueMinimum]+v[s.alphaMinimum][s.redMinimum][s.greenMaximum][s.blueMinimum]-v[s.alphaMinimum][s.redMinimum][s.greenMinimum][s.blueMinimum]);case c.green:return-v[s.alphaMaximum][s.redMaximum][s.greenMinimum][s.blueMaximum]+v[s.alphaMaximum][s.redMinimum][s.greenMinimum][s.blueMaximum]+v[s.alphaMinimum][s.redMaximum][s.greenMinimum][s.blueMaximum]-v[s.alphaMinimum][s.redMinimum][s.greenMinimum][s.blueMaximum]-(-v[s.alphaMaximum][s.redMaximum][s.greenMinimum][s.blueMinimum]+v[s.alphaMaximum][s.redMinimum][s.greenMinimum][s.blueMinimum]+v[s.alphaMinimum][s.redMaximum][s.greenMinimum][s.blueMinimum]-v[s.alphaMinimum][s.redMinimum][s.greenMinimum][s.blueMinimum]);case c.blue:return-v[s.alphaMaximum][s.redMaximum][s.greenMaximum][s.blueMinimum]+v[s.alphaMaximum][s.redMaximum][s.greenMinimum][s.blueMinimum]+v[s.alphaMaximum][s.redMinimum][s.greenMaximum][s.blueMinimum]-v[s.alphaMaximum][s.redMinimum][s.greenMinimum][s.blueMinimum]-(-v[s.alphaMinimum][s.redMaximum][s.greenMaximum][s.blueMinimum]+v[s.alphaMinimum][s.redMaximum][s.greenMinimum][s.blueMinimum]+v[s.alphaMinimum][s.redMinimum][s.greenMaximum][s.blueMinimum]-v[s.alphaMinimum][s.redMinimum][s.greenMinimum][s.blueMinimum]);default:return 0}},c.prototype._calculateVariance=function(s){var p=c._volume(s,this._momentsRed),v=c._volume(s,this._momentsGreen),b=c._volume(s,this._momentsBlue),x=c._volume(s,this._momentsAlpha),w=c._volumeFloat(s,this._moments),j=c._volume(s,this._weights),E=p*p+v*v+b*b+x*x;return w-E/j},c.prototype._maximize=function(s,p,v,b,x,w,j,E,M){for(var C=c._bottom(s,p,this._momentsRed)|0,P=c._bottom(s,p,this._momentsGreen)|0,O=c._bottom(s,p,this._momentsBlue)|0,D=c._bottom(s,p,this._momentsAlpha)|0,N=c._bottom(s,p,this._weights)|0,R=0,I=-1,H=v;H<b;++H){var ee=C+c._top(s,p,H,this._momentsRed),fe=P+c._top(s,p,H,this._momentsGreen),xe=O+c._top(s,p,H,this._momentsBlue),q=D+c._top(s,p,H,this._momentsAlpha),V=N+c._top(s,p,H,this._weights);if(V!=0){var K=ee*ee+fe*fe+xe*xe+q*q,J=K/V;ee=x-ee,fe=w-fe,xe=j-xe,q=E-q,V=M-V,V!=0&&(K=ee*ee+fe*fe+xe*xe+q*q,J+=K/V,J>R&&(R=J,I=H))}}return{max:R,position:I}},c.prototype._cut=function(s,p){var v,b=c._volume(s,this._momentsRed),x=c._volume(s,this._momentsGreen),w=c._volume(s,this._momentsBlue),j=c._volume(s,this._momentsAlpha),E=c._volume(s,this._weights),M=this._maximize(s,c.red,s.redMinimum+1,s.redMaximum,b,x,w,j,E),C=this._maximize(s,c.green,s.greenMinimum+1,s.greenMaximum,b,x,w,j,E),P=this._maximize(s,c.blue,s.blueMinimum+1,s.blueMaximum,b,x,w,j,E),O=this._maximize(s,c.alpha,s.alphaMinimum+1,s.alphaMaximum,b,x,w,j,E);if(O.max>=M.max&&O.max>=C.max&&O.max>=P.max){if(v=c.alpha,O.position<0)return!1}else M.max>=O.max&&M.max>=C.max&&M.max>=P.max?v=c.red:C.max>=O.max&&C.max>=M.max&&C.max>=P.max?v=c.green:v=c.blue;switch(p.redMaximum=s.redMaximum,p.greenMaximum=s.greenMaximum,p.blueMaximum=s.blueMaximum,p.alphaMaximum=s.alphaMaximum,v){case c.red:p.redMinimum=s.redMaximum=M.position,p.greenMinimum=s.greenMinimum,p.blueMinimum=s.blueMinimum,p.alphaMinimum=s.alphaMinimum;break;case c.green:p.greenMinimum=s.greenMaximum=C.position,p.redMinimum=s.redMinimum,p.blueMinimum=s.blueMinimum,p.alphaMinimum=s.alphaMinimum;break;case c.blue:p.blueMinimum=s.blueMaximum=P.position,p.redMinimum=s.redMinimum,p.greenMinimum=s.greenMinimum,p.alphaMinimum=s.alphaMinimum;break;case c.alpha:p.alphaMinimum=s.alphaMaximum=O.position,p.blueMinimum=s.blueMinimum,p.redMinimum=s.redMinimum,p.greenMinimum=s.greenMinimum;break}return s.volume=(s.redMaximum-s.redMinimum)*(s.greenMaximum-s.greenMinimum)*(s.blueMaximum-s.blueMinimum)*(s.alphaMaximum-s.alphaMinimum),p.volume=(p.redMaximum-p.redMinimum)*(p.greenMaximum-p.greenMinimum)*(p.blueMaximum-p.blueMinimum)*(p.alphaMaximum-p.alphaMinimum),!0},c.prototype._initialize=function(s){this._colors=s,this._cubes=[];for(var p=0;p<s;p++)this._cubes[p]=new l;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var v=0;v<256;++v)this._table[v]=v*v;this._pixels=[]},c.prototype._setQuality=function(s){s===void 0&&(s=5),this._significantBitsPerChannel=s,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},c.alpha=3,c.red=2,c.green=1,c.blue=0,c}();m.WuQuant=o},function(y,m,f){var g=f(31);m.NearestColor=g.NearestColor;var d=f(32);m.ErrorDiffusionArray=d.ErrorDiffusionArray,m.ErrorDiffusionArrayKernel=d.ErrorDiffusionArrayKernel;var u=f(33);m.ErrorDiffusionRiemersma=u.ErrorDiffusionRiemersma},function(y,m){var f=function(){function g(d){this._distance=d}return g.prototype.quantize=function(d,u){for(var i=d.getPointArray(),r=d.getWidth(),t=d.getHeight(),a=0;a<t;a++)for(var l=0,o=a*r;l<r;l++,o++){var c=i[o];c.from(u.getNearestColor(this._distance,c))}return d},g}();m.NearestColor=f},function(y,m,f){var g=f(24),d=f(6);(function(r){r[r.FloydSteinberg=0]="FloydSteinberg",r[r.FalseFloydSteinberg=1]="FalseFloydSteinberg",r[r.Stucki=2]="Stucki",r[r.Atkinson=3]="Atkinson",r[r.Jarvis=4]="Jarvis",r[r.Burkes=5]="Burkes",r[r.Sierra=6]="Sierra",r[r.TwoSierra=7]="TwoSierra",r[r.SierraLite=8]="SierraLite"})(m.ErrorDiffusionArrayKernel||(m.ErrorDiffusionArrayKernel={}));var u=m.ErrorDiffusionArrayKernel,i=function(){function r(t,a,l,o,c){l===void 0&&(l=!0),o===void 0&&(o=0),c===void 0&&(c=!1),this._setKernel(a),this._distance=t,this._minColorDistance=o,this._serpentine=l,this._calculateErrorLikeGIMP=c}return r.prototype.quantize=function(t,a){for(var l=t.getPointArray(),o=new g.Point,c=t.getWidth(),s=t.getHeight(),p=[],v=1,b=1,x=0;x<this._kernel.length;x++){var w=this._kernel[x][2]+1;b<w&&(b=w)}for(var x=0;x<b;x++)this._fillErrorLine(p[x]=[],c);for(var j=0;j<s;j++){this._serpentine&&(v=v*-1);var E=j*c,M=v==1?0:c-1,C=v==1?c:-1;this._fillErrorLine(p[0],c),p.push(p.shift());for(var P=p[0],O=M,D=E+M;O!==C;O+=v,D+=v){var N=l[D],R=P[O];o.from(N);var I=g.Point.createByRGBA(d.inRange0to255Rounded(N.r+R[0]),d.inRange0to255Rounded(N.g+R[1]),d.inRange0to255Rounded(N.b+R[2]),d.inRange0to255Rounded(N.a+R[3])),H=a.getNearestColor(this._distance,I);if(N.from(H),this._minColorDistance){var ee=this._distance.calculateNormalized(N,H);if(ee<this._minColorDistance)continue}var fe=void 0,xe=void 0,q=void 0,V=void 0;this._calculateErrorLikeGIMP?(fe=I.r-H.r,xe=I.g-H.g,q=I.b-H.b,V=I.a-H.a):(fe=o.r-H.r,xe=o.g-H.g,q=o.b-H.b,V=o.a-H.a);for(var K=v==1?0:this._kernel.length-1,J=v==1?this._kernel.length:-1,x=K;x!==J;x+=v){var oe=this._kernel[x][1]*v,_e=this._kernel[x][2];if(oe+O>=0&&oe+O<c&&_e+j>=0&&_e+j<s){var Oe=this._kernel[x][0],De=p[_e][oe+O];De[0]=De[0]+fe*Oe,De[1]=De[1]+xe*Oe,De[2]=De[2]+q*Oe,De[3]=De[3]+V*Oe}}}}return t},r.prototype._fillErrorLine=function(t,a){t.length>a&&(t.length=a);for(var l=t.length,o=0;o<l;o++){var c=t[o];c[0]=c[1]=c[2]=c[3]=0}for(var o=l;o<a;o++)t[o]=[0,0,0,0]},r.prototype._setKernel=function(t){switch(t){case u.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case u.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case u.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case u.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case u.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case u.Burkes:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case u.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case u.TwoSierra:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case u.SierraLite:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+t)}},r}();m.ErrorDiffusionArray=i},function(y,m,f){var g=f(34),d=f(24),u=f(6),i=function(){function r(t,a,l){a===void 0&&(a=16),l===void 0&&(l=1),this._distance=t,this._errorPropagation=l,this._errorQueueSize=a,this._max=this._errorQueueSize,this._createWeights()}return r.prototype.quantize=function(t,a){for(var l=this,o=new g.HilbertCurveBase,c=t.getPointArray(),s=t.getWidth(),p=t.getHeight(),v=[],b=0,x=0;x<this._errorQueueSize;x++)v[x]={r:0,g:0,b:0,a:0};return o.walk(s,p,function(w,j){for(var E=c[w+j*s],M=E.r,C=E.g,P=E.b,O=E.a,D=0;D<l._errorQueueSize;D++){var N=l._weights[D],R=v[(D+b)%l._errorQueueSize];M+=R.r*N,C+=R.g*N,P+=R.b*N,O+=R.a*N}var I=d.Point.createByRGBA(u.inRange0to255Rounded(M),u.inRange0to255Rounded(C),u.inRange0to255Rounded(P),u.inRange0to255Rounded(O)),H=a.getNearestColor(l._distance,I);b=(b+1)%l._errorQueueSize;var ee=(b+l._errorQueueSize-1)%l._errorQueueSize;v[ee].r=E.r-H.r,v[ee].g=E.g-H.g,v[ee].b=E.b-H.b,v[ee].a=E.a-H.a,E.from(H)}),t},r.prototype._createWeights=function(){this._weights=[];for(var t=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),a=0,l=1;a<this._errorQueueSize;a++)this._weights[a]=(l+.5|0)/this._max*this._errorPropagation,l*=t},r}();m.ErrorDiffusionRiemersma=i},function(y,m){var f;(function(d){d[d.NONE=0]="NONE",d[d.UP=1]="UP",d[d.LEFT=2]="LEFT",d[d.RIGHT=3]="RIGHT",d[d.DOWN=4]="DOWN"})(f||(f={}));var g=function(){function d(){}return d.prototype.walk=function(u,i,r){this._x=0,this._y=0,this._d=0,this._width=u,this._height=i,this._callback=r;var t=Math.max(u,i);this._level=Math.log(t)/Math.log(2)+1|0,this._walkHilbert(f.UP),this._visit(f.NONE)},d.prototype._walkHilbert=function(u){if(!(this._level<1)){switch(this._level--,u){case f.LEFT:this._walkHilbert(f.UP),this._visit(f.RIGHT),this._walkHilbert(f.LEFT),this._visit(f.DOWN),this._walkHilbert(f.LEFT),this._visit(f.LEFT),this._walkHilbert(f.DOWN);break;case f.RIGHT:this._walkHilbert(f.DOWN),this._visit(f.LEFT),this._walkHilbert(f.RIGHT),this._visit(f.UP),this._walkHilbert(f.RIGHT),this._visit(f.RIGHT),this._walkHilbert(f.UP);break;case f.UP:this._walkHilbert(f.LEFT),this._visit(f.DOWN),this._walkHilbert(f.UP),this._visit(f.RIGHT),this._walkHilbert(f.UP),this._visit(f.UP),this._walkHilbert(f.RIGHT);break;case f.DOWN:this._walkHilbert(f.RIGHT),this._visit(f.UP),this._walkHilbert(f.DOWN),this._visit(f.LEFT),this._walkHilbert(f.DOWN),this._visit(f.DOWN),this._walkHilbert(f.LEFT);break}this._level++}},d.prototype._visit=function(u){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),u){case f.LEFT:this._x--;break;case f.RIGHT:this._x++;break;case f.UP:this._y--;break;case f.DOWN:this._y++;break}},d}();m.HilbertCurveBase=g},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var g=f(36);m.SSIM=g.SSIM},function(y,m,f){var g=f(2),d=.01,u=.03,i=function(){function r(){}return r.prototype.compare=function(t,a){if(t.getHeight()!==a.getHeight()||t.getWidth()!==a.getWidth())throw new Error("Images have different sizes!");var l=8,o=(1<<l)-1,c=Math.pow(d*o,2),s=Math.pow(u*o,2),p=0,v=0;return this._iterate(t,a,function(b,x,w,j){for(var E=0,M=0,C=0,P=0;P<b.length;P++)M+=Math.pow(b[P]-w,2),C+=Math.pow(x[P]-j,2),E+=(b[P]-w)*(x[P]-j);var O=b.length-1;M/=O,C/=O,E/=O;var D=(2*w*j+c)*(2*E+s),N=(Math.pow(w,2)+Math.pow(j,2)+c)*(M+C+s),R=D/N;v+=R,p++}),v/p},r.prototype._iterate=function(t,a,l){for(var o=8,c=t.getWidth(),s=t.getHeight(),p=0;p<s;p+=o)for(var v=0;v<c;v+=o){var b=Math.min(o,c-v),x=Math.min(o,s-p),w=this._calculateLumaValuesForWindow(t,v,p,b,x),j=this._calculateLumaValuesForWindow(a,v,p,b,x),E=this._calculateAverageLuma(w),M=this._calculateAverageLuma(j);l(w,j,E,M)}},r.prototype._calculateLumaValuesForWindow=function(t,a,l,o,c){for(var s=t.getPointArray(),p=[],v=0,b=l;b<l+c;b++)for(var x=b*t.getWidth(),w=a;w<a+o;w++){var j=s[x+w];p[v]=j.r*g.Y.RED+j.g*g.Y.GREEN+j.b*g.Y.BLUE,v++}return p},r.prototype._calculateAverageLuma=function(t){for(var a=0,l=0;l<t.length;l++)a+=t[l];return a/t.length},r}();m.SSIM=i},function(y,m,f){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var g=f(6);m.arithmetic=g;var d=f(28);m.HueStatistics=d.HueStatistics;var u=f(22);m.Palette=u.Palette;var i=f(24);m.Point=i.Point;var r=f(23);m.PointContainer=r.PointContainer}])})},{}],75:[function(n,Z,S){typeof Object.create=="function"?Z.exports=function(m,f){f&&(m.super_=f,m.prototype=Object.create(f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}))}:Z.exports=function(m,f){if(f){m.super_=f;var g=function(){};g.prototype=f.prototype,m.prototype=new g,m.prototype.constructor=m}}},{}],76:[function(n,Z,S){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */Z.exports=function(f){return f!=null&&(y(f)||m(f)||!!f._isBuffer)};function y(f){return!!f.constructor&&typeof f.constructor.isBuffer=="function"&&f.constructor.isBuffer(f)}function m(f){return typeof f.readFloatLE=="function"&&typeof f.slice=="function"&&y(f.slice(0,0))}},{}],77:[function(n,Z,S){var y=Function.prototype.toString,m=/^\s*class\b/,f=function(a){try{var l=y.call(a);return m.test(l)}catch{return!1}},g=function(a){try{return f(a)?!1:(y.call(a),!0)}catch{return!1}},d=Object.prototype.toString,u="[object Function]",i="[object GeneratorFunction]",r=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";Z.exports=function(a){if(!a||typeof a!="function"&&typeof a!="object")return!1;if(typeof a=="function"&&!a.prototype)return!0;if(r)return g(a);if(f(a))return!1;var l=d.call(a);return l===u||l===i}},{}],78:[function(n,Z,S){Z.exports=m;var y=Object.prototype.toString;function m(f){var g=y.call(f);return g==="[object Function]"||typeof f=="function"&&g!=="[object RegExp]"||typeof Ye<"u"&&(f===Ye.setTimeout||f===Ye.alert||f===Ye.confirm||f===Ye.prompt)}},{}],79:[function(n,Z,S){var y={}.toString;Z.exports=Array.isArray||function(m){return y.call(m)=="[object Array]"}},{}],80:[function(n,Z,S){var y=n("./lib/encoder"),m=n("./lib/decoder");Z.exports={encode:y,decode:m}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(n,Z,S){(function(y){var m=function(){var d=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),u=4017,i=799,r=3406,t=2276,a=1567,l=3784,o=5793,c=2896;function s(){}function p(M,C){for(var P=0,O=[],D,N,R=16;R>0&&!M[R-1];)R--;O.push({children:[],index:0});var I=O[0],H;for(D=0;D<R;D++){for(N=0;N<M[D];N++){for(I=O.pop(),I.children[I.index]=C[P];I.index>0;){if(O.length===0)throw new Error("Could not recreate Huffman Table");I=O.pop()}for(I.index++,O.push(I);O.length<=D;)O.push(H={children:[],index:0}),I.children[I.index]=H.children,I=H;P++}D+1<R&&(O.push(H={children:[],index:0}),I.children[I.index]=H.children,I=H)}return O[0].children}function v(M,C,P,O,D,N,R,I,H,ee){P.precision,P.samplesPerLine,P.scanLines;var fe=P.mcusPerLine,xe=P.progressive;P.maxH,P.maxV;var q=C,V=0,K=0;function J(){if(K>0)return K--,V>>K&1;if(V=M[C++],V==255){var W=M[C++];if(W)throw new Error("unexpected marker: "+(V<<8|W).toString(16))}return K=7,V>>>7}function oe(W){for(var F=W,Y;(Y=J())!==null;){if(F=F[Y],typeof F=="number")return F;if(typeof F!="object")throw new Error("invalid huffman sequence")}return null}function _e(W){for(var F=0;W>0;){var Y=J();if(Y===null)return;F=F<<1|Y,W--}return F}function Oe(W){var F=_e(W);return F>=1<<W-1?F:F+(-1<<W)+1}function De(W,F){var Y=oe(W.huffmanTableDC),ie=Y===0?0:Oe(Y);F[0]=W.pred+=ie;for(var he=1;he<64;){var U=oe(W.huffmanTableAC),se=U&15,ue=U>>4;if(se===0){if(ue<15)break;he+=16;continue}he+=ue;var we=d[he];F[we]=Oe(se),he++}}function Te(W,F){var Y=oe(W.huffmanTableDC),ie=Y===0?0:Oe(Y)<<H;F[0]=W.pred+=ie}function Be(W,F){F[0]|=J()<<H}var Re=0;function ve(W,F){if(Re>0){Re--;return}for(var Y=N,ie=R;Y<=ie;){var he=oe(W.huffmanTableAC),U=he&15,se=he>>4;if(U===0){if(se<15){Re=_e(se)+(1<<se)-1;break}Y+=16;continue}Y+=se;var ue=d[Y];F[ue]=Oe(U)*(1<<H),Y++}}var ge=0,Ae;function Ie(W,F){for(var Y=N,ie=R,he=0;Y<=ie;){var U=d[Y],se=F[U]<0?-1:1;switch(ge){case 0:var ue=oe(W.huffmanTableAC),we=ue&15,he=ue>>4;if(we===0)he<15?(Re=_e(he)+(1<<he),ge=4):(he=16,ge=1);else{if(we!==1)throw new Error("invalid ACn encoding");Ae=Oe(we),ge=he?2:3}continue;case 1:case 2:F[U]?F[U]+=(J()<<H)*se:(he--,he===0&&(ge=ge==2?3:0));break;case 3:F[U]?F[U]+=(J()<<H)*se:(F[U]=Ae<<H,ge=0);break;case 4:F[U]&&(F[U]+=(J()<<H)*se);break}Y++}ge===4&&(Re--,Re===0&&(ge=0))}function de(W,F,Y,ie,he){var U=Y/fe|0,se=Y%fe,ue=U*W.v+ie,we=se*W.h+he;W.blocks[ue]===void 0&&ee.tolerantDecoding||F(W,W.blocks[ue][we])}function ae(W,F,Y){var ie=Y/W.blocksPerLine|0,he=Y%W.blocksPerLine;W.blocks[ie]===void 0&&ee.tolerantDecoding||F(W,W.blocks[ie][he])}var ne=O.length,Me,pe,le,re,Le,h;xe?N===0?h=I===0?Te:Be:h=I===0?ve:Ie:h=De;var _=0,T,L;ne==1?L=O[0].blocksPerLine*O[0].blocksPerColumn:L=fe*P.mcusPerColumn,D||(D=L);for(var G,B;_<L;){for(pe=0;pe<ne;pe++)O[pe].pred=0;if(Re=0,ne==1)for(Me=O[0],Le=0;Le<D;Le++)ae(Me,h,_),_++;else for(Le=0;Le<D;Le++){for(pe=0;pe<ne;pe++)for(Me=O[pe],G=Me.h,B=Me.v,le=0;le<B;le++)for(re=0;re<G;re++)de(Me,h,_,le,re);if(_++,_===L)break}if(_===L)do{if(M[C]===255&&M[C+1]!==0)break;C+=1}while(C<M.length-2);if(K=0,T=M[C]<<8|M[C+1],T<65280)throw new Error("marker was not found");if(T>=65488&&T<=65495)C+=2;else break}return C-q}function b(M,C){var P=[],O=C.blocksPerLine,D=C.blocksPerColumn,N=O<<3,R=new Int32Array(64),I=new Uint8Array(64);function H(_e,Oe,De){var Te=C.quantizationTable,Be,Re,ve,ge,Ae,Ie,de,ae,ne,Me=De,pe;for(pe=0;pe<64;pe++)Me[pe]=_e[pe]*Te[pe];for(pe=0;pe<8;++pe){var le=8*pe;if(Me[1+le]==0&&Me[2+le]==0&&Me[3+le]==0&&Me[4+le]==0&&Me[5+le]==0&&Me[6+le]==0&&Me[7+le]==0){ne=o*Me[0+le]+512>>10,Me[0+le]=ne,Me[1+le]=ne,Me[2+le]=ne,Me[3+le]=ne,Me[4+le]=ne,Me[5+le]=ne,Me[6+le]=ne,Me[7+le]=ne;continue}Be=o*Me[0+le]+128>>8,Re=o*Me[4+le]+128>>8,ve=Me[2+le],ge=Me[6+le],Ae=c*(Me[1+le]-Me[7+le])+128>>8,ae=c*(Me[1+le]+Me[7+le])+128>>8,Ie=Me[3+le]<<4,de=Me[5+le]<<4,ne=Be-Re+1>>1,Be=Be+Re+1>>1,Re=ne,ne=ve*l+ge*a+128>>8,ve=ve*a-ge*l+128>>8,ge=ne,ne=Ae-de+1>>1,Ae=Ae+de+1>>1,de=ne,ne=ae+Ie+1>>1,Ie=ae-Ie+1>>1,ae=ne,ne=Be-ge+1>>1,Be=Be+ge+1>>1,ge=ne,ne=Re-ve+1>>1,Re=Re+ve+1>>1,ve=ne,ne=Ae*t+ae*r+2048>>12,Ae=Ae*r-ae*t+2048>>12,ae=ne,ne=Ie*i+de*u+2048>>12,Ie=Ie*u-de*i+2048>>12,de=ne,Me[0+le]=Be+ae,Me[7+le]=Be-ae,Me[1+le]=Re+de,Me[6+le]=Re-de,Me[2+le]=ve+Ie,Me[5+le]=ve-Ie,Me[3+le]=ge+Ae,Me[4+le]=ge-Ae}for(pe=0;pe<8;++pe){var re=pe;if(Me[8+re]==0&&Me[16+re]==0&&Me[24+re]==0&&Me[32+re]==0&&Me[40+re]==0&&Me[48+re]==0&&Me[56+re]==0){ne=o*De[pe+0]+8192>>14,Me[0+re]=ne,Me[8+re]=ne,Me[16+re]=ne,Me[24+re]=ne,Me[32+re]=ne,Me[40+re]=ne,Me[48+re]=ne,Me[56+re]=ne;continue}Be=o*Me[0+re]+2048>>12,Re=o*Me[32+re]+2048>>12,ve=Me[16+re],ge=Me[48+re],Ae=c*(Me[8+re]-Me[56+re])+2048>>12,ae=c*(Me[8+re]+Me[56+re])+2048>>12,Ie=Me[24+re],de=Me[40+re],ne=Be-Re+1>>1,Be=Be+Re+1>>1,Re=ne,ne=ve*l+ge*a+2048>>12,ve=ve*a-ge*l+2048>>12,ge=ne,ne=Ae-de+1>>1,Ae=Ae+de+1>>1,de=ne,ne=ae+Ie+1>>1,Ie=ae-Ie+1>>1,ae=ne,ne=Be-ge+1>>1,Be=Be+ge+1>>1,ge=ne,ne=Re-ve+1>>1,Re=Re+ve+1>>1,ve=ne,ne=Ae*t+ae*r+2048>>12,Ae=Ae*r-ae*t+2048>>12,ae=ne,ne=Ie*i+de*u+2048>>12,Ie=Ie*u-de*i+2048>>12,de=ne,Me[0+re]=Be+ae,Me[56+re]=Be-ae,Me[8+re]=Re+de,Me[48+re]=Re-de,Me[16+re]=ve+Ie,Me[40+re]=ve-Ie,Me[24+re]=ge+Ae,Me[32+re]=ge-Ae}for(pe=0;pe<64;++pe){var Le=128+(Me[pe]+8>>4);Oe[pe]=Le<0?0:Le>255?255:Le}}E(N*D*8);for(var ee,fe,xe=0;xe<D;xe++){var q=xe<<3;for(ee=0;ee<8;ee++)P.push(new Uint8Array(N));for(var V=0;V<O;V++){H(C.blocks[xe][V],I,R);var K=0,J=V<<3;for(fe=0;fe<8;fe++){var oe=P[q+fe];for(ee=0;ee<8;ee++)oe[J+ee]=I[K++]}}}return P}function x(M){return M<0?0:M>255?255:M}s.prototype={load:function(C){var P=new XMLHttpRequest;P.open("GET",C,!0),P.responseType="arraybuffer",P.onload=(function(){var O=new Uint8Array(P.response||P.mozResponseArrayBuffer);this.parse(O),this.onload&&this.onload()}).bind(this),P.send(null)},parse:function(C){var P=this.opts.maxResolutionInMP*1e3*1e3,O=0;C.length;function D(){var he=C[O]<<8|C[O+1];return O+=2,he}function N(){var he=D(),U=C.subarray(O,O+he-2);return O+=U.length,U}function R(he){var U=0,se=0,ue,we;for(we in he.components)he.components.hasOwnProperty(we)&&(ue=he.components[we],U<ue.h&&(U=ue.h),se<ue.v&&(se=ue.v));var ce=Math.ceil(he.samplesPerLine/8/U),Se=Math.ceil(he.scanLines/8/se);for(we in he.components)if(he.components.hasOwnProperty(we)){ue=he.components[we];var $=Math.ceil(Math.ceil(he.samplesPerLine/8)*ue.h/U),je=Math.ceil(Math.ceil(he.scanLines/8)*ue.v/se),be=ce*ue.h,k=Se*ue.v,ye=k*be,Ce=[];E(ye*256);for(var X=0;X<k;X++){for(var Ee=[],Fe=0;Fe<be;Fe++)Ee.push(new Int32Array(64));Ce.push(Ee)}ue.blocksPerLine=$,ue.blocksPerColumn=je,ue.blocks=Ce}he.maxH=U,he.maxV=se,he.mcusPerLine=ce,he.mcusPerColumn=Se}var I=null,H=null,ee,fe,xe=[],q=[],V=[],K=[],J=D();if(J!=65496)throw new Error("SOI not found");for(J=D();J!=65497;){var oe,_e;switch(J){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Oe=N();J===65504&&Oe[0]===74&&Oe[1]===70&&Oe[2]===73&&Oe[3]===70&&Oe[4]===0&&(I={version:{major:Oe[5],minor:Oe[6]},densityUnits:Oe[7],xDensity:Oe[8]<<8|Oe[9],yDensity:Oe[10]<<8|Oe[11],thumbWidth:Oe[12],thumbHeight:Oe[13],thumbData:Oe.subarray(14,14+3*Oe[12]*Oe[13])}),J===65505&&Oe[0]===69&&Oe[1]===120&&Oe[2]===105&&Oe[3]===102&&Oe[4]===0&&(this.exifBuffer=Oe.subarray(5,Oe.length)),J===65518&&Oe[0]===65&&Oe[1]===100&&Oe[2]===111&&Oe[3]===98&&Oe[4]===101&&Oe[5]===0&&(H={version:Oe[6],flags0:Oe[7]<<8|Oe[8],flags1:Oe[9]<<8|Oe[10],transformCode:Oe[11]});break;case 65499:for(var De=D(),Te=De+O-2;O<Te;){var Be=C[O++];E(256);var Re=new Int32Array(64);if(Be>>4)if(Be>>4===1)for(_e=0;_e<64;_e++){var ve=d[_e];Re[ve]=D()}else throw new Error("DQT: invalid table spec");else for(_e=0;_e<64;_e++){var ve=d[_e];Re[ve]=C[O++]}xe[Be&15]=Re}break;case 65472:case 65473:case 65474:D(),ee={},ee.extended=J===65473,ee.progressive=J===65474,ee.precision=C[O++],ee.scanLines=D(),ee.samplesPerLine=D(),ee.components={},ee.componentsOrder=[];var ge=ee.scanLines*ee.samplesPerLine;if(ge>P){var Ae=Math.ceil((ge-P)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${Ae}MP`)}var Ie=C[O++],de;for(oe=0;oe<Ie;oe++){de=C[O];var ae=C[O+1]>>4,ne=C[O+1]&15,Me=C[O+2];ee.componentsOrder.push(de),ee.components[de]={h:ae,v:ne,quantizationIdx:Me},O+=3}R(ee),q.push(ee);break;case 65476:var pe=D();for(oe=2;oe<pe;){var le=C[O++],re=new Uint8Array(16),Le=0;for(_e=0;_e<16;_e++,O++)Le+=re[_e]=C[O];E(16+Le);var h=new Uint8Array(Le);for(_e=0;_e<Le;_e++,O++)h[_e]=C[O];oe+=17+Le,(le>>4?V:K)[le&15]=p(re,h)}break;case 65501:D(),fe=D();break;case 65498:D();var _=C[O++],T=[],L;for(oe=0;oe<_;oe++){L=ee.components[C[O++]];var G=C[O++];L.huffmanTableDC=K[G>>4],L.huffmanTableAC=V[G&15],T.push(L)}var B=C[O++],W=C[O++],F=C[O++],Y=v(C,O,ee,T,fe,B,W,F>>4,F&15,this.opts);O+=Y;break;case 65535:C[O]!==255&&O--;break;default:if(C[O-3]==255&&C[O-2]>=192&&C[O-2]<=254){O-=3;break}throw new Error("unknown JPEG marker "+J.toString(16))}J=D()}if(q.length!=1)throw new Error("only single frame JPEGs supported");for(var oe=0;oe<q.length;oe++){var ie=q[oe].components;for(var _e in ie)ie[_e].quantizationTable=xe[ie[_e].quantizationIdx],delete ie[_e].quantizationIdx}this.width=ee.samplesPerLine,this.height=ee.scanLines,this.jfif=I,this.adobe=H,this.components=[];for(var oe=0;oe<ee.componentsOrder.length;oe++){var L=ee.components[ee.componentsOrder[oe]];this.components.push({lines:b(ee,L),scaleX:L.h/ee.maxH,scaleY:L.v/ee.maxV})}},getData:function(C,P){var O=this.width/C,D=this.height/P,N,R,I,H,ee,fe,xe,q,V,K,J=0,oe,_e,Oe,De,Te,Be,Re,ve,ge,Ae,Ie,de=C*P*this.components.length;E(de);var ae=new Uint8Array(de);switch(this.components.length){case 1:for(N=this.components[0],K=0;K<P;K++)for(ee=N.lines[0|K*N.scaleY*D],V=0;V<C;V++)oe=ee[0|V*N.scaleX*O],ae[J++]=oe;break;case 2:for(N=this.components[0],R=this.components[1],K=0;K<P;K++)for(ee=N.lines[0|K*N.scaleY*D],fe=R.lines[0|K*R.scaleY*D],V=0;V<C;V++)oe=ee[0|V*N.scaleX*O],ae[J++]=oe,oe=fe[0|V*R.scaleX*O],ae[J++]=oe;break;case 3:for(Ie=!0,this.adobe&&this.adobe.transformCode?Ie=!0:typeof this.opts.colorTransform<"u"&&(Ie=!!this.opts.colorTransform),N=this.components[0],R=this.components[1],I=this.components[2],K=0;K<P;K++)for(ee=N.lines[0|K*N.scaleY*D],fe=R.lines[0|K*R.scaleY*D],xe=I.lines[0|K*I.scaleY*D],V=0;V<C;V++)Ie?(oe=ee[0|V*N.scaleX*O],_e=fe[0|V*R.scaleX*O],Oe=xe[0|V*I.scaleX*O],ve=x(oe+1.402*(Oe-128)),ge=x(oe-.3441363*(_e-128)-.71413636*(Oe-128)),Ae=x(oe+1.772*(_e-128))):(ve=ee[0|V*N.scaleX*O],ge=fe[0|V*R.scaleX*O],Ae=xe[0|V*I.scaleX*O]),ae[J++]=ve,ae[J++]=ge,ae[J++]=Ae;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(Ie=!1,this.adobe&&this.adobe.transformCode?Ie=!0:typeof this.opts.colorTransform<"u"&&(Ie=!!this.opts.colorTransform),N=this.components[0],R=this.components[1],I=this.components[2],H=this.components[3],K=0;K<P;K++)for(ee=N.lines[0|K*N.scaleY*D],fe=R.lines[0|K*R.scaleY*D],xe=I.lines[0|K*I.scaleY*D],q=H.lines[0|K*H.scaleY*D],V=0;V<C;V++)Ie?(oe=ee[0|V*N.scaleX*O],_e=fe[0|V*R.scaleX*O],Oe=xe[0|V*I.scaleX*O],De=q[0|V*H.scaleX*O],Te=255-x(oe+1.402*(Oe-128)),Be=255-x(oe-.3441363*(_e-128)-.71413636*(Oe-128)),Re=255-x(oe+1.772*(_e-128))):(Te=ee[0|V*N.scaleX*O],Be=fe[0|V*R.scaleX*O],Re=xe[0|V*I.scaleX*O],De=q[0|V*H.scaleX*O]),ae[J++]=255-Te,ae[J++]=255-Be,ae[J++]=255-Re,ae[J++]=255-De;break;default:throw new Error("Unsupported color mode")}return ae},copyToImageData:function(C,P){var O=C.width,D=C.height,N=C.data,R=this.getData(O,D),I=0,H=0,ee,fe,xe,q,V,K,J,oe,_e;switch(this.components.length){case 1:for(fe=0;fe<D;fe++)for(ee=0;ee<O;ee++)xe=R[I++],N[H++]=xe,N[H++]=xe,N[H++]=xe,P&&(N[H++]=255);break;case 3:for(fe=0;fe<D;fe++)for(ee=0;ee<O;ee++)J=R[I++],oe=R[I++],_e=R[I++],N[H++]=J,N[H++]=oe,N[H++]=_e,P&&(N[H++]=255);break;case 4:for(fe=0;fe<D;fe++)for(ee=0;ee<O;ee++)V=R[I++],K=R[I++],xe=R[I++],q=R[I++],J=255-x(V*(1-q/255)+q),oe=255-x(K*(1-q/255)+q),_e=255-x(xe*(1-q/255)+q),N[H++]=J,N[H++]=oe,N[H++]=_e,P&&(N[H++]=255);break;default:throw new Error("Unsupported color mode")}}};var w=0,j=0;function E(M=0){var C=w+M;if(C>j){var P=Math.ceil((C-j)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${P}MB`)}w=C}return s.resetMaxMemoryUsage=function(M){w=0,j=M},s.getBytesAllocated=function(){return w},s.requestMemoryAllocation=E,s}();typeof Z<"u"?Z.exports=f:typeof Ye<"u"&&(Ye["jpeg-js"]=Ye["jpeg-js"]||{},Ye["jpeg-js"].decode=f);function f(g,d={}){var u={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},i={...u,...d},r=new Uint8Array(g),t=new m;t.opts=i,m.resetMaxMemoryUsage(i.maxMemoryUsageInMB*1024*1024),t.parse(r);var a=i.formatAsRGBA?4:3,l=t.width*t.height*a;try{m.requestMemoryAllocation(l);var o={width:t.width,height:t.height,exifBuffer:t.exifBuffer,data:i.useTArray?new Uint8Array(l):new y(l)}}catch(c){throw c instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+l):c}return t.copyToImageData(o,i.formatAsRGBA),o}}).call(this,n("buffer").Buffer)},{buffer:48}],82:[function(n,Z,S){(function(y){function m(g){var d=Math.floor,u=new Array(64),i=new Array(64),r=new Array(64),t=new Array(64),a,l,o,c,s=new Array(65535),p=new Array(65535),v=new Array(64),b=new Array(64),x=[],w=0,j=7,E=new Array(64),M=new Array(64),C=new Array(64),P=new Array(256),O=new Array(2048),D,N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ee=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],fe=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],xe=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(re){for(var Le=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],h=0;h<64;h++){var _=d((Le[h]*re+50)/100);_<1?_=1:_>255&&(_=255),u[N[h]]=_}for(var T=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],L=0;L<64;L++){var G=d((T[L]*re+50)/100);G<1?G=1:G>255&&(G=255),i[N[L]]=G}for(var B=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],W=0,F=0;F<8;F++)for(var Y=0;Y<8;Y++)r[W]=1/(u[N[W]]*B[F]*B[Y]*8),t[W]=1/(i[N[W]]*B[F]*B[Y]*8),W++}function J(re,Le){for(var h=0,_=0,T=new Array,L=1;L<=16;L++){for(var G=1;G<=re[L];G++)T[Le[_]]=[],T[Le[_]][0]=h,T[Le[_]][1]=L,_++,h++;h*=2}return T}function oe(){a=J(R,I),l=J(fe,xe),o=J(H,ee),c=J(q,V)}function _e(){for(var re=1,Le=2,h=1;h<=15;h++){for(var _=re;_<Le;_++)p[32767+_]=h,s[32767+_]=[],s[32767+_][1]=h,s[32767+_][0]=_;for(var T=-(Le-1);T<=-re;T++)p[32767+T]=h,s[32767+T]=[],s[32767+T][1]=h,s[32767+T][0]=Le-1+T;re<<=1,Le<<=1}}function Oe(){for(var re=0;re<256;re++)O[re]=19595*re,O[re+256>>0]=38470*re,O[re+512>>0]=7471*re+32768,O[re+768>>0]=-11059*re,O[re+1024>>0]=-21709*re,O[re+1280>>0]=32768*re+8421375,O[re+1536>>0]=-27439*re,O[re+1792>>0]=-5329*re}function De(re){for(var Le=re[0],h=re[1]-1;h>=0;)Le&1<<h&&(w|=1<<j),h--,j--,j<0&&(w==255?(Te(255),Te(0)):Te(w),j=7,w=0)}function Te(re){x.push(re)}function Be(re){Te(re>>8&255),Te(re&255)}function Re(re,Le){var h,_,T,L,G,B,W,F,Y=0,ie,he=8,U=64;for(ie=0;ie<he;++ie){h=re[Y],_=re[Y+1],T=re[Y+2],L=re[Y+3],G=re[Y+4],B=re[Y+5],W=re[Y+6],F=re[Y+7];var se=h+F,ue=h-F,we=_+W,ce=_-W,Se=T+B,$=T-B,je=L+G,be=L-G,k=se+je,ye=se-je,Ce=we+Se,X=we-Se;re[Y]=k+Ce,re[Y+4]=k-Ce;var Ee=(X+ye)*.707106781;re[Y+2]=ye+Ee,re[Y+6]=ye-Ee,k=be+$,Ce=$+ce,X=ce+ue;var Fe=(k-X)*.382683433,Ne=.5411961*k+Fe,Ge=1.306562965*X+Fe,ze=Ce*.707106781,We=ue+ze,Qe=ue-ze;re[Y+5]=Qe+Ne,re[Y+3]=Qe-Ne,re[Y+1]=We+Ge,re[Y+7]=We-Ge,Y+=8}for(Y=0,ie=0;ie<he;++ie){h=re[Y],_=re[Y+8],T=re[Y+16],L=re[Y+24],G=re[Y+32],B=re[Y+40],W=re[Y+48],F=re[Y+56];var rt=h+F,et=h-F,ut=_+W,mt=_-W,bt=T+B,xt=T-B,He=L+G,Ze=L-G,it=rt+He,at=rt-He,yt=ut+bt,st=ut-bt;re[Y]=it+yt,re[Y+32]=it-yt;var Et=(st+at)*.707106781;re[Y+16]=at+Et,re[Y+48]=at-Et,it=Ze+xt,yt=xt+mt,st=mt+et;var gt=(it-st)*.382683433,jt=.5411961*it+gt,vt=1.306562965*st+gt,Mt=yt*.707106781,Bt=et+Mt,Dt=et-Mt;re[Y+40]=Dt+jt,re[Y+24]=Dt-jt,re[Y+8]=Bt+vt,re[Y+56]=Bt-vt,Y++}var Nt;for(ie=0;ie<U;++ie)Nt=re[ie]*Le[ie],v[ie]=Nt>0?Nt+.5|0:Nt-.5|0;return v}function ve(){Be(65504),Be(16),Te(74),Te(70),Te(73),Te(70),Te(0),Te(1),Te(1),Te(0),Be(1),Be(1),Te(0),Te(0)}function ge(re){if(re){Be(65505),re[0]===69&&re[1]===120&&re[2]===105&&re[3]===102?Be(re.length+2):(Be(re.length+5+2),Te(69),Te(120),Te(105),Te(102),Te(0));for(var Le=0;Le<re.length;Le++)Te(re[Le])}}function Ae(re,Le){Be(65472),Be(17),Te(8),Be(Le),Be(re),Te(3),Te(1),Te(17),Te(0),Te(2),Te(17),Te(1),Te(3),Te(17),Te(1)}function Ie(){Be(65499),Be(132),Te(0);for(var re=0;re<64;re++)Te(u[re]);Te(1);for(var Le=0;Le<64;Le++)Te(i[Le])}function de(){Be(65476),Be(418),Te(0);for(var re=0;re<16;re++)Te(R[re+1]);for(var Le=0;Le<=11;Le++)Te(I[Le]);Te(16);for(var h=0;h<16;h++)Te(H[h+1]);for(var _=0;_<=161;_++)Te(ee[_]);Te(1);for(var T=0;T<16;T++)Te(fe[T+1]);for(var L=0;L<=11;L++)Te(xe[L]);Te(17);for(var G=0;G<16;G++)Te(q[G+1]);for(var B=0;B<=161;B++)Te(V[B])}function ae(){Be(65498),Be(12),Te(3),Te(1),Te(0),Te(2),Te(17),Te(3),Te(17),Te(0),Te(63),Te(0)}function ne(re,Le,h,_,T){for(var L=T[0],G=T[240],B,W=16,F=63,Y=64,ie=Re(re,Le),he=0;he<Y;++he)b[N[he]]=ie[he];var U=b[0]-h;h=b[0],U==0?De(_[0]):(B=32767+U,De(_[p[B]]),De(s[B]));for(var se=63;se>0&&b[se]==0;se--);if(se==0)return De(L),h;for(var ue=1,we;ue<=se;){for(var ce=ue;b[ue]==0&&ue<=se;++ue);var Se=ue-ce;if(Se>=W){we=Se>>4;for(var $=1;$<=we;++$)De(G);Se=Se&15}B=32767+b[ue],De(T[(Se<<4)+p[B]]),De(s[B]),ue++}return se!=F&&De(L),h}function Me(){for(var re=String.fromCharCode,Le=0;Le<256;Le++)P[Le]=re(Le)}this.encode=function(re,Le){new Date().getTime(),Le&&pe(Le),x=new Array,w=0,j=7,Be(65496),ve(),ge(re.exifBuffer),Ie(),Ae(re.width,re.height),de(),ae();var h=0,_=0,T=0;w=0,j=7,this.encode.displayName="_encode_";for(var L=re.data,G=re.width,B=re.height,W=G*4,F,Y=0,ie,he,U,se,ue,we,ce,Se;Y<B;){for(F=0;F<W;){for(se=W*Y+F,ue=se,we=-1,ce=0,Se=0;Se<64;Se++)ce=Se>>3,we=(Se&7)*4,ue=se+ce*W+we,Y+ce>=B&&(ue-=W*(Y+1+ce-B)),F+we>=W&&(ue-=F+we-W+4),ie=L[ue++],he=L[ue++],U=L[ue++],E[Se]=(O[ie]+O[he+256>>0]+O[U+512>>0]>>16)-128,M[Se]=(O[ie+768>>0]+O[he+1024>>0]+O[U+1280>>0]>>16)-128,C[Se]=(O[ie+1280>>0]+O[he+1536>>0]+O[U+1792>>0]>>16)-128;h=ne(E,r,h,a,o),_=ne(M,t,_,l,c),T=ne(C,t,T,l,c),F+=32}Y+=8}if(j>=0){var $=[];$[1]=j+1,$[0]=(1<<j+1)-1,De($)}return Be(65497),typeof Z>"u"?new Uint8Array(x):new y(x)};function pe(re){if(re<=0&&(re=1),re>100&&(re=100),D!=re){var Le=0;re<50?Le=Math.floor(5e3/re):Le=Math.floor(200-re*2),K(Le),D=re}}function le(){var re=new Date().getTime();g||(g=50),Me(),oe(),_e(),Oe(),pe(g),new Date().getTime()-re}le()}typeof Z<"u"?Z.exports=f:typeof Ye<"u"&&(Ye["jpeg-js"]=Ye["jpeg-js"]||{},Ye["jpeg-js"].encode=f);function f(g,d){typeof d>"u"&&(d=50);var u=new m(d),i=u.encode(g,d);return{data:i,width:g.width,height:g.height}}}).call(this,n("buffer").Buffer)},{buffer:48}],83:[function(n,Z,S){(function(y){var m=n("path"),f=n("fs"),g=parseInt("0777",8);Z.exports=d.mkdirp=d.mkdirP=d;function d(u,i,r,t){typeof i=="function"?(r=i,i={}):(!i||typeof i!="object")&&(i={mode:i});var a=i.mode,l=i.fs||f;a===void 0&&(a=g&~y.umask()),t||(t=null);var o=r||function(){};u=m.resolve(u),l.mkdir(u,a,function(c){if(!c)return t=t||u,o(null,t);switch(c.code){case"ENOENT":d(m.dirname(u),i,function(s,p){s?o(s,p):d(u,i,o,p)});break;default:l.stat(u,function(s,p){s||!p.isDirectory()?o(c,t):o(null,t)});break}})}d.sync=function u(i,r,t){(!r||typeof r!="object")&&(r={mode:r});var a=r.mode,l=r.fs||f;a===void 0&&(a=g&~y.umask()),t||(t=null),i=m.resolve(i);try{l.mkdirSync(i,a),t=t||i}catch(c){switch(c.code){case"ENOENT":t=u(m.dirname(i),r,t),u(i,r,t);break;default:var o;try{o=l.statSync(i)}catch{throw c}if(!o.isDirectory())throw c;break}}return t}}).call(this,n("_process"))},{_process:133,fs:47,path:107}],84:[function(n,Z,S){var y=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;function g(u){if(u==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(u)}function d(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var i={},r=0;r<10;r++)i["_"+String.fromCharCode(r)]=r;var t=Object.getOwnPropertyNames(i).map(function(l){return i[l]});if(t.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(l){a[l]=l}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Z.exports=d()?Object.assign:function(u,i){for(var r,t=g(u),a,l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var o in r)m.call(r,o)&&(t[o]=r[o]);if(y){a=y(r);for(var c=0;c<a.length;c++)f.call(r,a[c])&&(t[a[c]]=r[a[c]])}}return t}},{}],85:[function(n,Z,S){arguments[4][64][0].apply(S,arguments)},{dup:64}],86:[function(n,Z,S){var y=n("./lib/utils/common").assign,m=n("./lib/deflate"),f=n("./lib/inflate"),g=n("./lib/zlib/constants"),d={};y(d,m,f,g),Z.exports=d},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(n,Z,S){var y=n("./zlib/deflate"),m=n("./utils/common"),f=n("./utils/strings"),g=n("./zlib/messages"),d=n("./zlib/zstream"),u=Object.prototype.toString,i=0,r=4,t=0,a=1,l=2,o=-1,c=0,s=8;function p(w){if(!(this instanceof p))return new p(w);this.options=m.assign({level:o,method:s,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},w||{});var j=this.options;j.raw&&j.windowBits>0?j.windowBits=-j.windowBits:j.gzip&&j.windowBits>0&&j.windowBits<16&&(j.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var E=y.deflateInit2(this.strm,j.level,j.method,j.windowBits,j.memLevel,j.strategy);if(E!==t)throw new Error(g[E]);if(j.header&&y.deflateSetHeader(this.strm,j.header),j.dictionary){var M;if(typeof j.dictionary=="string"?M=f.string2buf(j.dictionary):u.call(j.dictionary)==="[object ArrayBuffer]"?M=new Uint8Array(j.dictionary):M=j.dictionary,E=y.deflateSetDictionary(this.strm,M),E!==t)throw new Error(g[E]);this._dict_set=!0}}p.prototype.push=function(w,j){var E=this.strm,M=this.options.chunkSize,C,P;if(this.ended)return!1;P=j===~~j?j:j===!0?r:i,typeof w=="string"?E.input=f.string2buf(w):u.call(w)==="[object ArrayBuffer]"?E.input=new Uint8Array(w):E.input=w,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new m.Buf8(M),E.next_out=0,E.avail_out=M),C=y.deflate(E,P),C!==a&&C!==t)return this.onEnd(C),this.ended=!0,!1;(E.avail_out===0||E.avail_in===0&&(P===r||P===l))&&(this.options.to==="string"?this.onData(f.buf2binstring(m.shrinkBuf(E.output,E.next_out))):this.onData(m.shrinkBuf(E.output,E.next_out)))}while((E.avail_in>0||E.avail_out===0)&&C!==a);return P===r?(C=y.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===t):(P===l&&(this.onEnd(t),E.avail_out=0),!0)},p.prototype.onData=function(w){this.chunks.push(w)},p.prototype.onEnd=function(w){w===t&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg};function v(w,j){var E=new p(j);if(E.push(w,!0),E.err)throw E.msg||g[E.err];return E.result}function b(w,j){return j=j||{},j.raw=!0,v(w,j)}function x(w,j){return j=j||{},j.gzip=!0,v(w,j)}S.Deflate=p,S.deflate=v,S.deflateRaw=b,S.gzip=x},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(n,Z,S){var y=n("./zlib/inflate"),m=n("./utils/common"),f=n("./utils/strings"),g=n("./zlib/constants"),d=n("./zlib/messages"),u=n("./zlib/zstream"),i=n("./zlib/gzheader"),r=Object.prototype.toString;function t(o){if(!(this instanceof t))return new t(o);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},o||{});var c=this.options;c.raw&&c.windowBits>=0&&c.windowBits<16&&(c.windowBits=-c.windowBits,c.windowBits===0&&(c.windowBits=-15)),c.windowBits>=0&&c.windowBits<16&&!(o&&o.windowBits)&&(c.windowBits+=32),c.windowBits>15&&c.windowBits<48&&(c.windowBits&15||(c.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var s=y.inflateInit2(this.strm,c.windowBits);if(s!==g.Z_OK)throw new Error(d[s]);this.header=new i,y.inflateGetHeader(this.strm,this.header)}t.prototype.push=function(o,c){var s=this.strm,p=this.options.chunkSize,v=this.options.dictionary,b,x,w,j,E,M,C=!1;if(this.ended)return!1;x=c===~~c?c:c===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof o=="string"?s.input=f.binstring2buf(o):r.call(o)==="[object ArrayBuffer]"?s.input=new Uint8Array(o):s.input=o,s.next_in=0,s.avail_in=s.input.length;do{if(s.avail_out===0&&(s.output=new m.Buf8(p),s.next_out=0,s.avail_out=p),b=y.inflate(s,g.Z_NO_FLUSH),b===g.Z_NEED_DICT&&v&&(typeof v=="string"?M=f.string2buf(v):r.call(v)==="[object ArrayBuffer]"?M=new Uint8Array(v):M=v,b=y.inflateSetDictionary(this.strm,M)),b===g.Z_BUF_ERROR&&C===!0&&(b=g.Z_OK,C=!1),b!==g.Z_STREAM_END&&b!==g.Z_OK)return this.onEnd(b),this.ended=!0,!1;s.next_out&&(s.avail_out===0||b===g.Z_STREAM_END||s.avail_in===0&&(x===g.Z_FINISH||x===g.Z_SYNC_FLUSH))&&(this.options.to==="string"?(w=f.utf8border(s.output,s.next_out),j=s.next_out-w,E=f.buf2string(s.output,w),s.next_out=j,s.avail_out=p-j,j&&m.arraySet(s.output,s.output,w,j,0),this.onData(E)):this.onData(m.shrinkBuf(s.output,s.next_out))),s.avail_in===0&&s.avail_out===0&&(C=!0)}while((s.avail_in>0||s.avail_out===0)&&b!==g.Z_STREAM_END);return b===g.Z_STREAM_END&&(x=g.Z_FINISH),x===g.Z_FINISH?(b=y.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===g.Z_OK):(x===g.Z_SYNC_FLUSH&&(this.onEnd(g.Z_OK),s.avail_out=0),!0)},t.prototype.onData=function(o){this.chunks.push(o)},t.prototype.onEnd=function(o){o===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function a(o,c){var s=new t(c);if(s.push(o,!0),s.err)throw s.msg||d[s.err];return s.result}function l(o,c){return c=c||{},c.raw=!0,a(o,c)}S.Inflate=t,S.inflate=a,S.inflateRaw=l,S.ungzip=a},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(n,Z,S){arguments[4][36][0].apply(S,arguments)},{dup:36}],90:[function(n,Z,S){var y=n("./common"),m=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var g=new y.Buf8(256),d=0;d<256;d++)g[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;g[254]=g[254]=1,S.string2buf=function(i){var r,t,a,l,o,c=i.length,s=0;for(l=0;l<c;l++)t=i.charCodeAt(l),(t&64512)===55296&&l+1<c&&(a=i.charCodeAt(l+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),l++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(r=new y.Buf8(s),o=0,l=0;o<s;l++)t=i.charCodeAt(l),(t&64512)===55296&&l+1<c&&(a=i.charCodeAt(l+1),(a&64512)===56320&&(t=65536+(t-55296<<10)+(a-56320),l++)),t<128?r[o++]=t:t<2048?(r[o++]=192|t>>>6,r[o++]=128|t&63):t<65536?(r[o++]=224|t>>>12,r[o++]=128|t>>>6&63,r[o++]=128|t&63):(r[o++]=240|t>>>18,r[o++]=128|t>>>12&63,r[o++]=128|t>>>6&63,r[o++]=128|t&63);return r};function u(i,r){if(r<65537&&(i.subarray&&f||!i.subarray&&m))return String.fromCharCode.apply(null,y.shrinkBuf(i,r));for(var t="",a=0;a<r;a++)t+=String.fromCharCode(i[a]);return t}S.buf2binstring=function(i){return u(i,i.length)},S.binstring2buf=function(i){for(var r=new y.Buf8(i.length),t=0,a=r.length;t<a;t++)r[t]=i.charCodeAt(t);return r},S.buf2string=function(i,r){var t,a,l,o,c=r||i.length,s=new Array(c*2);for(a=0,t=0;t<c;){if(l=i[t++],l<128){s[a++]=l;continue}if(o=g[l],o>4){s[a++]=65533,t+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&t<c;)l=l<<6|i[t++]&63,o--;if(o>1){s[a++]=65533;continue}l<65536?s[a++]=l:(l-=65536,s[a++]=55296|l>>10&1023,s[a++]=56320|l&1023)}return u(s,a)},S.utf8border=function(i,r){var t;for(r=r||i.length,r>i.length&&(r=i.length),t=r-1;t>=0&&(i[t]&192)===128;)t--;return t<0||t===0?r:t+g[i[t]]>r?t:r}},{"./common":89}],91:[function(n,Z,S){arguments[4][37][0].apply(S,arguments)},{dup:37}],92:[function(n,Z,S){arguments[4][38][0].apply(S,arguments)},{dup:38}],93:[function(n,Z,S){arguments[4][39][0].apply(S,arguments)},{dup:39}],94:[function(n,Z,S){var y=n("../utils/common"),m=n("./trees"),f=n("./adler32"),g=n("./crc32"),d=n("./messages"),u=0,i=1,r=3,t=4,a=5,l=0,o=1,c=-2,s=-3,p=-5,v=-1,b=1,x=2,w=3,j=4,E=0,M=2,C=8,P=9,O=15,D=8,N=29,R=256,I=R+1+N,H=30,ee=19,fe=2*I+1,xe=15,q=3,V=258,K=V+q+1,J=32,oe=42,_e=69,Oe=73,De=91,Te=103,Be=113,Re=666,ve=1,ge=2,Ae=3,Ie=4,de=3;function ae(k,ye){return k.msg=d[ye],ye}function ne(k){return(k<<1)-(k>4?9:0)}function Me(k){for(var ye=k.length;--ye>=0;)k[ye]=0}function pe(k){var ye=k.state,Ce=ye.pending;Ce>k.avail_out&&(Ce=k.avail_out),Ce!==0&&(y.arraySet(k.output,ye.pending_buf,ye.pending_out,Ce,k.next_out),k.next_out+=Ce,ye.pending_out+=Ce,k.total_out+=Ce,k.avail_out-=Ce,ye.pending-=Ce,ye.pending===0&&(ye.pending_out=0))}function le(k,ye){m._tr_flush_block(k,k.block_start>=0?k.block_start:-1,k.strstart-k.block_start,ye),k.block_start=k.strstart,pe(k.strm)}function re(k,ye){k.pending_buf[k.pending++]=ye}function Le(k,ye){k.pending_buf[k.pending++]=ye>>>8&255,k.pending_buf[k.pending++]=ye&255}function h(k,ye,Ce,X){var Ee=k.avail_in;return Ee>X&&(Ee=X),Ee===0?0:(k.avail_in-=Ee,y.arraySet(ye,k.input,k.next_in,Ee,Ce),k.state.wrap===1?k.adler=f(k.adler,ye,Ee,Ce):k.state.wrap===2&&(k.adler=g(k.adler,ye,Ee,Ce)),k.next_in+=Ee,k.total_in+=Ee,Ee)}function _(k,ye){var Ce=k.max_chain_length,X=k.strstart,Ee,Fe,Ne=k.prev_length,Ge=k.nice_match,ze=k.strstart>k.w_size-K?k.strstart-(k.w_size-K):0,We=k.window,Qe=k.w_mask,rt=k.prev,et=k.strstart+V,ut=We[X+Ne-1],mt=We[X+Ne];k.prev_length>=k.good_match&&(Ce>>=2),Ge>k.lookahead&&(Ge=k.lookahead);do if(Ee=ye,!(We[Ee+Ne]!==mt||We[Ee+Ne-1]!==ut||We[Ee]!==We[X]||We[++Ee]!==We[X+1])){X+=2,Ee++;do;while(We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&We[++X]===We[++Ee]&&X<et);if(Fe=V-(et-X),X=et-V,Fe>Ne){if(k.match_start=ye,Ne=Fe,Fe>=Ge)break;ut=We[X+Ne-1],mt=We[X+Ne]}}while((ye=rt[ye&Qe])>ze&&--Ce!==0);return Ne<=k.lookahead?Ne:k.lookahead}function T(k){var ye=k.w_size,Ce,X,Ee,Fe,Ne;do{if(Fe=k.window_size-k.lookahead-k.strstart,k.strstart>=ye+(ye-K)){y.arraySet(k.window,k.window,ye,ye,0),k.match_start-=ye,k.strstart-=ye,k.block_start-=ye,X=k.hash_size,Ce=X;do Ee=k.head[--Ce],k.head[Ce]=Ee>=ye?Ee-ye:0;while(--X);X=ye,Ce=X;do Ee=k.prev[--Ce],k.prev[Ce]=Ee>=ye?Ee-ye:0;while(--X);Fe+=ye}if(k.strm.avail_in===0)break;if(X=h(k.strm,k.window,k.strstart+k.lookahead,Fe),k.lookahead+=X,k.lookahead+k.insert>=q)for(Ne=k.strstart-k.insert,k.ins_h=k.window[Ne],k.ins_h=(k.ins_h<<k.hash_shift^k.window[Ne+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[Ne+q-1])&k.hash_mask,k.prev[Ne&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=Ne,Ne++,k.insert--,!(k.lookahead+k.insert<q)););}while(k.lookahead<K&&k.strm.avail_in!==0)}function L(k,ye){var Ce=65535;for(Ce>k.pending_buf_size-5&&(Ce=k.pending_buf_size-5);;){if(k.lookahead<=1){if(T(k),k.lookahead===0&&ye===u)return ve;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var X=k.block_start+Ce;if((k.strstart===0||k.strstart>=X)&&(k.lookahead=k.strstart-X,k.strstart=X,le(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-K&&(le(k,!1),k.strm.avail_out===0))return ve}return k.insert=0,ye===t?(le(k,!0),k.strm.avail_out===0?Ae:Ie):(k.strstart>k.block_start&&(le(k,!1),k.strm.avail_out===0),ve)}function G(k,ye){for(var Ce,X;;){if(k.lookahead<K){if(T(k),k.lookahead<K&&ye===u)return ve;if(k.lookahead===0)break}if(Ce=0,k.lookahead>=q&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+q-1])&k.hash_mask,Ce=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),Ce!==0&&k.strstart-Ce<=k.w_size-K&&(k.match_length=_(k,Ce)),k.match_length>=q)if(X=m._tr_tally(k,k.strstart-k.match_start,k.match_length-q),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=q){k.match_length--;do k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+q-1])&k.hash_mask,Ce=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart;while(--k.match_length!==0);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else X=m._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(X&&(le(k,!1),k.strm.avail_out===0))return ve}return k.insert=k.strstart<q-1?k.strstart:q-1,ye===t?(le(k,!0),k.strm.avail_out===0?Ae:Ie):k.last_lit&&(le(k,!1),k.strm.avail_out===0)?ve:ge}function B(k,ye){for(var Ce,X,Ee;;){if(k.lookahead<K){if(T(k),k.lookahead<K&&ye===u)return ve;if(k.lookahead===0)break}if(Ce=0,k.lookahead>=q&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+q-1])&k.hash_mask,Ce=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=q-1,Ce!==0&&k.prev_length<k.max_lazy_match&&k.strstart-Ce<=k.w_size-K&&(k.match_length=_(k,Ce),k.match_length<=5&&(k.strategy===b||k.match_length===q&&k.strstart-k.match_start>4096)&&(k.match_length=q-1)),k.prev_length>=q&&k.match_length<=k.prev_length){Ee=k.strstart+k.lookahead-q,X=m._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-q),k.lookahead-=k.prev_length-1,k.prev_length-=2;do++k.strstart<=Ee&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+q-1])&k.hash_mask,Ce=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart);while(--k.prev_length!==0);if(k.match_available=0,k.match_length=q-1,k.strstart++,X&&(le(k,!1),k.strm.avail_out===0))return ve}else if(k.match_available){if(X=m._tr_tally(k,0,k.window[k.strstart-1]),X&&le(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return ve}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(X=m._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<q-1?k.strstart:q-1,ye===t?(le(k,!0),k.strm.avail_out===0?Ae:Ie):k.last_lit&&(le(k,!1),k.strm.avail_out===0)?ve:ge}function W(k,ye){for(var Ce,X,Ee,Fe,Ne=k.window;;){if(k.lookahead<=V){if(T(k),k.lookahead<=V&&ye===u)return ve;if(k.lookahead===0)break}if(k.match_length=0,k.lookahead>=q&&k.strstart>0&&(Ee=k.strstart-1,X=Ne[Ee],X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee])){Fe=k.strstart+V;do;while(X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&X===Ne[++Ee]&&Ee<Fe);k.match_length=V-(Fe-Ee),k.match_length>k.lookahead&&(k.match_length=k.lookahead)}if(k.match_length>=q?(Ce=m._tr_tally(k,1,k.match_length-q),k.lookahead-=k.match_length,k.strstart+=k.match_length,k.match_length=0):(Ce=m._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++),Ce&&(le(k,!1),k.strm.avail_out===0))return ve}return k.insert=0,ye===t?(le(k,!0),k.strm.avail_out===0?Ae:Ie):k.last_lit&&(le(k,!1),k.strm.avail_out===0)?ve:ge}function F(k,ye){for(var Ce;;){if(k.lookahead===0&&(T(k),k.lookahead===0)){if(ye===u)return ve;break}if(k.match_length=0,Ce=m._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++,Ce&&(le(k,!1),k.strm.avail_out===0))return ve}return k.insert=0,ye===t?(le(k,!0),k.strm.avail_out===0?Ae:Ie):k.last_lit&&(le(k,!1),k.strm.avail_out===0)?ve:ge}function Y(k,ye,Ce,X,Ee){this.good_length=k,this.max_lazy=ye,this.nice_length=Ce,this.max_chain=X,this.func=Ee}var ie;ie=[new Y(0,0,0,0,L),new Y(4,4,8,4,G),new Y(4,5,16,8,G),new Y(4,6,32,32,G),new Y(4,4,16,16,B),new Y(8,16,32,32,B),new Y(8,16,128,128,B),new Y(8,32,128,256,B),new Y(32,128,258,1024,B),new Y(32,258,258,4096,B)];function he(k){k.window_size=2*k.w_size,Me(k.head),k.max_lazy_match=ie[k.level].max_lazy,k.good_match=ie[k.level].good_length,k.nice_match=ie[k.level].nice_length,k.max_chain_length=ie[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=q-1,k.match_available=0,k.ins_h=0}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(fe*2),this.dyn_dtree=new y.Buf16((2*H+1)*2),this.bl_tree=new y.Buf16((2*ee+1)*2),Me(this.dyn_ltree),Me(this.dyn_dtree),Me(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(xe+1),this.heap=new y.Buf16(2*I+1),Me(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(2*I+1),Me(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(k){var ye;return!k||!k.state?ae(k,c):(k.total_in=k.total_out=0,k.data_type=M,ye=k.state,ye.pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?oe:Be,k.adler=ye.wrap===2?0:1,ye.last_flush=u,m._tr_init(ye),l)}function ue(k){var ye=se(k);return ye===l&&he(k.state),ye}function we(k,ye){return!k||!k.state||k.state.wrap!==2?c:(k.state.gzhead=ye,l)}function ce(k,ye,Ce,X,Ee,Fe){if(!k)return c;var Ne=1;if(ye===v&&(ye=6),X<0?(Ne=0,X=-X):X>15&&(Ne=2,X-=16),Ee<1||Ee>P||Ce!==C||X<8||X>15||ye<0||ye>9||Fe<0||Fe>j)return ae(k,c);X===8&&(X=9);var Ge=new U;return k.state=Ge,Ge.strm=k,Ge.wrap=Ne,Ge.gzhead=null,Ge.w_bits=X,Ge.w_size=1<<Ge.w_bits,Ge.w_mask=Ge.w_size-1,Ge.hash_bits=Ee+7,Ge.hash_size=1<<Ge.hash_bits,Ge.hash_mask=Ge.hash_size-1,Ge.hash_shift=~~((Ge.hash_bits+q-1)/q),Ge.window=new y.Buf8(Ge.w_size*2),Ge.head=new y.Buf16(Ge.hash_size),Ge.prev=new y.Buf16(Ge.w_size),Ge.lit_bufsize=1<<Ee+6,Ge.pending_buf_size=Ge.lit_bufsize*4,Ge.pending_buf=new y.Buf8(Ge.pending_buf_size),Ge.d_buf=1*Ge.lit_bufsize,Ge.l_buf=(1+2)*Ge.lit_bufsize,Ge.level=ye,Ge.strategy=Fe,Ge.method=Ce,ue(k)}function Se(k,ye){return ce(k,ye,C,O,D,E)}function $(k,ye){var Ce,X,Ee,Fe;if(!k||!k.state||ye>a||ye<0)return k?ae(k,c):c;if(X=k.state,!k.output||!k.input&&k.avail_in!==0||X.status===Re&&ye!==t)return ae(k,k.avail_out===0?p:c);if(X.strm=k,Ce=X.last_flush,X.last_flush=ye,X.status===oe)if(X.wrap===2)k.adler=0,re(X,31),re(X,139),re(X,8),X.gzhead?(re(X,(X.gzhead.text?1:0)+(X.gzhead.hcrc?2:0)+(X.gzhead.extra?4:0)+(X.gzhead.name?8:0)+(X.gzhead.comment?16:0)),re(X,X.gzhead.time&255),re(X,X.gzhead.time>>8&255),re(X,X.gzhead.time>>16&255),re(X,X.gzhead.time>>24&255),re(X,X.level===9?2:X.strategy>=x||X.level<2?4:0),re(X,X.gzhead.os&255),X.gzhead.extra&&X.gzhead.extra.length&&(re(X,X.gzhead.extra.length&255),re(X,X.gzhead.extra.length>>8&255)),X.gzhead.hcrc&&(k.adler=g(k.adler,X.pending_buf,X.pending,0)),X.gzindex=0,X.status=_e):(re(X,0),re(X,0),re(X,0),re(X,0),re(X,0),re(X,X.level===9?2:X.strategy>=x||X.level<2?4:0),re(X,de),X.status=Be);else{var Ne=C+(X.w_bits-8<<4)<<8,Ge=-1;X.strategy>=x||X.level<2?Ge=0:X.level<6?Ge=1:X.level===6?Ge=2:Ge=3,Ne|=Ge<<6,X.strstart!==0&&(Ne|=J),Ne+=31-Ne%31,X.status=Be,Le(X,Ne),X.strstart!==0&&(Le(X,k.adler>>>16),Le(X,k.adler&65535)),k.adler=1}if(X.status===_e)if(X.gzhead.extra){for(Ee=X.pending;X.gzindex<(X.gzhead.extra.length&65535)&&!(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),pe(k),Ee=X.pending,X.pending===X.pending_buf_size));)re(X,X.gzhead.extra[X.gzindex]&255),X.gzindex++;X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),X.gzindex===X.gzhead.extra.length&&(X.gzindex=0,X.status=Oe)}else X.status=Oe;if(X.status===Oe)if(X.gzhead.name){Ee=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),pe(k),Ee=X.pending,X.pending===X.pending_buf_size)){Fe=1;break}X.gzindex<X.gzhead.name.length?Fe=X.gzhead.name.charCodeAt(X.gzindex++)&255:Fe=0,re(X,Fe)}while(Fe!==0);X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),Fe===0&&(X.gzindex=0,X.status=De)}else X.status=De;if(X.status===De)if(X.gzhead.comment){Ee=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),pe(k),Ee=X.pending,X.pending===X.pending_buf_size)){Fe=1;break}X.gzindex<X.gzhead.comment.length?Fe=X.gzhead.comment.charCodeAt(X.gzindex++)&255:Fe=0,re(X,Fe)}while(Fe!==0);X.gzhead.hcrc&&X.pending>Ee&&(k.adler=g(k.adler,X.pending_buf,X.pending-Ee,Ee)),Fe===0&&(X.status=Te)}else X.status=Te;if(X.status===Te&&(X.gzhead.hcrc?(X.pending+2>X.pending_buf_size&&pe(k),X.pending+2<=X.pending_buf_size&&(re(X,k.adler&255),re(X,k.adler>>8&255),k.adler=0,X.status=Be)):X.status=Be),X.pending!==0){if(pe(k),k.avail_out===0)return X.last_flush=-1,l}else if(k.avail_in===0&&ne(ye)<=ne(Ce)&&ye!==t)return ae(k,p);if(X.status===Re&&k.avail_in!==0)return ae(k,p);if(k.avail_in!==0||X.lookahead!==0||ye!==u&&X.status!==Re){var ze=X.strategy===x?F(X,ye):X.strategy===w?W(X,ye):ie[X.level].func(X,ye);if((ze===Ae||ze===Ie)&&(X.status=Re),ze===ve||ze===Ae)return k.avail_out===0&&(X.last_flush=-1),l;if(ze===ge&&(ye===i?m._tr_align(X):ye!==a&&(m._tr_stored_block(X,0,0,!1),ye===r&&(Me(X.head),X.lookahead===0&&(X.strstart=0,X.block_start=0,X.insert=0))),pe(k),k.avail_out===0))return X.last_flush=-1,l}return ye!==t?l:X.wrap<=0?o:(X.wrap===2?(re(X,k.adler&255),re(X,k.adler>>8&255),re(X,k.adler>>16&255),re(X,k.adler>>24&255),re(X,k.total_in&255),re(X,k.total_in>>8&255),re(X,k.total_in>>16&255),re(X,k.total_in>>24&255)):(Le(X,k.adler>>>16),Le(X,k.adler&65535)),pe(k),X.wrap>0&&(X.wrap=-X.wrap),X.pending!==0?l:o)}function je(k){var ye;return!k||!k.state?c:(ye=k.state.status,ye!==oe&&ye!==_e&&ye!==Oe&&ye!==De&&ye!==Te&&ye!==Be&&ye!==Re?ae(k,c):(k.state=null,ye===Be?ae(k,s):l))}function be(k,ye){var Ce=ye.length,X,Ee,Fe,Ne,Ge,ze,We,Qe;if(!k||!k.state||(X=k.state,Ne=X.wrap,Ne===2||Ne===1&&X.status!==oe||X.lookahead))return c;for(Ne===1&&(k.adler=f(k.adler,ye,Ce,0)),X.wrap=0,Ce>=X.w_size&&(Ne===0&&(Me(X.head),X.strstart=0,X.block_start=0,X.insert=0),Qe=new y.Buf8(X.w_size),y.arraySet(Qe,ye,Ce-X.w_size,X.w_size,0),ye=Qe,Ce=X.w_size),Ge=k.avail_in,ze=k.next_in,We=k.input,k.avail_in=Ce,k.next_in=0,k.input=ye,T(X);X.lookahead>=q;){Ee=X.strstart,Fe=X.lookahead-(q-1);do X.ins_h=(X.ins_h<<X.hash_shift^X.window[Ee+q-1])&X.hash_mask,X.prev[Ee&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=Ee,Ee++;while(--Fe);X.strstart=Ee,X.lookahead=q-1,T(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=q-1,X.match_available=0,k.next_in=ze,k.input=We,k.avail_in=Ge,X.wrap=Ne,l}S.deflateInit=Se,S.deflateInit2=ce,S.deflateReset=ue,S.deflateResetKeep=se,S.deflateSetHeader=we,S.deflate=$,S.deflateEnd=je,S.deflateSetDictionary=be,S.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(n,Z,S){function y(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}Z.exports=y},{}],96:[function(n,Z,S){arguments[4][41][0].apply(S,arguments)},{dup:41}],97:[function(n,Z,S){arguments[4][42][0].apply(S,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(n,Z,S){arguments[4][43][0].apply(S,arguments)},{"../utils/common":89,dup:43}],99:[function(n,Z,S){arguments[4][44][0].apply(S,arguments)},{dup:44}],100:[function(n,Z,S){var y=n("../utils/common"),m=4,f=0,g=1,d=2;function u(U){for(var se=U.length;--se>=0;)U[se]=0}var i=0,r=1,t=2,a=3,l=258,o=29,c=256,s=c+1+o,p=30,v=19,b=2*s+1,x=15,w=16,j=7,E=256,M=16,C=17,P=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=512,H=new Array((s+2)*2);u(H);var ee=new Array(p*2);u(ee);var fe=new Array(I);u(fe);var xe=new Array(l-a+1);u(xe);var q=new Array(o);u(q);var V=new Array(p);u(V);function K(U,se,ue,we,ce){this.static_tree=U,this.extra_bits=se,this.extra_base=ue,this.elems=we,this.max_length=ce,this.has_stree=U&&U.length}var J,oe,_e;function Oe(U,se){this.dyn_tree=U,this.max_code=0,this.stat_desc=se}function De(U){return U<256?fe[U]:fe[256+(U>>>7)]}function Te(U,se){U.pending_buf[U.pending++]=se&255,U.pending_buf[U.pending++]=se>>>8&255}function Be(U,se,ue){U.bi_valid>w-ue?(U.bi_buf|=se<<U.bi_valid&65535,Te(U,U.bi_buf),U.bi_buf=se>>w-U.bi_valid,U.bi_valid+=ue-w):(U.bi_buf|=se<<U.bi_valid&65535,U.bi_valid+=ue)}function Re(U,se,ue){Be(U,ue[se*2],ue[se*2+1])}function ve(U,se){var ue=0;do ue|=U&1,U>>>=1,ue<<=1;while(--se>0);return ue>>>1}function ge(U){U.bi_valid===16?(Te(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):U.bi_valid>=8&&(U.pending_buf[U.pending++]=U.bi_buf&255,U.bi_buf>>=8,U.bi_valid-=8)}function Ae(U,se){var ue=se.dyn_tree,we=se.max_code,ce=se.stat_desc.static_tree,Se=se.stat_desc.has_stree,$=se.stat_desc.extra_bits,je=se.stat_desc.extra_base,be=se.stat_desc.max_length,k,ye,Ce,X,Ee,Fe,Ne=0;for(X=0;X<=x;X++)U.bl_count[X]=0;for(ue[U.heap[U.heap_max]*2+1]=0,k=U.heap_max+1;k<b;k++)ye=U.heap[k],X=ue[ue[ye*2+1]*2+1]+1,X>be&&(X=be,Ne++),ue[ye*2+1]=X,!(ye>we)&&(U.bl_count[X]++,Ee=0,ye>=je&&(Ee=$[ye-je]),Fe=ue[ye*2],U.opt_len+=Fe*(X+Ee),Se&&(U.static_len+=Fe*(ce[ye*2+1]+Ee)));if(Ne!==0){do{for(X=be-1;U.bl_count[X]===0;)X--;U.bl_count[X]--,U.bl_count[X+1]+=2,U.bl_count[be]--,Ne-=2}while(Ne>0);for(X=be;X!==0;X--)for(ye=U.bl_count[X];ye!==0;)Ce=U.heap[--k],!(Ce>we)&&(ue[Ce*2+1]!==X&&(U.opt_len+=(X-ue[Ce*2+1])*ue[Ce*2],ue[Ce*2+1]=X),ye--)}}function Ie(U,se,ue){var we=new Array(x+1),ce=0,Se,$;for(Se=1;Se<=x;Se++)we[Se]=ce=ce+ue[Se-1]<<1;for($=0;$<=se;$++){var je=U[$*2+1];je!==0&&(U[$*2]=ve(we[je]++,je))}}function de(){var U,se,ue,we,ce,Se=new Array(x+1);for(ue=0,we=0;we<o-1;we++)for(q[we]=ue,U=0;U<1<<O[we];U++)xe[ue++]=we;for(xe[ue-1]=we,ce=0,we=0;we<16;we++)for(V[we]=ce,U=0;U<1<<D[we];U++)fe[ce++]=we;for(ce>>=7;we<p;we++)for(V[we]=ce<<7,U=0;U<1<<D[we]-7;U++)fe[256+ce++]=we;for(se=0;se<=x;se++)Se[se]=0;for(U=0;U<=143;)H[U*2+1]=8,U++,Se[8]++;for(;U<=255;)H[U*2+1]=9,U++,Se[9]++;for(;U<=279;)H[U*2+1]=7,U++,Se[7]++;for(;U<=287;)H[U*2+1]=8,U++,Se[8]++;for(Ie(H,s+1,Se),U=0;U<p;U++)ee[U*2+1]=5,ee[U*2]=ve(U,5);J=new K(H,O,c+1,s,x),oe=new K(ee,D,0,p,x),_e=new K(new Array(0),N,0,v,j)}function ae(U){var se;for(se=0;se<s;se++)U.dyn_ltree[se*2]=0;for(se=0;se<p;se++)U.dyn_dtree[se*2]=0;for(se=0;se<v;se++)U.bl_tree[se*2]=0;U.dyn_ltree[E*2]=1,U.opt_len=U.static_len=0,U.last_lit=U.matches=0}function ne(U){U.bi_valid>8?Te(U,U.bi_buf):U.bi_valid>0&&(U.pending_buf[U.pending++]=U.bi_buf),U.bi_buf=0,U.bi_valid=0}function Me(U,se,ue,we){ne(U),we&&(Te(U,ue),Te(U,~ue)),y.arraySet(U.pending_buf,U.window,se,ue,U.pending),U.pending+=ue}function pe(U,se,ue,we){var ce=se*2,Se=ue*2;return U[ce]<U[Se]||U[ce]===U[Se]&&we[se]<=we[ue]}function le(U,se,ue){for(var we=U.heap[ue],ce=ue<<1;ce<=U.heap_len&&(ce<U.heap_len&&pe(se,U.heap[ce+1],U.heap[ce],U.depth)&&ce++,!pe(se,we,U.heap[ce],U.depth));)U.heap[ue]=U.heap[ce],ue=ce,ce<<=1;U.heap[ue]=we}function re(U,se,ue){var we,ce,Se=0,$,je;if(U.last_lit!==0)do we=U.pending_buf[U.d_buf+Se*2]<<8|U.pending_buf[U.d_buf+Se*2+1],ce=U.pending_buf[U.l_buf+Se],Se++,we===0?Re(U,ce,se):($=xe[ce],Re(U,$+c+1,se),je=O[$],je!==0&&(ce-=q[$],Be(U,ce,je)),we--,$=De(we),Re(U,$,ue),je=D[$],je!==0&&(we-=V[$],Be(U,we,je)));while(Se<U.last_lit);Re(U,E,se)}function Le(U,se){var ue=se.dyn_tree,we=se.stat_desc.static_tree,ce=se.stat_desc.has_stree,Se=se.stat_desc.elems,$,je,be=-1,k;for(U.heap_len=0,U.heap_max=b,$=0;$<Se;$++)ue[$*2]!==0?(U.heap[++U.heap_len]=be=$,U.depth[$]=0):ue[$*2+1]=0;for(;U.heap_len<2;)k=U.heap[++U.heap_len]=be<2?++be:0,ue[k*2]=1,U.depth[k]=0,U.opt_len--,ce&&(U.static_len-=we[k*2+1]);for(se.max_code=be,$=U.heap_len>>1;$>=1;$--)le(U,ue,$);k=Se;do $=U.heap[1],U.heap[1]=U.heap[U.heap_len--],le(U,ue,1),je=U.heap[1],U.heap[--U.heap_max]=$,U.heap[--U.heap_max]=je,ue[k*2]=ue[$*2]+ue[je*2],U.depth[k]=(U.depth[$]>=U.depth[je]?U.depth[$]:U.depth[je])+1,ue[$*2+1]=ue[je*2+1]=k,U.heap[1]=k++,le(U,ue,1);while(U.heap_len>=2);U.heap[--U.heap_max]=U.heap[1],Ae(U,se),Ie(ue,be,U.bl_count)}function h(U,se,ue){var we,ce=-1,Se,$=se[0*2+1],je=0,be=7,k=4;for($===0&&(be=138,k=3),se[(ue+1)*2+1]=65535,we=0;we<=ue;we++)Se=$,$=se[(we+1)*2+1],!(++je<be&&Se===$)&&(je<k?U.bl_tree[Se*2]+=je:Se!==0?(Se!==ce&&U.bl_tree[Se*2]++,U.bl_tree[M*2]++):je<=10?U.bl_tree[C*2]++:U.bl_tree[P*2]++,je=0,ce=Se,$===0?(be=138,k=3):Se===$?(be=6,k=3):(be=7,k=4))}function _(U,se,ue){var we,ce=-1,Se,$=se[0*2+1],je=0,be=7,k=4;for($===0&&(be=138,k=3),we=0;we<=ue;we++)if(Se=$,$=se[(we+1)*2+1],!(++je<be&&Se===$)){if(je<k)do Re(U,Se,U.bl_tree);while(--je!==0);else Se!==0?(Se!==ce&&(Re(U,Se,U.bl_tree),je--),Re(U,M,U.bl_tree),Be(U,je-3,2)):je<=10?(Re(U,C,U.bl_tree),Be(U,je-3,3)):(Re(U,P,U.bl_tree),Be(U,je-11,7));je=0,ce=Se,$===0?(be=138,k=3):Se===$?(be=6,k=3):(be=7,k=4)}}function T(U){var se;for(h(U,U.dyn_ltree,U.l_desc.max_code),h(U,U.dyn_dtree,U.d_desc.max_code),Le(U,U.bl_desc),se=v-1;se>=3&&U.bl_tree[R[se]*2+1]===0;se--);return U.opt_len+=3*(se+1)+5+5+4,se}function L(U,se,ue,we){var ce;for(Be(U,se-257,5),Be(U,ue-1,5),Be(U,we-4,4),ce=0;ce<we;ce++)Be(U,U.bl_tree[R[ce]*2+1],3);_(U,U.dyn_ltree,se-1),_(U,U.dyn_dtree,ue-1)}function G(U){var se=4093624447,ue;for(ue=0;ue<=31;ue++,se>>>=1)if(se&1&&U.dyn_ltree[ue*2]!==0)return f;if(U.dyn_ltree[9*2]!==0||U.dyn_ltree[10*2]!==0||U.dyn_ltree[13*2]!==0)return g;for(ue=32;ue<c;ue++)if(U.dyn_ltree[ue*2]!==0)return g;return f}var B=!1;function W(U){B||(de(),B=!0),U.l_desc=new Oe(U.dyn_ltree,J),U.d_desc=new Oe(U.dyn_dtree,oe),U.bl_desc=new Oe(U.bl_tree,_e),U.bi_buf=0,U.bi_valid=0,ae(U)}function F(U,se,ue,we){Be(U,(i<<1)+(we?1:0),3),Me(U,se,ue,!0)}function Y(U){Be(U,r<<1,3),Re(U,E,H),ge(U)}function ie(U,se,ue,we){var ce,Se,$=0;U.level>0?(U.strm.data_type===d&&(U.strm.data_type=G(U)),Le(U,U.l_desc),Le(U,U.d_desc),$=T(U),ce=U.opt_len+3+7>>>3,Se=U.static_len+3+7>>>3,Se<=ce&&(ce=Se)):ce=Se=ue+5,ue+4<=ce&&se!==-1?F(U,se,ue,we):U.strategy===m||Se===ce?(Be(U,(r<<1)+(we?1:0),3),re(U,H,ee)):(Be(U,(t<<1)+(we?1:0),3),L(U,U.l_desc.max_code+1,U.d_desc.max_code+1,$+1),re(U,U.dyn_ltree,U.dyn_dtree)),ae(U),we&&ne(U)}function he(U,se,ue){return U.pending_buf[U.d_buf+U.last_lit*2]=se>>>8&255,U.pending_buf[U.d_buf+U.last_lit*2+1]=se&255,U.pending_buf[U.l_buf+U.last_lit]=ue&255,U.last_lit++,se===0?U.dyn_ltree[ue*2]++:(U.matches++,se--,U.dyn_ltree[(xe[ue]+c+1)*2]++,U.dyn_dtree[De(se)*2]++),U.last_lit===U.lit_bufsize-1}S._tr_init=W,S._tr_stored_block=F,S._tr_flush_block=ie,S._tr_tally=he,S._tr_align=Y},{"../utils/common":89}],101:[function(n,Z,S){arguments[4][46][0].apply(S,arguments)},{dup:46}],102:[function(n,Z,S){Z.exports=function(d){if(!d)throw new Error("no data provided");d=d.toString().trim();var u={pages:[],chars:[],kernings:[]},i=d.split(/\r\n?|\n/g);if(i.length===0)throw new Error("no data in BMFont file");for(var r=0;r<i.length;r++){var t=y(i[r],r);if(t)if(t.key==="page"){if(typeof t.data.id!="number")throw new Error("malformed file at line "+r+" -- needs page id=N");if(typeof t.data.file!="string")throw new Error("malformed file at line "+r+' -- needs page file="path"');u.pages[t.data.id]=t.data.file}else t.key==="chars"||t.key==="kernings"||(t.key==="char"?u.chars.push(t.data):t.key==="kerning"?u.kernings.push(t.data):u[t.key]=t.data)}return u};function y(g,d){if(g=g.replace(/\t+/g," ").trim(),!g)return null;var u=g.indexOf(" ");if(u===-1)throw new Error("no named row at line "+d);var i=g.substring(0,u);g=g.substring(u+1),g=g.replace(/letter=[\'\"]\S+[\'\"]/gi,""),g=g.split("="),g=g.map(function(o){return o.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var r=[],t=0;t<g.length;t++){var a=g[t];t===0?r.push({key:a[0],data:""}):t===g.length-1?r[r.length-1].data=m(a[0]):(r[r.length-1].data=m(a[0]),r.push({key:a[1],data:""}))}var l={key:i,data:{}};return r.forEach(function(o){l.data[o.key]=o.data}),l}function m(g){return!g||g.length===0?"":g.indexOf('"')===0||g.indexOf("'")===0?g.substring(1,g.length-1):g.indexOf(",")!==-1?f(g):parseInt(g,10)}function f(g){return g.split(",").map(function(d){return parseInt(d,10)})}},{}],103:[function(n,Z,S){var y=[66,77,70];Z.exports=function(l){if(l.length<6)throw new Error("invalid buffer length for BMFont");var o=y.every(function(b,x){return l.readUInt8(x)===b});if(!o)throw new Error("BMFont missing BMF byte header");var c=3,s=l.readUInt8(c++);if(s>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var p={kernings:[],chars:[]},v=0;v<5;v++)c+=m(p,l,c);return p};function m(a,l,o){if(o>l.length-1)return 0;var c=l.readUInt8(o++),s=l.readInt32LE(o);switch(o+=4,c){case 1:a.info=f(l,o);break;case 2:a.common=g(l,o);break;case 3:a.pages=d(l,o,s);break;case 4:a.chars=u(l,o,s);break;case 5:a.kernings=i(l,o,s);break}return 5+s}function f(a,l){var o={};o.size=a.readInt16LE(l);var c=a.readUInt8(l+2);return o.smooth=c>>7&1,o.unicode=c>>6&1,o.italic=c>>5&1,o.bold=c>>4&1,c>>3&1&&(o.fixedHeight=1),o.charset=a.readUInt8(l+3)||"",o.stretchH=a.readUInt16LE(l+4),o.aa=a.readUInt8(l+6),o.padding=[a.readInt8(l+7),a.readInt8(l+8),a.readInt8(l+9),a.readInt8(l+10)],o.spacing=[a.readInt8(l+11),a.readInt8(l+12)],o.outline=a.readUInt8(l+13),o.face=t(a,l+14),o}function g(a,l){var o={};return o.lineHeight=a.readUInt16LE(l),o.base=a.readUInt16LE(l+2),o.scaleW=a.readUInt16LE(l+4),o.scaleH=a.readUInt16LE(l+6),o.pages=a.readUInt16LE(l+8),a.readUInt8(l+10),o.packed=0,o.alphaChnl=a.readUInt8(l+11),o.redChnl=a.readUInt8(l+12),o.greenChnl=a.readUInt8(l+13),o.blueChnl=a.readUInt8(l+14),o}function d(a,l,o){for(var c=[],s=r(a,l),p=s.length+1,v=o/p,b=0;b<v;b++)c[b]=a.slice(l,l+s.length).toString("utf8"),l+=p;return c}function u(a,l,o){for(var c=[],s=o/20,p=0;p<s;p++){var v={},b=p*20;v.id=a.readUInt32LE(l+0+b),v.x=a.readUInt16LE(l+4+b),v.y=a.readUInt16LE(l+6+b),v.width=a.readUInt16LE(l+8+b),v.height=a.readUInt16LE(l+10+b),v.xoffset=a.readInt16LE(l+12+b),v.yoffset=a.readInt16LE(l+14+b),v.xadvance=a.readInt16LE(l+16+b),v.page=a.readUInt8(l+18+b),v.chnl=a.readUInt8(l+19+b),c[p]=v}return c}function i(a,l,o){for(var c=[],s=o/10,p=0;p<s;p++){var v={},b=p*10;v.first=a.readUInt32LE(l+0+b),v.second=a.readUInt32LE(l+4+b),v.amount=a.readInt16LE(l+8+b),c[p]=v}return c}function r(a,l){for(var o=l;o<a.length&&a[o]!==0;o++);return a.slice(l,o)}function t(a,l){return r(a,l).toString("utf8")}},{}],104:[function(n,Z,S){var y=n("./parse-attribs"),m=n("xml-parse-from-string"),f={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};Z.exports=function(r){r=r.toString();var t=m(r),a={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(b){var x=t.getElementsByTagName(b)[0];x&&(a[b]=y(g(x)))});var l=t.getElementsByTagName("pages")[0];if(!l)throw new Error("malformed file -- no <pages> element");for(var o=l.getElementsByTagName("page"),c=0;c<o.length;c++){var s=o[c],p=parseInt(s.getAttribute("id"),10),v=s.getAttribute("file");if(isNaN(p))throw new Error('malformed file -- page "id" attribute is NaN');if(!v)throw new Error('malformed file -- needs page "file" attribute');a.pages[parseInt(p,10)]=v}return["chars","kernings"].forEach(function(b){var x=t.getElementsByTagName(b)[0];if(x)for(var w=b.substring(0,b.length-1),j=x.getElementsByTagName(w),E=0;E<j.length;E++){var M=j[E];a[b].push(y(g(M)))}}),a};function g(i){var r=d(i);return r.reduce(function(t,a){var l=u(a.nodeName);return t[l]=a.nodeValue,t},{})}function d(i){for(var r=[],t=0;t<i.attributes.length;t++)r.push(i.attributes[t]);return r}function u(i){return f[i.toLowerCase()]||i}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(n,Z,S){var y="chasrset";Z.exports=function(g){y in g&&(g.charset=g[y],delete g[y]);for(var d in g)d==="face"||d==="charset"||(d==="padding"||d==="spacing"?g[d]=m(g[d]):g[d]=parseInt(g[d],10));return g};function m(f){return f.split(",").map(function(g){return parseInt(g,10)})}},{}],106:[function(n,Z,S){var y=n("trim"),m=n("for-each"),f=function(g){return Object.prototype.toString.call(g)==="[object Array]"};Z.exports=function(g){if(!g)return{};var d={};return m(y(g).split(`
`),function(u){var i=u.indexOf(":"),r=y(u.slice(0,i)).toLowerCase(),t=y(u.slice(i+1));typeof d[r]>"u"?d[r]=t:f(d[r])?d[r].push(t):d[r]=[d[r],t]}),d}},{"for-each":63,trim:179}],107:[function(n,Z,S){(function(y){function m(u,i){for(var r=0,t=u.length-1;t>=0;t--){var a=u[t];a==="."?u.splice(t,1):a===".."?(u.splice(t,1),r++):r&&(u.splice(t,1),r--)}if(i)for(;r--;r)u.unshift("..");return u}S.resolve=function(){for(var u="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var t=r>=0?arguments[r]:y.cwd();if(typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)continue;u=t+"/"+u,i=t.charAt(0)==="/"}return u=m(g(u.split("/"),function(a){return!!a}),!i).join("/"),(i?"/":"")+u||"."},S.normalize=function(u){var i=S.isAbsolute(u),r=d(u,-1)==="/";return u=m(g(u.split("/"),function(t){return!!t}),!i).join("/"),!u&&!i&&(u="."),u&&r&&(u+="/"),(i?"/":"")+u},S.isAbsolute=function(u){return u.charAt(0)==="/"},S.join=function(){var u=Array.prototype.slice.call(arguments,0);return S.normalize(g(u,function(i,r){if(typeof i!="string")throw new TypeError("Arguments to path.join must be strings");return i}).join("/"))},S.relative=function(u,i){u=S.resolve(u).substr(1),i=S.resolve(i).substr(1);function r(p){for(var v=0;v<p.length&&p[v]==="";v++);for(var b=p.length-1;b>=0&&p[b]==="";b--);return v>b?[]:p.slice(v,b-v+1)}for(var t=r(u.split("/")),a=r(i.split("/")),l=Math.min(t.length,a.length),o=l,c=0;c<l;c++)if(t[c]!==a[c]){o=c;break}for(var s=[],c=o;c<t.length;c++)s.push("..");return s=s.concat(a.slice(o)),s.join("/")},S.sep="/",S.delimiter=":",S.dirname=function(u){if(typeof u!="string"&&(u=u+""),u.length===0)return".";for(var i=u.charCodeAt(0),r=i===47,t=-1,a=!0,l=u.length-1;l>=1;--l)if(i=u.charCodeAt(l),i===47){if(!a){t=l;break}}else a=!1;return t===-1?r?"/":".":r&&t===1?"/":u.slice(0,t)};function f(u){typeof u!="string"&&(u=u+"");var i=0,r=-1,t=!0,a;for(a=u.length-1;a>=0;--a)if(u.charCodeAt(a)===47){if(!t){i=a+1;break}}else r===-1&&(t=!1,r=a+1);return r===-1?"":u.slice(i,r)}S.basename=function(u,i){var r=f(u);return i&&r.substr(-1*i.length)===i&&(r=r.substr(0,r.length-i.length)),r},S.extname=function(u){typeof u!="string"&&(u=u+"");for(var i=-1,r=0,t=-1,a=!0,l=0,o=u.length-1;o>=0;--o){var c=u.charCodeAt(o);if(c===47){if(!a){r=o+1;break}continue}t===-1&&(a=!1,t=o+1),c===46?i===-1?i=o:l!==1&&(l=1):i!==-1&&(l=-1)}return i===-1||t===-1||l===0||l===1&&i===t-1&&i===r+1?"":u.slice(i,t)};function g(u,i){if(u.filter)return u.filter(i);for(var r=[],t=0;t<u.length;t++)i(u[t],t,u)&&r.push(u[t]);return r}var d="ab".substr(-1)==="b"?function(u,i,r){return u.substr(i,r)}:function(u,i,r){return i<0&&(i=u.length+i),u.substr(i,r)}}).call(this,n("_process"))},{_process:133}],108:[function(n,Z,S){(function(y){var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=n("http"),g=n("https"),d=n("url"),u=n("querystring"),i=n("zlib"),r=n("util"),t=function(l,o){if(typeof l!="string"&&!l.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var c=(typeof l>"u"?"undefined":m(l))==="object"?d.parse(l.url):d.parse(l),s={hostname:c.hostname,port:c.port||(c.protocol.toLowerCase()==="http:"?80:443),path:c.path,method:"GET",headers:{},auth:c.auth||null,parse:"none",stream:!1};if((typeof l>"u"?"undefined":m(l))==="object"&&(s=Object.assign(s,l)),s.port=Number(s.port),s.hasOwnProperty("timeout")&&delete s.timeout,s.compressed===!0&&(s.headers["accept-encoding"]="gzip, deflate"),l.hasOwnProperty("form")){if(m(l.form)!=="object")throw new Error("phin 'form' option must be of type Object if present.");var p=u.stringify(l.form);s.headers["Content-Type"]="application/x-www-form-urlencoded",s.headers["Content-Length"]=y.byteLength(p),l.data=p}var v=void 0,b=function(E){var M=E;s.compressed===!0&&(E.headers["content-encoding"]==="gzip"?M=E.pipe(i.createGunzip()):E.headers["content-encoding"]==="deflate"&&(M=E.pipe(i.createInflate()))),s.stream===!0?(E.stream=M,o(null,E)):(E.body=new y([]),M.on("data",function(C){E.body=y.concat([E.body,C])}),M.on("end",function(){if(o){if(s.parse==="json")try{E.body=JSON.parse(E.body.toString())}catch{o("Invalid JSON received.",E);return}o(null,E)}}))};switch(c.protocol.toLowerCase()){case"http:":v=f.request(s,b);break;case"https:":v=g.request(s,b);break;default:o&&o(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof l.timeout=="number"&&v.setTimeout(l.timeout,function(){v.abort(),o(new Error("Timeout has been reached."),null),o=null}),v.on("error",function(j){o&&o(j,null)}),l.hasOwnProperty("data")){var x=l.data;if(!(l.data instanceof y)&&m(l.data)==="object"){var w=s.headers["content-type"]||s.headers["Content-Type"];if(w==="application/x-www-form-urlencoded")x=u.stringify(l.data);else try{x=JSON.stringify(l.data)}catch{o(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}v.write(x)}v.end()};t.promisified=function(a,l){return new Promise(function(o,c){t(a,function(s,p){s?c(s):o(p)})})},r.promisify&&(t[r.promisify.custom]=t.promisified),Z.exports=t}).call(this,n("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(n,Z,S){Z.exports=y;function y(a,l,o,c,s,p){p||(p={});for(var v=p.threshold===void 0?.1:p.threshold,b=35215*v*v,x=0,w=0;w<s;w++)for(var j=0;j<c;j++){var E=(w*c+j)*4,M=f(a,l,E,E);if(M>b)!p.includeAA&&(m(a,j,w,c,s,l)||m(l,j,w,c,s,a))?o&&r(o,E,255,255,0):(o&&r(o,E,255,0,0),x++);else if(o){var C=i(t(a,E),.1);r(o,E,C,C,C)}}return x}function m(a,l,o,c,s,p){for(var v=Math.max(l-1,0),b=Math.max(o-1,0),x=Math.min(l+1,c-1),w=Math.min(o+1,s-1),j=(o*c+l)*4,E=0,M=0,C=0,P=0,O=0,D,N,R,I,H=v;H<=x;H++)for(var ee=b;ee<=w;ee++)if(!(H===l&&ee===o)){var fe=f(a,a,j,(ee*c+H)*4,!0);if(fe===0?E++:fe<0?C++:fe>0&&M++,E>2)return!1;p&&(fe<P&&(P=fe,D=H,N=ee),fe>O&&(O=fe,R=H,I=ee))}return p?C===0||M===0?!1:!m(a,D,N,c,s)&&!m(p,D,N,c,s)||!m(a,R,I,c,s)&&!m(p,R,I,c,s):!0}function f(a,l,o,c,s){var p=a[o+3]/255,v=l[c+3]/255,b=i(a[o+0],p),x=i(a[o+1],p),w=i(a[o+2],p),j=i(l[c+0],v),E=i(l[c+1],v),M=i(l[c+2],v),C=g(b,x,w)-g(j,E,M);if(s)return C;var P=d(b,x,w)-d(j,E,M),O=u(b,x,w)-u(j,E,M);return .5053*C*C+.299*P*P+.1957*O*O}function g(a,l,o){return a*.29889531+l*.58662247+o*.11448223}function d(a,l,o){return a*.59597799-l*.2741761-o*.32180189}function u(a,l,o){return a*.21147017-l*.52261711+o*.31114694}function i(a,l){return 255+(a-255)*l}function r(a,l,o,c,s){a[l+0]=o,a[l+1]=c,a[l+2]=s,a[l+3]=255}function t(a,l){var o=a[l+3]/255,c=i(a[l+0],o),s=i(a[l+1],o),p=i(a[l+2],o);return g(c,s,p)}},{}],110:[function(n,Z,S){(function(y){var m=n("./interlace"),f={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function g(i,r){var t=[],a=0;function l(){if(a===i.length)throw new Error("Ran out of data");var o=i[a];a++;var c,s,p,v,b,x,w,j;switch(r){default:throw new Error("unrecognised depth");case 16:w=i[a],a++,t.push((o<<8)+w);break;case 4:w=o&15,j=o>>4,t.push(j,w);break;case 2:b=o&3,x=o>>2&3,w=o>>4&3,j=o>>6&3,t.push(j,w,x,b);break;case 1:c=o&1,s=o>>1&1,p=o>>2&1,v=o>>3&1,b=o>>4&1,x=o>>5&1,w=o>>6&1,j=o>>7&1,t.push(j,w,x,b,v,p,s,c);break}}return{get:function(o){for(;t.length<o;)l();var c=t.slice(0,o);return t=t.slice(o),c},resetAfterLine:function(){t.length=0},end:function(){if(a!==i.length)throw new Error("extra data found")}}}function d(i,r,t,a,l,o){for(var c=i.width,s=i.height,p=i.index,v=0;v<s;v++)for(var b=0;b<c;b++){for(var x=t(b,v,p),w=0;w<4;w++){var j=f[a][w];if(j===255)r[x+w]=255;else{var E=j+o;if(E===l.length)throw new Error("Ran out of data");r[x+w]=l[E]}}o+=a}return o}function u(i,r,t,a,l,o){for(var c=i.width,s=i.height,p=i.index,v=0;v<s;v++){for(var b=0;b<c;b++)for(var x=l.get(a),w=t(b,v,p),j=0;j<4;j++){var E=f[a][j];r[w+j]=E!==255?x[E]:o}l.resetAfterLine()}}S.dataToBitMap=function(i,r){var t=r.width,a=r.height,l=r.depth,o=r.bpp,c=r.interlace;if(l!==8)var s=g(i,l);var p;l<=8?p=new y(t*a*4):p=new Uint16Array(t*a*4);var v=Math.pow(2,l)-1,b=0,x,w;if(c)x=m.getImagePasses(t,a),w=m.getInterlaceIterator(t,a);else{var j=0;w=function(){var M=j;return j+=4,M},x=[{width:t,height:a}]}for(var E=0;E<x.length;E++)l===8?b=d(x[E],p,w,o,i,b):u(x[E],p,w,o,s,v);if(l===8){if(b!==i.length)throw new Error("extra data found")}else s.end();return p}}).call(this,n("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(n,Z,S){(function(y){var m=n("./constants");Z.exports=function(f,g,d,u){var i=[m.COLORTYPE_COLOR_ALPHA,m.COLORTYPE_ALPHA].indexOf(u.colorType)!==-1;if(u.colorType===u.inputColorType){var r=function(){var M=new ArrayBuffer(2);return new DataView(M).setInt16(0,256,!0),new Int16Array(M)[0]!==256}();if(u.bitDepth===8||u.bitDepth===16&&r)return f}var t=u.bitDepth!==16?f:new Uint16Array(f.buffer),a=255,l=m.COLORTYPE_TO_BPP_MAP[u.inputColorType];l==4&&!u.inputHasAlpha&&(l=3);var o=m.COLORTYPE_TO_BPP_MAP[u.colorType];u.bitDepth===16&&(a=65535,o*=2);var c=new y(g*d*o),s=0,p=0,v=u.bgColor||{};v.red===void 0&&(v.red=a),v.green===void 0&&(v.green=a),v.blue===void 0&&(v.blue=a);function b(M,C){var P,O,D,N=a;switch(u.inputColorType){case m.COLORTYPE_COLOR_ALPHA:N=M[C+3],P=M[C],O=M[C+1],D=M[C+2];break;case m.COLORTYPE_COLOR:P=M[C],O=M[C+1],D=M[C+2];break;case m.COLORTYPE_ALPHA:N=M[C+1],P=M[C],O=P,D=P;break;case m.COLORTYPE_GRAYSCALE:P=M[C],O=P,D=P;break;default:throw new Error("input color type:"+u.inputColorType+" is not supported at present")}return u.inputHasAlpha&&(i||(N/=a,P=Math.min(Math.max(Math.round((1-N)*v.red+N*P),0),a),O=Math.min(Math.max(Math.round((1-N)*v.green+N*O),0),a),D=Math.min(Math.max(Math.round((1-N)*v.blue+N*D),0),a))),{red:P,green:O,blue:D,alpha:N}}for(var x=0;x<d;x++)for(var w=0;w<g;w++){var j=b(t,s);switch(u.colorType){case m.COLORTYPE_COLOR_ALPHA:case m.COLORTYPE_COLOR:u.bitDepth===8?(c[p]=j.red,c[p+1]=j.green,c[p+2]=j.blue,i&&(c[p+3]=j.alpha)):(c.writeUInt16BE(j.red,p),c.writeUInt16BE(j.green,p+2),c.writeUInt16BE(j.blue,p+4),i&&c.writeUInt16BE(j.alpha,p+6));break;case m.COLORTYPE_ALPHA:case m.COLORTYPE_GRAYSCALE:var E=(j.red+j.green+j.blue)/3;u.bitDepth===8?(c[p]=E,i&&(c[p+1]=j.alpha)):(c.writeUInt16BE(E,p),i&&c.writeUInt16BE(j.alpha,p+2));break}s+=l,p+=o}return c}}).call(this,n("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(n,Z,S){(function(y,m){var f=n("util"),g=n("stream"),d=Z.exports=function(){g.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};f.inherits(d,g),d.prototype.read=function(u,i){this._reads.push({length:Math.abs(u),allowLess:u<0,func:i}),y.nextTick((function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},d.prototype.write=function(u,i){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var r;return m.isBuffer(u)?r=u:r=new m(u,i||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},d.prototype.end=function(u,i){u&&this.write(u,i),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},d.prototype.destroySoon=d.prototype.end,d.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},d.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},d.prototype._processReadAllowingLess=function(u){this._reads.shift();var i=this._buffers[0];i.length>u.length?(this._buffered-=u.length,this._buffers[0]=i.slice(u.length),u.func.call(this,i.slice(0,u.length))):(this._buffered-=i.length,this._buffers.shift(),u.func.call(this,i))},d.prototype._processRead=function(u){this._reads.shift();for(var i=0,r=0,t=new m(u.length);i<u.length;){var a=this._buffers[r++],l=Math.min(a.length,u.length-i);a.copy(t,i,0,l),i+=l,l!==a.length&&(this._buffers[--r]=a.slice(l))}r>0&&this._buffers.splice(0,r),this._buffered-=u.length,u.func.call(this,t)},d.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var u=this._reads[0];if(u.allowLess)this._processReadAllowingLess(u);else if(this._buffered>=u.length)this._processRead(u);else break}this._buffers&&this._buffers.length>0&&this._buffers[0]===null&&this._end()}catch(i){this.emit("error",i)}}}).call(this,n("_process"),n("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(n,Z,S){Z.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(n,Z,S){var y=[];(function(){for(var f=0;f<256;f++){for(var g=f,d=0;d<8;d++)g&1?g=3988292384^g>>>1:g=g>>>1;y[f]=g}})();var m=Z.exports=function(){this._crc=-1};m.prototype.write=function(f){for(var g=0;g<f.length;g++)this._crc=y[(this._crc^f[g])&255]^this._crc>>>8;return!0},m.prototype.crc32=function(){return this._crc^-1},m.crc32=function(f){for(var g=-1,d=0;d<f.length;d++)g=y[(g^f[d])&255]^g>>>8;return g^-1}},{}],115:[function(n,Z,S){(function(y){var m=n("./paeth-predictor");function f(p,v,b,x,w){for(var j=0;j<b;j++)x[w+j]=p[v+j]}function g(p,v,b){for(var x=0,w=v+b,j=v;j<w;j++)x+=Math.abs(p[j]);return x}function d(p,v,b,x,w,j){for(var E=0;E<b;E++){var M=E>=j?p[v+E-j]:0,C=p[v+E]-M;x[w+E]=C}}function u(p,v,b,x){for(var w=0,j=0;j<b;j++){var E=j>=x?p[v+j-x]:0,M=p[v+j]-E;w+=Math.abs(M)}return w}function i(p,v,b,x,w){for(var j=0;j<b;j++){var E=v>0?p[v+j-b]:0,M=p[v+j]-E;x[w+j]=M}}function r(p,v,b){for(var x=0,w=v+b,j=v;j<w;j++){var E=v>0?p[j-b]:0,M=p[j]-E;x+=Math.abs(M)}return x}function t(p,v,b,x,w,j){for(var E=0;E<b;E++){var M=E>=j?p[v+E-j]:0,C=v>0?p[v+E-b]:0,P=p[v+E]-(M+C>>1);x[w+E]=P}}function a(p,v,b,x){for(var w=0,j=0;j<b;j++){var E=j>=x?p[v+j-x]:0,M=v>0?p[v+j-b]:0,C=p[v+j]-(E+M>>1);w+=Math.abs(C)}return w}function l(p,v,b,x,w,j){for(var E=0;E<b;E++){var M=E>=j?p[v+E-j]:0,C=v>0?p[v+E-b]:0,P=v>0&&E>=j?p[v+E-(b+j)]:0,O=p[v+E]-m(M,C,P);x[w+E]=O}}function o(p,v,b,x){for(var w=0,j=0;j<b;j++){var E=j>=x?p[v+j-x]:0,M=v>0?p[v+j-b]:0,C=v>0&&j>=x?p[v+j-(b+x)]:0,P=p[v+j]-m(E,M,C);w+=Math.abs(P)}return w}var c={0:f,1:d,2:i,3:t,4:l},s={0:g,1:u,2:r,3:a,4:o};Z.exports=function(p,v,b,x,w){var j;if(!("filterType"in x)||x.filterType===-1)j=[0,1,2,3,4];else if(typeof x.filterType=="number")j=[x.filterType];else throw new Error("unrecognised filter types");x.bitDepth===16&&(w*=2);for(var E=v*w,M=0,C=0,P=new y((E+1)*b),O=j[0],D=0;D<b;D++){if(j.length>1)for(var N=1/0,R=0;R<j.length;R++){var I=s[j[R]](p,C,E,w);I<N&&(O=j[R],N=I)}P[M]=O,M++,c[O](p,C,E,P,M,w),M+=E,C+=E}return P}}).call(this,n("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(n,Z,S){(function(y){var m=n("util"),f=n("./chunkstream"),g=n("./filter-parse"),d=Z.exports=function(u){f.call(this);var i=[],r=this;this._filter=new g(u,{read:this.read.bind(this),write:function(t){i.push(t)},complete:function(){r.emit("complete",y.concat(i))}}),this._filter.start()};m.inherits(d,f)}).call(this,n("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(n,Z,S){(function(y){var m=n("./sync-reader"),f=n("./filter-parse");S.process=function(g,d){var u=[],i=new m(g),r=new f(d,{read:i.read.bind(i),write:function(t){u.push(t)},complete:function(){}});return r.start(),i.process(),y.concat(u)}}).call(this,n("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(n,Z,S){(function(y){var m=n("./interlace"),f=n("./paeth-predictor");function g(u,i,r){var t=u*i;return r!==8&&(t=Math.ceil(t/(8/r))),t}var d=Z.exports=function(u,i){var r=u.width,t=u.height,a=u.interlace,l=u.bpp,o=u.depth;if(this.read=i.read,this.write=i.write,this.complete=i.complete,this._imageIndex=0,this._images=[],a)for(var c=m.getImagePasses(r,t),s=0;s<c.length;s++)this._images.push({byteWidth:g(c[s].width,l,o),height:c[s].height,lineIndex:0});else this._images.push({byteWidth:g(r,l,o),height:t,lineIndex:0});o===8?this._xComparison=l:o===16?this._xComparison=l*2:this._xComparison=1};d.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},d.prototype._unFilterType1=function(u,i,r){for(var t=this._xComparison,a=t-1,l=0;l<r;l++){var o=u[1+l],c=l>a?i[l-t]:0;i[l]=o+c}},d.prototype._unFilterType2=function(u,i,r){for(var t=this._lastLine,a=0;a<r;a++){var l=u[1+a],o=t?t[a]:0;i[a]=l+o}},d.prototype._unFilterType3=function(u,i,r){for(var t=this._xComparison,a=t-1,l=this._lastLine,o=0;o<r;o++){var c=u[1+o],s=l?l[o]:0,p=o>a?i[o-t]:0,v=Math.floor((p+s)/2);i[o]=c+v}},d.prototype._unFilterType4=function(u,i,r){for(var t=this._xComparison,a=t-1,l=this._lastLine,o=0;o<r;o++){var c=u[1+o],s=l?l[o]:0,p=o>a?i[o-t]:0,v=o>a&&l?l[o-t]:0,b=f(p,s,v);i[o]=c+b}},d.prototype._reverseFilterLine=function(u){var i=u[0],r,t=this._images[this._imageIndex],a=t.byteWidth;if(i===0)r=u.slice(1,a+1);else switch(r=new y(a),i){case 1:this._unFilterType1(u,r,a);break;case 2:this._unFilterType2(u,r,a);break;case 3:this._unFilterType3(u,r,a);break;case 4:this._unFilterType4(u,r,a);break;default:throw new Error("Unrecognised filter type - "+i)}this.write(r),t.lineIndex++,t.lineIndex>=t.height?(this._lastLine=null,this._imageIndex++,t=this._images[this._imageIndex]):this._lastLine=r,t?this.read(t.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,n("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(n,Z,S){(function(y){function m(d,u,i,r,t){for(var a=0,l=0;l<r;l++)for(var o=0;o<i;o++){var c=t[d[a]];if(!c)throw new Error("index "+d[a]+" not in palette");for(var s=0;s<4;s++)u[a+s]=c[s];a+=4}}function f(d,u,i,r,t){for(var a=0,l=0;l<r;l++)for(var o=0;o<i;o++){var c=!1;if(t.length===1?t[0]===d[a]&&(c=!0):t[0]===d[a]&&t[1]===d[a+1]&&t[2]===d[a+2]&&(c=!0),c)for(var s=0;s<4;s++)u[a+s]=0;a+=4}}function g(d,u,i,r,t){for(var a=255,l=Math.pow(2,t)-1,o=0,c=0;c<r;c++)for(var s=0;s<i;s++){for(var p=0;p<4;p++)u[o+p]=Math.floor(d[o+p]*a/l+.5);o+=4}}Z.exports=function(d,u){var i=u.depth,r=u.width,t=u.height,a=u.colorType,l=u.transColor,o=u.palette,c=d;return a===3?m(d,c,r,t,o):(l&&f(d,c,r,t,l),i!==8&&(i===16&&(c=new y(r*t*4)),g(d,c,r,t,i))),c}}).call(this,n("buffer").Buffer)},{buffer:48}],120:[function(n,Z,S){var y=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];S.getImagePasses=function(m,f){for(var g=[],d=m%8,u=f%8,i=(m-d)/8,r=(f-u)/8,t=0;t<y.length;t++){for(var a=y[t],l=i*a.x.length,o=r*a.y.length,c=0;c<a.x.length&&a.x[c]<d;c++)l++;for(c=0;c<a.y.length&&a.y[c]<u;c++)o++;l>0&&o>0&&g.push({width:l,height:o,index:t})}return g},S.getInterlaceIterator=function(m){return function(f,g,d){var u=f%y[d].x.length,i=(f-u)/y[d].x.length*8+y[d].x[u],r=g%y[d].y.length,t=(g-r)/y[d].y.length*8+y[d].y[r];return i*4+t*m*4}}},{}],121:[function(n,Z,S){(function(y){var m=n("util"),f=n("stream"),g=n("./constants"),d=n("./packer"),u=Z.exports=function(i){f.call(this);var r=i||{};this._packer=new d(r),this._deflate=this._packer.createDeflate(),this.readable=!0};m.inherits(u,f),u.prototype.pack=function(i,r,t,a){this.emit("data",new y(g.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(r,t)),a&&this.emit("data",this._packer.packGAMA(a));var l=this._packer.filterData(i,r,t);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(o){this.emit("data",this._packer.packIDAT(o))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(l)}}).call(this,n("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(n,Z,S){(function(y){var m=!0,f=n("zlib");f.deflateSync||(m=!1);var g=n("./constants"),d=n("./packer");Z.exports=function(u,i){if(!m)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var r=i||{},t=new d(r),a=[];a.push(new y(g.PNG_SIGNATURE)),a.push(t.packIHDR(u.width,u.height)),u.gamma&&a.push(t.packGAMA(u.gamma));var l=t.filterData(u.data,u.width,u.height),o=f.deflateSync(l,t.getDeflateOptions());if(l=null,!o||!o.length)throw new Error("bad png - invalid compressed data response");return a.push(t.packIDAT(o)),a.push(t.packIEND()),y.concat(a)}}).call(this,n("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(n,Z,S){(function(y){var m=n("./constants"),f=n("./crc"),g=n("./bitpacker"),d=n("./filter-pack"),u=n("zlib"),i=Z.exports=function(r){if(this._options=r,r.deflateChunkSize=r.deflateChunkSize||32*1024,r.deflateLevel=r.deflateLevel!=null?r.deflateLevel:9,r.deflateStrategy=r.deflateStrategy!=null?r.deflateStrategy:3,r.inputHasAlpha=r.inputHasAlpha!=null?r.inputHasAlpha:!0,r.deflateFactory=r.deflateFactory||u.createDeflate,r.bitDepth=r.bitDepth||8,r.colorType=typeof r.colorType=="number"?r.colorType:m.COLORTYPE_COLOR_ALPHA,r.inputColorType=typeof r.inputColorType=="number"?r.inputColorType:m.COLORTYPE_COLOR_ALPHA,[m.COLORTYPE_GRAYSCALE,m.COLORTYPE_COLOR,m.COLORTYPE_COLOR_ALPHA,m.COLORTYPE_ALPHA].indexOf(r.colorType)===-1)throw new Error("option color type:"+r.colorType+" is not supported at present");if([m.COLORTYPE_GRAYSCALE,m.COLORTYPE_COLOR,m.COLORTYPE_COLOR_ALPHA,m.COLORTYPE_ALPHA].indexOf(r.inputColorType)===-1)throw new Error("option input color type:"+r.inputColorType+" is not supported at present");if(r.bitDepth!==8&&r.bitDepth!==16)throw new Error("option bit depth:"+r.bitDepth+" is not supported at present")};i.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},i.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},i.prototype.filterData=function(r,t,a){var l=g(r,t,a,this._options),o=m.COLORTYPE_TO_BPP_MAP[this._options.colorType],c=d(l,t,a,this._options,o);return c},i.prototype._packChunk=function(r,t){var a=t?t.length:0,l=new y(a+12);return l.writeUInt32BE(a,0),l.writeUInt32BE(r,4),t&&t.copy(l,8),l.writeInt32BE(f.crc32(l.slice(4,l.length-4)),l.length-4),l},i.prototype.packGAMA=function(r){var t=new y(4);return t.writeUInt32BE(Math.floor(r*m.GAMMA_DIVISION),0),this._packChunk(m.TYPE_gAMA,t)},i.prototype.packIHDR=function(r,t){var a=new y(13);return a.writeUInt32BE(r,0),a.writeUInt32BE(t,4),a[8]=this._options.bitDepth,a[9]=this._options.colorType,a[10]=0,a[11]=0,a[12]=0,this._packChunk(m.TYPE_IHDR,a)},i.prototype.packIDAT=function(r){return this._packChunk(m.TYPE_IDAT,r)},i.prototype.packIEND=function(){return this._packChunk(m.TYPE_IEND,null)}}).call(this,n("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(n,Z,S){Z.exports=function(m,f,g){var d=m+f-g,u=Math.abs(d-m),i=Math.abs(d-f),r=Math.abs(d-g);return u<=i&&u<=r?m:i<=r?f:g}},{}],125:[function(n,Z,S){var y=n("util"),m=n("zlib"),f=n("./chunkstream"),g=n("./filter-parse-async"),d=n("./parser"),u=n("./bitmapper"),i=n("./format-normaliser"),r=Z.exports=function(t){f.call(this),this._parser=new d(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};y.inherits(r,f),r.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},r.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=m.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var a=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1,l=a*this._bitmapInfo.height,o=Math.max(l,m.Z_MIN_CHUNK);this._inflate=m.createInflate({chunkSize:o});var c=l,s=this.emit.bind(this,"error");this._inflate.on("error",function(v){c&&s(v)}),this._filter.on("complete",this._complete.bind(this));var p=this._filter.write.bind(this._filter);this._inflate.on("data",function(v){c&&(v.length>c&&(v=v.slice(0,c)),c-=v.length,p(v))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(t)},r.prototype._handleMetaData=function(t){this.emit("metadata",t),this._bitmapInfo=Object.create(t),this._filter=new g(this._bitmapInfo)},r.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},r.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},r.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},r.prototype._complete=function(t){if(!this.errord){try{var a=u.dataToBitMap(t,this._bitmapInfo),l=i(a,this._bitmapInfo);a=null}catch(o){this._handleError(o);return}this.emit("parsed",l)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(n,Z,S){(function(y){var m=!0,f=n("zlib"),g=n("./sync-inflate");f.deflateSync||(m=!1);var d=n("./sync-reader"),u=n("./filter-parse-sync"),i=n("./parser"),r=n("./bitmapper"),t=n("./format-normaliser");Z.exports=function(a,l){if(!m)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var o;function c(ee){o=ee}var s;function p(ee){s=ee}function v(ee){s.transColor=ee}function b(ee){s.palette=ee}var x;function w(ee){x=ee}var j=[];function E(ee){j.push(ee)}var M=new d(a),C=new i(l,{read:M.read.bind(M),error:c,metadata:p,gamma:w,palette:b,transColor:v,inflateData:E});if(C.start(),M.process(),o)throw o;var P=y.concat(j);j.length=0;var O;if(s.interlace)O=f.inflateSync(P);else{var D=(s.width*s.bpp*s.depth+7>>3)+1,N=D*s.height;O=g(P,{chunkSize:N,maxLength:N})}if(P=null,!O||!O.length)throw new Error("bad png - invalid inflate data response");var R=u.process(O,s);P=null;var I=r.dataToBitMap(R,s);R=null;var H=t(I,s);return s.data=H,s.gamma=x||0,s}}).call(this,n("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(n,Z,S){(function(y){var m=n("./constants"),f=n("./crc"),g=Z.exports=function(d,u){this._options=d,d.checkCRC=d.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[m.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[m.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[m.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[m.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[m.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[m.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=u.read,this.error=u.error,this.metadata=u.metadata,this.gamma=u.gamma,this.transColor=u.transColor,this.palette=u.palette,this.parsed=u.parsed,this.inflateData=u.inflateData,this.finished=u.finished};g.prototype.start=function(){this.read(m.PNG_SIGNATURE.length,this._parseSignature.bind(this))},g.prototype._parseSignature=function(d){for(var u=m.PNG_SIGNATURE,i=0;i<u.length;i++)if(d[i]!==u[i]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},g.prototype._parseChunkBegin=function(d){for(var u=d.readUInt32BE(0),i=d.readUInt32BE(4),r="",t=4;t<8;t++)r+=String.fromCharCode(d[t]);var a=!!(d[4]&32);if(!this._hasIHDR&&i!==m.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new f,this._crc.write(new y(r)),this._chunks[i])return this._chunks[i](u);if(!a){this.error(new Error("Unsupported critical chunk type "+r));return}this.read(u+4,this._skipChunk.bind(this))},g.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},g.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},g.prototype._parseChunkEnd=function(d){var u=d.readInt32BE(0),i=this._crc.crc32();if(this._options.checkCRC&&i!==u){this.error(new Error("Crc error - "+u+" - "+i));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},g.prototype._handleIHDR=function(d){this.read(d,this._parseIHDR.bind(this))},g.prototype._parseIHDR=function(d){this._crc.write(d);var u=d.readUInt32BE(0),i=d.readUInt32BE(4),r=d[8],t=d[9],a=d[10],l=d[11],o=d[12];if(r!==8&&r!==4&&r!==2&&r!==1&&r!==16){this.error(new Error("Unsupported bit depth "+r));return}if(!(t in m.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(a!==0){this.error(new Error("Unsupported compression method"));return}if(l!==0){this.error(new Error("Unsupported filter method"));return}if(o!==0&&o!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=t;var c=m.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:u,height:i,depth:r,interlace:!!o,palette:!!(t&m.COLORTYPE_PALETTE),color:!!(t&m.COLORTYPE_COLOR),alpha:!!(t&m.COLORTYPE_ALPHA),bpp:c,colorType:t}),this._handleChunkEnd()},g.prototype._handlePLTE=function(d){this.read(d,this._parsePLTE.bind(this))},g.prototype._parsePLTE=function(d){this._crc.write(d);for(var u=Math.floor(d.length/3),i=0;i<u;i++)this._palette.push([d[i*3],d[i*3+1],d[i*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},g.prototype._handleTRNS=function(d){this.read(d,this._parseTRNS.bind(this))},g.prototype._parseTRNS=function(d){if(this._crc.write(d),this._colorType===m.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(d.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var u=0;u<d.length;u++)this._palette[u][3]=d[u];this.palette(this._palette)}this._colorType===m.COLORTYPE_GRAYSCALE&&this.transColor([d.readUInt16BE(0)]),this._colorType===m.COLORTYPE_COLOR&&this.transColor([d.readUInt16BE(0),d.readUInt16BE(2),d.readUInt16BE(4)]),this._handleChunkEnd()},g.prototype._handleGAMA=function(d){this.read(d,this._parseGAMA.bind(this))},g.prototype._parseGAMA=function(d){this._crc.write(d),this.gamma(d.readUInt32BE(0)/m.GAMMA_DIVISION),this._handleChunkEnd()},g.prototype._handleIDAT=function(d){this.read(-d,this._parseIDAT.bind(this,d))},g.prototype._parseIDAT=function(d,u){if(this._crc.write(u),this._colorType===m.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(u);var i=d-u.length;i>0?this._handleIDAT(i):this._handleChunkEnd()},g.prototype._handleIEND=function(d){this.read(d,this._parseIEND.bind(this))},g.prototype._parseIEND=function(d){this._crc.write(d),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,n("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(n,Z,S){var y=n("./parser-sync"),m=n("./packer-sync");S.read=function(f,g){return y(f,g||{})},S.write=function(f,g){return m(f,g)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(n,Z,S){(function(y,m){var f=n("util"),g=n("stream"),d=n("./parser-async"),u=n("./packer-async"),i=n("./png-sync"),r=S.PNG=function(t){g.call(this),t=t||{},this.width=t.width|0,this.height=t.height|0,this.data=this.width>0&&this.height>0?new m(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new d(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(a){this.data=a,this.emit("parsed",a)}).bind(this)),this._packer=new u(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};f.inherits(r,g),r.sync=i,r.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(y.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this)},r.prototype.parse=function(t,a){if(a){var l,o;l=(function(c){this.removeListener("error",o),this.data=c,a(null,this)}).bind(this),o=(function(c){this.removeListener("parsed",l),a(c,null)}).bind(this),this.once("parsed",l),this.once("error",o)}return this.end(t),this},r.prototype.write=function(t){return this._parser.write(t),!0},r.prototype.end=function(t){this._parser.end(t)},r.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},r.prototype._gamma=function(t){this.gamma=t},r.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},r.bitblt=function(t,a,l,o,c,s,p,v){if(l|=0,o|=0,c|=0,s|=0,p|=0,v|=0,l>t.width||o>t.height||l+c>t.width||o+s>t.height)throw new Error("bitblt reading outside image");if(p>a.width||v>a.height||p+c>a.width||v+s>a.height)throw new Error("bitblt writing outside image");for(var b=0;b<s;b++)t.data.copy(a.data,(v+b)*a.width+p<<2,(o+b)*t.width+l<<2,(o+b)*t.width+l+c<<2)},r.prototype.bitblt=function(t,a,l,o,c,s,p){return r.bitblt(this,t,a,l,o,c,s,p),this},r.adjustGamma=function(t){if(t.gamma){for(var a=0;a<t.height;a++)for(var l=0;l<t.width;l++)for(var o=t.width*a+l<<2,c=0;c<3;c++){var s=t.data[o+c]/255;s=Math.pow(s,1/2.2/t.gamma),t.data[o+c]=Math.round(s*255)}t.gamma=0}},r.prototype.adjustGamma=function(){r.adjustGamma(this)}}).call(this,n("_process"),n("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(n,Z,S){(function(y,m){var f=n("assert").ok,g=n("zlib"),d=n("util"),u=n("buffer").kMaxLength;function i(o){if(!(this instanceof i))return new i(o);o&&o.chunkSize<g.Z_MIN_CHUNK&&(o.chunkSize=g.Z_MIN_CHUNK),g.Inflate.call(this,o),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,o&&o.maxLength!=null&&(this._maxLength=o.maxLength)}function r(o){return new i(o)}function t(o,c){c&&y.nextTick(c),o._handle&&(o._handle.close(),o._handle=null)}i.prototype._processChunk=function(o,c,s){if(typeof s=="function")return g.Inflate._processChunk.call(this,o,c,s);var p=this,v=o&&o.length,b=this._chunkSize-this._offset,x=this._maxLength,w=0,j=[],E=0,M;this.on("error",function(D){M=D});function C(D,N){if(!p._hadError){var R=b-N;if(f(R>=0,"have should not go down"),R>0){var I=p._buffer.slice(p._offset,p._offset+R);if(p._offset+=R,I.length>x&&(I=I.slice(0,x)),j.push(I),E+=I.length,x-=I.length,x===0)return!1}return(N===0||p._offset>=p._chunkSize)&&(b=p._chunkSize,p._offset=0,p._buffer=m.allocUnsafe(p._chunkSize)),N===0?(w+=v-D,v=D,!0):!1}}f(this._handle,"zlib binding closed");do{var P=this._handle.writeSync(c,o,w,v,this._buffer,this._offset,b);P=P||this._writeState}while(!this._hadError&&C(P[0],P[1]));if(this._hadError)throw M;if(E>=u)throw t(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes");var O=m.concat(j,E);return t(this),O},d.inherits(i,g.Inflate);function a(o,c){if(typeof c=="string"&&(c=m.from(c)),!(c instanceof m))throw new TypeError("Not a string or buffer");var s=o._finishFlushFlag;return s==null&&(s=g.Z_FINISH),o._processChunk(c,s)}function l(o,c){return a(new i(c),o)}Z.exports=S=l,S.Inflate=i,S.createInflate=r,S.inflateSync=l}).call(this,n("_process"),n("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(n,Z,S){var y=Z.exports=function(m){this._buffer=m,this._reads=[]};y.prototype.read=function(m,f){this._reads.push({length:Math.abs(m),allowLess:m<0,func:f})},y.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var m=this._reads[0];if(this._buffer.length&&(this._buffer.length>=m.length||m.allowLess)){this._reads.shift();var f=this._buffer;this._buffer=f.slice(m.length),m.func.call(this,f.slice(0,m.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}},{}],132:[function(n,Z,S){(function(y){typeof y>"u"||!y.version||y.version.indexOf("v0.")===0||y.version.indexOf("v1.")===0&&y.version.indexOf("v1.8.")!==0?Z.exports={nextTick:m}:Z.exports=y;function m(f,g,d,u){if(typeof f!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,r,t;switch(i){case 0:case 1:return y.nextTick(f);case 2:return y.nextTick(function(){f.call(null,g)});case 3:return y.nextTick(function(){f.call(null,g,d)});case 4:return y.nextTick(function(){f.call(null,g,d,u)});default:for(r=new Array(i-1),t=0;t<r.length;)r[t++]=arguments[t];return y.nextTick(function(){f.apply(null,r)})}}}).call(this,n("_process"))},{_process:133}],133:[function(n,Z,S){var y=Z.exports={},m,f;function g(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?m=setTimeout:m=g}catch{m=g}try{typeof clearTimeout=="function"?f=clearTimeout:f=d}catch{f=d}})();function u(v){if(m===setTimeout)return setTimeout(v,0);if((m===g||!m)&&setTimeout)return m=setTimeout,setTimeout(v,0);try{return m(v,0)}catch{try{return m.call(null,v,0)}catch{return m.call(this,v,0)}}}function i(v){if(f===clearTimeout)return clearTimeout(v);if((f===d||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(v);try{return f(v)}catch{try{return f.call(null,v)}catch{return f.call(this,v)}}}var r=[],t=!1,a,l=-1;function o(){!t||!a||(t=!1,a.length?r=a.concat(r):l=-1,r.length&&c())}function c(){if(!t){var v=u(o);t=!0;for(var b=r.length;b;){for(a=r,r=[];++l<b;)a&&a[l].run();l=-1,b=r.length}a=null,t=!1,i(v)}}y.nextTick=function(v){var b=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)b[x-1]=arguments[x];r.push(new s(v,b)),r.length===1&&!t&&u(c)};function s(v,b){this.fun=v,this.array=b}s.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={};function p(){}y.on=p,y.addListener=p,y.once=p,y.off=p,y.removeListener=p,y.removeAllListeners=p,y.emit=p,y.prependListener=p,y.prependOnceListener=p,y.listeners=function(v){return[]},y.binding=function(v){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(v){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},{}],134:[function(n,Z,S){(function(y){(function(m){var f=typeof S=="object"&&S&&!S.nodeType&&S,g=typeof Z=="object"&&Z&&!Z.nodeType&&Z,d=typeof y=="object"&&y;(d.global===d||d.window===d||d.self===d)&&(m=d);var u,i=2147483647,r=36,t=1,a=26,l=38,o=700,c=72,s=128,p="-",v=/^xn--/,b=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=r-t,E=Math.floor,M=String.fromCharCode,C;function P(K){throw new RangeError(w[K])}function O(K,J){for(var oe=K.length,_e=[];oe--;)_e[oe]=J(K[oe]);return _e}function D(K,J){var oe=K.split("@"),_e="";oe.length>1&&(_e=oe[0]+"@",K=oe[1]),K=K.replace(x,".");var Oe=K.split("."),De=O(Oe,J).join(".");return _e+De}function N(K){for(var J=[],oe=0,_e=K.length,Oe,De;oe<_e;)Oe=K.charCodeAt(oe++),Oe>=55296&&Oe<=56319&&oe<_e?(De=K.charCodeAt(oe++),(De&64512)==56320?J.push(((Oe&1023)<<10)+(De&1023)+65536):(J.push(Oe),oe--)):J.push(Oe);return J}function R(K){return O(K,function(J){var oe="";return J>65535&&(J-=65536,oe+=M(J>>>10&1023|55296),J=56320|J&1023),oe+=M(J),oe}).join("")}function I(K){return K-48<10?K-22:K-65<26?K-65:K-97<26?K-97:r}function H(K,J){return K+22+75*(K<26)-((J!=0)<<5)}function ee(K,J,oe){var _e=0;for(K=oe?E(K/o):K>>1,K+=E(K/J);K>j*a>>1;_e+=r)K=E(K/j);return E(_e+(j+1)*K/(K+l))}function fe(K){var J=[],oe=K.length,_e,Oe=0,De=s,Te=c,Be,Re,ve,ge,Ae,Ie,de,ae,ne;for(Be=K.lastIndexOf(p),Be<0&&(Be=0),Re=0;Re<Be;++Re)K.charCodeAt(Re)>=128&&P("not-basic"),J.push(K.charCodeAt(Re));for(ve=Be>0?Be+1:0;ve<oe;){for(ge=Oe,Ae=1,Ie=r;ve>=oe&&P("invalid-input"),de=I(K.charCodeAt(ve++)),(de>=r||de>E((i-Oe)/Ae))&&P("overflow"),Oe+=de*Ae,ae=Ie<=Te?t:Ie>=Te+a?a:Ie-Te,!(de<ae);Ie+=r)ne=r-ae,Ae>E(i/ne)&&P("overflow"),Ae*=ne;_e=J.length+1,Te=ee(Oe-ge,_e,ge==0),E(Oe/_e)>i-De&&P("overflow"),De+=E(Oe/_e),Oe%=_e,J.splice(Oe++,0,De)}return R(J)}function xe(K){var J,oe,_e,Oe,De,Te,Be,Re,ve,ge,Ae,Ie=[],de,ae,ne,Me;for(K=N(K),de=K.length,J=s,oe=0,De=c,Te=0;Te<de;++Te)Ae=K[Te],Ae<128&&Ie.push(M(Ae));for(_e=Oe=Ie.length,Oe&&Ie.push(p);_e<de;){for(Be=i,Te=0;Te<de;++Te)Ae=K[Te],Ae>=J&&Ae<Be&&(Be=Ae);for(ae=_e+1,Be-J>E((i-oe)/ae)&&P("overflow"),oe+=(Be-J)*ae,J=Be,Te=0;Te<de;++Te)if(Ae=K[Te],Ae<J&&++oe>i&&P("overflow"),Ae==J){for(Re=oe,ve=r;ge=ve<=De?t:ve>=De+a?a:ve-De,!(Re<ge);ve+=r)Me=Re-ge,ne=r-ge,Ie.push(M(H(ge+Me%ne,0))),Re=E(Me/ne);Ie.push(M(H(Re,0))),De=ee(oe,ae,_e==Oe),oe=0,++_e}++oe,++J}return Ie.join("")}function q(K){return D(K,function(J){return v.test(J)?fe(J.slice(4).toLowerCase()):J})}function V(K){return D(K,function(J){return b.test(J)?"xn--"+xe(J):J})}if(u={version:"1.4.1",ucs2:{decode:N,encode:R},decode:fe,encode:xe,toASCII:V,toUnicode:q},f&&g)if(Z.exports==f)g.exports=u;else for(C in u)u.hasOwnProperty(C)&&(f[C]=u[C]);else m.punycode=u})(this)}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{})},{}],135:[function(n,Z,S){function y(f,g){return Object.prototype.hasOwnProperty.call(f,g)}Z.exports=function(f,g,d,u){g=g||"&",d=d||"=";var i={};if(typeof f!="string"||f.length===0)return i;var r=/\+/g;f=f.split(g);var t=1e3;u&&typeof u.maxKeys=="number"&&(t=u.maxKeys);var a=f.length;t>0&&a>t&&(a=t);for(var l=0;l<a;++l){var o=f[l].replace(r,"%20"),c=o.indexOf(d),s,p,v,b;c>=0?(s=o.substr(0,c),p=o.substr(c+1)):(s=o,p=""),v=decodeURIComponent(s),b=decodeURIComponent(p),y(i,v)?m(i[v])?i[v].push(b):i[v]=[i[v],b]:i[v]=b}return i};var m=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"}},{}],136:[function(n,Z,S){var y=function(d){switch(typeof d){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}};Z.exports=function(d,u,i,r){return u=u||"&",i=i||"=",d===null&&(d=void 0),typeof d=="object"?f(g(d),function(t){var a=encodeURIComponent(y(t))+i;return m(d[t])?f(d[t],function(l){return a+encodeURIComponent(y(l))}).join(u):a+encodeURIComponent(y(d[t]))}).join(u):r?encodeURIComponent(y(r))+i+encodeURIComponent(y(d)):""};var m=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function f(d,u){if(d.map)return d.map(u);for(var i=[],r=0;r<d.length;r++)i.push(u(d[r],r));return i}var g=Object.keys||function(d){var u=[];for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&u.push(i);return u}},{}],137:[function(n,Z,S){S.decode=S.parse=n("./decode"),S.encode=S.stringify=n("./encode")},{"./decode":135,"./encode":136}],138:[function(n,Z,S){Z.exports=n("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(n,Z,S){var y=n("process-nextick-args"),m=Object.keys||function(o){var c=[];for(var s in o)c.push(s);return c};Z.exports=t;var f=n("core-util-is");f.inherits=n("inherits");var g=n("./_stream_readable"),d=n("./_stream_writable");f.inherits(t,g);for(var u=m(d.prototype),i=0;i<u.length;i++){var r=u[i];t.prototype[r]||(t.prototype[r]=d.prototype[r])}function t(o){if(!(this instanceof t))return new t(o);g.call(this,o),d.call(this,o),o&&o.readable===!1&&(this.readable=!1),o&&o.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,o&&o.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",a)}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function a(){this.allowHalfOpen||this._writableState.ended||y.nextTick(l,this)}function l(o){o.end()}Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(o){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=o,this._writableState.destroyed=o)}}),t.prototype._destroy=function(o,c){this.push(null),this.end(),y.nextTick(c,o)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(n,Z,S){Z.exports=f;var y=n("./_stream_transform"),m=n("core-util-is");m.inherits=n("inherits"),m.inherits(f,y);function f(g){if(!(this instanceof f))return new f(g);y.call(this,g)}f.prototype._transform=function(g,d,u){u(null,g)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(n,Z,S){(function(y,m){var f=n("process-nextick-args");Z.exports=E;var g=n("isarray"),d;E.ReadableState=j,n("events").EventEmitter;var u=function(ge,Ae){return ge.listeners(Ae).length},i=n("./internal/streams/stream"),r=n("safe-buffer").Buffer,t=m.Uint8Array||function(){};function a(ge){return r.from(ge)}function l(ge){return r.isBuffer(ge)||ge instanceof t}var o=n("core-util-is");o.inherits=n("inherits");var c=n("util"),s=void 0;c&&c.debuglog?s=c.debuglog("stream"):s=function(){};var p=n("./internal/streams/BufferList"),v=n("./internal/streams/destroy"),b;o.inherits(E,i);var x=["error","close","destroy","pause","resume"];function w(ge,Ae,Ie){if(typeof ge.prependListener=="function")return ge.prependListener(Ae,Ie);!ge._events||!ge._events[Ae]?ge.on(Ae,Ie):g(ge._events[Ae])?ge._events[Ae].unshift(Ie):ge._events[Ae]=[Ie,ge._events[Ae]]}function j(ge,Ae){d=d||n("./_stream_duplex"),ge=ge||{};var Ie=Ae instanceof d;this.objectMode=!!ge.objectMode,Ie&&(this.objectMode=this.objectMode||!!ge.readableObjectMode);var de=ge.highWaterMark,ae=ge.readableHighWaterMark,ne=this.objectMode?16:16*1024;de||de===0?this.highWaterMark=de:Ie&&(ae||ae===0)?this.highWaterMark=ae:this.highWaterMark=ne,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ge.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ge.encoding&&(b||(b=n("string_decoder/").StringDecoder),this.decoder=new b(ge.encoding),this.encoding=ge.encoding)}function E(ge){if(d=d||n("./_stream_duplex"),!(this instanceof E))return new E(ge);this._readableState=new j(ge,this),this.readable=!0,ge&&(typeof ge.read=="function"&&(this._read=ge.read),typeof ge.destroy=="function"&&(this._destroy=ge.destroy)),i.call(this)}Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ge){this._readableState&&(this._readableState.destroyed=ge)}}),E.prototype.destroy=v.destroy,E.prototype._undestroy=v.undestroy,E.prototype._destroy=function(ge,Ae){this.push(null),Ae(ge)},E.prototype.push=function(ge,Ae){var Ie=this._readableState,de;return Ie.objectMode?de=!0:typeof ge=="string"&&(Ae=Ae||Ie.defaultEncoding,Ae!==Ie.encoding&&(ge=r.from(ge,Ae),Ae=""),de=!0),M(this,ge,Ae,!1,de)},E.prototype.unshift=function(ge){return M(this,ge,null,!0,!1)};function M(ge,Ae,Ie,de,ae){var ne=ge._readableState;if(Ae===null)ne.reading=!1,I(ge,ne);else{var Me;ae||(Me=P(ne,Ae)),Me?ge.emit("error",Me):ne.objectMode||Ae&&Ae.length>0?(typeof Ae!="string"&&!ne.objectMode&&Object.getPrototypeOf(Ae)!==r.prototype&&(Ae=a(Ae)),de?ne.endEmitted?ge.emit("error",new Error("stream.unshift() after end event")):C(ge,ne,Ae,!0):ne.ended?ge.emit("error",new Error("stream.push() after EOF")):(ne.reading=!1,ne.decoder&&!Ie?(Ae=ne.decoder.write(Ae),ne.objectMode||Ae.length!==0?C(ge,ne,Ae,!1):fe(ge,ne)):C(ge,ne,Ae,!1))):de||(ne.reading=!1)}return O(ne)}function C(ge,Ae,Ie,de){Ae.flowing&&Ae.length===0&&!Ae.sync?(ge.emit("data",Ie),ge.read(0)):(Ae.length+=Ae.objectMode?1:Ie.length,de?Ae.buffer.unshift(Ie):Ae.buffer.push(Ie),Ae.needReadable&&H(ge)),fe(ge,Ae)}function P(ge,Ae){var Ie;return!l(Ae)&&typeof Ae!="string"&&Ae!==void 0&&!ge.objectMode&&(Ie=new TypeError("Invalid non-string/buffer chunk")),Ie}function O(ge){return!ge.ended&&(ge.needReadable||ge.length<ge.highWaterMark||ge.length===0)}E.prototype.isPaused=function(){return this._readableState.flowing===!1},E.prototype.setEncoding=function(ge){return b||(b=n("string_decoder/").StringDecoder),this._readableState.decoder=new b(ge),this._readableState.encoding=ge,this};var D=8388608;function N(ge){return ge>=D?ge=D:(ge--,ge|=ge>>>1,ge|=ge>>>2,ge|=ge>>>4,ge|=ge>>>8,ge|=ge>>>16,ge++),ge}function R(ge,Ae){return ge<=0||Ae.length===0&&Ae.ended?0:Ae.objectMode?1:ge!==ge?Ae.flowing&&Ae.length?Ae.buffer.head.data.length:Ae.length:(ge>Ae.highWaterMark&&(Ae.highWaterMark=N(ge)),ge<=Ae.length?ge:Ae.ended?Ae.length:(Ae.needReadable=!0,0))}E.prototype.read=function(ge){s("read",ge),ge=parseInt(ge,10);var Ae=this._readableState,Ie=ge;if(ge!==0&&(Ae.emittedReadable=!1),ge===0&&Ae.needReadable&&(Ae.length>=Ae.highWaterMark||Ae.ended))return s("read: emitReadable",Ae.length,Ae.ended),Ae.length===0&&Ae.ended?Be(this):H(this),null;if(ge=R(ge,Ae),ge===0&&Ae.ended)return Ae.length===0&&Be(this),null;var de=Ae.needReadable;s("need readable",de),(Ae.length===0||Ae.length-ge<Ae.highWaterMark)&&(de=!0,s("length less than watermark",de)),Ae.ended||Ae.reading?(de=!1,s("reading or ended",de)):de&&(s("do read"),Ae.reading=!0,Ae.sync=!0,Ae.length===0&&(Ae.needReadable=!0),this._read(Ae.highWaterMark),Ae.sync=!1,Ae.reading||(ge=R(Ie,Ae)));var ae;return ge>0?ae=_e(ge,Ae):ae=null,ae===null?(Ae.needReadable=!0,ge=0):Ae.length-=ge,Ae.length===0&&(Ae.ended||(Ae.needReadable=!0),Ie!==ge&&Ae.ended&&Be(this)),ae!==null&&this.emit("data",ae),ae};function I(ge,Ae){if(!Ae.ended){if(Ae.decoder){var Ie=Ae.decoder.end();Ie&&Ie.length&&(Ae.buffer.push(Ie),Ae.length+=Ae.objectMode?1:Ie.length)}Ae.ended=!0,H(ge)}}function H(ge){var Ae=ge._readableState;Ae.needReadable=!1,Ae.emittedReadable||(s("emitReadable",Ae.flowing),Ae.emittedReadable=!0,Ae.sync?f.nextTick(ee,ge):ee(ge))}function ee(ge){s("emit readable"),ge.emit("readable"),oe(ge)}function fe(ge,Ae){Ae.readingMore||(Ae.readingMore=!0,f.nextTick(xe,ge,Ae))}function xe(ge,Ae){for(var Ie=Ae.length;!Ae.reading&&!Ae.flowing&&!Ae.ended&&Ae.length<Ae.highWaterMark&&(s("maybeReadMore read 0"),ge.read(0),Ie!==Ae.length);)Ie=Ae.length;Ae.readingMore=!1}E.prototype._read=function(ge){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(ge,Ae){var Ie=this,de=this._readableState;switch(de.pipesCount){case 0:de.pipes=ge;break;case 1:de.pipes=[de.pipes,ge];break;default:de.pipes.push(ge);break}de.pipesCount+=1,s("pipe count=%d opts=%j",de.pipesCount,Ae);var ae=(!Ae||Ae.end!==!1)&&ge!==y.stdout&&ge!==y.stderr,ne=ae?pe:B;de.endEmitted?f.nextTick(ne):Ie.once("end",ne),ge.on("unpipe",Me);function Me(W,F){s("onunpipe"),W===Ie&&F&&F.hasUnpiped===!1&&(F.hasUnpiped=!0,Le())}function pe(){s("onend"),ge.end()}var le=q(Ie);ge.on("drain",le);var re=!1;function Le(){s("cleanup"),ge.removeListener("close",L),ge.removeListener("finish",G),ge.removeListener("drain",le),ge.removeListener("error",T),ge.removeListener("unpipe",Me),Ie.removeListener("end",pe),Ie.removeListener("end",B),Ie.removeListener("data",_),re=!0,de.awaitDrain&&(!ge._writableState||ge._writableState.needDrain)&&le()}var h=!1;Ie.on("data",_);function _(W){s("ondata"),h=!1;var F=ge.write(W);F===!1&&!h&&((de.pipesCount===1&&de.pipes===ge||de.pipesCount>1&&ve(de.pipes,ge)!==-1)&&!re&&(s("false write response, pause",Ie._readableState.awaitDrain),Ie._readableState.awaitDrain++,h=!0),Ie.pause())}function T(W){s("onerror",W),B(),ge.removeListener("error",T),u(ge,"error")===0&&ge.emit("error",W)}w(ge,"error",T);function L(){ge.removeListener("finish",G),B()}ge.once("close",L);function G(){s("onfinish"),ge.removeListener("close",L),B()}ge.once("finish",G);function B(){s("unpipe"),Ie.unpipe(ge)}return ge.emit("pipe",Ie),de.flowing||(s("pipe resume"),Ie.resume()),ge};function q(ge){return function(){var Ae=ge._readableState;s("pipeOnDrain",Ae.awaitDrain),Ae.awaitDrain&&Ae.awaitDrain--,Ae.awaitDrain===0&&u(ge,"data")&&(Ae.flowing=!0,oe(ge))}}E.prototype.unpipe=function(ge){var Ae=this._readableState,Ie={hasUnpiped:!1};if(Ae.pipesCount===0)return this;if(Ae.pipesCount===1)return ge&&ge!==Ae.pipes?this:(ge||(ge=Ae.pipes),Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1,ge&&ge.emit("unpipe",this,Ie),this);if(!ge){var de=Ae.pipes,ae=Ae.pipesCount;Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1;for(var ne=0;ne<ae;ne++)de[ne].emit("unpipe",this,Ie);return this}var Me=ve(Ae.pipes,ge);return Me===-1?this:(Ae.pipes.splice(Me,1),Ae.pipesCount-=1,Ae.pipesCount===1&&(Ae.pipes=Ae.pipes[0]),ge.emit("unpipe",this,Ie),this)},E.prototype.on=function(ge,Ae){var Ie=i.prototype.on.call(this,ge,Ae);if(ge==="data")this._readableState.flowing!==!1&&this.resume();else if(ge==="readable"){var de=this._readableState;!de.endEmitted&&!de.readableListening&&(de.readableListening=de.needReadable=!0,de.emittedReadable=!1,de.reading?de.length&&H(this):f.nextTick(V,this))}return Ie},E.prototype.addListener=E.prototype.on;function V(ge){s("readable nexttick read 0"),ge.read(0)}E.prototype.resume=function(){var ge=this._readableState;return ge.flowing||(s("resume"),ge.flowing=!0,K(this,ge)),this};function K(ge,Ae){Ae.resumeScheduled||(Ae.resumeScheduled=!0,f.nextTick(J,ge,Ae))}function J(ge,Ae){Ae.reading||(s("resume read 0"),ge.read(0)),Ae.resumeScheduled=!1,Ae.awaitDrain=0,ge.emit("resume"),oe(ge),Ae.flowing&&!Ae.reading&&ge.read(0)}E.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function oe(ge){var Ae=ge._readableState;for(s("flow",Ae.flowing);Ae.flowing&&ge.read()!==null;);}E.prototype.wrap=function(ge){var Ae=this,Ie=this._readableState,de=!1;ge.on("end",function(){if(s("wrapped end"),Ie.decoder&&!Ie.ended){var Me=Ie.decoder.end();Me&&Me.length&&Ae.push(Me)}Ae.push(null)}),ge.on("data",function(Me){if(s("wrapped data"),Ie.decoder&&(Me=Ie.decoder.write(Me)),!(Ie.objectMode&&Me==null)&&!(!Ie.objectMode&&(!Me||!Me.length))){var pe=Ae.push(Me);pe||(de=!0,ge.pause())}});for(var ae in ge)this[ae]===void 0&&typeof ge[ae]=="function"&&(this[ae]=function(Me){return function(){return ge[Me].apply(ge,arguments)}}(ae));for(var ne=0;ne<x.length;ne++)ge.on(x[ne],this.emit.bind(this,x[ne]));return this._read=function(Me){s("wrapped _read",Me),de&&(de=!1,ge.resume())},this},Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),E._fromList=_e;function _e(ge,Ae){if(Ae.length===0)return null;var Ie;return Ae.objectMode?Ie=Ae.buffer.shift():!ge||ge>=Ae.length?(Ae.decoder?Ie=Ae.buffer.join(""):Ae.buffer.length===1?Ie=Ae.buffer.head.data:Ie=Ae.buffer.concat(Ae.length),Ae.buffer.clear()):Ie=Oe(ge,Ae.buffer,Ae.decoder),Ie}function Oe(ge,Ae,Ie){var de;return ge<Ae.head.data.length?(de=Ae.head.data.slice(0,ge),Ae.head.data=Ae.head.data.slice(ge)):ge===Ae.head.data.length?de=Ae.shift():de=Ie?De(ge,Ae):Te(ge,Ae),de}function De(ge,Ae){var Ie=Ae.head,de=1,ae=Ie.data;for(ge-=ae.length;Ie=Ie.next;){var ne=Ie.data,Me=ge>ne.length?ne.length:ge;if(Me===ne.length?ae+=ne:ae+=ne.slice(0,ge),ge-=Me,ge===0){Me===ne.length?(++de,Ie.next?Ae.head=Ie.next:Ae.head=Ae.tail=null):(Ae.head=Ie,Ie.data=ne.slice(Me));break}++de}return Ae.length-=de,ae}function Te(ge,Ae){var Ie=r.allocUnsafe(ge),de=Ae.head,ae=1;for(de.data.copy(Ie),ge-=de.data.length;de=de.next;){var ne=de.data,Me=ge>ne.length?ne.length:ge;if(ne.copy(Ie,Ie.length-ge,0,Me),ge-=Me,ge===0){Me===ne.length?(++ae,de.next?Ae.head=de.next:Ae.head=Ae.tail=null):(Ae.head=de,de.data=ne.slice(Me));break}++ae}return Ae.length-=ae,Ie}function Be(ge){var Ae=ge._readableState;if(Ae.length>0)throw new Error('"endReadable()" called on non-empty stream');Ae.endEmitted||(Ae.ended=!0,f.nextTick(Re,Ae,ge))}function Re(ge,Ae){!ge.endEmitted&&ge.length===0&&(ge.endEmitted=!0,Ae.readable=!1,Ae.emit("end"))}function ve(ge,Ae){for(var Ie=0,de=ge.length;Ie<de;Ie++)if(ge[Ie]===Ae)return Ie;return-1}}).call(this,n("_process"),typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(n,Z,S){Z.exports=g;var y=n("./_stream_duplex"),m=n("core-util-is");m.inherits=n("inherits"),m.inherits(g,y);function f(i,r){var t=this._transformState;t.transforming=!1;var a=t.writecb;if(!a)return this.emit("error",new Error("write callback called multiple times"));t.writechunk=null,t.writecb=null,r!=null&&this.push(r),a(i);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function g(i){if(!(this instanceof g))return new g(i);y.call(this,i),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,i&&(typeof i.transform=="function"&&(this._transform=i.transform),typeof i.flush=="function"&&(this._flush=i.flush)),this.on("prefinish",d)}function d(){var i=this;typeof this._flush=="function"?this._flush(function(r,t){u(i,r,t)}):u(this,null,null)}g.prototype.push=function(i,r){return this._transformState.needTransform=!1,y.prototype.push.call(this,i,r)},g.prototype._transform=function(i,r,t){throw new Error("_transform() is not implemented")},g.prototype._write=function(i,r,t){var a=this._transformState;if(a.writecb=t,a.writechunk=i,a.writeencoding=r,!a.transforming){var l=this._readableState;(a.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}},g.prototype._read=function(i){var r=this._transformState;r.writechunk!==null&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},g.prototype._destroy=function(i,r){var t=this;y.prototype._destroy.call(this,i,function(a){r(a),t.emit("close")})};function u(i,r,t){if(r)return i.emit("error",r);if(t!=null&&i.push(t),i._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(i._transformState.transforming)throw new Error("Calling transform done when still transforming");return i.push(null)}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(n,Z,S){(function(y,m,f){var g=n("process-nextick-args");Z.exports=w;function d(J){var oe=this;this.next=null,this.entry=null,this.finish=function(){K(oe,J)}}var u=!y.browser&&["v0.10","v0.9."].indexOf(y.version.slice(0,5))>-1?f:g.nextTick,i;w.WritableState=b;var r=n("core-util-is");r.inherits=n("inherits");var t={deprecate:n("util-deprecate")},a=n("./internal/streams/stream"),l=n("safe-buffer").Buffer,o=m.Uint8Array||function(){};function c(J){return l.from(J)}function s(J){return l.isBuffer(J)||J instanceof o}var p=n("./internal/streams/destroy");r.inherits(w,a);function v(){}function b(J,oe){i=i||n("./_stream_duplex"),J=J||{};var _e=oe instanceof i;this.objectMode=!!J.objectMode,_e&&(this.objectMode=this.objectMode||!!J.writableObjectMode);var Oe=J.highWaterMark,De=J.writableHighWaterMark,Te=this.objectMode?16:16*1024;Oe||Oe===0?this.highWaterMark=Oe:_e&&(De||De===0)?this.highWaterMark=De:this.highWaterMark=Te,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Be=J.decodeStrings===!1;this.decodeStrings=!Be,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Re){N(oe,Re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}b.prototype.getBuffer=function(){for(var oe=this.bufferedRequest,_e=[];oe;)_e.push(oe),oe=oe.next;return _e},function(){try{Object.defineProperty(b.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(J){return x.call(this,J)?!0:this!==w?!1:J&&J._writableState instanceof b}})):x=function(J){return J instanceof this};function w(J){if(i=i||n("./_stream_duplex"),!x.call(w,this)&&!(this instanceof i))return new w(J);this._writableState=new b(J,this),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),a.call(this)}w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function j(J,oe){var _e=new Error("write after end");J.emit("error",_e),g.nextTick(oe,_e)}function E(J,oe,_e,Oe){var De=!0,Te=!1;return _e===null?Te=new TypeError("May not write null values to stream"):typeof _e!="string"&&_e!==void 0&&!oe.objectMode&&(Te=new TypeError("Invalid non-string/buffer chunk")),Te&&(J.emit("error",Te),g.nextTick(Oe,Te),De=!1),De}w.prototype.write=function(J,oe,_e){var Oe=this._writableState,De=!1,Te=!Oe.objectMode&&s(J);return Te&&!l.isBuffer(J)&&(J=c(J)),typeof oe=="function"&&(_e=oe,oe=null),Te?oe="buffer":oe||(oe=Oe.defaultEncoding),typeof _e!="function"&&(_e=v),Oe.ended?j(this,_e):(Te||E(this,Oe,J,_e))&&(Oe.pendingcb++,De=C(this,Oe,Te,J,oe,_e)),De},w.prototype.cork=function(){var J=this._writableState;J.corked++},w.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.finished&&!J.bufferProcessing&&J.bufferedRequest&&H(this,J))},w.prototype.setDefaultEncoding=function(oe){if(typeof oe=="string"&&(oe=oe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((oe+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+oe);return this._writableState.defaultEncoding=oe,this};function M(J,oe,_e){return!J.objectMode&&J.decodeStrings!==!1&&typeof oe=="string"&&(oe=l.from(oe,_e)),oe}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function C(J,oe,_e,Oe,De,Te){if(!_e){var Be=M(oe,Oe,De);Oe!==Be&&(_e=!0,De="buffer",Oe=Be)}var Re=oe.objectMode?1:Oe.length;oe.length+=Re;var ve=oe.length<oe.highWaterMark;if(ve||(oe.needDrain=!0),oe.writing||oe.corked){var ge=oe.lastBufferedRequest;oe.lastBufferedRequest={chunk:Oe,encoding:De,isBuf:_e,callback:Te,next:null},ge?ge.next=oe.lastBufferedRequest:oe.bufferedRequest=oe.lastBufferedRequest,oe.bufferedRequestCount+=1}else P(J,oe,!1,Re,Oe,De,Te);return ve}function P(J,oe,_e,Oe,De,Te,Be){oe.writelen=Oe,oe.writecb=Be,oe.writing=!0,oe.sync=!0,_e?J._writev(De,oe.onwrite):J._write(De,Te,oe.onwrite),oe.sync=!1}function O(J,oe,_e,Oe,De){--oe.pendingcb,_e?(g.nextTick(De,Oe),g.nextTick(q,J,oe),J._writableState.errorEmitted=!0,J.emit("error",Oe)):(De(Oe),J._writableState.errorEmitted=!0,J.emit("error",Oe),q(J,oe))}function D(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function N(J,oe){var _e=J._writableState,Oe=_e.sync,De=_e.writecb;if(D(_e),oe)O(J,_e,Oe,oe,De);else{var Te=ee(_e);!Te&&!_e.corked&&!_e.bufferProcessing&&_e.bufferedRequest&&H(J,_e),Oe?u(R,J,_e,Te,De):R(J,_e,Te,De)}}function R(J,oe,_e,Oe){_e||I(J,oe),oe.pendingcb--,Oe(),q(J,oe)}function I(J,oe){oe.length===0&&oe.needDrain&&(oe.needDrain=!1,J.emit("drain"))}function H(J,oe){oe.bufferProcessing=!0;var _e=oe.bufferedRequest;if(J._writev&&_e&&_e.next){var Oe=oe.bufferedRequestCount,De=new Array(Oe),Te=oe.corkedRequestsFree;Te.entry=_e;for(var Be=0,Re=!0;_e;)De[Be]=_e,_e.isBuf||(Re=!1),_e=_e.next,Be+=1;De.allBuffers=Re,P(J,oe,!0,oe.length,De,"",Te.finish),oe.pendingcb++,oe.lastBufferedRequest=null,Te.next?(oe.corkedRequestsFree=Te.next,Te.next=null):oe.corkedRequestsFree=new d(oe),oe.bufferedRequestCount=0}else{for(;_e;){var ve=_e.chunk,ge=_e.encoding,Ae=_e.callback,Ie=oe.objectMode?1:ve.length;if(P(J,oe,!1,Ie,ve,ge,Ae),_e=_e.next,oe.bufferedRequestCount--,oe.writing)break}_e===null&&(oe.lastBufferedRequest=null)}oe.bufferedRequest=_e,oe.bufferProcessing=!1}w.prototype._write=function(J,oe,_e){_e(new Error("_write() is not implemented"))},w.prototype._writev=null,w.prototype.end=function(J,oe,_e){var Oe=this._writableState;typeof J=="function"?(_e=J,J=null,oe=null):typeof oe=="function"&&(_e=oe,oe=null),J!=null&&this.write(J,oe),Oe.corked&&(Oe.corked=1,this.uncork()),!Oe.ending&&!Oe.finished&&V(this,Oe,_e)};function ee(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function fe(J,oe){J._final(function(_e){oe.pendingcb--,_e&&J.emit("error",_e),oe.prefinished=!0,J.emit("prefinish"),q(J,oe)})}function xe(J,oe){!oe.prefinished&&!oe.finalCalled&&(typeof J._final=="function"?(oe.pendingcb++,oe.finalCalled=!0,g.nextTick(fe,J,oe)):(oe.prefinished=!0,J.emit("prefinish")))}function q(J,oe){var _e=ee(oe);return _e&&(xe(J,oe),oe.pendingcb===0&&(oe.finished=!0,J.emit("finish"))),_e}function V(J,oe,_e){oe.ending=!0,q(J,oe),_e&&(oe.finished?g.nextTick(_e):J.once("finish",_e)),oe.ended=!0,J.writable=!1}function K(J,oe,_e){var Oe=J.entry;for(J.entry=null;Oe;){var De=Oe.callback;oe.pendingcb--,De(_e),Oe=Oe.next}oe.corkedRequestsFree?oe.corkedRequestsFree.next=J:oe.corkedRequestsFree=J}Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(J){this._writableState&&(this._writableState.destroyed=J)}}),w.prototype.destroy=p.destroy,w.prototype._undestroy=p.undestroy,w.prototype._destroy=function(J,oe){this.end(),oe(J)}}).call(this,n("_process"),typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{},n("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(n,Z,S){function y(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}var m=n("safe-buffer").Buffer,f=n("util");function g(d,u,i){d.copy(u,i)}Z.exports=function(){function d(){y(this,d),this.head=null,this.tail=null,this.length=0}return d.prototype.push=function(i){var r={data:i,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length},d.prototype.unshift=function(i){var r={data:i,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length},d.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(i){if(this.length===0)return"";for(var r=this.head,t=""+r.data;r=r.next;)t+=i+r.data;return t},d.prototype.concat=function(i){if(this.length===0)return m.alloc(0);if(this.length===1)return this.head.data;for(var r=m.allocUnsafe(i>>>0),t=this.head,a=0;t;)g(t.data,r,a),a+=t.data.length,t=t.next;return r},d}(),f&&f.inspect&&f.inspect.custom&&(Z.exports.prototype[f.inspect.custom]=function(){var d=f.inspect({length:this.length});return this.constructor.name+" "+d})},{"safe-buffer":147,util:33}],145:[function(n,Z,S){var y=n("process-nextick-args");function m(d,u){var i=this,r=this._readableState&&this._readableState.destroyed,t=this._writableState&&this._writableState.destroyed;return r||t?(u?u(d):d&&(!this._writableState||!this._writableState.errorEmitted)&&y.nextTick(g,this,d),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(a){!u&&a?(y.nextTick(g,i,a),i._writableState&&(i._writableState.errorEmitted=!0)):u&&u(a)}),this)}function f(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function g(d,u){d.emit("error",u)}Z.exports={destroy:m,undestroy:f}},{"process-nextick-args":132}],146:[function(n,Z,S){Z.exports=n("events").EventEmitter},{events:52}],147:[function(n,Z,S){var y=n("buffer"),m=y.Buffer;function f(d,u){for(var i in d)u[i]=d[i]}m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?Z.exports=y:(f(y,S),S.Buffer=g);function g(d,u,i){return m(d,u,i)}f(m,g),g.from=function(d,u,i){if(typeof d=="number")throw new TypeError("Argument must not be a number");return m(d,u,i)},g.alloc=function(d,u,i){if(typeof d!="number")throw new TypeError("Argument must be a number");var r=m(d);return u!==void 0?typeof i=="string"?r.fill(u,i):r.fill(u):r.fill(0),r},g.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return m(d)},g.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(d)}},{buffer:48}],148:[function(n,Z,S){var y=n("safe-buffer").Buffer,m=y.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(x){if(!x)return"utf8";for(var w;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(w)return;x=(""+x).toLowerCase(),w=!0}}function g(x){var w=f(x);if(typeof w!="string"&&(y.isEncoding===m||!m(x)))throw new Error("Unknown encoding: "+x);return w||x}S.StringDecoder=d;function d(x){this.encoding=g(x);var w;switch(this.encoding){case"utf16le":this.text=o,this.end=c,w=4;break;case"utf8":this.fillLast=t,w=4;break;case"base64":this.text=s,this.end=p,w=3;break;default:this.write=v,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(w)}d.prototype.write=function(x){if(x.length===0)return"";var w,j;if(this.lastNeed){if(w=this.fillLast(x),w===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<x.length?w?w+this.text(x,j):this.text(x,j):w||""},d.prototype.end=l,d.prototype.text=a,d.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function u(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function i(x,w,j){var E=w.length-1;if(E<j)return 0;var M=u(w[E]);return M>=0?(M>0&&(x.lastNeed=M-1),M):--E<j||M===-2?0:(M=u(w[E]),M>=0?(M>0&&(x.lastNeed=M-2),M):--E<j||M===-2?0:(M=u(w[E]),M>=0?(M>0&&(M===2?M=0:x.lastNeed=M-3),M):0))}function r(x,w,j){if((w[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return x.lastNeed=2,"�"}}function t(x){var w=this.lastTotal-this.lastNeed,j=r(this,x);if(j!==void 0)return j;if(this.lastNeed<=x.length)return x.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,w,0,x.length),this.lastNeed-=x.length}function a(x,w){var j=i(this,x,w);if(!this.lastNeed)return x.toString("utf8",w);this.lastTotal=j;var E=x.length-(j-this.lastNeed);return x.copy(this.lastChar,0,E),x.toString("utf8",w,E)}function l(x){var w=x&&x.length?this.write(x):"";return this.lastNeed?w+"�":w}function o(x,w){if((x.length-w)%2===0){var j=x.toString("utf16le",w);if(j){var E=j.charCodeAt(j.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",w,x.length-1)}function c(x){var w=x&&x.length?this.write(x):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,j)}return w}function s(x,w){var j=(x.length-w)%3;return j===0?x.toString("base64",w):(this.lastNeed=3-j,this.lastTotal=3,j===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",w,x.length-j))}function p(x){var w=x&&x.length?this.write(x):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function v(x){return x.toString(this.encoding)}function b(x){return x&&x.length?this.write(x):""}},{"safe-buffer":147}],149:[function(n,Z,S){Z.exports=n("./readable").PassThrough},{"./readable":150}],150:[function(n,Z,S){S=Z.exports=n("./lib/_stream_readable.js"),S.Stream=S,S.Readable=S,S.Writable=n("./lib/_stream_writable.js"),S.Duplex=n("./lib/_stream_duplex.js"),S.Transform=n("./lib/_stream_transform.js"),S.PassThrough=n("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(n,Z,S){Z.exports=n("./readable").Transform},{"./readable":150}],152:[function(n,Z,S){Z.exports=n("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(n,Z,S){var y=function(m){var f=Object.prototype,g=f.hasOwnProperty,d,u=typeof Symbol=="function"?Symbol:{},i=u.iterator||"@@iterator",r=u.asyncIterator||"@@asyncIterator",t=u.toStringTag||"@@toStringTag";function a(xe,q,V,K){var J=q&&q.prototype instanceof b?q:b,oe=Object.create(J.prototype),_e=new H(K||[]);return oe._invoke=D(xe,V,_e),oe}m.wrap=a;function l(xe,q,V){try{return{type:"normal",arg:xe.call(q,V)}}catch(K){return{type:"throw",arg:K}}}var o="suspendedStart",c="suspendedYield",s="executing",p="completed",v={};function b(){}function x(){}function w(){}var j={};j[i]=function(){return this};var E=Object.getPrototypeOf,M=E&&E(E(ee([])));M&&M!==f&&g.call(M,i)&&(j=M);var C=w.prototype=b.prototype=Object.create(j);x.prototype=C.constructor=w,w.constructor=x,w[t]=x.displayName="GeneratorFunction";function P(xe){["next","throw","return"].forEach(function(q){xe[q]=function(V){return this._invoke(q,V)}})}m.isGeneratorFunction=function(xe){var q=typeof xe=="function"&&xe.constructor;return q?q===x||(q.displayName||q.name)==="GeneratorFunction":!1},m.mark=function(xe){return Object.setPrototypeOf?Object.setPrototypeOf(xe,w):(xe.__proto__=w,t in xe||(xe[t]="GeneratorFunction")),xe.prototype=Object.create(C),xe},m.awrap=function(xe){return{__await:xe}};function O(xe){function q(J,oe,_e,Oe){var De=l(xe[J],xe,oe);if(De.type==="throw")Oe(De.arg);else{var Te=De.arg,Be=Te.value;return Be&&typeof Be=="object"&&g.call(Be,"__await")?Promise.resolve(Be.__await).then(function(Re){q("next",Re,_e,Oe)},function(Re){q("throw",Re,_e,Oe)}):Promise.resolve(Be).then(function(Re){Te.value=Re,_e(Te)},function(Re){return q("throw",Re,_e,Oe)})}}var V;function K(J,oe){function _e(){return new Promise(function(Oe,De){q(J,oe,Oe,De)})}return V=V?V.then(_e,_e):_e()}this._invoke=K}P(O.prototype),O.prototype[r]=function(){return this},m.AsyncIterator=O,m.async=function(xe,q,V,K){var J=new O(a(xe,q,V,K));return m.isGeneratorFunction(q)?J:J.next().then(function(oe){return oe.done?oe.value:J.next()})};function D(xe,q,V){var K=o;return function(oe,_e){if(K===s)throw new Error("Generator is already running");if(K===p){if(oe==="throw")throw _e;return fe()}for(V.method=oe,V.arg=_e;;){var Oe=V.delegate;if(Oe){var De=N(Oe,V);if(De){if(De===v)continue;return De}}if(V.method==="next")V.sent=V._sent=V.arg;else if(V.method==="throw"){if(K===o)throw K=p,V.arg;V.dispatchException(V.arg)}else V.method==="return"&&V.abrupt("return",V.arg);K=s;var Te=l(xe,q,V);if(Te.type==="normal"){if(K=V.done?p:c,Te.arg===v)continue;return{value:Te.arg,done:V.done}}else Te.type==="throw"&&(K=p,V.method="throw",V.arg=Te.arg)}}}function N(xe,q){var V=xe.iterator[q.method];if(V===d){if(q.delegate=null,q.method==="throw"){if(xe.iterator.return&&(q.method="return",q.arg=d,N(xe,q),q.method==="throw"))return v;q.method="throw",q.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var K=l(V,xe.iterator,q.arg);if(K.type==="throw")return q.method="throw",q.arg=K.arg,q.delegate=null,v;var J=K.arg;if(!J)return q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,v;if(J.done)q[xe.resultName]=J.value,q.next=xe.nextLoc,q.method!=="return"&&(q.method="next",q.arg=d);else return J;return q.delegate=null,v}P(C),C[t]="Generator",C[i]=function(){return this},C.toString=function(){return"[object Generator]"};function R(xe){var q={tryLoc:xe[0]};1 in xe&&(q.catchLoc=xe[1]),2 in xe&&(q.finallyLoc=xe[2],q.afterLoc=xe[3]),this.tryEntries.push(q)}function I(xe){var q=xe.completion||{};q.type="normal",delete q.arg,xe.completion=q}function H(xe){this.tryEntries=[{tryLoc:"root"}],xe.forEach(R,this),this.reset(!0)}m.keys=function(xe){var q=[];for(var V in xe)q.push(V);return q.reverse(),function K(){for(;q.length;){var J=q.pop();if(J in xe)return K.value=J,K.done=!1,K}return K.done=!0,K}};function ee(xe){if(xe){var q=xe[i];if(q)return q.call(xe);if(typeof xe.next=="function")return xe;if(!isNaN(xe.length)){var V=-1,K=function J(){for(;++V<xe.length;)if(g.call(xe,V))return J.value=xe[V],J.done=!1,J;return J.value=d,J.done=!0,J};return K.next=K}}return{next:fe}}m.values=ee;function fe(){return{value:d,done:!0}}return H.prototype={constructor:H,reset:function(xe){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(I),!xe)for(var q in this)q.charAt(0)==="t"&&g.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=d)},stop:function(){this.done=!0;var xe=this.tryEntries[0],q=xe.completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(xe){if(this.done)throw xe;var q=this;function V(De,Te){return oe.type="throw",oe.arg=xe,q.next=De,Te&&(q.method="next",q.arg=d),!!Te}for(var K=this.tryEntries.length-1;K>=0;--K){var J=this.tryEntries[K],oe=J.completion;if(J.tryLoc==="root")return V("end");if(J.tryLoc<=this.prev){var _e=g.call(J,"catchLoc"),Oe=g.call(J,"finallyLoc");if(_e&&Oe){if(this.prev<J.catchLoc)return V(J.catchLoc,!0);if(this.prev<J.finallyLoc)return V(J.finallyLoc)}else if(_e){if(this.prev<J.catchLoc)return V(J.catchLoc,!0)}else if(Oe){if(this.prev<J.finallyLoc)return V(J.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(xe,q){for(var V=this.tryEntries.length-1;V>=0;--V){var K=this.tryEntries[V];if(K.tryLoc<=this.prev&&g.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var J=K;break}}J&&(xe==="break"||xe==="continue")&&J.tryLoc<=q&&q<=J.finallyLoc&&(J=null);var oe=J?J.completion:{};return oe.type=xe,oe.arg=q,J?(this.method="next",this.next=J.finallyLoc,v):this.complete(oe)},complete:function(xe,q){if(xe.type==="throw")throw xe.arg;return xe.type==="break"||xe.type==="continue"?this.next=xe.arg:xe.type==="return"?(this.rval=this.arg=xe.arg,this.method="return",this.next="end"):xe.type==="normal"&&q&&(this.next=q),v},finish:function(xe){for(var q=this.tryEntries.length-1;q>=0;--q){var V=this.tryEntries[q];if(V.finallyLoc===xe)return this.complete(V.completion,V.afterLoc),I(V),v}},catch:function(xe){for(var q=this.tryEntries.length-1;q>=0;--q){var V=this.tryEntries[q];if(V.tryLoc===xe){var K=V.completion;if(K.type==="throw"){var J=K.arg;I(V)}return J}}throw new Error("illegal catch attempt")},delegateYield:function(xe,q,V){return this.delegate={iterator:ee(xe),resultName:q,nextLoc:V},this.method==="next"&&(this.arg=d),v}},m}(typeof Z=="object"?Z.exports:{});try{regeneratorRuntime=y}catch{Function("r","regeneratorRuntime = r")(y)}},{}],154:[function(n,Z,S){var y=n("buffer"),m=y.Buffer;function f(d,u){for(var i in d)u[i]=d[i]}m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?Z.exports=y:(f(y,S),S.Buffer=g);function g(d,u,i){return m(d,u,i)}g.prototype=Object.create(m.prototype),f(m,g),g.from=function(d,u,i){if(typeof d=="number")throw new TypeError("Argument must not be a number");return m(d,u,i)},g.alloc=function(d,u,i){if(typeof d!="number")throw new TypeError("Argument must be a number");var r=m(d);return u!==void 0?typeof i=="string"?r.fill(u,i):r.fill(u):r.fill(0),r},g.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return m(d)},g.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(d)}},{buffer:48}],155:[function(n,Z,S){Z.exports=f;var y=n("events").EventEmitter,m=n("inherits");m(f,y),f.Readable=n("readable-stream/readable.js"),f.Writable=n("readable-stream/writable.js"),f.Duplex=n("readable-stream/duplex.js"),f.Transform=n("readable-stream/transform.js"),f.PassThrough=n("readable-stream/passthrough.js"),f.Stream=f;function f(){y.call(this)}f.prototype.pipe=function(g,d){var u=this;function i(s){g.writable&&g.write(s)===!1&&u.pause&&u.pause()}u.on("data",i);function r(){u.readable&&u.resume&&u.resume()}g.on("drain",r),!g._isStdio&&(!d||d.end!==!1)&&(u.on("end",a),u.on("close",l));var t=!1;function a(){t||(t=!0,g.end())}function l(){t||(t=!0,typeof g.destroy=="function"&&g.destroy())}function o(s){if(c(),y.listenerCount(this,"error")===0)throw s}u.on("error",o),g.on("error",o);function c(){u.removeListener("data",i),g.removeListener("drain",r),u.removeListener("end",a),u.removeListener("close",l),u.removeListener("error",o),g.removeListener("error",o),u.removeListener("end",c),u.removeListener("close",c),g.removeListener("close",c)}return u.on("end",c),u.on("close",c),g.on("close",c),g.emit("pipe",u),g}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(n,Z,S){(function(y){var m=n("./lib/request"),f=n("./lib/response"),g=n("xtend"),d=n("builtin-status-codes"),u=n("url"),i=S;i.request=function(r,t){typeof r=="string"?r=u.parse(r):r=g(r);var a=y.location.protocol.search(/^https?:$/)===-1?"http:":"",l=r.protocol||a,o=r.hostname||r.host,c=r.port,s=r.path||"/";o&&o.indexOf(":")!==-1&&(o="["+o+"]"),r.url=(o?l+"//"+o:"")+(c?":"+c:"")+s,r.method=(r.method||"GET").toUpperCase(),r.headers=r.headers||{};var p=new m(r);return t&&p.on("response",t),p},i.get=function(t,a){var l=i.request(t,a);return l.end(),l},i.ClientRequest=m,i.IncomingMessage=f.IncomingMessage,i.Agent=function(){},i.Agent.defaultMaxSockets=4,i.globalAgent=new i.Agent,i.STATUS_CODES=d,i.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(n,Z,S){(function(y){S.fetch=d(y.fetch)&&d(y.ReadableStream),S.writableStream=d(y.WritableStream),S.abortController=d(y.AbortController);var m;function f(){if(m!==void 0)return m;if(y.XMLHttpRequest){m=new y.XMLHttpRequest;try{m.open("GET",y.XDomainRequest?"/":"https://example.com")}catch{m=null}}else m=null;return m}function g(u){var i=f();if(!i)return!1;try{return i.responseType=u,i.responseType===u}catch{}return!1}S.arraybuffer=S.fetch||g("arraybuffer"),S.msstream=!S.fetch&&g("ms-stream"),S.mozchunkedarraybuffer=!S.fetch&&g("moz-chunked-arraybuffer"),S.overrideMimeType=S.fetch||(f()?d(f().overrideMimeType):!1);function d(u){return typeof u=="function"}m=null}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{})},{}],158:[function(n,Z,S){(function(y,m,f){var g=n("./capability"),d=n("inherits"),u=n("./response"),i=n("readable-stream"),r=u.IncomingMessage,t=u.readyStates;function a(s,p){return g.fetch&&p?"fetch":g.mozchunkedarraybuffer?"moz-chunked-arraybuffer":g.msstream?"ms-stream":g.arraybuffer&&s?"arraybuffer":"text"}var l=Z.exports=function(s){var p=this;i.Writable.call(p),p._opts=s,p._body=[],p._headers={},s.auth&&p.setHeader("Authorization","Basic "+f.from(s.auth).toString("base64")),Object.keys(s.headers).forEach(function(x){p.setHeader(x,s.headers[x])});var v,b=!0;if(s.mode==="disable-fetch"||"requestTimeout"in s&&!g.abortController)b=!1,v=!0;else if(s.mode==="prefer-streaming")v=!1;else if(s.mode==="allow-wrong-content-type")v=!g.overrideMimeType;else if(!s.mode||s.mode==="default"||s.mode==="prefer-fast")v=!0;else throw new Error("Invalid value for opts.mode");p._mode=a(v,b),p._fetchTimer=null,p.on("finish",function(){p._onFinish()})};d(l,i.Writable),l.prototype.setHeader=function(s,p){var v=this,b=s.toLowerCase();c.indexOf(b)===-1&&(v._headers[b]={name:s,value:p})},l.prototype.getHeader=function(s){var p=this._headers[s.toLowerCase()];return p?p.value:null},l.prototype.removeHeader=function(s){var p=this;delete p._headers[s.toLowerCase()]},l.prototype._onFinish=function(){var s=this;if(!s._destroyed){var p=s._opts,v=s._headers,b=null;p.method!=="GET"&&p.method!=="HEAD"&&(b=new Blob(s._body,{type:(v["content-type"]||{}).value||""}));var x=[];if(Object.keys(v).forEach(function(M){var C=v[M].name,P=v[M].value;Array.isArray(P)?P.forEach(function(O){x.push([C,O])}):x.push([C,P])}),s._mode==="fetch"){var w=null;if(g.abortController){var j=new AbortController;w=j.signal,s._fetchAbortController=j,"requestTimeout"in p&&p.requestTimeout!==0&&(s._fetchTimer=m.setTimeout(function(){s.emit("requestTimeout"),s._fetchAbortController&&s._fetchAbortController.abort()},p.requestTimeout))}m.fetch(s._opts.url,{method:s._opts.method,headers:x,body:b||void 0,mode:"cors",credentials:p.withCredentials?"include":"same-origin",signal:w}).then(function(M){s._fetchResponse=M,s._connect()},function(M){m.clearTimeout(s._fetchTimer),s._destroyed||s.emit("error",M)})}else{var E=s._xhr=new m.XMLHttpRequest;try{E.open(s._opts.method,s._opts.url,!0)}catch(M){y.nextTick(function(){s.emit("error",M)});return}"responseType"in E&&(E.responseType=s._mode),"withCredentials"in E&&(E.withCredentials=!!p.withCredentials),s._mode==="text"&&"overrideMimeType"in E&&E.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in p&&(E.timeout=p.requestTimeout,E.ontimeout=function(){s.emit("requestTimeout")}),x.forEach(function(M){E.setRequestHeader(M[0],M[1])}),s._response=null,E.onreadystatechange=function(){switch(E.readyState){case t.LOADING:case t.DONE:s._onXHRProgress();break}},s._mode==="moz-chunked-arraybuffer"&&(E.onprogress=function(){s._onXHRProgress()}),E.onerror=function(){s._destroyed||s.emit("error",new Error("XHR error"))};try{E.send(b)}catch(M){y.nextTick(function(){s.emit("error",M)});return}}}};function o(s){try{var p=s.status;return p!==null&&p!==0}catch{return!1}}l.prototype._onXHRProgress=function(){var s=this;!o(s._xhr)||s._destroyed||(s._response||s._connect(),s._response._onXHRProgress())},l.prototype._connect=function(){var s=this;s._destroyed||(s._response=new r(s._xhr,s._fetchResponse,s._mode,s._fetchTimer),s._response.on("error",function(p){s.emit("error",p)}),s.emit("response",s._response))},l.prototype._write=function(s,p,v){var b=this;b._body.push(s),v()},l.prototype.abort=l.prototype.destroy=function(){var s=this;s._destroyed=!0,m.clearTimeout(s._fetchTimer),s._response&&(s._response._destroyed=!0),s._xhr?s._xhr.abort():s._fetchAbortController&&s._fetchAbortController.abort()},l.prototype.end=function(s,p,v){var b=this;typeof s=="function"&&(v=s,s=void 0),i.Writable.prototype.end.call(b,s,p,v)},l.prototype.flushHeaders=function(){},l.prototype.setTimeout=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n("_process"),typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{},n("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(n,Z,S){(function(y,m,f){var g=n("./capability"),d=n("inherits"),u=n("readable-stream"),i=S.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},r=S.IncomingMessage=function(t,a,l,o){var c=this;if(u.Readable.call(c),c._mode=l,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){y.nextTick(function(){c.emit("close")})}),l==="fetch"){let j=function(){p.read().then(function(E){if(!c._destroyed){if(E.done){m.clearTimeout(o),c.push(null);return}c.push(f.from(E.value)),j()}}).catch(function(E){m.clearTimeout(o),c._destroyed||c.emit("error",E)})};var w=j;if(c._fetchResponse=a,c.url=a.url,c.statusCode=a.status,c.statusMessage=a.statusText,a.headers.forEach(function(E,M){c.headers[M.toLowerCase()]=E,c.rawHeaders.push(M,E)}),g.writableStream){var s=new WritableStream({write:function(E){return new Promise(function(M,C){c._destroyed?C():c.push(f.from(E))?M():c._resumeFetch=M})},close:function(){m.clearTimeout(o),c._destroyed||c.push(null)},abort:function(E){c._destroyed||c.emit("error",E)}});try{a.body.pipeTo(s).catch(function(E){m.clearTimeout(o),c._destroyed||c.emit("error",E)});return}catch{}}var p=a.body.getReader();j()}else{c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText;var v=t.getAllResponseHeaders().split(/\r?\n/);if(v.forEach(function(j){var E=j.match(/^([^:]+):\s*(.*)/);if(E){var M=E[1].toLowerCase();M==="set-cookie"?(c.headers[M]===void 0&&(c.headers[M]=[]),c.headers[M].push(E[2])):c.headers[M]!==void 0?c.headers[M]+=", "+E[2]:c.headers[M]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!g.overrideMimeType){var b=c.rawHeaders["mime-type"];if(b){var x=b.match(/;\s*charset=([^;])(;|$)/);x&&(c._charset=x[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};d(r,u.Readable),r.prototype._read=function(){var t=this,a=t._resumeFetch;a&&(t._resumeFetch=null,a())},r.prototype._onXHRProgress=function(){var t=this,a=t._xhr,l=null;switch(t._mode){case"text":if(l=a.responseText,l.length>t._pos){var o=l.substr(t._pos);if(t._charset==="x-user-defined"){for(var c=f.alloc(o.length),s=0;s<o.length;s++)c[s]=o.charCodeAt(s)&255;t.push(c)}else t.push(o,t._charset);t._pos=l.length}break;case"arraybuffer":if(a.readyState!==i.DONE||!a.response)break;l=a.response,t.push(f.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=a.response,a.readyState!==i.LOADING||!l)break;t.push(f.from(new Uint8Array(l)));break;case"ms-stream":if(l=a.response,a.readyState!==i.LOADING)break;var p=new m.MSStreamReader;p.onprogress=function(){p.result.byteLength>t._pos&&(t.push(f.from(new Uint8Array(p.result.slice(t._pos)))),t._pos=p.result.byteLength)},p.onload=function(){t.push(null)},p.readAsArrayBuffer(l);break}t._xhr.readyState===i.DONE&&t._mode!=="ms-stream"&&t.push(null)}}).call(this,n("_process"),typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{},n("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(n,Z,S){function y(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}var m={};function f(r,t,a){a||(a=Error);function l(c,s,p){return typeof t=="string"?t:t(c,s,p)}var o=function(c){y(s,c);function s(p,v,b){return c.call(this,l(p,v,b))||this}return s}(a);o.prototype.name=a.name,o.prototype.code=r,m[r]=o}function g(r,t){if(Array.isArray(r)){var a=r.length;return r=r.map(function(l){return String(l)}),a>2?"one of ".concat(t," ").concat(r.slice(0,a-1).join(", "),", or ")+r[a-1]:a===2?"one of ".concat(t," ").concat(r[0]," or ").concat(r[1]):"of ".concat(t," ").concat(r[0])}else return"of ".concat(t," ").concat(String(r))}function d(r,t,a){return r.substr(!a||a<0?0:+a,t.length)===t}function u(r,t,a){return(a===void 0||a>r.length)&&(a=r.length),r.substring(a-t.length,a)===t}function i(r,t,a){return typeof a!="number"&&(a=0),a+t.length>r.length?!1:r.indexOf(t,a)!==-1}f("ERR_INVALID_OPT_VALUE",function(r,t){return'The value "'+t+'" is invalid for option "'+r+'"'},TypeError),f("ERR_INVALID_ARG_TYPE",function(r,t,a){var l;typeof t=="string"&&d(t,"not ")?(l="must not be",t=t.replace(/^not /,"")):l="must be";var o;if(u(r," argument"))o="The ".concat(r," ").concat(l," ").concat(g(t,"type"));else{var c=i(r,".")?"property":"argument";o='The "'.concat(r,'" ').concat(c," ").concat(l," ").concat(g(t,"type"))}return o+=". Received type ".concat(typeof a),o},TypeError),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),f("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"}),f("ERR_STREAM_PREMATURE_CLOSE","Premature close"),f("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"}),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),f("ERR_STREAM_WRITE_AFTER_END","write after end"),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Z.exports.codes=m},{}],161:[function(n,Z,S){(function(y){var m=new Set;function f(d){if(!m.has(d)){var u=d+" is an experimental feature. This feature could change at any time";m.add(d),y.emitWarning(u,"ExperimentalWarning")}}function g(){}Z.exports.emitExperimentalWarning=y.emitWarning?f:g}).call(this,n("_process"))},{_process:133}],162:[function(n,Z,S){(function(y){var m=Object.keys||function(l){var o=[];for(var c in l)o.push(c);return o};Z.exports=r;var f=n("./_stream_readable"),g=n("./_stream_writable");n("inherits")(r,f);for(var d=m(g.prototype),u=0;u<d.length;u++){var i=d[u];r.prototype[i]||(r.prototype[i]=g.prototype[i])}function r(l){if(!(this instanceof r))return new r(l);f.call(this,l),g.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||y.nextTick(a,this)}function a(l){l.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(o){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=o,this._writableState.destroyed=o)}})}).call(this,n("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(n,Z,S){Z.exports=m;var y=n("./_stream_transform");n("inherits")(m,y);function m(f){if(!(this instanceof m))return new m(f);y.call(this,f)}m.prototype._transform=function(f,g,d){d(null,f)}},{"./_stream_transform":165,inherits:75}],164:[function(n,Z,S){(function(y,m){Z.exports=R;var f;R.ReadableState=N,n("events").EventEmitter;var g=function(ne,Me){return ne.listeners(Me).length},d=n("./internal/streams/stream"),u=n("buffer").Buffer,i=m.Uint8Array||function(){};function r(ae){return u.from(ae)}function t(ae){return u.isBuffer(ae)||ae instanceof i}var a=n("util"),l;a&&a.debuglog?l=a.debuglog("stream"):l=function(){};var o=n("./internal/streams/buffer_list"),c=n("./internal/streams/destroy"),s=n("./internal/streams/state"),p=s.getHighWaterMark,v=n("../errors").codes,b=v.ERR_INVALID_ARG_TYPE,x=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,j=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E=n("../experimentalWarning"),M=E.emitExperimentalWarning,C,P;n("inherits")(R,d);var O=["error","close","destroy","pause","resume"];function D(ae,ne,Me){if(typeof ae.prependListener=="function")return ae.prependListener(ne,Me);!ae._events||!ae._events[ne]?ae.on(ne,Me):Array.isArray(ae._events[ne])?ae._events[ne].unshift(Me):ae._events[ne]=[Me,ae._events[ne]]}function N(ae,ne,Me){f=f||n("./_stream_duplex"),ae=ae||{},typeof Me!="boolean"&&(Me=ne instanceof f),this.objectMode=!!ae.objectMode,Me&&(this.objectMode=this.objectMode||!!ae.readableObjectMode),this.highWaterMark=p(this,ae,"readableHighWaterMark",Me),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ae.emitClose!==!1,this.destroyed=!1,this.defaultEncoding=ae.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ae.encoding&&(C||(C=n("string_decoder/").StringDecoder),this.decoder=new C(ae.encoding),this.encoding=ae.encoding)}function R(ae){if(f=f||n("./_stream_duplex"),!(this instanceof R))return new R(ae);var ne=this instanceof f;this._readableState=new N(ae,this,ne),this.readable=!0,ae&&(typeof ae.read=="function"&&(this._read=ae.read),typeof ae.destroy=="function"&&(this._destroy=ae.destroy)),d.call(this)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ne){this._readableState&&(this._readableState.destroyed=ne)}}),R.prototype.destroy=c.destroy,R.prototype._undestroy=c.undestroy,R.prototype._destroy=function(ae,ne){ne(ae)},R.prototype.push=function(ae,ne){var Me=this._readableState,pe;return Me.objectMode?pe=!0:typeof ae=="string"&&(ne=ne||Me.defaultEncoding,ne!==Me.encoding&&(ae=u.from(ae,ne),ne=""),pe=!0),I(this,ae,ne,!1,pe)},R.prototype.unshift=function(ae){return I(this,ae,null,!0,!1)};function I(ae,ne,Me,pe,le){l("readableAddChunk",ne);var re=ae._readableState;if(ne===null)re.reading=!1,V(ae,re);else{var Le;if(le||(Le=ee(re,ne)),Le)ae.emit("error",Le);else if(re.objectMode||ne&&ne.length>0)if(typeof ne!="string"&&!re.objectMode&&Object.getPrototypeOf(ne)!==u.prototype&&(ne=r(ne)),pe)re.endEmitted?ae.emit("error",new j):H(ae,re,ne,!0);else if(re.ended)ae.emit("error",new x);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!Me?(ne=re.decoder.write(ne),re.objectMode||ne.length!==0?H(ae,re,ne,!1):oe(ae,re)):H(ae,re,ne,!1)}else pe||(re.reading=!1,oe(ae,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function H(ae,ne,Me,pe){ne.flowing&&ne.length===0&&!ne.sync?(ne.awaitDrain=0,ae.emit("data",Me)):(ne.length+=ne.objectMode?1:Me.length,pe?ne.buffer.unshift(Me):ne.buffer.push(Me),ne.needReadable&&K(ae)),oe(ae,ne)}function ee(ae,ne){var Me;return!t(ne)&&typeof ne!="string"&&ne!==void 0&&!ae.objectMode&&(Me=new b("chunk",["string","Buffer","Uint8Array"],ne)),Me}R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(ae){return C||(C=n("string_decoder/").StringDecoder),this._readableState.decoder=new C(ae),this._readableState.encoding=this._readableState.decoder.encoding,this};var fe=8388608;function xe(ae){return ae>=fe?ae=fe:(ae--,ae|=ae>>>1,ae|=ae>>>2,ae|=ae>>>4,ae|=ae>>>8,ae|=ae>>>16,ae++),ae}function q(ae,ne){return ae<=0||ne.length===0&&ne.ended?0:ne.objectMode?1:ae!==ae?ne.flowing&&ne.length?ne.buffer.head.data.length:ne.length:(ae>ne.highWaterMark&&(ne.highWaterMark=xe(ae)),ae<=ne.length?ae:ne.ended?ne.length:(ne.needReadable=!0,0))}R.prototype.read=function(ae){l("read",ae),ae=parseInt(ae,10);var ne=this._readableState,Me=ae;if(ae!==0&&(ne.emittedReadable=!1),ae===0&&ne.needReadable&&((ne.highWaterMark!==0?ne.length>=ne.highWaterMark:ne.length>0)||ne.ended))return l("read: emitReadable",ne.length,ne.ended),ne.length===0&&ne.ended?Ae(this):K(this),null;if(ae=q(ae,ne),ae===0&&ne.ended)return ne.length===0&&Ae(this),null;var pe=ne.needReadable;l("need readable",pe),(ne.length===0||ne.length-ae<ne.highWaterMark)&&(pe=!0,l("length less than watermark",pe)),ne.ended||ne.reading?(pe=!1,l("reading or ended",pe)):pe&&(l("do read"),ne.reading=!0,ne.sync=!0,ne.length===0&&(ne.needReadable=!0),this._read(ne.highWaterMark),ne.sync=!1,ne.reading||(ae=q(Me,ne)));var le;return ae>0?le=ge(ae,ne):le=null,le===null?(ne.needReadable=!0,ae=0):(ne.length-=ae,ne.awaitDrain=0),ne.length===0&&(ne.ended||(ne.needReadable=!0),Me!==ae&&ne.ended&&Ae(this)),le!==null&&this.emit("data",le),le};function V(ae,ne){if(!ne.ended){if(ne.decoder){var Me=ne.decoder.end();Me&&Me.length&&(ne.buffer.push(Me),ne.length+=ne.objectMode?1:Me.length)}ne.ended=!0,ne.sync?K(ae):(ne.needReadable=!1,ne.emittedReadable||(ne.emittedReadable=!0,J(ae)))}}function K(ae){var ne=ae._readableState;ne.needReadable=!1,ne.emittedReadable||(l("emitReadable",ne.flowing),ne.emittedReadable=!0,y.nextTick(J,ae))}function J(ae){var ne=ae._readableState;l("emitReadable_",ne.destroyed,ne.length,ne.ended),!ne.destroyed&&(ne.length||ne.ended)&&ae.emit("readable"),ne.needReadable=!ne.flowing&&!ne.ended&&ne.length<=ne.highWaterMark,ve(ae)}function oe(ae,ne){ne.readingMore||(ne.readingMore=!0,y.nextTick(_e,ae,ne))}function _e(ae,ne){for(;!ne.reading&&!ne.ended&&(ne.length<ne.highWaterMark||ne.flowing&&ne.length===0);){var Me=ne.length;if(l("maybeReadMore read 0"),ae.read(0),Me===ne.length)break}ne.readingMore=!1}R.prototype._read=function(ae){this.emit("error",new w("_read()"))},R.prototype.pipe=function(ae,ne){var Me=this,pe=this._readableState;switch(pe.pipesCount){case 0:pe.pipes=ae;break;case 1:pe.pipes=[pe.pipes,ae];break;default:pe.pipes.push(ae);break}pe.pipesCount+=1,l("pipe count=%d opts=%j",pe.pipesCount,ne);var le=(!ne||ne.end!==!1)&&ae!==y.stdout&&ae!==y.stderr,re=le?h:Y;pe.endEmitted?y.nextTick(re):Me.once("end",re),ae.on("unpipe",Le);function Le(ie,he){l("onunpipe"),ie===Me&&he&&he.hasUnpiped===!1&&(he.hasUnpiped=!0,L())}function h(){l("onend"),ae.end()}var _=Oe(Me);ae.on("drain",_);var T=!1;function L(){l("cleanup"),ae.removeListener("close",W),ae.removeListener("finish",F),ae.removeListener("drain",_),ae.removeListener("error",B),ae.removeListener("unpipe",Le),Me.removeListener("end",h),Me.removeListener("end",Y),Me.removeListener("data",G),T=!0,pe.awaitDrain&&(!ae._writableState||ae._writableState.needDrain)&&_()}Me.on("data",G);function G(ie){l("ondata");var he=ae.write(ie);l("dest.write",he),he===!1&&((pe.pipesCount===1&&pe.pipes===ae||pe.pipesCount>1&&de(pe.pipes,ae)!==-1)&&!T&&(l("false write response, pause",pe.awaitDrain),pe.awaitDrain++),Me.pause())}function B(ie){l("onerror",ie),Y(),ae.removeListener("error",B),g(ae,"error")===0&&ae.emit("error",ie)}D(ae,"error",B);function W(){ae.removeListener("finish",F),Y()}ae.once("close",W);function F(){l("onfinish"),ae.removeListener("close",W),Y()}ae.once("finish",F);function Y(){l("unpipe"),Me.unpipe(ae)}return ae.emit("pipe",Me),pe.flowing||(l("pipe resume"),Me.resume()),ae};function Oe(ae){return function(){var Me=ae._readableState;l("pipeOnDrain",Me.awaitDrain),Me.awaitDrain&&Me.awaitDrain--,Me.awaitDrain===0&&g(ae,"data")&&(Me.flowing=!0,ve(ae))}}R.prototype.unpipe=function(ae){var ne=this._readableState,Me={hasUnpiped:!1};if(ne.pipesCount===0)return this;if(ne.pipesCount===1)return ae&&ae!==ne.pipes?this:(ae||(ae=ne.pipes),ne.pipes=null,ne.pipesCount=0,ne.flowing=!1,ae&&ae.emit("unpipe",this,Me),this);if(!ae){var pe=ne.pipes,le=ne.pipesCount;ne.pipes=null,ne.pipesCount=0,ne.flowing=!1;for(var re=0;re<le;re++)pe[re].emit("unpipe",this,{hasUnpiped:!1});return this}var Le=de(ne.pipes,ae);return Le===-1?this:(ne.pipes.splice(Le,1),ne.pipesCount-=1,ne.pipesCount===1&&(ne.pipes=ne.pipes[0]),ae.emit("unpipe",this,Me),this)},R.prototype.on=function(ae,ne){var Me=d.prototype.on.call(this,ae,ne),pe=this._readableState;return ae==="data"?(pe.readableListening=this.listenerCount("readable")>0,pe.flowing!==!1&&this.resume()):ae==="readable"&&!pe.endEmitted&&!pe.readableListening&&(pe.readableListening=pe.needReadable=!0,pe.flowing=!1,pe.emittedReadable=!1,l("on readable",pe.length,pe.reading),pe.length?K(this):pe.reading||y.nextTick(Te,this)),Me},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(ae,ne){var Me=d.prototype.removeListener.call(this,ae,ne);return ae==="readable"&&y.nextTick(De,this),Me},R.prototype.removeAllListeners=function(ae){var ne=d.prototype.removeAllListeners.apply(this,arguments);return(ae==="readable"||ae===void 0)&&y.nextTick(De,this),ne};function De(ae){var ne=ae._readableState;ne.readableListening=ae.listenerCount("readable")>0,ne.resumeScheduled&&!ne.paused?ne.flowing=!0:ae.listenerCount("data")>0&&ae.resume()}function Te(ae){l("readable nexttick read 0"),ae.read(0)}R.prototype.resume=function(){var ae=this._readableState;return ae.flowing||(l("resume"),ae.flowing=!ae.readableListening,Be(this,ae)),ae.paused=!1,this};function Be(ae,ne){ne.resumeScheduled||(ne.resumeScheduled=!0,y.nextTick(Re,ae,ne))}function Re(ae,ne){l("resume",ne.reading),ne.reading||ae.read(0),ne.resumeScheduled=!1,ae.emit("resume"),ve(ae),ne.flowing&&!ne.reading&&ae.read(0)}R.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ve(ae){var ne=ae._readableState;for(l("flow",ne.flowing);ne.flowing&&ae.read()!==null;);}R.prototype.wrap=function(ae){var ne=this,Me=this._readableState,pe=!1;ae.on("end",function(){if(l("wrapped end"),Me.decoder&&!Me.ended){var Le=Me.decoder.end();Le&&Le.length&&ne.push(Le)}ne.push(null)}),ae.on("data",function(Le){if(l("wrapped data"),Me.decoder&&(Le=Me.decoder.write(Le)),!(Me.objectMode&&Le==null)&&!(!Me.objectMode&&(!Le||!Le.length))){var h=ne.push(Le);h||(pe=!0,ae.pause())}});for(var le in ae)this[le]===void 0&&typeof ae[le]=="function"&&(this[le]=function(h){return function(){return ae[h].apply(ae,arguments)}}(le));for(var re=0;re<O.length;re++)ae.on(O[re],this.emit.bind(this,O[re]));return this._read=function(Le){l("wrapped _read",Le),pe&&(pe=!1,ae.resume())},this},typeof Symbol=="function"&&(R.prototype[Symbol.asyncIterator]=function(){return M("Readable[Symbol.asyncIterator]"),P===void 0&&(P=n("./internal/streams/async_iterator")),P(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ne){this._readableState&&(this._readableState.flowing=ne)}}),R._fromList=ge,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ge(ae,ne){if(ne.length===0)return null;var Me;return ne.objectMode?Me=ne.buffer.shift():!ae||ae>=ne.length?(ne.decoder?Me=ne.buffer.join(""):ne.buffer.length===1?Me=ne.buffer.first():Me=ne.buffer.concat(ne.length),ne.buffer.clear()):Me=ne.buffer.consume(ae,ne.decoder),Me}function Ae(ae){var ne=ae._readableState;l("endReadable",ne.endEmitted),ne.endEmitted||(ne.ended=!0,y.nextTick(Ie,ne,ae))}function Ie(ae,ne){l("endReadableNT",ae.endEmitted,ae.length),!ae.endEmitted&&ae.length===0&&(ae.endEmitted=!0,ne.readable=!1,ne.emit("end"))}function de(ae,ne){for(var Me=0,pe=ae.length;Me<pe;Me++)if(ae[Me]===ne)return Me;return-1}}).call(this,n("_process"),typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(n,Z,S){Z.exports=r;var y=n("../errors").codes,m=y.ERR_METHOD_NOT_IMPLEMENTED,f=y.ERR_MULTIPLE_CALLBACK,g=y.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=y.ERR_TRANSFORM_WITH_LENGTH_0,u=n("./_stream_duplex");n("inherits")(r,u);function i(l,o){var c=this._transformState;c.transforming=!1;var s=c.writecb;if(s===null)return this.emit("error",new f);c.writechunk=null,c.writecb=null,o!=null&&this.push(o),s(l);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function r(l){if(!(this instanceof r))return new r(l);u.call(this,l),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",t)}function t(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(o,c){a(l,o,c)}):a(this,null,null)}r.prototype.push=function(l,o){return this._transformState.needTransform=!1,u.prototype.push.call(this,l,o)},r.prototype._transform=function(l,o,c){c(new m("_transform()"))},r.prototype._write=function(l,o,c){var s=this._transformState;if(s.writecb=c,s.writechunk=l,s.writeencoding=o,!s.transforming){var p=this._readableState;(s.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},r.prototype._read=function(l){var o=this._transformState;o.writechunk!==null&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0},r.prototype._destroy=function(l,o){u.prototype._destroy.call(this,l,function(c){o(c)})};function a(l,o,c){if(o)return l.emit("error",o);if(c!=null&&l.push(c),l._writableState.length)throw new d;if(l._transformState.transforming)throw new g;return l.push(null)}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(n,Z,S){(function(y,m){Z.exports=D;function f(Re){var ve=this;this.next=null,this.entry=null,this.finish=function(){Be(ve,Re)}}var g;D.WritableState=P;var d={deprecate:n("util-deprecate")},u=n("./internal/streams/stream"),i=n("buffer").Buffer,r=m.Uint8Array||function(){};function t(Re){return i.from(Re)}function a(Re){return i.isBuffer(Re)||Re instanceof r}var l=n("./internal/streams/destroy"),o=n("./internal/streams/state"),c=o.getHighWaterMark,s=n("../errors").codes,p=s.ERR_INVALID_ARG_TYPE,v=s.ERR_METHOD_NOT_IMPLEMENTED,b=s.ERR_MULTIPLE_CALLBACK,x=s.ERR_STREAM_CANNOT_PIPE,w=s.ERR_STREAM_DESTROYED,j=s.ERR_STREAM_NULL_VALUES,E=s.ERR_STREAM_WRITE_AFTER_END,M=s.ERR_UNKNOWN_ENCODING;n("inherits")(D,u);function C(){}function P(Re,ve,ge){g=g||n("./_stream_duplex"),Re=Re||{},typeof ge!="boolean"&&(ge=ve instanceof g),this.objectMode=!!Re.objectMode,ge&&(this.objectMode=this.objectMode||!!Re.writableObjectMode),this.highWaterMark=c(this,Re,"writableHighWaterMark",ge),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ae=Re.decodeStrings===!1;this.decodeStrings=!Ae,this.defaultEncoding=Re.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ie){q(ve,Ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Re.emitClose!==!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}P.prototype.getBuffer=function(){for(var ve=this.bufferedRequest,ge=[];ve;)ge.push(ve),ve=ve.next;return ge},function(){try{Object.defineProperty(P.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(ve){return O.call(this,ve)?!0:this!==D?!1:ve&&ve._writableState instanceof P}})):O=function(ve){return ve instanceof this};function D(Re){g=g||n("./_stream_duplex");var ve=this instanceof g;if(!ve&&!O.call(D,this))return new D(Re);this._writableState=new P(Re,this,ve),this.writable=!0,Re&&(typeof Re.write=="function"&&(this._write=Re.write),typeof Re.writev=="function"&&(this._writev=Re.writev),typeof Re.destroy=="function"&&(this._destroy=Re.destroy),typeof Re.final=="function"&&(this._final=Re.final)),u.call(this)}D.prototype.pipe=function(){this.emit("error",new x)};function N(Re,ve){var ge=new E;Re.emit("error",ge),y.nextTick(ve,ge)}function R(Re,ve,ge,Ae){var Ie;return ge===null?Ie=new j:typeof ge!="string"&&!ve.objectMode&&(Ie=new p("chunk",["string","Buffer"],ge)),Ie?(Re.emit("error",Ie),y.nextTick(Ae,Ie),!1):!0}D.prototype.write=function(Re,ve,ge){var Ae=this._writableState,Ie=!1,de=!Ae.objectMode&&a(Re);return de&&!i.isBuffer(Re)&&(Re=t(Re)),typeof ve=="function"&&(ge=ve,ve=null),de?ve="buffer":ve||(ve=Ae.defaultEncoding),typeof ge!="function"&&(ge=C),Ae.ending?N(this,ge):(de||R(this,Ae,Re,ge))&&(Ae.pendingcb++,Ie=H(this,Ae,de,Re,ve,ge)),Ie},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var Re=this._writableState;Re.corked&&(Re.corked--,!Re.writing&&!Re.corked&&!Re.bufferProcessing&&Re.bufferedRequest&&J(this,Re))},D.prototype.setDefaultEncoding=function(ve){if(typeof ve=="string"&&(ve=ve.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ve+"").toLowerCase())>-1))throw new M(ve);return this._writableState.defaultEncoding=ve,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function I(Re,ve,ge){return!Re.objectMode&&Re.decodeStrings!==!1&&typeof ve=="string"&&(ve=i.from(ve,ge)),ve}Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function H(Re,ve,ge,Ae,Ie,de){if(!ge){var ae=I(ve,Ae,Ie);Ae!==ae&&(ge=!0,Ie="buffer",Ae=ae)}var ne=ve.objectMode?1:Ae.length;ve.length+=ne;var Me=ve.length<ve.highWaterMark;if(Me||(ve.needDrain=!0),ve.writing||ve.corked){var pe=ve.lastBufferedRequest;ve.lastBufferedRequest={chunk:Ae,encoding:Ie,isBuf:ge,callback:de,next:null},pe?pe.next=ve.lastBufferedRequest:ve.bufferedRequest=ve.lastBufferedRequest,ve.bufferedRequestCount+=1}else ee(Re,ve,!1,ne,Ae,Ie,de);return Me}function ee(Re,ve,ge,Ae,Ie,de,ae){ve.writelen=Ae,ve.writecb=ae,ve.writing=!0,ve.sync=!0,ve.destroyed?ve.onwrite(new w("write")):ge?Re._writev(Ie,ve.onwrite):Re._write(Ie,de,ve.onwrite),ve.sync=!1}function fe(Re,ve,ge,Ae,Ie){--ve.pendingcb,ge?(y.nextTick(Ie,Ae),y.nextTick(De,Re,ve),Re._writableState.errorEmitted=!0,Re.emit("error",Ae)):(Ie(Ae),Re._writableState.errorEmitted=!0,Re.emit("error",Ae),De(Re,ve))}function xe(Re){Re.writing=!1,Re.writecb=null,Re.length-=Re.writelen,Re.writelen=0}function q(Re,ve){var ge=Re._writableState,Ae=ge.sync,Ie=ge.writecb;if(typeof Ie!="function")throw new b;if(xe(ge),ve)fe(Re,ge,Ae,ve,Ie);else{var de=oe(ge)||Re.destroyed;!de&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&J(Re,ge),Ae?y.nextTick(V,Re,ge,de,Ie):V(Re,ge,de,Ie)}}function V(Re,ve,ge,Ae){ge||K(Re,ve),ve.pendingcb--,Ae(),De(Re,ve)}function K(Re,ve){ve.length===0&&ve.needDrain&&(ve.needDrain=!1,Re.emit("drain"))}function J(Re,ve){ve.bufferProcessing=!0;var ge=ve.bufferedRequest;if(Re._writev&&ge&&ge.next){var Ae=ve.bufferedRequestCount,Ie=new Array(Ae),de=ve.corkedRequestsFree;de.entry=ge;for(var ae=0,ne=!0;ge;)Ie[ae]=ge,ge.isBuf||(ne=!1),ge=ge.next,ae+=1;Ie.allBuffers=ne,ee(Re,ve,!0,ve.length,Ie,"",de.finish),ve.pendingcb++,ve.lastBufferedRequest=null,de.next?(ve.corkedRequestsFree=de.next,de.next=null):ve.corkedRequestsFree=new f(ve),ve.bufferedRequestCount=0}else{for(;ge;){var Me=ge.chunk,pe=ge.encoding,le=ge.callback,re=ve.objectMode?1:Me.length;if(ee(Re,ve,!1,re,Me,pe,le),ge=ge.next,ve.bufferedRequestCount--,ve.writing)break}ge===null&&(ve.lastBufferedRequest=null)}ve.bufferedRequest=ge,ve.bufferProcessing=!1}D.prototype._write=function(Re,ve,ge){ge(new v("_write()"))},D.prototype._writev=null,D.prototype.end=function(Re,ve,ge){var Ae=this._writableState;return typeof Re=="function"?(ge=Re,Re=null,ve=null):typeof ve=="function"&&(ge=ve,ve=null),Re!=null&&this.write(Re,ve),Ae.corked&&(Ae.corked=1,this.uncork()),Ae.ending||Te(this,Ae,ge),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function oe(Re){return Re.ending&&Re.length===0&&Re.bufferedRequest===null&&!Re.finished&&!Re.writing}function _e(Re,ve){Re._final(function(ge){ve.pendingcb--,ge&&Re.emit("error",ge),ve.prefinished=!0,Re.emit("prefinish"),De(Re,ve)})}function Oe(Re,ve){!ve.prefinished&&!ve.finalCalled&&(typeof Re._final=="function"&&!ve.destroyed?(ve.pendingcb++,ve.finalCalled=!0,y.nextTick(_e,Re,ve)):(ve.prefinished=!0,Re.emit("prefinish")))}function De(Re,ve){var ge=oe(ve);return ge&&(Oe(Re,ve),ve.pendingcb===0&&(ve.finished=!0,Re.emit("finish"))),ge}function Te(Re,ve,ge){ve.ending=!0,De(Re,ve),ge&&(ve.finished?y.nextTick(ge):Re.once("finish",ge)),ve.ended=!0,Re.writable=!1}function Be(Re,ve,ge){var Ae=Re.entry;for(Re.entry=null;Ae;){var Ie=Ae.callback;ve.pendingcb--,Ie(ge),Ae=Ae.next}ve.corkedRequestsFree.next=Re}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ve){this._writableState&&(this._writableState.destroyed=ve)}}),D.prototype.destroy=l.destroy,D.prototype._undestroy=l.undestroy,D.prototype._destroy=function(Re,ve){ve(Re)}}).call(this,n("_process"),typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(n,Z,S){(function(y){var m;function f(w,j,E){return j in w?Object.defineProperty(w,j,{value:E,enumerable:!0,configurable:!0,writable:!0}):w[j]=E,w}var g=n("./end-of-stream"),d=Symbol("lastResolve"),u=Symbol("lastReject"),i=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),a=Symbol("handlePromise"),l=Symbol("stream");function o(w,j){return{value:w,done:j}}function c(w){var j=w[d];if(j!==null){var E=w[l].read();E!==null&&(w[t]=null,w[d]=null,w[u]=null,j(o(E,!1)))}}function s(w){y.nextTick(c,w)}function p(w,j){return function(E,M){w.then(function(){if(j[r]){E(o(void 0,!0));return}j[a](E,M)},M)}}var v=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((m={get stream(){return this[l]},next:function(){var j=this,E=this[i];if(E!==null)return Promise.reject(E);if(this[r])return Promise.resolve(o(void 0,!0));if(this[l].destroyed)return new Promise(function(O,D){y.nextTick(function(){j[i]?D(j[i]):O(o(void 0,!0))})});var M=this[t],C;if(M)C=new Promise(p(M,this));else{var P=this[l].read();if(P!==null)return Promise.resolve(o(P,!1));C=new Promise(this[a])}return this[t]=C,C}},f(m,Symbol.asyncIterator,function(){return this}),f(m,"return",function(){var j=this;return new Promise(function(E,M){j[l].destroy(null,function(C){if(C){M(C);return}E(o(void 0,!0))})})}),m),v),x=function(j){var E,M=Object.create(b,(E={},f(E,l,{value:j,writable:!0}),f(E,d,{value:null,writable:!0}),f(E,u,{value:null,writable:!0}),f(E,i,{value:null,writable:!0}),f(E,r,{value:j._readableState.endEmitted,writable:!0}),f(E,a,{value:function(P,O){var D=M[l].read();D?(M[t]=null,M[d]=null,M[u]=null,P(o(D,!1))):(M[d]=P,M[u]=O)},writable:!0}),E));return M[t]=null,g(j,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=M[u];P!==null&&(M[t]=null,M[d]=null,M[u]=null,P(C)),M[i]=C;return}var O=M[d];O!==null&&(M[t]=null,M[d]=null,M[u]=null,O(o(void 0,!0))),M[r]=!0}),j.on("readable",s.bind(null,M)),M};Z.exports=x}).call(this,n("_process"))},{"./end-of-stream":170,_process:133}],168:[function(n,Z,S){function y(t){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{},o=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(l).filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable}))),o.forEach(function(c){m(t,c,l[c])})}return t}function m(t,a,l){return a in t?Object.defineProperty(t,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[a]=l,t}var f=n("buffer"),g=f.Buffer,d=n("util"),u=d.inspect,i=u&&u.custom||"inspect";function r(t,a,l){g.prototype.copy.call(t,a,l)}Z.exports=function(){function t(){this.head=null,this.tail=null,this.length=0}var a=t.prototype;return a.push=function(o){var c={data:o,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},a.unshift=function(o){var c={data:o,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},a.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},a.clear=function(){this.head=this.tail=null,this.length=0},a.join=function(o){if(this.length===0)return"";for(var c=this.head,s=""+c.data;c=c.next;)s+=o+c.data;return s},a.concat=function(o){if(this.length===0)return g.alloc(0);for(var c=g.allocUnsafe(o>>>0),s=this.head,p=0;s;)r(s.data,c,p),p+=s.data.length,s=s.next;return c},a.consume=function(o,c){var s;return o<this.head.data.length?(s=this.head.data.slice(0,o),this.head.data=this.head.data.slice(o)):o===this.head.data.length?s=this.shift():s=c?this._getString(o):this._getBuffer(o),s},a.first=function(){return this.head.data},a._getString=function(o){var c=this.head,s=1,p=c.data;for(o-=p.length;c=c.next;){var v=c.data,b=o>v.length?v.length:o;if(b===v.length?p+=v:p+=v.slice(0,o),o-=b,o===0){b===v.length?(++s,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=v.slice(b));break}++s}return this.length-=s,p},a._getBuffer=function(o){var c=g.allocUnsafe(o),s=this.head,p=1;for(s.data.copy(c),o-=s.data.length;s=s.next;){var v=s.data,b=o>v.length?v.length:o;if(v.copy(c,c.length-o,0,b),o-=b,o===0){b===v.length?(++p,s.next?this.head=s.next:this.head=this.tail=null):(this.head=s,s.data=v.slice(b));break}++p}return this.length-=p,c},a[i]=function(l,o){return u(this,y({},o,{depth:0,customInspect:!1}))},t}()},{buffer:48,util:33}],169:[function(n,Z,S){(function(y){function m(i,r){var t=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(r?r(i):i&&(!this._writableState||!this._writableState.errorEmitted)&&y.nextTick(u,this,i),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(o){!r&&o?(y.nextTick(f,t,o),t._writableState&&(t._writableState.errorEmitted=!0)):r?(y.nextTick(g,t),r(o)):y.nextTick(g,t)}),this)}function f(i,r){u(i,r),g(i)}function g(i){i._writableState&&!i._writableState.emitClose||i._readableState&&!i._readableState.emitClose||i.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(i,r){i.emit("error",r)}Z.exports={destroy:m,undestroy:d}}).call(this,n("_process"))},{_process:133}],170:[function(n,Z,S){var y=n("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function m(u){var i=!1;return function(){if(!i){i=!0;for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];u.apply(this,t)}}}function f(){}function g(u){return u.setHeader&&typeof u.abort=="function"}function d(u,i,r){if(typeof i=="function")return d(u,null,i);i||(i={}),r=m(r||f);var t=i.readable||i.readable!==!1&&u.readable,a=i.writable||i.writable!==!1&&u.writable,l=function(){u.writable||c()},o=u._writableState&&u._writableState.finished,c=function(){a=!1,o=!0,t||r.call(u)},s=u._readableState&&u._readableState.endEmitted,p=function(){t=!1,s=!0,a||r.call(u)},v=function(j){r.call(u,j)},b=function(){var j;if(t&&!s)return(!u._readableState||!u._readableState.ended)&&(j=new y),r.call(u,j);if(a&&!o)return(!u._writableState||!u._writableState.ended)&&(j=new y),r.call(u,j)},x=function(){u.req.on("finish",c)};return g(u)?(u.on("complete",c),u.on("abort",b),u.req?x():u.on("request",x)):a&&!u._writableState&&(u.on("end",l),u.on("close",l)),u.on("end",p),u.on("finish",c),i.error!==!1&&u.on("error",v),u.on("close",b),function(){u.removeListener("complete",c),u.removeListener("abort",b),u.removeListener("request",x),u.req&&u.req.removeListener("finish",c),u.removeListener("end",l),u.removeListener("close",l),u.removeListener("finish",c),u.removeListener("end",p),u.removeListener("error",v),u.removeListener("close",b)}}Z.exports=d},{"../../../errors":160}],171:[function(n,Z,S){var y;function m(c){var s=!1;return function(){s||(s=!0,c.apply(void 0,arguments))}}var f=n("../../../errors").codes,g=f.ERR_MISSING_ARGS,d=f.ERR_STREAM_DESTROYED;function u(c){if(c)throw c}function i(c){return c.setHeader&&typeof c.abort=="function"}function r(c,s,p,v){v=m(v);var b=!1;c.on("close",function(){b=!0}),y===void 0&&(y=n("./end-of-stream")),y(c,{readable:s,writable:p},function(w){if(w)return v(w);b=!0,v()});var x=!1;return function(w){if(!b&&!x){if(x=!0,i(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();v(w||new d("pipe"))}}}function t(c){c()}function a(c,s){return c.pipe(s)}function l(c){return!c.length||typeof c[c.length-1]!="function"?u:c.pop()}function o(){for(var c=arguments.length,s=new Array(c),p=0;p<c;p++)s[p]=arguments[p];var v=l(s);if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new g("streams");var b,x=s.map(function(w,j){var E=j<s.length-1,M=j>0;return r(w,E,M,function(C){b||(b=C),C&&x.forEach(t),!E&&(x.forEach(t),v(b))})});return s.reduce(a)}Z.exports=o},{"../../../errors":160,"./end-of-stream":170}],172:[function(n,Z,S){var y=n("../../../errors").codes.ERR_INVALID_OPT_VALUE;function m(g,d,u){return g.highWaterMark!=null?g.highWaterMark:d?g[u]:null}function f(g,d,u,i){var r=m(d,i,u);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=i?u:"highWaterMark";throw new y(t,r)}return Math.floor(r)}return g.objectMode?16:16*1024}Z.exports={getHighWaterMark:f}},{"../../../errors":160}],173:[function(n,Z,S){arguments[4][146][0].apply(S,arguments)},{dup:146,events:52}],174:[function(n,Z,S){S=Z.exports=n("./lib/_stream_readable.js"),S.Stream=S,S.Readable=S,S.Writable=n("./lib/_stream_writable.js"),S.Duplex=n("./lib/_stream_duplex.js"),S.Transform=n("./lib/_stream_transform.js"),S.PassThrough=n("./lib/_stream_passthrough.js"),S.finished=n("./lib/internal/streams/end-of-stream.js"),S.pipeline=n("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(n,Z,S){arguments[4][148][0].apply(S,arguments)},{dup:148,"safe-buffer":154}],176:[function(n,Z,S){(function(y,m){var f=n("process/browser.js").nextTick,g=Function.prototype.apply,d=Array.prototype.slice,u={},i=0;S.setTimeout=function(){return new r(g.call(setTimeout,Ye,arguments),clearTimeout)},S.setInterval=function(){return new r(g.call(setInterval,Ye,arguments),clearInterval)},S.clearTimeout=S.clearInterval=function(t){t.close()};function r(t,a){this._id=t,this._clearFn=a}r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(Ye,this._id)},S.enroll=function(t,a){clearTimeout(t._idleTimeoutId),t._idleTimeout=a},S.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},S._unrefActive=S.active=function(t){clearTimeout(t._idleTimeoutId);var a=t._idleTimeout;a>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},a))},S.setImmediate=typeof y=="function"?y:function(t){var a=i++,l=arguments.length<2?!1:d.call(arguments,1);return u[a]=!0,f(function(){u[a]&&(l?t.apply(null,l):t.call(null),S.clearImmediate(a))}),a},S.clearImmediate=typeof m=="function"?m:function(t){delete u[t]}}).call(this,n("timers").setImmediate,n("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(n,Z,S){(function(y){Object.defineProperty(S,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};S.clone=i,S.addLast=a,S.addFirst=l,S.removeLast=o,S.removeFirst=c,S.insert=s,S.removeAt=p,S.replaceAt=v,S.getIn=b,S.set=x,S.setIn=j,S.update=E,S.updateIn=M,S.merge=C,S.mergeDeep=P,S.mergeIn=O,S.omit=D,S.addDefaults=N;/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */var f="INVALID_ARGS";function g(I){throw new Error(I)}function d(I){var H=Object.keys(I);return Object.getOwnPropertySymbols?H.concat(Object.getOwnPropertySymbols(I)):H}var u={}.hasOwnProperty;function i(I){if(Array.isArray(I))return I.slice();for(var H=d(I),ee={},fe=0;fe<H.length;fe++){var xe=H[fe];ee[xe]=I[xe]}return ee}function r(I,H,ee){var fe=ee;fe==null&&g(f);for(var xe=!1,q=arguments.length,V=Array(q>3?q-3:0),K=3;K<q;K++)V[K-3]=arguments[K];for(var J=0;J<V.length;J++){var oe=V[J];if(oe!=null){var _e=d(oe);if(_e.length)for(var Oe=0;Oe<=_e.length;Oe++){var De=_e[Oe];if(!(I&&fe[De]!==void 0)){var Te=oe[De];H&&t(fe[De])&&t(Te)&&(Te=r(I,H,fe[De],Te)),!(Te===void 0||Te===fe[De])&&(xe||(xe=!0,fe=i(fe)),fe[De]=Te)}}}}return fe}function t(I){var H=typeof I>"u"?"undefined":m(I);return I!=null&&H==="object"}function a(I,H){return Array.isArray(H)?I.concat(H):I.concat([H])}function l(I,H){return Array.isArray(H)?H.concat(I):[H].concat(I)}function o(I){return I.length?I.slice(0,I.length-1):I}function c(I){return I.length?I.slice(1):I}function s(I,H,ee){return I.slice(0,H).concat(Array.isArray(ee)?ee:[ee]).concat(I.slice(H))}function p(I,H){return H>=I.length||H<0?I:I.slice(0,H).concat(I.slice(H+1))}function v(I,H,ee){if(I[H]===ee)return I;for(var fe=I.length,xe=Array(fe),q=0;q<fe;q++)xe[q]=I[q];return xe[H]=ee,xe}function b(I,H){if(!Array.isArray(H)&&g(f),I!=null){for(var ee=I,fe=0;fe<H.length;fe++){var xe=H[fe];if(ee=ee!=null?ee[xe]:void 0,ee===void 0)return ee}return ee}}function x(I,H,ee){var fe=typeof H=="number"?[]:{},xe=I??fe;if(xe[H]===ee)return xe;var q=i(xe);return q[H]=ee,q}function w(I,H,ee,fe){var xe=void 0,q=H[fe];if(fe===H.length-1)xe=ee;else{var V=t(I)&&t(I[q])?I[q]:typeof H[fe+1]=="number"?[]:{};xe=w(V,H,ee,fe+1)}return x(I,q,xe)}function j(I,H,ee){return H.length?w(I,H,ee,0):ee}function E(I,H,ee){var fe=I==null?void 0:I[H],xe=ee(fe);return x(I,H,xe)}function M(I,H,ee){var fe=b(I,H),xe=ee(fe);return j(I,H,xe)}function C(I,H,ee,fe,xe,q){for(var V=arguments.length,K=Array(V>6?V-6:0),J=6;J<V;J++)K[J-6]=arguments[J];return K.length?r.call.apply(r,[null,!1,!1,I,H,ee,fe,xe,q].concat(K)):r(!1,!1,I,H,ee,fe,xe,q)}function P(I,H,ee,fe,xe,q){for(var V=arguments.length,K=Array(V>6?V-6:0),J=6;J<V;J++)K[J-6]=arguments[J];return K.length?r.call.apply(r,[null,!1,!0,I,H,ee,fe,xe,q].concat(K)):r(!1,!0,I,H,ee,fe,xe,q)}function O(I,H,ee,fe,xe,q,V){var K=b(I,H);K==null&&(K={});for(var J=void 0,oe=arguments.length,_e=Array(oe>7?oe-7:0),Oe=7;Oe<oe;Oe++)_e[Oe-7]=arguments[Oe];return _e.length?J=r.call.apply(r,[null,!1,!1,K,ee,fe,xe,q,V].concat(_e)):J=r(!1,!1,K,ee,fe,xe,q,V),j(I,H,J)}function D(I,H){for(var ee=Array.isArray(H)?H:[H],fe=!1,xe=0;xe<ee.length;xe++)if(u.call(I,ee[xe])){fe=!0;break}if(!fe)return I;for(var q={},V=d(I),K=0;K<V.length;K++){var J=V[K];ee.indexOf(J)>=0||(q[J]=I[J])}return q}function N(I,H,ee,fe,xe,q){for(var V=arguments.length,K=Array(V>6?V-6:0),J=6;J<V;J++)K[J-6]=arguments[J];return K.length?r.call.apply(r,[null,!0,!1,I,H,ee,fe,xe,q].concat(K)):r(!0,!1,I,H,ee,fe,xe,q)}var R={clone:i,addLast:a,addFirst:l,removeLast:o,removeFirst:c,insert:s,removeAt:p,replaceAt:v,getIn:b,set:x,setIn:j,update:E,updateIn:M,merge:C,mergeDeep:P,mergeIn:O,omit:D,addDefaults:N};S.default=R}).call(this,n("_process"))},{_process:133}],178:[function(n,Z,S){(function(y){var m=/^\s+/,f=/\s+$/,g=0,d=y.round,u=y.min,i=y.max,r=y.random;function t(de,ae){if(de=de||"",ae=ae||{},de instanceof t)return de;if(!(this instanceof t))return new t(de,ae);var ne=a(de);this._originalInput=de,this._r=ne.r,this._g=ne.g,this._b=ne.b,this._a=ne.a,this._roundA=d(100*this._a)/100,this._format=ae.format||ne.format,this._gradientType=ae.gradientType,this._r<1&&(this._r=d(this._r)),this._g<1&&(this._g=d(this._g)),this._b<1&&(this._b=d(this._b)),this._ok=ne.ok,this._tc_id=g++}t.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var de=this.toRgb();return(de.r*299+de.g*587+de.b*114)/1e3},getLuminance:function(){var de=this.toRgb(),ae,ne,Me,pe,le,re;return ae=de.r/255,ne=de.g/255,Me=de.b/255,ae<=.03928?pe=ae/12.92:pe=y.pow((ae+.055)/1.055,2.4),ne<=.03928?le=ne/12.92:le=y.pow((ne+.055)/1.055,2.4),Me<=.03928?re=Me/12.92:re=y.pow((Me+.055)/1.055,2.4),.2126*pe+.7152*le+.0722*re},setAlpha:function(de){return this._a=V(de),this._roundA=d(100*this._a)/100,this},toHsv:function(){var de=s(this._r,this._g,this._b);return{h:de.h*360,s:de.s,v:de.v,a:this._a}},toHsvString:function(){var de=s(this._r,this._g,this._b),ae=d(de.h*360),ne=d(de.s*100),Me=d(de.v*100);return this._a==1?"hsv("+ae+", "+ne+"%, "+Me+"%)":"hsva("+ae+", "+ne+"%, "+Me+"%, "+this._roundA+")"},toHsl:function(){var de=o(this._r,this._g,this._b);return{h:de.h*360,s:de.s,l:de.l,a:this._a}},toHslString:function(){var de=o(this._r,this._g,this._b),ae=d(de.h*360),ne=d(de.s*100),Me=d(de.l*100);return this._a==1?"hsl("+ae+", "+ne+"%, "+Me+"%)":"hsla("+ae+", "+ne+"%, "+Me+"%, "+this._roundA+")"},toHex:function(de){return v(this._r,this._g,this._b,de)},toHexString:function(de){return"#"+this.toHex(de)},toHex8:function(de){return b(this._r,this._g,this._b,this._a,de)},toHex8String:function(de){return"#"+this.toHex8(de)},toRgb:function(){return{r:d(this._r),g:d(this._g),b:d(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+d(this._r)+", "+d(this._g)+", "+d(this._b)+")":"rgba("+d(this._r)+", "+d(this._g)+", "+d(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:d(K(this._r,255)*100)+"%",g:d(K(this._g,255)*100)+"%",b:d(K(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+d(K(this._r,255)*100)+"%, "+d(K(this._g,255)*100)+"%, "+d(K(this._b,255)*100)+"%)":"rgba("+d(K(this._r,255)*100)+"%, "+d(K(this._g,255)*100)+"%, "+d(K(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:xe[v(this._r,this._g,this._b,!0)]||!1},toFilter:function(de){var ae="#"+x(this._r,this._g,this._b,this._a),ne=ae,Me=this._gradientType?"GradientType = 1, ":"";if(de){var pe=t(de);ne="#"+x(pe._r,pe._g,pe._b,pe._a)}return"progid:DXImageTransform.Microsoft.gradient("+Me+"startColorstr="+ae+",endColorstr="+ne+")"},toString:function(de){var ae=!!de;de=de||this._format;var ne=!1,Me=this._a<1&&this._a>=0,pe=!ae&&Me&&(de==="hex"||de==="hex6"||de==="hex3"||de==="hex4"||de==="hex8"||de==="name");return pe?de==="name"&&this._a===0?this.toName():this.toRgbString():(de==="rgb"&&(ne=this.toRgbString()),de==="prgb"&&(ne=this.toPercentageRgbString()),(de==="hex"||de==="hex6")&&(ne=this.toHexString()),de==="hex3"&&(ne=this.toHexString(!0)),de==="hex4"&&(ne=this.toHex8String(!0)),de==="hex8"&&(ne=this.toHex8String()),de==="name"&&(ne=this.toName()),de==="hsl"&&(ne=this.toHslString()),de==="hsv"&&(ne=this.toHsvString()),ne||this.toHexString())},clone:function(){return t(this.toString())},_applyModification:function(de,ae){var ne=de.apply(null,[this].concat([].slice.call(ae)));return this._r=ne._r,this._g=ne._g,this._b=ne._b,this.setAlpha(ne._a),this},lighten:function(){return this._applyModification(M,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(w,arguments)},saturate:function(){return this._applyModification(j,arguments)},greyscale:function(){return this._applyModification(E,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(de,ae){return de.apply(null,[this].concat([].slice.call(ae)))},analogous:function(){return this._applyCombination(H,arguments)},complement:function(){return this._applyCombination(D,arguments)},monochromatic:function(){return this._applyCombination(ee,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(N,arguments)},tetrad:function(){return this._applyCombination(R,arguments)}},t.fromRatio=function(de,ae){if(typeof de=="object"){var ne={};for(var Me in de)de.hasOwnProperty(Me)&&(Me==="a"?ne[Me]=de[Me]:ne[Me]=Te(de[Me]));de=ne}return t(de,ae)};function a(de){var ae={r:0,g:0,b:0},ne=1,Me=null,pe=null,le=null,re=!1,Le=!1;return typeof de=="string"&&(de=Ae(de)),typeof de=="object"&&(ge(de.r)&&ge(de.g)&&ge(de.b)?(ae=l(de.r,de.g,de.b),re=!0,Le=String(de.r).substr(-1)==="%"?"prgb":"rgb"):ge(de.h)&&ge(de.s)&&ge(de.v)?(Me=Te(de.s),pe=Te(de.v),ae=p(de.h,Me,pe),re=!0,Le="hsv"):ge(de.h)&&ge(de.s)&&ge(de.l)&&(Me=Te(de.s),le=Te(de.l),ae=c(de.h,Me,le),re=!0,Le="hsl"),de.hasOwnProperty("a")&&(ne=de.a)),ne=V(ne),{ok:re,format:de.format||Le,r:u(255,i(ae.r,0)),g:u(255,i(ae.g,0)),b:u(255,i(ae.b,0)),a:ne}}function l(de,ae,ne){return{r:K(de,255)*255,g:K(ae,255)*255,b:K(ne,255)*255}}function o(de,ae,ne){de=K(de,255),ae=K(ae,255),ne=K(ne,255);var Me=i(de,ae,ne),pe=u(de,ae,ne),le,re,Le=(Me+pe)/2;if(Me==pe)le=re=0;else{var h=Me-pe;switch(re=Le>.5?h/(2-Me-pe):h/(Me+pe),Me){case de:le=(ae-ne)/h+(ae<ne?6:0);break;case ae:le=(ne-de)/h+2;break;case ne:le=(de-ae)/h+4;break}le/=6}return{h:le,s:re,l:Le}}function c(de,ae,ne){var Me,pe,le;de=K(de,360),ae=K(ae,100),ne=K(ne,100);function re(_,T,L){return L<0&&(L+=1),L>1&&(L-=1),L<1/6?_+(T-_)*6*L:L<1/2?T:L<2/3?_+(T-_)*(2/3-L)*6:_}if(ae===0)Me=pe=le=ne;else{var Le=ne<.5?ne*(1+ae):ne+ae-ne*ae,h=2*ne-Le;Me=re(h,Le,de+1/3),pe=re(h,Le,de),le=re(h,Le,de-1/3)}return{r:Me*255,g:pe*255,b:le*255}}function s(de,ae,ne){de=K(de,255),ae=K(ae,255),ne=K(ne,255);var Me=i(de,ae,ne),pe=u(de,ae,ne),le,re,Le=Me,h=Me-pe;if(re=Me===0?0:h/Me,Me==pe)le=0;else{switch(Me){case de:le=(ae-ne)/h+(ae<ne?6:0);break;case ae:le=(ne-de)/h+2;break;case ne:le=(de-ae)/h+4;break}le/=6}return{h:le,s:re,v:Le}}function p(de,ae,ne){de=K(de,360)*6,ae=K(ae,100),ne=K(ne,100);var Me=y.floor(de),pe=de-Me,le=ne*(1-ae),re=ne*(1-pe*ae),Le=ne*(1-(1-pe)*ae),h=Me%6,_=[ne,re,le,le,Le,ne][h],T=[Le,ne,ne,re,le,le][h],L=[le,le,Le,ne,ne,re][h];return{r:_*255,g:T*255,b:L*255}}function v(de,ae,ne,Me){var pe=[De(d(de).toString(16)),De(d(ae).toString(16)),De(d(ne).toString(16))];return Me&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0):pe.join("")}function b(de,ae,ne,Me,pe){var le=[De(d(de).toString(16)),De(d(ae).toString(16)),De(d(ne).toString(16)),De(Be(Me))];return pe&&le[0].charAt(0)==le[0].charAt(1)&&le[1].charAt(0)==le[1].charAt(1)&&le[2].charAt(0)==le[2].charAt(1)&&le[3].charAt(0)==le[3].charAt(1)?le[0].charAt(0)+le[1].charAt(0)+le[2].charAt(0)+le[3].charAt(0):le.join("")}function x(de,ae,ne,Me){var pe=[De(Be(Me)),De(d(de).toString(16)),De(d(ae).toString(16)),De(d(ne).toString(16))];return pe.join("")}t.equals=function(de,ae){return!de||!ae?!1:t(de).toRgbString()==t(ae).toRgbString()},t.random=function(){return t.fromRatio({r:r(),g:r(),b:r()})};function w(de,ae){ae=ae===0?0:ae||10;var ne=t(de).toHsl();return ne.s-=ae/100,ne.s=J(ne.s),t(ne)}function j(de,ae){ae=ae===0?0:ae||10;var ne=t(de).toHsl();return ne.s+=ae/100,ne.s=J(ne.s),t(ne)}function E(de){return t(de).desaturate(100)}function M(de,ae){ae=ae===0?0:ae||10;var ne=t(de).toHsl();return ne.l+=ae/100,ne.l=J(ne.l),t(ne)}function C(de,ae){ae=ae===0?0:ae||10;var ne=t(de).toRgb();return ne.r=i(0,u(255,ne.r-d(255*-(ae/100)))),ne.g=i(0,u(255,ne.g-d(255*-(ae/100)))),ne.b=i(0,u(255,ne.b-d(255*-(ae/100)))),t(ne)}function P(de,ae){ae=ae===0?0:ae||10;var ne=t(de).toHsl();return ne.l-=ae/100,ne.l=J(ne.l),t(ne)}function O(de,ae){var ne=t(de).toHsl(),Me=(ne.h+ae)%360;return ne.h=Me<0?360+Me:Me,t(ne)}function D(de){var ae=t(de).toHsl();return ae.h=(ae.h+180)%360,t(ae)}function N(de){var ae=t(de).toHsl(),ne=ae.h;return[t(de),t({h:(ne+120)%360,s:ae.s,l:ae.l}),t({h:(ne+240)%360,s:ae.s,l:ae.l})]}function R(de){var ae=t(de).toHsl(),ne=ae.h;return[t(de),t({h:(ne+90)%360,s:ae.s,l:ae.l}),t({h:(ne+180)%360,s:ae.s,l:ae.l}),t({h:(ne+270)%360,s:ae.s,l:ae.l})]}function I(de){var ae=t(de).toHsl(),ne=ae.h;return[t(de),t({h:(ne+72)%360,s:ae.s,l:ae.l}),t({h:(ne+216)%360,s:ae.s,l:ae.l})]}function H(de,ae,ne){ae=ae||6,ne=ne||30;var Me=t(de).toHsl(),pe=360/ne,le=[t(de)];for(Me.h=(Me.h-(pe*ae>>1)+720)%360;--ae;)Me.h=(Me.h+pe)%360,le.push(t(Me));return le}function ee(de,ae){ae=ae||6;for(var ne=t(de).toHsv(),Me=ne.h,pe=ne.s,le=ne.v,re=[],Le=1/ae;ae--;)re.push(t({h:Me,s:pe,v:le})),le=(le+Le)%1;return re}t.mix=function(de,ae,ne){ne=ne===0?0:ne||50;var Me=t(de).toRgb(),pe=t(ae).toRgb(),le=ne/100,re={r:(pe.r-Me.r)*le+Me.r,g:(pe.g-Me.g)*le+Me.g,b:(pe.b-Me.b)*le+Me.b,a:(pe.a-Me.a)*le+Me.a};return t(re)},t.readability=function(de,ae){var ne=t(de),Me=t(ae);return(y.max(ne.getLuminance(),Me.getLuminance())+.05)/(y.min(ne.getLuminance(),Me.getLuminance())+.05)},t.isReadable=function(de,ae,ne){var Me=t.readability(de,ae),pe,le;switch(le=!1,pe=Ie(ne),pe.level+pe.size){case"AAsmall":case"AAAlarge":le=Me>=4.5;break;case"AAlarge":le=Me>=3;break;case"AAAsmall":le=Me>=7;break}return le},t.mostReadable=function(de,ae,ne){var Me=null,pe=0,le,re,Le,h;ne=ne||{},re=ne.includeFallbackColors,Le=ne.level,h=ne.size;for(var _=0;_<ae.length;_++)le=t.readability(de,ae[_]),le>pe&&(pe=le,Me=t(ae[_]));return t.isReadable(de,Me,{level:Le,size:h})||!re?Me:(ne.includeFallbackColors=!1,t.mostReadable(de,["#fff","#000"],ne))};var fe=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},xe=t.hexNames=q(fe);function q(de){var ae={};for(var ne in de)de.hasOwnProperty(ne)&&(ae[de[ne]]=ne);return ae}function V(de){return de=parseFloat(de),(isNaN(de)||de<0||de>1)&&(de=1),de}function K(de,ae){_e(de)&&(de="100%");var ne=Oe(de);return de=u(ae,i(0,parseFloat(de))),ne&&(de=parseInt(de*ae,10)/100),y.abs(de-ae)<1e-6?1:de%ae/parseFloat(ae)}function J(de){return u(1,i(0,de))}function oe(de){return parseInt(de,16)}function _e(de){return typeof de=="string"&&de.indexOf(".")!=-1&&parseFloat(de)===1}function Oe(de){return typeof de=="string"&&de.indexOf("%")!=-1}function De(de){return de.length==1?"0"+de:""+de}function Te(de){return de<=1&&(de=de*100+"%"),de}function Be(de){return y.round(parseFloat(de)*255).toString(16)}function Re(de){return oe(de)/255}var ve=function(){var de="[-\\+]?\\d+%?",ae="[-\\+]?\\d*\\.\\d+%?",ne="(?:"+ae+")|(?:"+de+")",Me="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?",pe="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?";return{CSS_UNIT:new RegExp(ne),rgb:new RegExp("rgb"+Me),rgba:new RegExp("rgba"+pe),hsl:new RegExp("hsl"+Me),hsla:new RegExp("hsla"+pe),hsv:new RegExp("hsv"+Me),hsva:new RegExp("hsva"+pe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ge(de){return!!ve.CSS_UNIT.exec(de)}function Ae(de){de=de.replace(m,"").replace(f,"").toLowerCase();var ae=!1;if(fe[de])de=fe[de],ae=!0;else if(de=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ne;return(ne=ve.rgb.exec(de))?{r:ne[1],g:ne[2],b:ne[3]}:(ne=ve.rgba.exec(de))?{r:ne[1],g:ne[2],b:ne[3],a:ne[4]}:(ne=ve.hsl.exec(de))?{h:ne[1],s:ne[2],l:ne[3]}:(ne=ve.hsla.exec(de))?{h:ne[1],s:ne[2],l:ne[3],a:ne[4]}:(ne=ve.hsv.exec(de))?{h:ne[1],s:ne[2],v:ne[3]}:(ne=ve.hsva.exec(de))?{h:ne[1],s:ne[2],v:ne[3],a:ne[4]}:(ne=ve.hex8.exec(de))?{r:oe(ne[1]),g:oe(ne[2]),b:oe(ne[3]),a:Re(ne[4]),format:ae?"name":"hex8"}:(ne=ve.hex6.exec(de))?{r:oe(ne[1]),g:oe(ne[2]),b:oe(ne[3]),format:ae?"name":"hex"}:(ne=ve.hex4.exec(de))?{r:oe(ne[1]+""+ne[1]),g:oe(ne[2]+""+ne[2]),b:oe(ne[3]+""+ne[3]),a:Re(ne[4]+""+ne[4]),format:ae?"name":"hex8"}:(ne=ve.hex3.exec(de))?{r:oe(ne[1]+""+ne[1]),g:oe(ne[2]+""+ne[2]),b:oe(ne[3]+""+ne[3]),format:ae?"name":"hex"}:!1}function Ie(de){var ae,ne;return de=de||{level:"AA",size:"small"},ae=(de.level||"AA").toUpperCase(),ne=(de.size||"small").toLowerCase(),ae!=="AA"&&ae!=="AAA"&&(ae="AA"),ne!=="small"&&ne!=="large"&&(ne="small"),{level:ae,size:ne}}typeof Z<"u"&&Z.exports?Z.exports=t:Ye.tinycolor=t})(Math)},{}],179:[function(n,Z,S){S=Z.exports=y;function y(m){return m.replace(/^\s*|\s*$/g,"")}S.left=function(m){return m.replace(/^\s*/,"")},S.right=function(m){return m.replace(/\s*$/,"")}},{}],180:[function(n,Z,S){var y=n("punycode"),m=n("./util");S.parse=w,S.resolve=E,S.resolveObject=M,S.format=j,S.Url=f;function f(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var g=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["<",">",'"',"`"," ","\r",`
`,"	"],r=["{","}","|","\\","^","`"].concat(i),t=["'"].concat(r),a=["%","/","?",";","#"].concat(t),l=["/","?","#"],o=255,c=/^[+a-z0-9A-Z_-]{0,63}$/,s=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=n("querystring");function w(C,P,O){if(C&&m.isObject(C)&&C instanceof f)return C;var D=new f;return D.parse(C,P,O),D}f.prototype.parse=function(C,P,O){if(!m.isString(C))throw new TypeError("Parameter 'url' must be a string, not "+typeof C);var D=C.indexOf("?"),N=D!==-1&&D<C.indexOf("#")?"?":"#",R=C.split(N),I=/\\/g;R[0]=R[0].replace(I,"/"),C=R.join(N);var H=C;if(H=H.trim(),!O&&C.split("#").length===1){var ee=u.exec(H);if(ee)return this.path=H,this.href=H,this.pathname=ee[1],ee[2]?(this.search=ee[2],P?this.query=x.parse(this.search.substr(1)):this.query=this.search.substr(1)):P&&(this.search="",this.query={}),this}var fe=g.exec(H);if(fe){fe=fe[0];var xe=fe.toLowerCase();this.protocol=xe,H=H.substr(fe.length)}if(O||fe||H.match(/^\/\/[^@\/]+@[^@\/]+/)){var q=H.substr(0,2)==="//";q&&!(fe&&v[fe])&&(H=H.substr(2),this.slashes=!0)}if(!v[fe]&&(q||fe&&!b[fe])){for(var V=-1,K=0;K<l.length;K++){var J=H.indexOf(l[K]);J!==-1&&(V===-1||J<V)&&(V=J)}var oe,_e;V===-1?_e=H.lastIndexOf("@"):_e=H.lastIndexOf("@",V),_e!==-1&&(oe=H.slice(0,_e),H=H.slice(_e+1),this.auth=decodeURIComponent(oe)),V=-1;for(var K=0;K<a.length;K++){var J=H.indexOf(a[K]);J!==-1&&(V===-1||J<V)&&(V=J)}V===-1&&(V=H.length),this.host=H.slice(0,V),H=H.slice(V),this.parseHost(),this.hostname=this.hostname||"";var Oe=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Oe)for(var De=this.hostname.split(/\./),K=0,Te=De.length;K<Te;K++){var Be=De[K];if(Be&&!Be.match(c)){for(var Re="",ve=0,ge=Be.length;ve<ge;ve++)Be.charCodeAt(ve)>127?Re+="x":Re+=Be[ve];if(!Re.match(c)){var Ae=De.slice(0,K),Ie=De.slice(K+1),de=Be.match(s);de&&(Ae.push(de[1]),Ie.unshift(de[2])),Ie.length&&(H="/"+Ie.join(".")+H),this.hostname=Ae.join(".");break}}}this.hostname.length>o?this.hostname="":this.hostname=this.hostname.toLowerCase(),Oe||(this.hostname=y.toASCII(this.hostname));var ae=this.port?":"+this.port:"",ne=this.hostname||"";this.host=ne+ae,this.href+=this.host,Oe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),H[0]!=="/"&&(H="/"+H))}if(!p[xe])for(var K=0,Te=t.length;K<Te;K++){var Me=t[K];if(H.indexOf(Me)!==-1){var pe=encodeURIComponent(Me);pe===Me&&(pe=escape(Me)),H=H.split(Me).join(pe)}}var le=H.indexOf("#");le!==-1&&(this.hash=H.substr(le),H=H.slice(0,le));var re=H.indexOf("?");if(re!==-1?(this.search=H.substr(re),this.query=H.substr(re+1),P&&(this.query=x.parse(this.query)),H=H.slice(0,re)):P&&(this.search="",this.query={}),H&&(this.pathname=H),b[xe]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ae=this.pathname||"",Le=this.search||"";this.path=ae+Le}return this.href=this.format(),this};function j(C){return m.isString(C)&&(C=w(C)),C instanceof f?C.format():f.prototype.format.call(C)}f.prototype.format=function(){var C=this.auth||"";C&&(C=encodeURIComponent(C),C=C.replace(/%3A/i,":"),C+="@");var P=this.protocol||"",O=this.pathname||"",D=this.hash||"",N=!1,R="";this.host?N=C+this.host:this.hostname&&(N=C+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(N+=":"+this.port)),this.query&&m.isObject(this.query)&&Object.keys(this.query).length&&(R=x.stringify(this.query));var I=this.search||R&&"?"+R||"";return P&&P.substr(-1)!==":"&&(P+=":"),this.slashes||(!P||b[P])&&N!==!1?(N="//"+(N||""),O&&O.charAt(0)!=="/"&&(O="/"+O)):N||(N=""),D&&D.charAt(0)!=="#"&&(D="#"+D),I&&I.charAt(0)!=="?"&&(I="?"+I),O=O.replace(/[?#]/g,function(H){return encodeURIComponent(H)}),I=I.replace("#","%23"),P+N+O+I+D};function E(C,P){return w(C,!1,!0).resolve(P)}f.prototype.resolve=function(C){return this.resolveObject(w(C,!1,!0)).format()};function M(C,P){return C?w(C,!1,!0).resolveObject(P):P}f.prototype.resolveObject=function(C){if(m.isString(C)){var P=new f;P.parse(C,!1,!0),C=P}for(var O=new f,D=Object.keys(this),N=0;N<D.length;N++){var R=D[N];O[R]=this[R]}if(O.hash=C.hash,C.href==="")return O.href=O.format(),O;if(C.slashes&&!C.protocol){for(var I=Object.keys(C),H=0;H<I.length;H++){var ee=I[H];ee!=="protocol"&&(O[ee]=C[ee])}return b[O.protocol]&&O.hostname&&!O.pathname&&(O.path=O.pathname="/"),O.href=O.format(),O}if(C.protocol&&C.protocol!==O.protocol){if(!b[C.protocol]){for(var fe=Object.keys(C),xe=0;xe<fe.length;xe++){var q=fe[xe];O[q]=C[q]}return O.href=O.format(),O}if(O.protocol=C.protocol,!C.host&&!v[C.protocol]){for(var Te=(C.pathname||"").split("/");Te.length&&!(C.host=Te.shift()););C.host||(C.host=""),C.hostname||(C.hostname=""),Te[0]!==""&&Te.unshift(""),Te.length<2&&Te.unshift(""),O.pathname=Te.join("/")}else O.pathname=C.pathname;if(O.search=C.search,O.query=C.query,O.host=C.host||"",O.auth=C.auth,O.hostname=C.hostname||C.host,O.port=C.port,O.pathname||O.search){var V=O.pathname||"",K=O.search||"";O.path=V+K}return O.slashes=O.slashes||C.slashes,O.href=O.format(),O}var J=O.pathname&&O.pathname.charAt(0)==="/",oe=C.host||C.pathname&&C.pathname.charAt(0)==="/",_e=oe||J||O.host&&C.pathname,Oe=_e,De=O.pathname&&O.pathname.split("/")||[],Te=C.pathname&&C.pathname.split("/")||[],Be=O.protocol&&!b[O.protocol];if(Be&&(O.hostname="",O.port=null,O.host&&(De[0]===""?De[0]=O.host:De.unshift(O.host)),O.host="",C.protocol&&(C.hostname=null,C.port=null,C.host&&(Te[0]===""?Te[0]=C.host:Te.unshift(C.host)),C.host=null),_e=_e&&(Te[0]===""||De[0]==="")),oe)O.host=C.host||C.host===""?C.host:O.host,O.hostname=C.hostname||C.hostname===""?C.hostname:O.hostname,O.search=C.search,O.query=C.query,De=Te;else if(Te.length)De||(De=[]),De.pop(),De=De.concat(Te),O.search=C.search,O.query=C.query;else if(!m.isNullOrUndefined(C.search)){if(Be){O.hostname=O.host=De.shift();var Re=O.host&&O.host.indexOf("@")>0?O.host.split("@"):!1;Re&&(O.auth=Re.shift(),O.host=O.hostname=Re.shift())}return O.search=C.search,O.query=C.query,(!m.isNull(O.pathname)||!m.isNull(O.search))&&(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:"")),O.href=O.format(),O}if(!De.length)return O.pathname=null,O.search?O.path="/"+O.search:O.path=null,O.href=O.format(),O;for(var ve=De.slice(-1)[0],ge=(O.host||C.host||De.length>1)&&(ve==="."||ve==="..")||ve==="",Ae=0,Ie=De.length;Ie>=0;Ie--)ve=De[Ie],ve==="."?De.splice(Ie,1):ve===".."?(De.splice(Ie,1),Ae++):Ae&&(De.splice(Ie,1),Ae--);if(!_e&&!Oe)for(;Ae--;Ae)De.unshift("..");_e&&De[0]!==""&&(!De[0]||De[0].charAt(0)!=="/")&&De.unshift(""),ge&&De.join("/").substr(-1)!=="/"&&De.push("");var de=De[0]===""||De[0]&&De[0].charAt(0)==="/";if(Be){O.hostname=O.host=de?"":De.length?De.shift():"";var Re=O.host&&O.host.indexOf("@")>0?O.host.split("@"):!1;Re&&(O.auth=Re.shift(),O.host=O.hostname=Re.shift())}return _e=_e||O.host&&De.length,_e&&!de&&De.unshift(""),De.length?O.pathname=De.join("/"):(O.pathname=null,O.path=null),(!m.isNull(O.pathname)||!m.isNull(O.search))&&(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:"")),O.auth=C.auth||O.auth,O.slashes=O.slashes||C.slashes,O.href=O.format(),O},f.prototype.parseHost=function(){var C=this.host,P=d.exec(C);P&&(P=P[0],P!==":"&&(this.port=P.substr(1)),C=C.substr(0,C.length-P.length)),C&&(this.hostname=C)}},{"./util":181,punycode:134,querystring:137}],181:[function(n,Z,S){Z.exports={isString:function(y){return typeof y=="string"},isObject:function(y){return typeof y=="object"&&y!==null},isNull:function(y){return y===null},isNullOrUndefined:function(y){return y==null}}},{}],182:[function(n,Z,S){(function(y){(function(){var m={};typeof Z=="object"?Z.exports=m:self.UTIF=m;var f;typeof n=="function"?f=n("pako"):f=self.pako;function g(){typeof y>"u"&&console.log.apply(console,arguments)}(function(d,u){(function(){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},r=function(){function a(l){this.message="JPEG error: "+l}return a.prototype=Error(),a.prototype.name="JpegError",a.constructor=a}(),t=function(){function a(l,o){this.message=l,this.g=o}return a.prototype=Error(),a.prototype.name="DNLMarkerError",a.constructor=a}();(function(){function a(){this.M=null,this.B=-1}function l(v,b){for(var x=0,w=[],j,E,M=16;0<M&&!v[M-1];)M--;w.push({children:[],index:0});var C=w[0],P;for(j=0;j<M;j++){for(E=0;E<v[j];E++){for(C=w.pop(),C.children[C.index]=b[x];0<C.index;)C=w.pop();for(C.index++,w.push(C);w.length<=j;)w.push(P={children:[],index:0}),C.children[C.index]=P.children,C=P;x++}j+1<M&&(w.push(P={children:[],index:0}),C.children[C.index]=P.children,C=P)}return w[0].children}function o(v,b,x,w,j,E,M,C,P){function O(){if(0<oe)return oe--,J>>oe&1;if(J=v[b++],J===255){var le=v[b++];if(le){if(le===220&&q){b+=2;var re=v[b++]<<8|v[b++];if(0<re&&re!==x.g)throw new t("Found DNL marker (0xFFDC) while parsing scan data",re)}throw new r("unexpected marker "+(J<<8|le).toString(16))}}return oe=7,J>>>7}function D(le){for(;;){if(le=le[O()],typeof le=="number")return le;if((typeof le>"u"?"undefined":i(le))!=="object")throw new r("invalid huffman sequence")}}function N(le){for(var re=0;0<le;)re=re<<1|O(),le--;return re}function R(le){if(le===1)return O()===1?1:-1;var re=N(le);return re>=1<<le-1?re:re+(-1<<le)+1}function I(le,re){var Le=D(le.D);for(Le=Le===0?0:R(Le),le.a[re]=le.m+=Le,Le=1;64>Le;){var h=D(le.o),_=h&15;if(h>>=4,_===0){if(15>h)break;Le+=16}else Le+=h,le.a[re+p[Le]]=R(_),Le++}}function H(le,re){var Le=D(le.D);Le=Le===0?0:R(Le)<<P,le.a[re]=le.m+=Le}function ee(le,re){le.a[re]|=O()<<P}function fe(le,re){if(0<_e)_e--;else for(var Le=E;Le<=M;){var h=D(le.o),_=h&15;if(h>>=4,_===0){if(15>h){_e=N(h)+(1<<h)-1;break}Le+=16}else Le+=h,le.a[re+p[Le]]=R(_)*(1<<P),Le++}}function xe(le,re){for(var Le=E,h=0,_;Le<=M;){_=re+p[Le];var T=0>le.a[_]?-1:1;switch(Oe){case 0:if(h=D(le.o),_=h&15,h>>=4,_===0)15>h?(_e=N(h)+(1<<h),Oe=4):(h=16,Oe=1);else{if(_!==1)throw new r("invalid ACn encoding");De=R(_),Oe=h?2:3}continue;case 1:case 2:le.a[_]?le.a[_]+=T*(O()<<P):(h--,h===0&&(Oe=Oe===2?3:0));break;case 3:le.a[_]?le.a[_]+=T*(O()<<P):(le.a[_]=De<<P,Oe=0);break;case 4:le.a[_]&&(le.a[_]+=T*(O()<<P))}Le++}Oe===4&&(_e--,_e===0&&(Oe=0))}for(var q=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,V=x.P,K=b,J=0,oe=0,_e=0,Oe=0,De,Te=w.length,Be,Re,ve,ge,Ae=x.S?E===0?C===0?H:ee:C===0?fe:xe:I,Ie=0,de=Te===1?w[0].c*w[0].l:V*x.O,ae,ne;Ie<de;){var Me=j?Math.min(de-Ie,j):de;for(Be=0;Be<Te;Be++)w[Be].m=0;if(_e=0,Te===1){var pe=w[0];for(ge=0;ge<Me;ge++)Ae(pe,64*((pe.c+1)*(Ie/pe.c|0)+Ie%pe.c)),Ie++}else for(ge=0;ge<Me;ge++){for(Be=0;Be<Te;Be++)for(pe=w[Be],ae=pe.h,ne=pe.j,Re=0;Re<ne;Re++)for(ve=0;ve<ae;ve++)Ae(pe,64*((pe.c+1)*((Ie/V|0)*pe.j+Re)+(Ie%V*pe.h+ve)));Ie++}if(oe=0,(pe=s(v,b))&&pe.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+pe.f),b=pe.offset),pe=pe&&pe.F,!pe||65280>=pe)throw new r("marker was not found");if(65488<=pe&&65495>=pe)b+=2;else break}return(pe=s(v,b))&&pe.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+pe.f),b=pe.offset),b-K}function c(v,b){for(var x=b.c,w=b.l,j=new Int16Array(64),E=0;E<w;E++)for(var M=0;M<x;M++){var C=64*((b.c+1)*E+M),P=j,O=b.G,D=b.a;if(!O)throw new r("missing required Quantization Table.");for(var N=0;64>N;N+=8){var R=D[C+N],I=D[C+N+1],H=D[C+N+2],ee=D[C+N+3],fe=D[C+N+4],xe=D[C+N+5],q=D[C+N+6],V=D[C+N+7];if(R*=O[N],!(I|H|ee|fe|xe|q|V))R=5793*R+512>>10,P[N]=R,P[N+1]=R,P[N+2]=R,P[N+3]=R,P[N+4]=R,P[N+5]=R,P[N+6]=R,P[N+7]=R;else{I*=O[N+1],H*=O[N+2],ee*=O[N+3],fe*=O[N+4],xe*=O[N+5],q*=O[N+6],V*=O[N+7];var K=5793*R+128>>8,J=5793*fe+128>>8,oe=H,_e=q;fe=2896*(I-V)+128>>8,V=2896*(I+V)+128>>8,ee<<=4,xe<<=4,K=K+J+1>>1,J=K-J,R=3784*oe+1567*_e+128>>8,oe=1567*oe-3784*_e+128>>8,_e=R,fe=fe+xe+1>>1,xe=fe-xe,V=V+ee+1>>1,ee=V-ee,K=K+_e+1>>1,_e=K-_e,J=J+oe+1>>1,oe=J-oe,R=2276*fe+3406*V+2048>>12,fe=3406*fe-2276*V+2048>>12,V=R,R=799*ee+4017*xe+2048>>12,ee=4017*ee-799*xe+2048>>12,xe=R,P[N]=K+V,P[N+7]=K-V,P[N+1]=J+xe,P[N+6]=J-xe,P[N+2]=oe+ee,P[N+5]=oe-ee,P[N+3]=_e+fe,P[N+4]=_e-fe}}for(O=0;8>O;++O)R=P[O],I=P[O+8],H=P[O+16],ee=P[O+24],fe=P[O+32],xe=P[O+40],q=P[O+48],V=P[O+56],I|H|ee|fe|xe|q|V?(K=5793*R+2048>>12,J=5793*fe+2048>>12,oe=H,_e=q,fe=2896*(I-V)+2048>>12,V=2896*(I+V)+2048>>12,K=(K+J+1>>1)+4112,J=K-J,R=3784*oe+1567*_e+2048>>12,oe=1567*oe-3784*_e+2048>>12,_e=R,fe=fe+xe+1>>1,xe=fe-xe,V=V+ee+1>>1,ee=V-ee,K=K+_e+1>>1,_e=K-_e,J=J+oe+1>>1,oe=J-oe,R=2276*fe+3406*V+2048>>12,fe=3406*fe-2276*V+2048>>12,V=R,R=799*ee+4017*xe+2048>>12,ee=4017*ee-799*xe+2048>>12,xe=R,R=K+V,V=K-V,I=J+xe,q=J-xe,H=oe+ee,xe=oe-ee,ee=_e+fe,fe=_e-fe,R=16>R?0:4080<=R?255:R>>4,I=16>I?0:4080<=I?255:I>>4,H=16>H?0:4080<=H?255:H>>4,ee=16>ee?0:4080<=ee?255:ee>>4,fe=16>fe?0:4080<=fe?255:fe>>4,xe=16>xe?0:4080<=xe?255:xe>>4,q=16>q?0:4080<=q?255:q>>4,V=16>V?0:4080<=V?255:V>>4,D[C+O]=R,D[C+O+8]=I,D[C+O+16]=H,D[C+O+24]=ee,D[C+O+32]=fe,D[C+O+40]=xe,D[C+O+48]=q,D[C+O+56]=V):(R=5793*R+8192>>14,R=-2040>R?0:2024<=R?255:R+2056>>4,D[C+O]=R,D[C+O+8]=R,D[C+O+16]=R,D[C+O+24]=R,D[C+O+32]=R,D[C+O+40]=R,D[C+O+48]=R,D[C+O+56]=R)}return b.a}function s(v,b){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:b,w=v.length-1;if(x=x<b?x:b,b>=w)return null;var j=v[b]<<8|v[b+1];if(65472<=j&&65534>=j)return{f:null,F:j,offset:b};for(var E=v[x]<<8|v[x+1];!(65472<=E&&65534>=E);){if(++x>=w)return null;E=v[x]<<8|v[x+1]}return{f:j.toString(16),F:E,offset:x}}var p=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);a.prototype={parse:function(v){function b(){var oe=v[M]<<8|v[M+1];return M+=2,oe}function x(){var oe=b();oe=M+oe-2;var _e=s(v,oe,M);return _e&&_e.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+_e.f),oe=_e.offset),oe=v.subarray(M,oe),M+=oe.length,oe}function w(oe){for(var _e=Math.ceil(oe.v/8/oe.s),Oe=Math.ceil(oe.g/8/oe.u),De=0;De<oe.b.length;De++){K=oe.b[De];var Te=Math.ceil(Math.ceil(oe.v/8)*K.h/oe.s),Be=Math.ceil(Math.ceil(oe.g/8)*K.j/oe.u);K.a=new Int16Array(64*Oe*K.j*(_e*K.h+1)),K.c=Te,K.l=Be}oe.P=_e,oe.O=Oe}var j=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,E=j===void 0?null:j,M=0,C=null,P=0;j=[];var O=[],D=[],N=b();if(N!==65496)throw new r("SOI not found");for(N=b();N!==65497;){switch(N){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var R=x();N===65518&&R[0]===65&&R[1]===100&&R[2]===111&&R[3]===98&&R[4]===101&&(C={version:R[5]<<8|R[6],Y:R[7]<<8|R[8],Z:R[9]<<8|R[10],W:R[11]});break;case 65499:N=b()+M-2;for(var I;M<N;){var H=v[M++],ee=new Uint16Array(64);if(H>>4)if(H>>4===1)for(R=0;64>R;R++)I=p[R],ee[I]=b();else throw new r("DQT - invalid table spec");else for(R=0;64>R;R++)I=p[R],ee[I]=v[M++];j[H&15]=ee}break;case 65472:case 65473:case 65474:if(fe)throw new r("Only single frame JPEGs supported");b();var fe={};for(fe.X=N===65473,fe.S=N===65474,fe.precision=v[M++],N=b(),fe.g=E||N,fe.v=b(),fe.b=[],fe.C={},R=v[M++],N=ee=H=0;N<R;N++){I=v[M];var xe=v[M+1]>>4,q=v[M+1]&15;H<xe&&(H=xe),ee<q&&(ee=q),xe=fe.b.push({h:xe,j:q,T:v[M+2],G:null}),fe.C[I]=xe-1,M+=3}fe.s=H,fe.u=ee,w(fe);break;case 65476:for(I=b(),N=2;N<I;){for(H=v[M++],ee=new Uint8Array(16),R=xe=0;16>R;R++,M++)xe+=ee[R]=v[M];for(q=new Uint8Array(xe),R=0;R<xe;R++,M++)q[R]=v[M];N+=17+xe,(H>>4?O:D)[H&15]=l(ee,q)}break;case 65501:b();var V=b();break;case 65498:for(R=++P===1&&!E,b(),H=v[M++],I=[],N=0;N<H;N++){ee=fe.C[v[M++]];var K=fe.b[ee];ee=v[M++],K.D=D[ee>>4],K.o=O[ee&15],I.push(K)}N=v[M++],H=v[M++],ee=v[M++];try{var J=o(v,M,fe,I,V,N,H,ee>>4,ee&15,R);M+=J}catch(oe){if(oe instanceof t)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(v,{N:oe.g});throw oe}break;case 65500:M+=4;break;case 65535:v[M]!==255&&M--;break;default:if(v[M-3]===255&&192<=v[M-2]&&254>=v[M-2])M-=3;else if((R=s(v,M-2))&&R.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+R.f),M=R.offset;else throw new r("unknown marker "+N.toString(16))}N=b()}for(this.width=fe.v,this.height=fe.g,this.A=C,this.b=[],N=0;N<fe.b.length;N++)K=fe.b[N],(V=j[K.T])&&(K.G=V),this.b.push({R:c(fe,K),U:K.h/fe.s,V:K.j/fe.u,c:K.c,l:K.l});this.i=this.b.length},L:function(v,b){var x=this.width/v,w=this.height/b,j,E,M=this.b.length,C=v*b*M,P=new Uint8ClampedArray(C),O=new Uint32Array(v);for(E=0;E<M;E++){var D=this.b[E],N=D.U*x,R=D.V*w,I=E,H=D.R,ee=D.c+1<<3;for(j=0;j<v;j++)D=0|j*N,O[j]=(D&4294967288)<<3|D&7;for(N=0;N<b;N++)for(D=0|N*R,D=ee*(D&4294967288)|(D&7)<<3,j=0;j<v;j++)P[I]=H[D+O[j]],I+=M}if(w=this.M)for(E=0;E<C;)for(x=D=0;D<M;D++,E++,x+=2)P[E]=(P[E]*w[x]>>8)+w[x+1];return P},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(v){for(var b,x,w,j=0,E=v.length;j<E;j+=3)b=v[j],x=v[j+1],w=v[j+2],v[j]=b-179.456+1.402*w,v[j+1]=b+135.459-.344*x-.714*w,v[j+2]=b-226.816+1.772*x;return v},K:function(v){for(var b,x,w,j,E=0,M=0,C=v.length;M<C;M+=4)b=v[M],x=v[M+1],w=v[M+2],j=v[M+3],v[E++]=-122.67195406894+x*(-660635669420364e-19*x+.000437130475926232*w-54080610064599e-18*b+.00048449797120281*j-.154362151871126)+w*(-.000957964378445773*w+.000817076911346625*b-.00477271405408747*j+1.53380253221734)+b*(.000961250184130688*b-.00266257332283933*j+.48357088451265)+j*(-.000336197177618394*j+.484791561490776),v[E++]=107.268039397724+x*(219927104525741e-19*x-.000640992018297945*w+.000659397001245577*b+.000426105652938837*j-.176491792462875)+w*(-.000778269941513683*w+.00130872261408275*b+.000770482631801132*j-.151051492775562)+b*(.00126935368114843*b-.00265090189010898*j+.25802910206845)+j*(-.000318913117588328*j-.213742400323665),v[E++]=-20.810012546947+x*(-.000570115196973677*x-263409051004589e-19*w+.0020741088115012*b-.00288260236853442*j+.814272968359295)+w*(-153496057440975e-19*w-.000132689043961446*b+.000560833691242812*j-.195152027534049)+b*(.00174418132927582*b-.00255243321439347*j+.116935020465145)+j*(-.000343531996510555*j+.24165260232407);return v.subarray(0,E)},J:function(v){for(var b,x,w,j=0,E=v.length;j<E;j+=4)b=v[j],x=v[j+1],w=v[j+2],v[j]=434.456-b-1.402*w,v[j+1]=119.541-b+.344*x+.714*w,v[j+2]=481.816-b-1.772*x;return v},H:function(v){for(var b,x,w,j,E=0,M=1/255,C=0,P=v.length;C<P;C+=4)b=v[C]*M,x=v[C+1]*M,w=v[C+2]*M,j=v[C+3]*M,v[E++]=255+b*(-4.387332384609988*b+54.48615194189176*x+18.82290502165302*w+212.25662451639585*j-285.2331026137004)+x*(1.7149763477362134*x-5.6096736904047315*w-17.873870861415444*j-5.497006427196366)+w*(-2.5217340131683033*w-21.248923337353073*j+17.5119270841813)-j*(21.86122147463605*j+189.48180835922747),v[E++]=255+b*(8.841041422036149*b+60.118027045597366*x+6.871425592049007*w+31.159100130055922*j-79.2970844816548)+x*(-15.310361306967817*x+17.575251261109482*w+131.35250912493976*j-190.9453302588951)+w*(4.444339102852739*w+9.8632861493405*j-24.86741582555878)-j*(20.737325471181034*j+187.80453709719578),v[E++]=255+b*(.8842522430003296*b+8.078677503112928*x+30.89978309703729*w-.23883238689178934*j-14.183576799673286)+x*(10.49593273432072*x+63.02378494754052*w+50.606957656360734*j-112.23884253719248)+w*(.03296041114873217*w+115.60384449646641*j-193.58209356861505)-j*(22.33816807309886*j+180.12613974708367);return v.subarray(0,E)},getData:function(v,b,x){if(4<this.i)throw new r("Unsupported color mode");if(v=this.L(v,b),this.i===1&&x){x=v.length,b=new Uint8ClampedArray(3*x);for(var w=0,j=0;j<x;j++){var E=v[j];b[w++]=E,b[w++]=E,b[w++]=E}return b}if(this.i===3&&this.w())return this.I(v);if(this.i===4){if(this.w())return x?this.K(v):this.J(v);if(x)return this.H(v)}return v}},d.JpegDecoder=a})()})(),d.encodeImage=function(i,r,t,a){var l={t256:[r],t257:[t],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[t],t279:[r*t*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(a)for(var o in a)l[o]=a[o];for(var c=new Uint8Array(d.encode([l])),s=new Uint8Array(i),p=new Uint8Array(1e3+r*t*4),o=0;o<c.length;o++)p[o]=c[o];for(var o=0;o<s.length;o++)p[1e3+o]=s[o];return p.buffer},d.encode=function(i){var r=new Uint8Array(2e4),t=4,a=d._binBE;r[0]=77,r[1]=77,r[3]=42;var l=8;a.writeUint(r,t,l),t+=4;for(var o=0;o<i.length;o++){var c=d._writeIFD(a,r,l,i[o]);l=c[1],o<i.length-1&&a.writeUint(r,c[0],l)}return r.slice(0,l).buffer},d.decode=function(i){d.decode._decodeG3.allow2D=null;var r=new Uint8Array(i),t=0,a=d._binBE.readASCII(r,t,2);t+=2;var l=a=="II"?d._binLE:d._binBE;l.readUshort(r,t),t+=2;var o=l.readUint(r,t);t+=4;for(var c=[];;){var s=d._readIFD(l,r,o,c);if(o=l.readUint(r,s),o==0)break}return c},d.decodeImages=function(i,r){for(var t=new Uint8Array(i),a=d._binBE.readASCII(t,0,2),l=0;l<r.length;l++){var o=r[l];if(o.t256!=null){o.isLE=a=="II",o.width=o.t256[0],o.height=o.t257[0];var c=o.t259?o.t259[0]:1,s=o.t266?o.t266[0]:1;o.t284&&o.t284[0]==2&&g("PlanarConfiguration 2 should not be used!");var p=(o.t258?Math.min(32,o.t258[0]):1)*(o.t277?o.t277[0]:1),v=Math.ceil(o.width*p/8)*8,b=o.t273;b==null&&(b=o.t324);var x=o.t279;c==1&&b.length==1&&(x=[o.height*(v>>>3)]),x==null&&(x=o.t325);var w=new Uint8Array(o.height*(v>>>3)),j=0;if(o.t322!=null){for(var E=o.t322[0],M=o.t323[0],C=Math.floor((o.width+E-1)/E),P=Math.floor((o.height+M-1)/M),O=new Uint8Array(Math.ceil(E*M*p/8)|0),D=0;D<P;D++)for(var N=0;N<C;N++){for(var R=D*C+N,I=0;I<O.length;I++)O[I]=0;d.decode._decompress(o,t,b[R],x[R],c,O,0,s),c==6?w=O:d._copyTile(O,Math.ceil(E*p/8)|0,M,w,Math.ceil(o.width*p/8)|0,o.height,Math.ceil(N*E*p/8)|0,D*M)}j=w.length*8}else{var H=o.t278?o.t278[0]:o.height;H=Math.min(H,o.height);for(var R=0;R<b.length;R++)d.decode._decompress(o,t,b[R],x[R],c,w,Math.ceil(j/8)|0,s),j+=v*H;j=Math.min(j,w.length*8)}o.data=new Uint8Array(w.buffer,0,Math.ceil(j/8)|0)}}},d.decode._decompress=function(i,r,t,a,l,o,c,s){if(l==1)for(var p=0;p<a;p++)o[c+p]=r[t+p];else if(l==3)d.decode._decodeG3(r,t,a,o,c,i.width,s);else if(l==4)d.decode._decodeG4(r,t,a,o,c,i.width,s);else if(l==5)d.decode._decodeLZW(r,t,o,c);else if(l==6)d.decode._decodeOldJPEG(i,r,t,a,o,c);else if(l==7)d.decode._decodeNewJPEG(i,r,t,a,o,c);else if(l==8)for(var v=new Uint8Array(r.buffer,t,a),b=u.inflate(v),x=0;x<b.length;x++)o[c+x]=b[x];else l==32773?d.decode._decodePackBits(r,t,a,o,c):l==32809?d.decode._decodeThunder(r,t,a,o,c):g("Unknown compression",l);if(i.t317&&i.t317[0]==2)for(var w=i.t277?i.t277[0]:1,j=i.t278?i.t278[0]:i.height,E=i.width*w,M=0;M<j;M++){var C=c+M*E;if(w==3)for(var p=3;p<E;p+=3)o[C+p]=o[C+p]+o[C+p-3]&255,o[C+p+1]=o[C+p+1]+o[C+p-2]&255,o[C+p+2]=o[C+p+2]+o[C+p-1]&255;else for(var p=w;p<E;p++)o[C+p]=o[C+p]+o[C+p-w]&255}},d.decode._decodeNikon=function(i,r,s,a,l){var o,c,s;g(i.slice(r,r+100)),o=i[r],r++,c=i[r],r++,g(o.toString(16),c.toString(16),s)},d.decode._decodeNewJPEG=function(i,r,t,a,l,o){var c=i.t347,s=c?c.length:0,p=new Uint8Array(s+a);if(c){for(var v=216,b=217,x=0,w=0;w<s-1&&!(c[w]==255&&c[w+1]==b);w++)p[x++]=c[w];var j=r[t],E=r[t+1];(j!=255||E!=v)&&(p[x++]=j,p[x++]=E);for(var w=2;w<a;w++)p[x++]=r[t+w]}else for(var w=0;w<a;w++)p[w]=r[t+w];if(i.t262==32803){var M=i.t258[0],C=new LosslessJpegDecoder,P=C.decode(p),O=P.length;if(M==16)for(var w=0;w<O;w++)l[o++]=P[w]&255,l[o++]=P[w]>>>8;else if(M==12)for(var w=0;w<O;w+=2)l[o++]=P[w]>>>4,l[o++]=(P[w]<<4|P[w+1]>>>8)&255,l[o++]=P[w+1]&255;else throw new Error("unsupported bit depth "+M)}else{var D=new d.JpegDecoder;D.parse(p);for(var N=D.getData(D.width,D.height),w=0;w<N.length;w++)l[o+w]=N[w]}i.t262[0]==6&&(i.t262[0]=2)},d.decode._decodeOldJPEGInit=function(i,r,t,a){var l=216,o=219,c=196,s=221,p=192,v=218,b=0,x=0,w,j,E=!1,M,C,P,O=i.t513,D=O?O[0]:0,N=i.t514,R=N?N[0]:0,I=i.t324||i.t273||O,H=i.t530,ee=0,fe=0,xe=i.t277?i.t277[0]:1,q=i.t515;if(I&&(x=I[0],E=I.length>1),!E){if(r[t]==255&&r[t+1]==l)return{jpegOffset:t};if(O!=null&&(r[t+D]==255&&r[t+D+1]==l?b=t+D:g("JPEGInterchangeFormat does not point to SOI"),N==null?g("JPEGInterchangeFormatLength field is missing"):(D>=x||D+R<=x)&&g("JPEGInterchangeFormatLength field value is invalid"),b!=null))return{jpegOffset:b}}if(H!=null&&(ee=H[0],fe=H[1]),O!=null&&N!=null)if(R>=2&&D+R<=x){for(r[t+D+R-2]==255&&r[t+D+R-1]==l?w=new Uint8Array(R-2):w=new Uint8Array(R),M=0;M<w.length;M++)w[M]=r[t+D+M];g("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else g("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(w==null){var V=0,K=[];K[V++]=255,K[V++]=l;var J=i.t519;if(J==null)throw new Error("JPEGQTables tag is missing");for(M=0;M<J.length;M++)for(K[V++]=255,K[V++]=o,K[V++]=0,K[V++]=67,K[V++]=M,C=0;C<64;C++)K[V++]=r[t+J[M]+C];for(P=0;P<2;P++){var oe=i[P==0?"t520":"t521"];if(oe==null)throw new Error((P==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(M=0;M<oe.length;M++){K[V++]=255,K[V++]=c;var _e=19;for(C=0;C<16;C++)_e+=r[t+oe[M]+C];for(K[V++]=_e>>>8,K[V++]=_e&255,K[V++]=M|P<<4,C=0;C<16;C++)K[V++]=r[t+oe[M]+C];for(C=0;C<_e;C++)K[V++]=r[t+oe[M]+16+C]}}if(K[V++]=255,K[V++]=p,K[V++]=0,K[V++]=8+3*xe,K[V++]=8,K[V++]=i.height>>>8&255,K[V++]=i.height&255,K[V++]=i.width>>>8&255,K[V++]=i.width&255,K[V++]=xe,xe==1)K[V++]=1,K[V++]=17,K[V++]=0;else for(M=0;M<3;M++)K[V++]=M+1,K[V++]=M!=0?17:(ee&15)<<4|fe&15,K[V++]=M;q!=null&&q[0]!=0&&(K[V++]=255,K[V++]=s,K[V++]=0,K[V++]=4,K[V++]=q[0]>>>8&255,K[V++]=q[0]&255),w=new Uint8Array(K)}var Oe=-1;for(M=0;M<w.length-1;){if(w[M]==255&&w[M+1]==p){Oe=M;break}M++}if(Oe==-1){var De=new Uint8Array(w.length+10+3*xe);De.set(w);var Te=w.length;if(Oe=w.length,w=De,w[Te++]=255,w[Te++]=p,w[Te++]=0,w[Te++]=8+3*xe,w[Te++]=8,w[Te++]=i.height>>>8&255,w[Te++]=i.height&255,w[Te++]=i.width>>>8&255,w[Te++]=i.width&255,w[Te++]=xe,xe==1)w[Te++]=1,w[Te++]=17,w[Te++]=0;else for(M=0;M<3;M++)w[Te++]=M+1,w[Te++]=M!=0?17:(ee&15)<<4|fe&15,w[Te++]=M}if(r[x]==255&&r[x+1]==v){var Be=r[x+2]<<8|r[x+3];for(j=new Uint8Array(Be+2),j[0]=r[x],j[1]=r[x+1],j[2]=r[x+2],j[3]=r[x+3],M=0;M<Be-2;M++)j[M+4]=r[x+M+4]}else{j=new Uint8Array(2+6+2*xe);var Re=0;if(j[Re++]=255,j[Re++]=v,j[Re++]=0,j[Re++]=6+2*xe,j[Re++]=xe,xe==1)j[Re++]=1,j[Re++]=0;else for(M=0;M<3;M++)j[Re++]=M+1,j[Re++]=M<<4|M;j[Re++]=0,j[Re++]=63,j[Re++]=0}return{jpegOffset:t,tables:w,sosMarker:j,sofPosition:Oe}},d.decode._decodeOldJPEG=function(i,r,t,a,l,o){var c,s,p,v,b=d.decode._decodeOldJPEGInit(i,r,t,a);if(b.jpegOffset!=null)for(s=t+a-b.jpegOffset,v=new Uint8Array(s),c=0;c<s;c++)v[c]=r[b.jpegOffset+c];else{for(p=b.tables.length,v=new Uint8Array(p+b.sosMarker.length+a+2),v.set(b.tables),v[b.sofPosition+5]=i.height>>>8&255,v[b.sofPosition+6]=i.height&255,v[b.sofPosition+7]=i.width>>>8&255,v[b.sofPosition+8]=i.width&255,(r[t]!=255||r[t+1]!=SOS)&&(v.set(b.sosMarker,bufoff),bufoff+=sosMarker.length),c=0;c<a;c++)v[bufoff++]=r[t+c];v[bufoff++]=255,v[bufoff++]=EOI}var x=new d.JpegDecoder;x.parse(v);for(var w=x.getData(x.width,x.height),c=0;c<w.length;c++)l[o+c]=w[c];i.t262[0]==6&&(i.t262[0]=2)},d.decode._decodePackBits=function(i,r,t,a,l){for(var o=new Int8Array(i.buffer),c=new Int8Array(a.buffer),s=r+t;r<s;){var p=o[r];if(r++,p>=0&&p<128)for(var v=0;v<p+1;v++)c[l]=o[r],l++,r++;if(p>=-127&&p<0){for(var v=0;v<-p+1;v++)c[l]=o[r],l++;r++}}},d.decode._decodeThunder=function(i,r,t,a,l){for(var o=[0,1,0,-1],c=[0,1,2,3,0,-3,-2,-1],s=r+t,p=l*2,v=0;r<s;){var b=i[r],x=b>>>6,w=b&63;if(r++,x==3&&(v=w&15,a[p>>>1]|=v<<4*(1-p&1),p++),x==0)for(var j=0;j<w;j++)a[p>>>1]|=v<<4*(1-p&1),p++;if(x==2)for(var j=0;j<2;j++){var E=w>>>3*(1-j)&7;E!=4&&(v+=c[E],a[p>>>1]|=v<<4*(1-p&1),p++)}if(x==1)for(var j=0;j<3;j++){var E=w>>>2*(2-j)&3;E!=2&&(v+=o[E],a[p>>>1]|=v<<4*(1-p&1),p++)}}},d.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},d.decode._lens=function(){var i=function(p,v,b,x){for(var w=0;w<v.length;w++)p[v[w]]=b+w*x},r="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",t="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",a="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",l="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",o="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";r=r.split(","),t=t.split(","),a=a.split(","),l=l.split(","),o=o.split(",");var c={},s={};return i(c,r,0,1),i(c,a,64,64),i(c,o,1792,64),i(s,t,0,1),i(s,l,64,64),i(s,o,1792,64),[c,s]}(),d.decode._decodeG4=function(i,r,t,a,l,o,c){for(var s=d.decode,p=r<<3,v=0,b="",x=[],w=[],j=0;j<o;j++)w.push(0);w=s._makeDiff(w);for(var E=0,M=0,C=0,P=0,O=0,D=0,N="",R=0,I=Math.ceil(o/8)*8;p>>>3<r+t;){C=s._findDiff(w,E+(E==0?0:1),1-O),P=s._findDiff(w,C,O);var H=0;if(c==1&&(H=i[p>>>3]>>>7-(p&7)&1),c==2&&(H=i[p>>>3]>>>(p&7)&1),p++,b+=H,N=="H"){if(s._lens[O][b]!=null){var ee=s._lens[O][b];b="",v+=ee,ee<64&&(s._addNtimes(x,v,O),E+=v,O=1-O,v=0,R--,R==0&&(N=""))}}else b=="0001"&&(b="",s._addNtimes(x,P-E,O),E=P),b=="001"&&(b="",N="H",R=2),s._dmap[b]!=null&&(M=C+s._dmap[b],s._addNtimes(x,M-E,O),E=M,b="",O=1-O);x.length==o&&N==""&&(s._writeBits(x,a,l*8+D*I),O=0,D++,E=0,w=s._makeDiff(x),x=[])}},d.decode._findDiff=function(i,r,t){for(var a=0;a<i.length;a+=2)if(i[a]>=r&&i[a+1]==t)return i[a]},d.decode._makeDiff=function(i){var r=[];i[0]==1&&r.push(0,1);for(var t=1;t<i.length;t++)i[t-1]!=i[t]&&r.push(t,i[t]);return r.push(i.length,0,i.length,1),r},d.decode._decodeG3=function(i,r,t,a,l,o,c){for(var s=d.decode,p=r<<3,v=0,b="",x=[],w=[],j=0;j<o;j++)x.push(0);for(var E=0,M=0,C=0,P=0,O=0,D=-1,N="",R=0,I=!1,H=Math.ceil(o/8)*8;p>>>3<r+t;){C=s._findDiff(w,E+(E==0?0:1),1-O),P=s._findDiff(w,C,O);var ee=0;if(c==1&&(ee=i[p>>>3]>>>7-(p&7)&1),c==2&&(ee=i[p>>>3]>>>(p&7)&1),p++,b+=ee,I){if(s._lens[O][b]!=null){var fe=s._lens[O][b];b="",v+=fe,fe<64&&(s._addNtimes(x,v,O),O=1-O,v=0)}}else if(N=="H"){if(s._lens[O][b]!=null){var fe=s._lens[O][b];b="",v+=fe,fe<64&&(s._addNtimes(x,v,O),E+=v,O=1-O,v=0,R--,R==0&&(N=""))}}else b=="0001"&&(b="",s._addNtimes(x,P-E,O),E=P),b=="001"&&(b="",N="H",R=2),s._dmap[b]!=null&&(M=C+s._dmap[b],s._addNtimes(x,M-E,O),E=M,b="",O=1-O);b.endsWith("000000000001")&&(D>=0&&s._writeBits(x,a,l*8+D*H),c==1&&(I=(i[p>>>3]>>>7-(p&7)&1)==1),c==2&&(I=(i[p>>>3]>>>(p&7)&1)==1),p++,s._decodeG3.allow2D==null&&(s._decodeG3.allow2D=I),s._decodeG3.allow2D||(I=!0,p--),b="",O=0,D++,E=0,w=s._makeDiff(x),x=[])}x.length==o&&s._writeBits(x,a,l*8+D*H)},d.decode._addNtimes=function(i,r,t){for(var a=0;a<r;a++)i.push(t)},d.decode._writeBits=function(i,r,t){for(var a=0;a<i.length;a++)r[t+a>>>3]|=i[a]<<7-(t+a&7)},d.decode._decodeLZW=function(i,r,t,a){if(d.decode._lzwTab==null){for(var l=new Uint32Array(65535),o=new Uint16Array(65535),b=new Uint8Array(2e6),c=0;c<256;c++)b[c<<2]=c,l[c]=c<<2,o[c]=1;d.decode._lzwTab=[l,o,b]}for(var s=d.decode._copyData,p=d.decode._lzwTab[0],v=d.decode._lzwTab[1],b=d.decode._lzwTab[2],x=258,w=1032,j=9,E=r<<3,M=256,C=257,P=0,O=0,D=0;P=i[E>>>3]<<16|i[E+8>>>3]<<8|i[E+16>>>3],O=P>>24-(E&7)-j&(1<<j)-1,E+=j,O!=C;){if(O==M){if(j=9,x=258,w=1032,P=i[E>>>3]<<16|i[E+8>>>3]<<8|i[E+16>>>3],O=P>>24-(E&7)-j&(1<<j)-1,E+=j,O==C)break;t[a]=O,a++}else if(O<x){var N=p[O],R=v[O];if(s(b,N,t,a,R),a+=R,D>=x)p[x]=w,b[p[x]]=N[0],v[x]=1,w=w+1+3&-4,x++;else{p[x]=w;var I=p[D],H=v[D];s(b,I,b,w,H),b[w+H]=b[N],H++,v[x]=H,x++,w=w+H+3&-4}x+1==1<<j&&j++}else{if(D>=x)p[x]=w,v[x]=0,x++;else{p[x]=w;var I=p[D],H=v[D];s(b,I,b,w,H),b[w+H]=b[w],H++,v[x]=H,x++,s(b,w,t,a,H),a+=H,w=w+H+3&-4}x+1==1<<j&&j++}D=O}},d.decode._copyData=function(i,r,t,a,l){for(var o=0;o<l;o+=4)t[a+o]=i[r+o],t[a+o+1]=i[r+o+1],t[a+o+2]=i[r+o+2],t[a+o+3]=i[r+o+3]},d.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},d.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},d._readIFD=function(i,r,t,a){var l=i.readUshort(r,t);t+=2;var o={};a.push(o);for(var c=0;c<l;c++){var s=i.readUshort(r,t);t+=2;var p=i.readUshort(r,t);t+=2;var v=i.readUint(r,t);t+=4;var b=i.readUint(r,t);t+=4;var x=[];if(o["t"+s]=x,p==1||p==7)for(var w=0;w<v;w++)x.push(r[(v<5?t-4:b)+w]);if(p==2&&x.push(i.readASCII(r,v<5?t-4:b,v-1)),p==3)for(var w=0;w<v;w++)x.push(i.readUshort(r,(v<3?t-4:b)+2*w));if(p==4)for(var w=0;w<v;w++)x.push(i.readUint(r,(v<2?t-4:b)+4*w));if(p==5)for(var w=0;w<v;w++)x.push(i.readUint(r,b+w*8)/i.readUint(r,b+w*8+4));if(p==8)for(var w=0;w<v;w++)x.push(i.readShort(r,(v<3?t-4:b)+2*w));if(p==9)for(var w=0;w<v;w++)x.push(i.readInt(r,(v<2?t-4:b)+4*w));if(p==10)for(var w=0;w<v;w++)x.push(i.readInt(r,b+w*8)/i.readInt(r,b+w*8+4));if(p==11)for(var w=0;w<v;w++)x.push(i.readFloat(r,b+w*4));if(p==12)for(var w=0;w<v;w++)x.push(i.readDouble(r,b+w*8));if(v!=0&&x.length==0&&g("unknown TIFF tag type: ",p,"num:",v),s==330)for(var w=0;w<v;w++)d._readIFD(i,r,x[w],a)}return t},d._writeIFD=function(i,r,t,a){var l=Object.keys(a);i.writeUshort(r,t,l.length),t+=2;for(var o=t+l.length*12+4,c=0;c<l.length;c++){var s=l[c],p=parseInt(s.slice(1)),v=d.ttypes[p];if(v==null)throw new Error("unknown type of tag: "+p);var b=a[s];v==2&&(b=b[0]+"\0");var x=b.length;i.writeUshort(r,t,p),t+=2,i.writeUshort(r,t,v),t+=2,i.writeUint(r,t,x),t+=4;var w=[-1,1,1,2,4,8,0,0,0,0,0,0,8][v]*x,j=t;if(w>4&&(i.writeUint(r,t,o),j=o),v==2&&i.writeASCII(r,j,b),v==3)for(var E=0;E<x;E++)i.writeUshort(r,j+2*E,b[E]);if(v==4)for(var E=0;E<x;E++)i.writeUint(r,j+4*E,b[E]);if(v==5)for(var E=0;E<x;E++)i.writeUint(r,j+8*E,Math.round(b[E]*1e4)),i.writeUint(r,j+8*E+4,1e4);if(v==12)for(var E=0;E<x;E++)i.writeDouble(r,j+8*E,b[E]);w>4&&(w+=w&1,o+=w),t+=4}return[t,o]},d.toRGBA8=function(i){var r=i.width,t=i.height,a=r*t,l=a*4,o=i.data,c=new Uint8Array(a*4),s=i.t262[0],p=i.t258?Math.min(32,i.t258[0]):1,v=i.isLE?1:0;if(s==0)for(var b=Math.ceil(p*r/8),x=0;x<t;x++){var w=x*b,j=x*r;if(p==1)for(var E=0;E<r;E++){var M=j+E<<2,C=o[w+(E>>3)]>>7-(E&7)&1;c[M]=c[M+1]=c[M+2]=(1-C)*255,c[M+3]=255}if(p==4)for(var E=0;E<r;E++){var M=j+E<<2,C=o[w+(E>>1)]>>4-4*(E&1)&15;c[M]=c[M+1]=c[M+2]=(15-C)*17,c[M+3]=255}if(p==8)for(var E=0;E<r;E++){var M=j+E<<2,C=o[w+E];c[M]=c[M+1]=c[M+2]=255-C,c[M+3]=255}}else if(s==1)for(var b=Math.ceil(p*r/8),x=0;x<t;x++){var w=x*b,j=x*r;if(p==1)for(var E=0;E<r;E++){var M=j+E<<2,C=o[w+(E>>3)]>>7-(E&7)&1;c[M]=c[M+1]=c[M+2]=C*255,c[M+3]=255}if(p==2)for(var E=0;E<r;E++){var M=j+E<<2,C=o[w+(E>>2)]>>6-2*(E&3)&3;c[M]=c[M+1]=c[M+2]=C*85,c[M+3]=255}if(p==8)for(var E=0;E<r;E++){var M=j+E<<2,C=o[w+E];c[M]=c[M+1]=c[M+2]=C,c[M+3]=255}if(p==16)for(var E=0;E<r;E++){var M=j+E<<2,C=o[w+(2*E+v)];c[M]=c[M+1]=c[M+2]=Math.min(255,C),c[M+3]=255}}else if(s==2)if(p==8)if(i.t338)if(i.t338[0]>0)for(var E=0;E<l;E++)c[E]=o[E];else for(var E=0;E<l;E+=4)c[E]=o[E],c[E+1]=o[E+1],c[E+2]=o[E+2],c[E+3]=255;else{var P=i.t258?i.t258.length:3;if(P==4)for(var E=0;E<l;E++)c[E]=o[E];if(P==3)for(var E=0;E<a;E++){var M=E<<2,O=E*3;c[M]=o[O],c[M+1]=o[O+1],c[M+2]=o[O+2],c[M+3]=255}}else for(var E=0;E<a;E++){var M=E<<2,O=E*6;c[M]=o[O],c[M+1]=o[O+2],c[M+2]=o[O+4],c[M+3]=255}else if(s==3)for(var D=i.t320,E=0;E<a;E++){var M=E<<2,N=o[E];c[M]=D[N]>>8,c[M+1]=D[256+N]>>8,c[M+2]=D[512+N]>>8,c[M+3]=255}else if(s==5)for(var P=i.t258?i.t258.length:4,R=P>4?1:0,E=0;E<a;E++){var M=E<<2,I=E*P,H=255-o[I],ee=255-o[I+1],fe=255-o[I+2],xe=(255-o[I+3])*(1/255);c[M]=~~(H*xe+.5),c[M+1]=~~(ee*xe+.5),c[M+2]=~~(fe*xe+.5),c[M+3]=255*(1-R)+o[I+4]*R}else g("Unknown Photometric interpretation: "+s);return c},d.replaceIMG=function(){for(var i=document.getElementsByTagName("img"),r=0;r<i.length;r++){var t=i[r],a=t.getAttribute("src");if(a!=null){var l=a.split(".").pop().toLowerCase();if(!(l!="tif"&&l!="tiff")){var o=new XMLHttpRequest;d._xhrs.push(o),d._imgs.push(t),o.open("GET",a),o.responseType="arraybuffer",o.onload=d._imgLoaded,o.send()}}}},d._xhrs=[],d._imgs=[],d._imgLoaded=function(i){var r=i.target.response,t=d.decode(r),a=t[0];d.decodeImages(r,t);var l=d.toRGBA8(a),o=a.width,c=a.height,s=d._xhrs.indexOf(i.target),p=d._imgs[s];d._xhrs.splice(s,1),d._imgs.splice(s,1);var v=document.createElement("canvas");v.width=o,v.height=c;for(var b=v.getContext("2d"),x=b.createImageData(o,c),w=0;w<l.length;w++)x.data[w]=l[w];b.putImageData(x,0,0);for(var j=["style","class","id"],w=0;w<j.length;w++)v.setAttribute(j[w],p.getAttribute(j[w]));p.parentNode.replaceChild(v,p)},d._binBE={nextZero:function(i,r){for(;i[r]!=0;)r++;return r},readUshort:function(i,r){return i[r]<<8|i[r+1]},readShort:function(i,r){var t=d._binBE.ui8;return t[0]=i[r+1],t[1]=i[r+0],d._binBE.i16[0]},readInt:function(i,r){var t=d._binBE.ui8;return t[0]=i[r+3],t[1]=i[r+2],t[2]=i[r+1],t[3]=i[r+0],d._binBE.i32[0]},readUint:function(i,r){var t=d._binBE.ui8;return t[0]=i[r+3],t[1]=i[r+2],t[2]=i[r+1],t[3]=i[r+0],d._binBE.ui32[0]},readASCII:function(i,r,t){for(var a="",l=0;l<t;l++)a+=String.fromCharCode(i[r+l]);return a},readFloat:function(i,r){for(var t=d._binBE.ui8,a=0;a<4;a++)t[a]=i[r+3-a];return d._binBE.fl32[0]},readDouble:function(i,r){for(var t=d._binBE.ui8,a=0;a<8;a++)t[a]=i[r+7-a];return d._binBE.fl64[0]},writeUshort:function(i,r,t){i[r]=t>>8&255,i[r+1]=t&255},writeUint:function(i,r,t){i[r]=t>>24&255,i[r+1]=t>>16&255,i[r+2]=t>>8&255,i[r+3]=t>>0&255},writeASCII:function(i,r,t){for(var a=0;a<t.length;a++)i[r+a]=t.charCodeAt(a)},writeDouble:function(i,r,t){d._binBE.fl64[0]=t;for(var a=0;a<8;a++)i[r+a]=d._binBE.ui8[7-a]}},d._binBE.ui8=new Uint8Array(8),d._binBE.i16=new Int16Array(d._binBE.ui8.buffer),d._binBE.i32=new Int32Array(d._binBE.ui8.buffer),d._binBE.ui32=new Uint32Array(d._binBE.ui8.buffer),d._binBE.fl32=new Float32Array(d._binBE.ui8.buffer),d._binBE.fl64=new Float64Array(d._binBE.ui8.buffer),d._binLE={nextZero:d._binBE.nextZero,readUshort:function(i,r){return i[r+1]<<8|i[r]},readShort:function(i,r){var t=d._binBE.ui8;return t[0]=i[r+0],t[1]=i[r+1],d._binBE.i16[0]},readInt:function(i,r){var t=d._binBE.ui8;return t[0]=i[r+0],t[1]=i[r+1],t[2]=i[r+2],t[3]=i[r+3],d._binBE.i32[0]},readUint:function(i,r){var t=d._binBE.ui8;return t[0]=i[r+0],t[1]=i[r+1],t[2]=i[r+2],t[3]=i[r+3],d._binBE.ui32[0]},readASCII:d._binBE.readASCII,readFloat:function(i,r){for(var t=d._binBE.ui8,a=0;a<4;a++)t[a]=i[r+a];return d._binBE.fl32[0]},readDouble:function(i,r){for(var t=d._binBE.ui8,a=0;a<8;a++)t[a]=i[r+a];return d._binBE.fl64[0]}},d._copyTile=function(i,r,t,a,l,o,c,s){for(var p=Math.min(r,l-c),v=Math.min(t,o-s),b=0;b<v;b++)for(var x=(s+b)*l+c,w=b*r,j=0;j<p;j++)a[x+j]=i[w+j]}})(m,f)})()}).call(this,n("_process"))},{_process:133,pako:86}],183:[function(n,Z,S){(function(y){Z.exports=m;function m(g,d){if(f("noDeprecation"))return g;var u=!1;function i(){if(!u){if(f("throwDeprecation"))throw new Error(d);f("traceDeprecation")?console.trace(d):console.warn(d),u=!0}return g.apply(this,arguments)}return i}function f(g){try{if(!y.localStorage)return!1}catch{return!1}var d=y.localStorage[g];return d==null?!1:String(d).toLowerCase()==="true"}}).call(this,typeof Gt<"u"?Gt:typeof self<"u"?self:typeof Ye<"u"?Ye:{})},{}],184:[function(n,Z,S){arguments[4][26][0].apply(S,arguments)},{dup:26}],185:[function(n,Z,S){arguments[4][27][0].apply(S,arguments)},{dup:27}],186:[function(n,Z,S){arguments[4][28][0].apply(S,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(n,Z,S){var y=n("global/window"),m=n("is-function"),f=n("parse-headers"),g=n("xtend");Z.exports=r,Z.exports.default=r,r.XMLHttpRequest=y.XMLHttpRequest||l,r.XDomainRequest="withCredentials"in new r.XMLHttpRequest?r.XMLHttpRequest:y.XDomainRequest,d(["get","put","post","patch","head","delete"],function(o){r[o==="delete"?"del":o]=function(c,s,p){return s=i(c,s,p),s.method=o.toUpperCase(),t(s)}});function d(o,c){for(var s=0;s<o.length;s++)c(o[s])}function u(o){for(var c in o)if(o.hasOwnProperty(c))return!1;return!0}function i(o,c,s){var p=o;return m(c)?(s=c,typeof o=="string"&&(p={uri:o})):p=g(c,{uri:o}),p.callback=s,p}function r(o,c,s){return c=i(o,c,s),t(c)}function t(o){if(typeof o.callback>"u")throw new Error("callback argument missing");var c=!1,s=function(ee,fe,xe){c||(c=!0,o.callback(ee,fe,xe))};function p(){w.readyState===4&&setTimeout(x,0)}function v(){var H=void 0;if(w.response?H=w.response:H=w.responseText||a(w),N)try{H=JSON.parse(H)}catch{}return H}function b(H){return clearTimeout(R),H instanceof Error||(H=new Error(""+(H||"Unknown XMLHttpRequest Error"))),H.statusCode=0,s(H,I)}function x(){if(!E){var H;clearTimeout(R),o.useXDR&&w.status===void 0?H=200:H=w.status===1223?204:w.status;var ee=I,fe=null;return H!==0?(ee={body:v(),statusCode:H,method:C,headers:{},url:M,rawRequest:w},w.getAllResponseHeaders&&(ee.headers=f(w.getAllResponseHeaders()))):fe=new Error("Internal XMLHttpRequest Error"),s(fe,ee,ee.body)}}var w=o.xhr||null;w||(o.cors||o.useXDR?w=new r.XDomainRequest:w=new r.XMLHttpRequest);var j,E,M=w.url=o.uri||o.url,C=w.method=o.method||"GET",P=o.body||o.data,O=w.headers=o.headers||{},D=!!o.sync,N=!1,R,I={body:void 0,headers:{},statusCode:0,method:C,url:M,rawRequest:w};if("json"in o&&o.json!==!1&&(N=!0,O.accept||O.Accept||(O.Accept="application/json"),C!=="GET"&&C!=="HEAD"&&(O["content-type"]||O["Content-Type"]||(O["Content-Type"]="application/json"),P=JSON.stringify(o.json===!0?P:o.json))),w.onreadystatechange=p,w.onload=x,w.onerror=b,w.onprogress=function(){},w.onabort=function(){E=!0},w.ontimeout=b,w.open(C,M,!D,o.username,o.password),D||(w.withCredentials=!!o.withCredentials),!D&&o.timeout>0&&(R=setTimeout(function(){if(!E){E=!0,w.abort("timeout");var H=new Error("XMLHttpRequest timeout");H.code="ETIMEDOUT",b(H)}},o.timeout)),w.setRequestHeader)for(j in O)O.hasOwnProperty(j)&&w.setRequestHeader(j,O[j]);else if(o.headers&&!u(o.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in o&&(w.responseType=o.responseType),"beforeSend"in o&&typeof o.beforeSend=="function"&&o.beforeSend(w),w.send(P||null),w}function a(o){try{if(o.responseType==="document")return o.responseXML;var c=o.responseXML&&o.responseXML.documentElement.nodeName==="parsererror";if(o.responseType===""&&!c)return o.responseXML}catch{}return null}function l(){}},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(n,Z,S){Z.exports=function(){return typeof self.DOMParser<"u"?function(m){var f=new self.DOMParser;return f.parseFromString(m,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(m){var f=new self.ActiveXObject("Microsoft.XMLDOM");return f.async="false",f.loadXML(m),f}:function(m){var f=document.createElement("div");return f.innerHTML=m,f}}()},{}],189:[function(n,Z,S){Z.exports=m;var y=Object.prototype.hasOwnProperty;function m(){for(var f={},g=0;g<arguments.length;g++){var d=arguments[g];for(var u in d)y.call(d,u)&&(f[u]=d[u])}return f}},{}],190:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.srcOver=y,S.dstOver=m,S.multiply=f,S.add=g,S.screen=d,S.overlay=u,S.darken=i,S.lighten=r,S.hardLight=t,S.difference=a,S.exclusion=l;function y(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=s;var p=c.a+o.a-c.a*o.a,v=(o.r*o.a+c.r*c.a*(1-o.a))/p,b=(o.g*o.a+c.g*c.a*(1-o.a))/p,x=(o.b*o.a+c.b*c.a*(1-o.a))/p;return{r:v,g:b,b:x,a:p}}function m(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=s;var p=c.a+o.a-c.a*o.a,v=(c.r*c.a+o.r*o.a*(1-c.a))/p,b=(c.g*c.a+o.g*o.a*(1-c.a))/p,x=(c.b*c.a+o.b*o.a*(1-c.a))/p;return{r:v,g:b,b:x,a:p}}function f(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=s;var p=c.a+o.a-c.a*o.a,v=o.r*o.a,b=o.g*o.a,x=o.b*o.a,w=c.r*c.a,j=c.g*c.a,E=c.b*c.a,M=(v*w+v*(1-c.a)+w*(1-o.a))/p,C=(b*j+b*(1-c.a)+j*(1-o.a))/p,P=(x*E+x*(1-c.a)+E*(1-o.a))/p;return{r:M,g:C,b:P,a:p}}function g(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=s;var p=c.a+o.a-c.a*o.a,v=o.r*o.a,b=o.g*o.a,x=o.b*o.a,w=c.r*c.a,j=c.g*c.a,E=c.b*c.a,M=(v+w)/p,C=(b+j)/p,P=(x+E)/p;return{r:M,g:C,b:P,a:p}}function d(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=s;var p=c.a+o.a-c.a*o.a,v=o.r*o.a,b=o.g*o.a,x=o.b*o.a,w=c.r*c.a,j=c.g*c.a,E=c.b*c.a,M=(v*c.a+w*o.a-v*w+v*(1-c.a)+w*(1-o.a))/p,C=(b*c.a+j*o.a-b*j+b*(1-c.a)+j*(1-o.a))/p,P=(x*c.a+E*o.a-x*E+x*(1-c.a)+E*(1-o.a))/p;return{r:M,g:C,b:P,a:p}}function u(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=s;var p=c.a+o.a-c.a*o.a,v=o.r*o.a,b=o.g*o.a,x=o.b*o.a,w=c.r*c.a,j=c.g*c.a,E=c.b*c.a,M=(2*w<=c.a?2*v*w+v*(1-c.a)+w*(1-o.a):v*(1+c.a)+w*(1+o.a)-2*w*v-c.a*o.a)/p,C=(2*j<=c.a?2*b*j+b*(1-c.a)+j*(1-o.a):b*(1+c.a)+j*(1+o.a)-2*j*b-c.a*o.a)/p,P=(2*E<=c.a?2*x*E+x*(1-c.a)+E*(1-o.a):x*(1+c.a)+E*(1+o.a)-2*E*x-c.a*o.a)/p;return{r:M,g:C,b:P,a:p}}function i(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=s;var p=c.a+o.a-c.a*o.a,v=o.r*o.a,b=o.g*o.a,x=o.b*o.a,w=c.r*c.a,j=c.g*c.a,E=c.b*c.a,M=(Math.min(v*c.a,w*o.a)+v*(1-c.a)+w*(1-o.a))/p,C=(Math.min(b*c.a,j*o.a)+b*(1-c.a)+j*(1-o.a))/p,P=(Math.min(x*c.a,E*o.a)+x*(1-c.a)+E*(1-o.a))/p;return{r:M,g:C,b:P,a:p}}function r(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=s;var p=c.a+o.a-c.a*o.a,v=o.r*o.a,b=o.g*o.a,x=o.b*o.a,w=c.r*c.a,j=c.g*c.a,E=c.b*c.a,M=(Math.max(v*c.a,w*o.a)+v*(1-c.a)+w*(1-o.a))/p,C=(Math.max(b*c.a,j*o.a)+b*(1-c.a)+j*(1-o.a))/p,P=(Math.max(x*c.a,E*o.a)+x*(1-c.a)+E*(1-o.a))/p;return{r:M,g:C,b:P,a:p}}function t(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=s;var p=c.a+o.a-c.a*o.a,v=o.r*o.a,b=o.g*o.a,x=o.b*o.a,w=c.r*c.a,j=c.g*c.a,E=c.b*c.a,M=(2*v<=o.a?2*v*w+v*(1-c.a)+w*(1-o.a):v*(1+c.a)+w*(1+o.a)-2*w*v-c.a*o.a)/p,C=(2*b<=o.a?2*b*j+b*(1-c.a)+j*(1-o.a):b*(1+c.a)+j*(1+o.a)-2*j*b-c.a*o.a)/p,P=(2*x<=o.a?2*x*E+x*(1-c.a)+E*(1-o.a):x*(1+c.a)+E*(1+o.a)-2*E*x-c.a*o.a)/p;return{r:M,g:C,b:P,a:p}}function a(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=s;var p=c.a+o.a-c.a*o.a,v=o.r*o.a,b=o.g*o.a,x=o.b*o.a,w=c.r*c.a,j=c.g*c.a,E=c.b*c.a,M=(v+w-2*Math.min(v*c.a,w*o.a))/p,C=(b+j-2*Math.min(b*c.a,j*o.a))/p,P=(x+E-2*Math.min(x*c.a,E*o.a))/p;return{r:M,g:C,b:P,a:p}}function l(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o.a*=s;var p=c.a+o.a-c.a*o.a,v=o.r*o.a,b=o.g*o.a,x=o.b*o.a,w=c.r*c.a,j=c.g*c.a,E=c.b*c.a,M=(v*c.a+w*o.a-2*v*w+v*(1-c.a)+w*(1-o.a))/p,C=(b*c.a+j*o.a-2*b*j+b*(1-c.a)+j*(1-o.a))/p,P=(x*c.a+E*o.a-2*x*E+x*(1-c.a)+E*(1-o.a))/p;return{r:M,g:C,b:P,a:p}}},{}],191:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(S,"__esModule",{value:!0}),S.default=d;var m=n("@jimp/utils"),f=y(n("../constants")),g=y(n("./composite-modes"));function d(u,i,r){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;if(typeof t=="function"&&(a=t,t={}),!(u instanceof this.constructor))return m.throwError.call(this,"The source must be a Jimp image",a);if(typeof i!="number"||typeof r!="number")return m.throwError.call(this,"x and y must be numbers",a);var l=t,o=l.mode,c=l.opacitySource,s=l.opacityDest;o||(o=f.BLEND_SOURCE_OVER),(typeof c!="number"||c<0||c>1)&&(c=1),(typeof s!="number"||s<0||s>1)&&(s=1);var p=g[o];i=Math.round(i),r=Math.round(r);var v=this;return s!==1&&v.opacity(s),u.scanQuiet(0,0,u.bitmap.width,u.bitmap.height,function(b,x,w){var j=v.getPixelIndex(i+b,r+x,f.EDGE_CROP),E=p({r:this.bitmap.data[w+0]/255,g:this.bitmap.data[w+1]/255,b:this.bitmap.data[w+2]/255,a:this.bitmap.data[w+3]/255},{r:v.bitmap.data[j+0]/255,g:v.bitmap.data[j+1]/255,b:v.bitmap.data[j+2]/255,a:v.bitmap.data[j+3]/255},c);v.bitmap.data[j+0]=this.constructor.limit255(E.r*255),v.bitmap.data[j+1]=this.constructor.limit255(E.g*255),v.bitmap.data[j+2]=this.constructor.limit255(E.b*255),v.bitmap.data[j+3]=this.constructor.limit255(E.a*255)}),(0,m.isNodePattern)(a)&&a.call(this,null,this),this}Z.exports=S.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.EDGE_CROP=S.EDGE_WRAP=S.EDGE_EXTEND=S.BLEND_EXCLUSION=S.BLEND_DIFFERENCE=S.BLEND_HARDLIGHT=S.BLEND_LIGHTEN=S.BLEND_DARKEN=S.BLEND_OVERLAY=S.BLEND_SCREEN=S.BLEND_ADD=S.BLEND_MULTIPLY=S.BLEND_DESTINATION_OVER=S.BLEND_SOURCE_OVER=S.VERTICAL_ALIGN_BOTTOM=S.VERTICAL_ALIGN_MIDDLE=S.VERTICAL_ALIGN_TOP=S.HORIZONTAL_ALIGN_RIGHT=S.HORIZONTAL_ALIGN_CENTER=S.HORIZONTAL_ALIGN_LEFT=S.AUTO=void 0;var y=-1;S.AUTO=y;var m=1;S.HORIZONTAL_ALIGN_LEFT=m;var f=2;S.HORIZONTAL_ALIGN_CENTER=f;var g=4;S.HORIZONTAL_ALIGN_RIGHT=g;var d=8;S.VERTICAL_ALIGN_TOP=d;var u=16;S.VERTICAL_ALIGN_MIDDLE=u;var i=32;S.VERTICAL_ALIGN_BOTTOM=i;var r="srcOver";S.BLEND_SOURCE_OVER=r;var t="dstOver";S.BLEND_DESTINATION_OVER=t;var a="multiply";S.BLEND_MULTIPLY=a;var l="add";S.BLEND_ADD=l;var o="screen";S.BLEND_SCREEN=o;var c="overlay";S.BLEND_OVERLAY=c;var s="darken";S.BLEND_DARKEN=s;var p="lighten";S.BLEND_LIGHTEN=p;var v="hardLight";S.BLEND_HARDLIGHT=v;var b="difference";S.BLEND_DIFFERENCE=b;var x="exclusion";S.BLEND_EXCLUSION=x;var w=1;S.EDGE_EXTEND=w;var j=2;S.EDGE_WRAP=j;var E=3;S.EDGE_CROP=E},{}],193:[function(n,Z,S){(function(y){var m=n("@babel/runtime/helpers/interopRequireWildcard"),f=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.addConstants=Te,S.addJimpMethods=Be,S.jimpEvMethod=Re,S.jimpEvChange=ve,Object.defineProperty(S,"addType",{enumerable:!0,get:function(){return D.addType}}),S.default=void 0;for(var g=f(n("@babel/runtime/helpers/construct")),d=f(n("@babel/runtime/helpers/slicedToArray")),u=f(n("@babel/runtime/helpers/classCallCheck")),i=f(n("@babel/runtime/helpers/createClass")),r=f(n("@babel/runtime/helpers/possibleConstructorReturn")),t=f(n("@babel/runtime/helpers/getPrototypeOf")),a=f(n("@babel/runtime/helpers/assertThisInitialized")),l=f(n("@babel/runtime/helpers/inherits")),o=f(n("@babel/runtime/helpers/defineProperty")),c=f(n("@babel/runtime/helpers/typeof")),s=f(n("fs")),p=f(n("path")),v=f(n("events")),b=n("@jimp/utils"),x=f(n("any-base")),w=f(n("mkdirp")),j=f(n("pixelmatch")),E=f(n("tinycolor2")),M=f(n("./modules/phash")),C=f(n("./request")),P=f(n("./composite")),O=f(n("./utils/promisify")),D=m(n("./utils/mime")),N=n("./utils/image-bitmap"),R=m(n("./constants")),I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",H=[NaN,NaN],ee=2;ee<65;ee++){var fe=(0,x.default)(x.default.BIN,I.slice(0,ee))(new Array(65).join("1"));H.push(fe.length)}function xe(){}function q(Ie){return Object.prototype.toString.call(Ie).toLowerCase().indexOf("arraybuffer")>-1}function V(Ie){for(var de=y.alloc(Ie.byteLength),ae=new Uint8Array(Ie),ne=0;ne<de.length;++ne)de[ne]=ae[ne];return de}function K(Ie,de){(0,C.default)(Ie,function(ae,ne,Me){if(ae)return de(ae);if("headers"in ne&&"location"in ne.headers)return Ie.url=ne.headers.location,K(Ie,de);if((0,c.default)(Me)==="object"&&y.isBuffer(Me))return de(null,Me);var pe="Could not load Buffer from <"+Ie.url+"> (HTTP: "+ne.statusCode+")";return new Error(pe)})}function J(Ie,de){s.default&&typeof s.default.readFile=="function"&&!Ie.match(/^(http|ftp)s?:\/\/./)?s.default.readFile(Ie,de):K({url:Ie},de)}function oe(Ie){return Ie&&(0,c.default)(Ie)==="object"&&typeof Ie.width=="number"&&typeof Ie.height=="number"&&(y.isBuffer(Ie.data)||Ie.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&Ie.data instanceof Uint8ClampedArray)&&(Ie.data.length===Ie.width*Ie.height*4||Ie.data.length===Ie.width*Ie.height*3)}function _e(Ie){if(Ie.length%3!==0)throw new Error("Buffer length is incorrect");for(var de=y.allocUnsafe(Ie.length/3*4),ae=0,ne=0;ne<Ie.length;ne++)de[ae]=Ie[ne],(ne+1)%3===0&&(de[++ae]=255),ae++;return de}var Oe={data:null,width:null,height:null},De=function(Ie){(0,l.default)(de,Ie);function de(){for(var ae,ne=arguments.length,Me=new Array(ne),pe=0;pe<ne;pe++)Me[pe]=arguments[pe];(0,u.default)(this,de),ae=(0,r.default)(this,(0,t.default)(de).call(this)),(0,o.default)((0,a.default)(ae),"bitmap",Oe),(0,o.default)((0,a.default)(ae),"_background",0),(0,o.default)((0,a.default)(ae),"_originalMime",de.MIME_PNG),(0,o.default)((0,a.default)(ae),"_exif",null),(0,o.default)((0,a.default)(ae),"_rgba",!0),(0,o.default)((0,a.default)(ae),"writeAsync",function(he){return(0,O.default)(ae.write,(0,a.default)(ae),he)}),(0,o.default)((0,a.default)(ae),"getBase64Async",function(he){return(0,O.default)(ae.getBase64,(0,a.default)(ae),he)}),(0,o.default)((0,a.default)(ae),"getBuffer",N.getBuffer),(0,o.default)((0,a.default)(ae),"getBufferAsync",N.getBufferAsync),(0,o.default)((0,a.default)(ae),"getPixelColour",ae.getPixelColor),(0,o.default)((0,a.default)(ae),"setPixelColour",ae.setPixelColor);var le=(0,a.default)(ae),re=xe;q(Me[0])&&(Me[0]=V(Me[0]));function Le(){for(var he=arguments.length,U=new Array(he),se=0;se<he;se++)U[se]=arguments[se];var ue=U[0],we=ue||{};we.methodName="constructor",setTimeout(function(){var ce;ue&&re===xe?le.emitError("constructor",ue):ue||le.emitMulti("constructor","initialized"),(ce=re).call.apply(ce,[le].concat(U))},1)}if(typeof Me[0]=="number"&&typeof Me[1]=="number"||parseInt(Me[0],10)&&parseInt(Me[1],10)){var h=parseInt(Me[0],10),_=parseInt(Me[1],10);if(re=Me[2],typeof Me[2]=="number"&&(ae._background=Me[2],re=Me[3]),typeof Me[2]=="string"&&(ae._background=de.cssColorToHex(Me[2]),re=Me[3]),typeof re>"u"&&(re=xe),typeof re!="function")return(0,r.default)(ae,b.throwError.call((0,a.default)(ae),"cb must be a function",Le));ae.bitmap={data:y.alloc(h*_*4),width:h,height:_};for(var T=0;T<ae.bitmap.data.length;T+=4)ae.bitmap.data.writeUInt32BE(ae._background,T);Le(null,(0,a.default)(ae))}else if((0,c.default)(Me[0])==="object"&&Me[0].url){if(re=Me[1]||xe,typeof re!="function")return(0,r.default)(ae,b.throwError.call((0,a.default)(ae),"cb must be a function",Le));K(Me[0],function(he,U){if(he)return b.throwError.call((0,a.default)(ae),he,Le);ae.parseBitmap(U,Me[0].url,Le)})}else if(Me[0]instanceof de){var L=Me[0];if(re=Me[1],typeof re>"u"&&(re=xe),typeof re!="function")return(0,r.default)(ae,b.throwError.call((0,a.default)(ae),"cb must be a function",Le));ae.bitmap={data:y.from(L.bitmap.data),width:L.bitmap.width,height:L.bitmap.height},ae._quality=L._quality,ae._deflateLevel=L._deflateLevel,ae._deflateStrategy=L._deflateStrategy,ae._filterType=L._filterType,ae._rgba=L._rgba,ae._background=L._background,ae._originalMime=L._originalMime,Le(null,(0,a.default)(ae))}else if(oe(Me[0])){var G=Me[0];re=Me[1]||xe;var B=G.width*G.height*4===G.data.length,W=B?y.from(G.data):_e(G.data);ae.bitmap={data:W,width:G.width,height:G.height},Le(null,(0,a.default)(ae))}else if(typeof Me[0]=="string"){var F=Me[0];if(re=Me[1],typeof re>"u"&&(re=xe),typeof re!="function")return(0,r.default)(ae,b.throwError.call((0,a.default)(ae),"cb must be a function",Le));J(F,function(he,U){if(he)return b.throwError.call((0,a.default)(ae),he,Le);ae.parseBitmap(U,F,Le)})}else if((0,c.default)(Me[0])==="object"&&y.isBuffer(Me[0])){var Y=Me[0];if(re=Me[1],typeof re!="function")return(0,r.default)(ae,b.throwError.call((0,a.default)(ae),"cb must be a function",Le));ae.parseBitmap(Y,null,Le)}else{re=Me[Me.length-1],typeof re!="function"&&(re=Me[Me.length-2],typeof re!="function"&&(re=xe));var ie=de.__extraConstructors.find(function(he){return he.test.apply(he,Me)});if(ie)new Promise(function(he,U){var se;return(se=ie.run).call.apply(se,[(0,a.default)(ae),he,U].concat(Me))}).then(function(){return Le(null,(0,a.default)(ae))}).catch(Le);else return(0,r.default)(ae,b.throwError.call((0,a.default)(ae),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",Le))}return ae}return(0,i.default)(de,[{key:"parseBitmap",value:function(ne,Me,pe){N.parseBitmap.call(this,ne,null,pe)}},{key:"rgba",value:function(ne,Me){return typeof ne!="boolean"?b.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",Me):(this._rgba=ne,(0,b.isNodePattern)(Me)&&Me.call(this,null,this),this)}},{key:"emitMulti",value:function(ne,Me){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};pe=Object.assign(pe,{methodName:ne,eventName:Me}),this.emit("any",pe),ne&&this.emit(ne,pe),this.emit(Me,pe)}},{key:"emitError",value:function(ne,Me){this.emitMulti(ne,"error",Me)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===Oe?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){var ne=this._originalMime||de.MIME_PNG;return ne}},{key:"getExtension",value:function(){var ne=this.getMIME();return D.getExtension(ne)}},{key:"write",value:function(ne,Me){var pe=this;if(!s.default||!s.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof ne!="string")return b.throwError.call(this,"path must be a string",Me);if(typeof Me>"u"&&(Me=xe),typeof Me!="function")return b.throwError.call(this,"cb must be a function",Me);var le=D.getType(ne)||this.getMIME(),re=p.default.parse(ne);return re.dir&&w.default.sync(re.dir),this.getBuffer(le,function(Le,h){if(Le)return b.throwError.call(pe,Le,Me);var _=s.default.createWriteStream(ne);_.on("open",function(){_.write(h),_.end()}).on("error",function(T){return b.throwError.call(pe,T,Me)}),_.on("finish",function(){Me.call(pe,null,pe)})}),this}},{key:"getBase64",value:function(ne,Me){return ne===de.AUTO&&(ne=this.getMIME()),typeof ne!="string"?b.throwError.call(this,"mime must be a string",Me):typeof Me!="function"?b.throwError.call(this,"cb must be a function",Me):(this.getBuffer(ne,function(pe,le){if(pe)return b.throwError.call(this,pe,Me);var re="data:"+ne+";base64,"+le.toString("base64");Me.call(this,null,re)}),this)}},{key:"hash",value:function(ne,Me){if(ne=ne||64,typeof ne=="function"&&(Me=ne,ne=64),typeof ne!="number")return b.throwError.call(this,"base must be a number",Me);if(ne<2||ne>64)return b.throwError.call(this,"base must be a number between 2 and 64",Me);var pe=this.pHash();for(pe=(0,x.default)(x.default.BIN,I.slice(0,ne))(pe);pe.length<H[ne];)pe="0"+pe;return(0,b.isNodePattern)(Me)&&Me.call(this,null,pe),pe}},{key:"pHash",value:function(){var ne=new M.default;return ne.getHash(this)}},{key:"distanceFromHash",value:function(ne){var Me=new M.default,pe=Me.getHash(this);return Me.distance(pe,ne)}},{key:"getPixelIndex",value:function(ne,Me,pe,le){var re,Le;if(typeof pe=="function"&&typeof le>"u"&&(le=pe,pe=null),pe||(pe=de.EDGE_EXTEND),typeof ne!="number"||typeof Me!="number")return b.throwError.call(this,"x and y must be numbers",le);ne=Math.round(ne),Me=Math.round(Me),re=ne,Le=Me,pe===de.EDGE_EXTEND&&(ne<0&&(re=0),ne>=this.bitmap.width&&(re=this.bitmap.width-1),Me<0&&(Le=0),Me>=this.bitmap.height&&(Le=this.bitmap.height-1)),pe===de.EDGE_WRAP&&(ne<0&&(re=this.bitmap.width+ne),ne>=this.bitmap.width&&(re=ne%this.bitmap.width),Me<0&&(re=this.bitmap.height+Me),Me>=this.bitmap.height&&(Le=Me%this.bitmap.height));var h=this.bitmap.width*Le+re<<2;return(re<0||re>=this.bitmap.width)&&(h=-1),(Le<0||Le>=this.bitmap.height)&&(h=-1),(0,b.isNodePattern)(le)&&le.call(this,null,h),h}},{key:"getPixelColor",value:function(ne,Me,pe){if(typeof ne!="number"||typeof Me!="number")return b.throwError.call(this,"x and y must be numbers",pe);ne=Math.round(ne),Me=Math.round(Me);var le=this.getPixelIndex(ne,Me),re=this.bitmap.data.readUInt32BE(le);return(0,b.isNodePattern)(pe)&&pe.call(this,null,re),re}},{key:"setPixelColor",value:function(ne,Me,pe,le){if(typeof ne!="number"||typeof Me!="number"||typeof pe!="number")return b.throwError.call(this,"hex, x and y must be numbers",le);Me=Math.round(Me),pe=Math.round(pe);var re=this.getPixelIndex(Me,pe);return this.bitmap.data.writeUInt32BE(ne,re),(0,b.isNodePattern)(le)&&le.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var ne=0;ne<this.bitmap.height;ne++)for(var Me=0;Me<this.bitmap.width;Me++){var pe=this.bitmap.width*ne+Me<<2,le=this.bitmap.data[pe+3];if(le!==255)return!0}return!1}},{key:"scanIterator",value:function(ne,Me,pe,le){return typeof ne!="number"||typeof Me!="number"?b.throwError.call(this,"x and y must be numbers"):typeof pe!="number"||typeof le!="number"?b.throwError.call(this,"w and h must be numbers"):(0,b.scanIterator)(this,ne,Me,pe,le)}}]),de}(v.default);function Te(Ie){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:De;Object.entries(Ie).forEach(function(ae){var ne=(0,d.default)(ae,2),Me=ne[0],pe=ne[1];de[Me]=pe})}function Be(Ie){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:De;Object.entries(Ie).forEach(function(ae){var ne=(0,d.default)(ae,2),Me=ne[0],pe=ne[1];de.prototype[Me]=pe})}Te(R),Be({composite:P.default}),De.__extraConstructors=[],De.appendConstructorOption=function(Ie,de,ae){De.__extraConstructors.push({name:Ie,test:de,run:ae})},De.read=function(){for(var Ie=arguments.length,de=new Array(Ie),ae=0;ae<Ie;ae++)de[ae]=arguments[ae];return new Promise(function(ne,Me){(0,g.default)(De,de.concat([function(pe,le){pe?Me(pe):ne(le)}]))})},De.create=De.read,De.rgbaToInt=function(Ie,de,ae,ne,Me){if(typeof Ie!="number"||typeof de!="number"||typeof ae!="number"||typeof ne!="number")return b.throwError.call(this,"r, g, b and a must be numbers",Me);if(Ie<0||Ie>255)return b.throwError.call(this,"r must be between 0 and 255",Me);if((de<0||de>255)&&b.throwError.call(this,"g must be between 0 and 255",Me),ae<0||ae>255)return b.throwError.call(this,"b must be between 0 and 255",Me);if(ne<0||ne>255)return b.throwError.call(this,"a must be between 0 and 255",Me);Ie=Math.round(Ie),ae=Math.round(ae),de=Math.round(de),ne=Math.round(ne);var pe=Ie*Math.pow(256,3)+de*Math.pow(256,2)+ae*Math.pow(256,1)+ne*Math.pow(256,0);return(0,b.isNodePattern)(Me)&&Me.call(this,null,pe),pe},De.intToRGBA=function(Ie,de){if(typeof Ie!="number")return b.throwError.call(this,"i must be a number",de);var ae={};return ae.r=Math.floor(Ie/Math.pow(256,3)),ae.g=Math.floor((Ie-ae.r*Math.pow(256,3))/Math.pow(256,2)),ae.b=Math.floor((Ie-ae.r*Math.pow(256,3)-ae.g*Math.pow(256,2))/Math.pow(256,1)),ae.a=Math.floor((Ie-ae.r*Math.pow(256,3)-ae.g*Math.pow(256,2)-ae.b*Math.pow(256,1))/Math.pow(256,0)),(0,b.isNodePattern)(de)&&de.call(this,null,ae),ae},De.cssColorToHex=function(Ie){return Ie=Ie||0,typeof Ie=="number"?Number(Ie):parseInt((0,E.default)(Ie).toHex8(),16)},De.limit255=function(Ie){return Ie=Math.max(Ie,0),Ie=Math.min(Ie,255),Ie},De.diff=function(Ie,de){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(Ie instanceof De)||!(de instanceof De))return b.throwError.call(this,"img1 and img2 must be an Jimp images");var ne=Ie.bitmap,Me=de.bitmap;if((ne.width!==Me.width||ne.height!==Me.height)&&(ne.width*ne.height>Me.width*Me.height?Ie=Ie.cloneQuiet().resize(Me.width,Me.height):de=de.cloneQuiet().resize(ne.width,ne.height)),typeof ae!="number"||ae<0||ae>1)return b.throwError.call(this,"threshold must be a number between 0 and 1");var pe=new De(ne.width,ne.height,4294967295),le=(0,j.default)(ne.data,Me.data,pe.bitmap.data,pe.bitmap.width,pe.bitmap.height,{threshold:ae});return{percent:le/(pe.bitmap.width*pe.bitmap.height),image:pe}},De.distance=function(Ie,de){var ae=new M.default,ne=ae.getHash(Ie),Me=ae.getHash(de);return ae.distance(ne,Me)},De.compareHashes=function(Ie,de){var ae=new M.default;return ae.distance(Ie,de)},De.colorDiff=function(Ie,de){var ae=function(le){return Math.pow(le,2)},ne=Math.max,Me=255*255*3;return Ie.a!==0&&!Ie.a&&(Ie.a=255),de.a!==0&&!de.a&&(de.a=255),(ne(ae(Ie.r-de.r),ae(Ie.r-de.r-Ie.a+de.a))+ne(ae(Ie.g-de.g),ae(Ie.g-de.g-Ie.a+de.a))+ne(ae(Ie.b-de.b),ae(Ie.b-de.b-Ie.a+de.a)))/Me};function Re(Ie,de,ae){var ne="before-"+de,Me=de.replace(/e$/,"")+"ed";De.prototype[Ie]=function(){for(var pe,le=arguments.length,re=new Array(le),Le=0;Le<le;Le++)re[Le]=arguments[Le];var h=re[ae.length-1],_=this;typeof h=="function"?(pe=function(){for(var G=arguments.length,B=new Array(G),W=0;W<G;W++)B[W]=arguments[W];var F=B[0],Y=B[1];F?_.emitError(Ie,F):_.emitMulti(Ie,Me,(0,o.default)({},Ie,Y)),h.apply(this,B)},re[re.length-1]=pe):pe=!1,this.emitMulti(Ie,ne);var T;try{T=ae.apply(this,re),pe||this.emitMulti(Ie,Me,(0,o.default)({},Ie,T))}catch(L){L.methodName=Ie,this.emitError(Ie,L)}return T},De.prototype[Ie+"Quiet"]=ae}Re("clone","clone",function(Ie){var de=new De(this);return(0,b.isNodePattern)(Ie)&&Ie.call(de,null,de),de});function ve(Ie,de){Re(Ie,"change",de)}ve("background",function(Ie,de){return typeof Ie!="number"?b.throwError.call(this,"hex must be a hexadecimal rgba value",de):(this._background=Ie,(0,b.isNodePattern)(de)&&de.call(this,null,this),this)}),ve("scan",function(Ie,de,ae,ne,Me,pe){if(typeof Ie!="number"||typeof de!="number")return b.throwError.call(this,"x and y must be numbers",pe);if(typeof ae!="number"||typeof ne!="number")return b.throwError.call(this,"w and h must be numbers",pe);if(typeof Me!="function")return b.throwError.call(this,"f must be a function",pe);var le=(0,b.scan)(this,Ie,de,ae,ne,Me);return(0,b.isNodePattern)(pe)&&pe.call(this,null,le),le});{var ge;typeof Ye<"u"&&(typeof Ye>"u"?"undefined":(0,c.default)(Ye))==="object"&&(ge=Ye),typeof self<"u"&&(typeof self>"u"?"undefined":(0,c.default)(self))==="object"&&(ge=self),ge.Jimp=De,ge.Buffer=y}var Ae=De;S.default=Ae}).call(this,n("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(n,Z,S){function y(u,i){this.size=this.size||u,this.smallerSize=this.smallerSize||i,g(this.size)}y.prototype.size=32,y.prototype.smallerSize=8,y.prototype.distance=function(u,i){for(var r=0,t=0;t<u.length;t++)u[t]!==i[t]&&r++;return r/u.length},y.prototype.getHash=function(u){u=u.clone().resize(this.size,this.size),u.grayscale();for(var i=[],r=0;r<u.bitmap.width;r++){i[r]=[];for(var t=0;t<u.bitmap.height;t++)i[r][t]=m(u.getPixelColor(r,t)).b}for(var a=d(i,this.size),l=0,o=0;o<this.smallerSize;o++)for(var c=0;c<this.smallerSize;c++)l+=a[o][c];for(var s=l/(this.smallerSize*this.smallerSize),p="",v=0;v<this.smallerSize;v++)for(var b=0;b<this.smallerSize;b++)p+=a[v][b]>s?"1":"0";return p};function m(u){var i={};return i.r=Math.floor(u/Math.pow(256,3)),i.g=Math.floor((u-i.r*Math.pow(256,3))/Math.pow(256,2)),i.b=Math.floor((u-i.r*Math.pow(256,3)-i.g*Math.pow(256,2))/Math.pow(256,1)),i.a=Math.floor((u-i.r*Math.pow(256,3)-i.g*Math.pow(256,2)-i.b*Math.pow(256,1))/Math.pow(256,0)),i}var f=[];function g(u){for(var i=1;i<u;i++)f[i]=1;f[0]=1/Math.sqrt(2)}function d(u,i){for(var r=i,t=[],a=0;a<r;a++){t[a]=[];for(var l=0;l<r;l++){for(var o=0,c=0;c<r;c++)for(var s=0;s<r;s++)o+=Math.cos((2*c+1)/(2*r)*a*Math.PI)*Math.cos((2*s+1)/(2*r)*l*Math.PI)*u[c][s];o*=f[a]*f[l]/4,t[a][l]=o}}return t}Z.exports=y},{}],195:[function(n,Z,S){(function(y,m){var f=n("@babel/runtime/helpers/interopRequireDefault"),g=f(n("@babel/runtime/helpers/defineProperty")),d=f(n("@babel/runtime/helpers/extends"));function u(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);t&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),a.push.apply(a,l)}return a}function i(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?u(a,!0).forEach(function(l){(0,g.default)(r,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):u(a).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(a,l))})}return r}y.browser,Z.exports=function(r,t){var a=new XMLHttpRequest;a.open("GET",r.url,!0),a.responseType="arraybuffer",a.addEventListener("load",function(){if(a.status<400)try{var l=m.from(this.response);t(null,a,l)}catch(o){return t(new Error("Response is not a buffer for url "+r.url+". Error: "+o.message))}else t(new Error("HTTP Status "+a.status+" for url "+r.url))}),a.addEventListener("error",function(l){t(l)}),a.send()}}).call(this,n("_process"),n("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(n,Z,S){(function(y){var m=n("@babel/runtime/helpers/interopRequireWildcard"),f=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.parseBitmap=v,S.getBuffer=x,S.getBufferAsync=w;var g=f(n("@babel/runtime/helpers/slicedToArray")),d=f(n("file-type")),u=f(n("exif-parser")),i=n("@jimp/utils"),r=m(n("../constants")),t=m(n("./mime")),a=f(n("./promisify"));function l(j,E){var M=(0,d.default)(j);return M?M.mime:E?t.getType(E):null}function o(j){return j._exif&&j._exif.tags&&j._exif.tags.Orientation||1}function c(j){var E=j.getWidth(),M=j.getHeight();switch(o(j)){case 1:return null;case 2:return function(C,P){return[E-C-1,P]};case 3:return function(C,P){return[E-C-1,M-P-1]};case 4:return function(C,P){return[C,M-P-1]};case 5:return function(C,P){return[P,C]};case 6:return function(C,P){return[P,M-C-1]};case 7:return function(C,P){return[E-P-1,M-C-1]};case 8:return function(C,P){return[E-P-1,C]};default:return null}}function s(j,E,M,C){for(var P=j.bitmap.data,O=j.bitmap.width,D=y.alloc(P.length),N=0;N<E;N++)for(var R=0;R<M;R++){var I=C(N,R),H=(0,g.default)(I,2),ee=H[0],fe=H[1],xe=E*R+N<<2,q=O*fe+ee<<2,V=P.readUInt32BE(q);D.writeUInt32BE(V,xe)}j.bitmap.data=D,j.bitmap.width=E,j.bitmap.height=M}function p(j){if(!(o(j)<2)){var E=c(j),M=o(j)>4,C=M?j.bitmap.height:j.bitmap.width,P=M?j.bitmap.width:j.bitmap.height;s(j,C,P,E)}}function v(j,E,M){var C=l(j,E);if(typeof C!="string")return M(new Error("Could not find MIME for Buffer <"+E+">"));this._originalMime=C.toLowerCase();try{var P=this.getMIME();if(this.constructor.decoders[P])this.bitmap=this.constructor.decoders[P](j);else return i.throwError.call(this,"Unsupported MIME type: "+P,M)}catch(O){return M.call(this,O,this)}try{this._exif=u.default.create(j).parse(),p(this)}catch{}return M.call(this,null,this),this}function b(j,E){return new j(E.bitmap.width,E.bitmap.height,E._background).composite(E,0,0).bitmap}function x(j,E){if(j===r.AUTO&&(j=this.getMIME()),typeof j!="string")return i.throwError.call(this,"mime must be a string",E);if(typeof E!="function")return i.throwError.call(this,"cb must be a function",E);if(j=j.toLowerCase(),this._rgba&&this.constructor.hasAlpha[j]?this.bitmap.data=y.from(this.bitmap.data):this.bitmap.data=b(this.constructor,this).data,this.constructor.encoders[j]){var M=this.constructor.encoders[j](this);E.call(this,null,M)}else E.call(this,"Unsupported MIME type: "+j);return this}function w(j){return(0,a.default)(x,this,j)}}).call(this,n("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.getExtension=S.getType=S.addType=void 0;var y={},m=function(i){return Object.entries(y).find(function(r){return r[1].includes(i)})||[]},f=function(i,r){y[i]=r};S.addType=f;var g=function(i){var r=i.split("/").slice(-1),t=r[r.length-1].split(".").pop(),a=m(t);return a[0]};S.getType=g;var d=function(i){return(y[i.toLowerCase()]||[])[0]};S.getExtension=d},{}],198:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=function(g,d){for(var u=arguments.length,i=new Array(u>2?u-2:0),r=2;r<u;r++)i[r-2]=arguments[r];return new Promise(function(t,a){i.push(function(l,o){l&&a(l),t(o)}),g.bind(d).apply(void 0,i)})},m=y;S.default=m,Z.exports=S.default},{}],199:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireWildcard"),m=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=t;var f=m(n("@babel/runtime/helpers/toConsumableArray")),g=m(n("@babel/runtime/helpers/defineProperty")),d=m(n("@babel/runtime/helpers/slicedToArray")),u=y(n("@jimp/core"));function i(a,l){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);l&&(c=c.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),o.push.apply(o,c)}return o}function r(a){for(var l=1;l<arguments.length;l++){var o=arguments[l]!=null?arguments[l]:{};l%2?i(o,!0).forEach(function(c){(0,g.default)(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):i(o).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}function t(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.default,o={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function c(v){Object.entries(v).forEach(function(b){var x=(0,d.default)(b,2),w=x[0],j=x[1];o[w]=r({},o[w],{},j)})}function s(v){var b=v();Array.isArray(b.mime)?u.addType.apply(void 0,(0,f.default)(b.mime)):Object.entries(b.mime).forEach(function(x){return u.addType.apply(void 0,(0,f.default)(x))}),delete b.mime,c(b)}function p(v){var b=v(u.jimpEvChange)||{};!b.class&&!b.constants?c({class:b}):c(b)}return a.types&&(a.types.forEach(s),l.decoders=r({},l.decoders,{},o.decoders),l.encoders=r({},l.encoders,{},o.encoders),l.hasAlpha=r({},l.hasAlpha,{},o.hasAlpha)),a.plugins&&a.plugins.forEach(p),(0,u.addJimpMethods)(o.class,l),(0,u.addConstants)(o.constants,l),u.default}Z.exports=S.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=y(n("@jimp/custom")),f=y(n("@jimp/types")),g=y(n("@jimp/plugins")),d=(0,m.default)({types:[f.default],plugins:[g.default]});S.default=d,Z.exports=S.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=y(n("@babel/runtime/helpers/typeof")),f=n("@jimp/utils"),g=function(){return{blit:function(i,r,t,a,l,o,c,s){if(!(i instanceof this.constructor))return f.throwError.call(this,"The source must be a Jimp image",s);if(typeof r!="number"||typeof t!="number")return f.throwError.call(this,"x and y must be numbers",s);if(typeof a=="function")s=a,a=0,l=0,o=i.bitmap.width,c=i.bitmap.height;else if((0,m.default)(a)===(0,m.default)(l)&&(0,m.default)(l)===(0,m.default)(o)&&(0,m.default)(o)===(0,m.default)(c))a=a||0,l=l||0,o=o||i.bitmap.width,c=c||i.bitmap.height;else return f.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",s);r=Math.round(r),t=Math.round(t),a=Math.round(a),l=Math.round(l),o=Math.round(o),c=Math.round(c);var p=this.bitmap.width,v=this.bitmap.height,b=this;return i.scanQuiet(a,l,o,c,function(x,w,j){var E=r+x-a,M=t+w-l;if(E>=0&&M>=0&&p-E>0&&v-M>0){var C=b.getPixelIndex(E,M),P={r:this.bitmap.data[j],g:this.bitmap.data[j+1],b:this.bitmap.data[j+2],a:this.bitmap.data[j+3]},O={r:b.bitmap.data[C],g:b.bitmap.data[C+1],b:b.bitmap.data[C+2],a:b.bitmap.data[C+3]};b.bitmap.data[C]=(P.a*(P.r-O.r)-O.r+255>>8)+O.r,b.bitmap.data[C+1]=(P.a*(P.g-O.g)-O.g+255>>8)+O.g,b.bitmap.data[C+2]=(P.a*(P.b-O.b)-O.b+255>>8)+O.b,b.bitmap.data[C+3]=this.constructor.limit255(O.a+P.a)}}),(0,f.isNodePattern)(s)&&s.call(this,null,this),this}}};S.default=g,Z.exports=S.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.shgTable=S.mulTable=void 0;var y=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];S.mulTable=y;var m=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];S.shgTable=m},{}],203:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils"),m=n("./blur-tables"),f=function(){return{blur:function(u,i){if(typeof u!="number")return y.throwError.call(this,"r must be a number",i);if(u<1)return y.throwError.call(this,"r must be greater than 0",i);for(var r,t,a,l,o,c,s,p,v,b,x,w,j,E,M=this.bitmap.width-1,C=this.bitmap.height-1,P=u+1,O=m.mulTable[u],D=m.shgTable[u],N=[],R=[],I=[],H=[],ee=[],fe=[],xe=2;xe-- >0;){for(w=0,j=0,c=0;c<this.bitmap.height;c++){for(r=this.bitmap.data[j]*P,t=this.bitmap.data[j+1]*P,a=this.bitmap.data[j+2]*P,l=this.bitmap.data[j+3]*P,s=1;s<=u;s++)p=j+((s>M?M:s)<<2),r+=this.bitmap.data[p++],t+=this.bitmap.data[p++],a+=this.bitmap.data[p++],l+=this.bitmap.data[p];for(o=0;o<this.bitmap.width;o++)N[w]=r,R[w]=t,I[w]=a,H[w]=l,c===0&&(ee[o]=((p=o+P)<M?p:M)<<2,fe[o]=(p=o-u)>0?p<<2:0),v=j+ee[o],b=j+fe[o],r+=this.bitmap.data[v++]-this.bitmap.data[b++],t+=this.bitmap.data[v++]-this.bitmap.data[b++],a+=this.bitmap.data[v++]-this.bitmap.data[b++],l+=this.bitmap.data[v]-this.bitmap.data[b],w++;j+=this.bitmap.width<<2}for(o=0;o<this.bitmap.width;o++){for(x=o,r=N[x]*P,t=R[x]*P,a=I[x]*P,l=H[x]*P,s=1;s<=u;s++)x+=s>C?0:this.bitmap.width,r+=N[x],t+=R[x],a+=I[x],l+=H[x];for(w=o<<2,c=0;c<this.bitmap.height;c++)E=l*O>>>D,this.bitmap.data[w+3]=E,E>255&&(this.bitmap.data[w+3]=255),E>0?(E=255/E,this.bitmap.data[w]=(r*O>>>D)*E,this.bitmap.data[w+1]=(t*O>>>D)*E,this.bitmap.data[w+2]=(a*O>>>D)*E):(this.bitmap.data[w+2]=0,this.bitmap.data[w+1]=0,this.bitmap.data[w]=0),o===0&&(ee[c]=((p=c+P)<C?p:C)*this.bitmap.width,fe[c]=(p=c-u)>0?p*this.bitmap.width:0),v=o+ee[c],b=o+fe[c],r+=N[v]-N[b],t+=R[v]-R[b],a+=I[v]-I[b],l+=H[v]-H[b],w+=this.bitmap.width<<2}}return(0,y.isNodePattern)(i)&&i.call(this,null,this),this}}};S.default=f,Z.exports=S.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils"),m=function(){return{circle:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;typeof d=="function"&&(u=d,d={});var i=d.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,r={x:typeof d.x=="number"?d.x:this.bitmap.width/2,y:typeof d.y=="number"?d.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,a,l){var o=Math.sqrt(Math.pow(t-r.x,2)+Math.pow(a-r.y,2));i-o<=0?this.bitmap.data[l+3]=0:i-o<1&&(this.bitmap.data[l+3]=255*(i-o))}),(0,y.isNodePattern)(u)&&u.call(this,null,this),this}}};S.default=m,Z.exports=S.default},{"@jimp/utils":235}],205:[function(n,Z,S){(function(y){var m=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=m(n("@babel/runtime/helpers/toConsumableArray")),g=m(n("tinycolor2")),d=n("@jimp/utils");function u(o,c,s,p){for(var v=[0,0,0],b=(c.length-1)/2,x=0;x<c.length;x+=1)for(var w=0;w<c[x].length;w+=1){var j=o.getPixelIndex(s+x-b,p+w-b);v[0]+=o.bitmap.data[j]*c[x][w],v[1]+=o.bitmap.data[j+1]*c[x][w],v[2]+=o.bitmap.data[j+2]*c[x][w]}return v}var i=function(c){return typeof c<"u"&&c!==null};function r(o){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,s,p){var v=parseInt(.2126*this.bitmap.data[p]+.7152*this.bitmap.data[p+1]+.0722*this.bitmap.data[p+2],10);this.bitmap.data[p]=v,this.bitmap.data[p+1]=v,this.bitmap.data[p+2]=v}),(0,d.isNodePattern)(o)&&o.call(this,null,this),this}function t(o,c){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(c.r-o.r)*(s/100)+o.r,g:(c.g-o.g)*(s/100)+o.g,b:(c.b-o.b)*(s/100)+o.b}}function a(o,c){var s=this;return!o||!Array.isArray(o)?d.throwError.call(this,"actions must be an array",c):(o=o.map(function(p){return(p.apply==="xor"||p.apply==="mix")&&(p.params[0]=(0,g.default)(p.params[0]).toRgb()),p}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(p,v,b){var x={r:s.bitmap.data[b],g:s.bitmap.data[b+1],b:s.bitmap.data[b+2]},w=function(E,M){return s.constructor.limit255(x[E]+M)};o.forEach(function(j){if(j.apply==="mix")x=t(x,j.params[0],j.params[1]);else if(j.apply==="tint")x=t(x,{r:255,g:255,b:255},j.params[0]);else if(j.apply==="shade")x=t(x,{r:0,g:0,b:0},j.params[0]);else if(j.apply==="xor")x={r:x.r^j.params[0].r,g:x.g^j.params[0].g,b:x.b^j.params[0].b};else if(j.apply==="red")x.r=w("r",j.params[0]);else if(j.apply==="green")x.g=w("g",j.params[0]);else if(j.apply==="blue")x.b=w("b",j.params[0]);else{var E;if(j.apply==="hue"&&(j.apply="spin"),x=(0,g.default)(x),!x[j.apply])return d.throwError.call(s,"action "+j.apply+" not supported",c);x=(E=x)[j.apply].apply(E,(0,f.default)(j.params)).toRgb()}}),s.bitmap.data[b]=x.r,s.bitmap.data[b+1]=x.g,s.bitmap.data[b+2]=x.b}),(0,d.isNodePattern)(c)&&c.call(this,null,this),this)}var l=function(){return{brightness:function(s,p){return typeof s!="number"?d.throwError.call(this,"val must be numbers",p):s<-1||s>1?d.throwError.call(this,"val must be a number between -1 and +1",p):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(v,b,x){s<0?(this.bitmap.data[x]=this.bitmap.data[x]*(1+s),this.bitmap.data[x+1]=this.bitmap.data[x+1]*(1+s),this.bitmap.data[x+2]=this.bitmap.data[x+2]*(1+s)):(this.bitmap.data[x]=this.bitmap.data[x]+(255-this.bitmap.data[x])*s,this.bitmap.data[x+1]=this.bitmap.data[x+1]+(255-this.bitmap.data[x+1])*s,this.bitmap.data[x+2]=this.bitmap.data[x+2]+(255-this.bitmap.data[x+2])*s)}),(0,d.isNodePattern)(p)&&p.call(this,null,this),this)},contrast:function(s,p){if(typeof s!="number")return d.throwError.call(this,"val must be numbers",p);if(s<-1||s>1)return d.throwError.call(this,"val must be a number between -1 and +1",p);var v=(s+1)/(1-s);function b(x){return x=Math.floor(v*(x-127)+127),x<0?0:x>255?255:x}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(x,w,j){this.bitmap.data[j]=b(this.bitmap.data[j]),this.bitmap.data[j+1]=b(this.bitmap.data[j+1]),this.bitmap.data[j+2]=b(this.bitmap.data[j+2])}),(0,d.isNodePattern)(p)&&p.call(this,null,this),this},posterize:function(s,p){return typeof s!="number"?d.throwError.call(this,"n must be numbers",p):(s<2&&(s=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(v,b,x){this.bitmap.data[x]=Math.floor(this.bitmap.data[x]/255*(s-1))/(s-1)*255,this.bitmap.data[x+1]=Math.floor(this.bitmap.data[x+1]/255*(s-1))/(s-1)*255,this.bitmap.data[x+2]=Math.floor(this.bitmap.data[x+2]/255*(s-1))/(s-1)*255}),(0,d.isNodePattern)(p)&&p.call(this,null,this),this)},greyscale:r,grayscale:r,opacity:function(s,p){return typeof s!="number"?d.throwError.call(this,"f must be a number",p):s<0||s>1?d.throwError.call(this,"f must be a number from 0 to 1",p):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(v,b,x){var w=this.bitmap.data[x+3]*s;this.bitmap.data[x+3]=w}),(0,d.isNodePattern)(p)&&p.call(this,null,this),this)},sepia:function(s){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(p,v,b){var x=this.bitmap.data[b],w=this.bitmap.data[b+1],j=this.bitmap.data[b+2];x=x*.393+w*.769+j*.189,w=x*.349+w*.686+j*.168,j=x*.272+w*.534+j*.131,this.bitmap.data[b]=x<255?x:255,this.bitmap.data[b+1]=w<255?w:255,this.bitmap.data[b+2]=j<255?j:255}),(0,d.isNodePattern)(s)&&s.call(this,null,this),this},fade:function(s,p){return typeof s!="number"?d.throwError.call(this,"f must be a number",p):s<0||s>1?d.throwError.call(this,"f must be a number from 0 to 1",p):(this.opacity(1-s),(0,d.isNodePattern)(p)&&p.call(this,null,this),this)},convolution:function(s,p,v){typeof p=="function"&&typeof v>"u"&&(v=p,p=null),p||(p=this.constructor.EDGE_EXTEND);var b=y.from(this.bitmap.data),x=s.length,w=s[0].length,j=Math.floor(x/2),E=Math.floor(w/2),M=-j,C=-E,P,O,D,N,R,I,H,ee,fe,xe;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(q,V,K){N=0,D=0,O=0;for(var J=M;J<=j;J++)for(var oe=C;oe<=E;oe++)ee=q+oe,fe=V+J,P=s[J+j][oe+E],xe=this.getPixelIndex(ee,fe,p),xe===-1?(H=0,I=0,R=0):(R=this.bitmap.data[xe+0],I=this.bitmap.data[xe+1],H=this.bitmap.data[xe+2]),O+=P*R,D+=P*I,N+=P*H;O<0&&(O=0),D<0&&(D=0),N<0&&(N=0),O>255&&(O=255),D>255&&(D=255),N>255&&(N=255),b[K+0]=O,b[K+1]=D,b[K+2]=N}),this.bitmap.data=b,(0,d.isNodePattern)(v)&&v.call(this,null,this),this},opaque:function(s){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(p,v,b){this.bitmap.data[b+3]=255}),(0,d.isNodePattern)(s)&&s.call(this,null,this),this},pixelate:function(s,p,v,b,x,w){if(typeof p=="function")w=p,x=null,b=null,v=null,p=null;else{if(typeof s!="number")return d.throwError.call(this,"size must be a number",w);if(i(p)&&typeof p!="number")return d.throwError.call(this,"x must be a number",w);if(i(v)&&typeof v!="number")return d.throwError.call(this,"y must be a number",w);if(i(b)&&typeof b!="number")return d.throwError.call(this,"w must be a number",w);if(i(x)&&typeof x!="number")return d.throwError.call(this,"h must be a number",w)}var j=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];p=p||0,v=v||0,b=i(b)?b:this.bitmap.width-p,x=i(x)?x:this.bitmap.height-v;var E=this.cloneQuiet();return this.scanQuiet(p,v,b,x,function(M,C,P){M=s*Math.floor(M/s),C=s*Math.floor(C/s);var O=u(E,j,M,C);this.bitmap.data[P]=O[0],this.bitmap.data[P+1]=O[1],this.bitmap.data[P+2]=O[2]}),(0,d.isNodePattern)(w)&&w.call(this,null,this),this},convolute:function(s,p,v,b,x,w){if(!Array.isArray(s))return d.throwError.call(this,"the kernel must be an array",w);if(typeof p=="function")w=p,p=null,v=null,b=null,x=null;else{if(i(p)&&typeof p!="number")return d.throwError.call(this,"x must be a number",w);if(i(v)&&typeof v!="number")return d.throwError.call(this,"y must be a number",w);if(i(b)&&typeof b!="number")return d.throwError.call(this,"w must be a number",w);if(i(x)&&typeof x!="number")return d.throwError.call(this,"h must be a number",w)}var j=(s.length-1)/2;p=i(p)?p:j,v=i(v)?v:j,b=i(b)?b:this.bitmap.width-p,x=i(x)?x:this.bitmap.height-v;var E=this.cloneQuiet();return this.scanQuiet(p,v,b,x,function(M,C,P){var O=u(E,s,M,C);this.bitmap.data[P]=this.constructor.limit255(O[0]),this.bitmap.data[P+1]=this.constructor.limit255(O[1]),this.bitmap.data[P+2]=this.constructor.limit255(O[2])}),(0,d.isNodePattern)(w)&&w.call(this,null,this),this},color:a,colour:a}};S.default=l,Z.exports=S.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils"),m=function(){return{contain:function(d,u,i,r,t){if(typeof d!="number"||typeof u!="number")return y.throwError.call(this,"w and h must be numbers",t);typeof i=="string"&&(typeof r=="function"&&typeof t>"u"&&(t=r),r=i,i=null),typeof i=="function"&&(typeof t>"u"&&(t=i),r=null,i=null),typeof r=="function"&&typeof t>"u"&&(t=r,r=null),i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var a=i&8-1,l=i>>3;if(!(a!==0&&!(a&a-1)||l!==0&&!(l&l-1)))return y.throwError.call(this,"only use one flag per alignment direction",t);var o=a>>1,c=l>>1,s=d/u>this.bitmap.width/this.bitmap.height?u/this.bitmap.height:d/this.bitmap.width,p=this.cloneQuiet().scale(s,r);return this.resize(d,u,r),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(v,b,x){this.bitmap.data.writeUInt32BE(this._background,x)}),this.blit(p,(this.bitmap.width-p.bitmap.width)/2*o,(this.bitmap.height-p.bitmap.height)/2*c),(0,y.isNodePattern)(t)&&t.call(this,null,this),this}}};S.default=m,Z.exports=S.default},{"@jimp/utils":235}],207:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils"),m=function(){return{cover:function(d,u,i,r,t){if(typeof d!="number"||typeof u!="number")return y.throwError.call(this,"w and h must be numbers",t);i&&typeof i=="function"&&typeof t>"u"?(t=i,i=null,r=null):typeof r=="function"&&typeof t>"u"&&(t=r,r=null),i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var a=i&8-1,l=i>>3;if(!(a!==0&&!(a&a-1)||l!==0&&!(l&l-1)))return y.throwError.call(this,"only use one flag per alignment direction",t);var o=a>>1,c=l>>1,s=d/u>this.bitmap.width/this.bitmap.height?d/this.bitmap.width:u/this.bitmap.height;return this.scale(s,r),this.crop((this.bitmap.width-d)/2*o,(this.bitmap.height-u)/2*c,d,u),(0,y.isNodePattern)(t)&&t.call(this,null,this),this}}};S.default=m,Z.exports=S.default},{"@jimp/utils":235}],208:[function(n,Z,S){(function(y){var m=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=d;var f=m(n("@babel/runtime/helpers/typeof")),g=n("@jimp/utils");function d(u){return u("crop",function(i,r,t,a,l){if(typeof i!="number"||typeof r!="number")return g.throwError.call(this,"x and y must be numbers",l);if(typeof t!="number"||typeof a!="number")return g.throwError.call(this,"w and h must be numbers",l);if(i=Math.round(i),r=Math.round(r),t=Math.round(t),a=Math.round(a),i===0&&t===this.bitmap.width){var o=t*r+i<<2,c=o+a*t<<2;this.bitmap.data=this.bitmap.data.slice(o,c)}else{var s=y.allocUnsafe(t*a*4),p=0;this.scanQuiet(i,r,t,a,function(v,b,x){var w=this.bitmap.data.readUInt32BE(x,!0);s.writeUInt32BE(w,p,!0),p+=4}),this.bitmap.data=s}return this.bitmap.width=t,this.bitmap.height=a,(0,g.isNodePattern)(l)&&l.call(this,null,this),this}),{class:{autocrop:function(){for(var r=this.bitmap.width,t=this.bitmap.height,a=1,l,o=0,c=2e-4,s=!0,p=!1,v=arguments.length,b=new Array(v),x=0;x<v;x++)b[x]=arguments[x];for(var w=0,j=b.length;w<j;w++)if(typeof b[w]=="number"&&(c=b[w]),typeof b[w]=="boolean"&&(s=b[w]),typeof b[w]=="function"&&(l=b[w]),(0,f.default)(b[w])==="object"){var E=b[w];typeof E.tolerance<"u"&&(c=E.tolerance),typeof E.cropOnlyFrames<"u"&&(s=E.cropOnlyFrames),typeof E.cropSymmetric<"u"&&(p=E.cropSymmetric),typeof E.leaveBorder<"u"&&(o=E.leaveBorder)}var M=this.getPixelColor(0,0),C=this.constructor.intToRGBA(M),P=0,O=0,D=0,N=0;M=this.getPixelColor(0,0);e:for(var R=0;R<t-a;R++){for(var I=0;I<r;I++){var H=this.getPixelColor(I,R),ee=this.constructor.intToRGBA(H);if(this.constructor.colorDiff(C,ee)>c)break e}P++}M=this.getPixelColor(r,0);e:for(var fe=0;fe<r-a;fe++){for(var xe=0+P;xe<t;xe++){var q=this.getPixelColor(fe,xe),V=this.constructor.intToRGBA(q);if(this.constructor.colorDiff(C,V)>c)break e}O++}M=this.getPixelColor(0,t);e:for(var K=t-1;K>=P+a;K--){for(var J=r-O-1;J>=0;J--){var oe=this.getPixelColor(J,K),_e=this.constructor.intToRGBA(oe);if(this.constructor.colorDiff(C,_e)>c)break e}D++}M=this.getPixelColor(r,t);e:for(var Oe=r-1;Oe>=0+O+a;Oe--){for(var De=t-1;De>=0+P;De--){var Te=this.getPixelColor(Oe,De),Be=this.constructor.intToRGBA(Te);if(this.constructor.colorDiff(C,Be)>c)break e}N++}var Re=!1;if(N-=o,O-=o,P-=o,D-=o,p){var ve=Math.min(O,N),ge=Math.min(P,D);N=ve,O=ve,P=ge,D=ge}N=N>=0?N:0,O=O>=0?O:0,P=P>=0?P:0,D=D>=0?D:0;var Ae=r-(N+O),Ie=t-(D+P);return s?Re=O!==0&&P!==0&&N!==0&&D!==0:Re=O!==0||P!==0||N!==0||D!==0,Re&&this.crop(O,P,Ae,Ie),(0,g.isNodePattern)(l)&&l.call(this,null,this),this}}}}Z.exports=S.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=y(n("@babel/runtime/helpers/typeof")),f=n("@jimp/utils"),g=function(){return{displace:function(i,r,t){if((0,m.default)(i)!=="object"||i.constructor!==this.constructor)return f.throwError.call(this,"The source must be a Jimp image",t);if(typeof r!="number")return f.throwError.call(this,"factor must be a number",t);var a=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,o,c){var s=i.bitmap.data[c]/256*r;s=Math.round(s);var p=this.getPixelIndex(l+s,o);this.bitmap.data[p]=a.bitmap.data[c],this.bitmap.data[p+1]=a.bitmap.data[c+1],this.bitmap.data[p+2]=a.bitmap.data[c+2]}),(0,f.isNodePattern)(t)&&t.call(this,null,this),this}}};S.default=g,Z.exports=S.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils");function m(g){var d=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,i,r){var t=((i&3)<<2)+u%4,a=d[t];this.bitmap.data[r]=Math.min(this.bitmap.data[r]+a,255),this.bitmap.data[r+1]=Math.min(this.bitmap.data[r+1]+a,255),this.bitmap.data[r+2]=Math.min(this.bitmap.data[r+2]+a,255)}),(0,y.isNodePattern)(g)&&g.call(this,null,this),this}var f=function(){return{dither565:m,dither16:m}};S.default=f,Z.exports=S.default},{"@jimp/utils":235}],211:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils"),m=function(){return{fisheye:function(){var d=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},i=arguments.length>1?arguments[1]:void 0;typeof u=="function"&&(i=u,u={r:2.5});var r=this.cloneQuiet(),t=r.bitmap,a=t.width,l=t.height;return r.scanQuiet(0,0,a,l,function(o,c){var s=o/a,p=c/l,v=Math.sqrt(Math.pow(s-.5,2)+Math.pow(p-.5,2)),b=2*Math.pow(v,u.r),x=(s-.5)/v,w=(p-.5)/v,j=Math.round((b*x+.5)*a),E=Math.round((b*w+.5)*l),M=r.getPixelColor(j,E);d.setPixelColor(M,o,c)}),this.setPixelColor(r.getPixelColor(a/2,l/2),a/2,l/2),(0,y.isNodePattern)(i)&&i.call(this,null,this),this}}};S.default=m,Z.exports=S.default},{"@jimp/utils":235}],212:[function(n,Z,S){(function(y){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=n("@jimp/utils");function f(d,u,i){if(typeof d!="boolean"||typeof u!="boolean")return m.throwError.call(this,"horizontal and vertical must be Booleans",i);var r=y.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,a,l){var o=d?this.bitmap.width-1-t:t,c=u?this.bitmap.height-1-a:a,s=this.bitmap.width*c+o<<2,p=this.bitmap.data.readUInt32BE(l);r.writeUInt32BE(p,s)}),this.bitmap.data=y.from(r),(0,m.isNodePattern)(i)&&i.call(this,null,this),this}var g=function(){return{flip:f,mirror:f}};S.default=g,Z.exports=S.default}).call(this,n("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils"),m=function(){return{gaussian:function(d,u){if(typeof d!="number")return y.throwError.call(this,"r must be a number",u);if(d<1)return y.throwError.call(this,"r must be greater than 0",u);for(var i=Math.ceil(d*2.57),r=i*2+1,t=d*d*2,a=t*Math.PI,l=[],o=0;o<r;o++){l[o]=[];for(var c=0;c<r;c++){var s=Math.pow(c-i,2)+Math.pow(o-i,2);l[o][c]=Math.exp(-s/t)/a}}for(var p=0;p<this.bitmap.height;p++)for(var v=0;v<this.bitmap.width;v++)for(var b=0,x=0,w=0,j=0,E=0,M=0;M<r;M++){for(var C=0;C<r;C++){var P=Math.min(this.bitmap.width-1,Math.max(0,C+v-i)),O=Math.min(this.bitmap.height-1,Math.max(0,M+p-i)),D=l[M][C],N=O*this.bitmap.width+P<<2;b+=this.bitmap.data[N]*D,x+=this.bitmap.data[N+1]*D,w+=this.bitmap.data[N+2]*D,j+=this.bitmap.data[N+3]*D,E+=D}var R=p*this.bitmap.width+v<<2;this.bitmap.data[R]=Math.round(b/E),this.bitmap.data[R+1]=Math.round(x/E),this.bitmap.data[R+2]=Math.round(w/E),this.bitmap.data[R+3]=Math.round(j/E)}return(0,y.isNodePattern)(u)&&u.call(this,null,this),this}}};S.default=m,Z.exports=S.default},{"@jimp/utils":235}],214:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils"),m=function(){return{invert:function(d){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(u,i,r){this.bitmap.data[r]=255-this.bitmap.data[r],this.bitmap.data[r+1]=255-this.bitmap.data[r+1],this.bitmap.data[r+2]=255-this.bitmap.data[r+2]}),(0,y.isNodePattern)(d)&&d.call(this,null,this),this}}};S.default=m,Z.exports=S.default},{"@jimp/utils":235}],215:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils"),m=function(){return{mask:function(d){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;if(!(d instanceof this.constructor))return y.throwError.call(this,"The source must be a Jimp image",r);if(typeof u!="number"||typeof i!="number")return y.throwError.call(this,"x and y must be numbers",r);u=Math.round(u),i=Math.round(i);var t=this.bitmap.width,a=this.bitmap.height,l=this;return d.scanQuiet(0,0,d.bitmap.width,d.bitmap.height,function(o,c,s){var p=u+o,v=i+c;if(p>=0&&v>=0&&p<t&&v<a){var b=l.getPixelIndex(p,v),x=this.bitmap.data,w=(x[s+0]+x[s+1]+x[s+2])/3;l.bitmap.data[b+3]*=w/255}}),(0,y.isNodePattern)(r)&&r.call(this,null,this),this}}};S.default=m,Z.exports=S.default},{"@jimp/utils":235}],216:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils");function m(){var u={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(i,r,t){u.r[this.bitmap.data[t+0]]++,u.g[this.bitmap.data[t+1]]++,u.b[this.bitmap.data[t+2]]++}),u}var f=function(i,r,t){return(i-r)*255/(t-r)},g=function(i){return[i.findIndex(function(r){return r>0}),255-i.slice().reverse().findIndex(function(r){return r>0})]},d=function(){return{normalize:function(r){var t=m.call(this),a={r:g(t.r),g:g(t.g),b:g(t.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,o,c){var s=this.bitmap.data[c+0],p=this.bitmap.data[c+1],v=this.bitmap.data[c+2];this.bitmap.data[c+0]=f(s,a.r[0],a.r[1]),this.bitmap.data[c+1]=f(p,a.g[0],a.g[1]),this.bitmap.data[c+2]=f(v,a.b[0],a.b[1])}),(0,y.isNodePattern)(r)&&r.call(this,null,this),this}}};S.default=d,Z.exports=S.default},{"@jimp/utils":235}],217:[function(n,Z,S){(function(y){var m=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=m(n("@babel/runtime/helpers/typeof")),g=m(n("@babel/runtime/helpers/toConsumableArray")),d=m(n("path")),u=m(n("load-bmfont")),i=n("@jimp/utils"),r=n("./measure-text");function t(v,b,x,w,j){return j===v.HORIZONTAL_ALIGN_LEFT?0:j===v.HORIZONTAL_ALIGN_CENTER?(w-(0,r.measureText)(b,x))/2:w-(0,r.measureText)(b,x)}function a(v,b,x,w,j){if(j.width>0&&j.height>0){var E=b.pages[j.page];v.blit(E,x+j.xoffset,w+j.yoffset,j.x,j.y,j.width,j.height)}return v}function l(v,b,x,w,j){for(var E=0;E<w.length;E++){var M=void 0;v.chars[w[E]]?M=w[E]:/\s/.test(w[E])?M="":M="?";var C=v.chars[M]||{},P=v.kernings[M];a(this,v,b,x,C||{});var O=P&&P[w[E+1]]?P[w[E+1]]:0;b+=O+(C.xadvance||j)}}function o(v,b,x){var w=b.split(" "),j=[],E=[],M=0;return w.forEach(function(C){var P=[].concat((0,g.default)(E),[C]).join(" "),O=(0,r.measureText)(v,P);O<=x?(O>M&&(M=O),E.push(C)):(j.push(E),E=[C])}),j.push(E),{lines:j,longestLine:M}}function c(v,b,x){var w=x.map(function(j){return v.read(b+"/"+j)});return Promise.all(w)}var s="browser/lib/",p=function(){return{constants:{measureText:r.measureText,measureTextHeight:r.measureTextHeight,FONT_SANS_8_BLACK:d.default.join(s,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:d.default.join(s,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:d.default.join(s,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:d.default.join(s,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:d.default.join(s,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:d.default.join(s,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:d.default.join(s,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:d.default.join(s,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:d.default.join(s,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:d.default.join(s,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:d.default.join(s,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:d.default.join(s,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:d.default.join(s,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(x,w){var j=this;return typeof x!="string"?i.throwError.call(this,"file must be a string",w):new Promise(function(E,M){w=w||function(C,P){C?M(C):E(P)},(0,u.default)(x,function(C,P){var O={},D={};if(C)return i.throwError.call(j,C,w);for(var N=0;N<P.chars.length;N++)O[String.fromCharCode(P.chars[N].id)]=P.chars[N];for(var R=0;R<P.kernings.length;R++){var I=String.fromCharCode(P.kernings[R].first);D[I]=D[I]||{},D[I][String.fromCharCode(P.kernings[R].second)]=P.kernings[R].amount}c(j,d.default.dirname(x),P.pages).then(function(H){w(null,{chars:O,kernings:D,pages:H,common:P.common,info:P.info})})})})}},class:{print:function(x,w,j,E,M,C,P){var O=this;if(typeof M=="function"&&typeof P>"u"&&(P=M,M=1/0),typeof M>"u"&&(M=1/0),typeof C=="function"&&typeof P>"u"&&(P=C,C=1/0),typeof C>"u"&&(C=1/0),(0,f.default)(x)!=="object")return i.throwError.call(this,"font must be a Jimp loadFont",P);if(typeof w!="number"||typeof j!="number"||typeof M!="number")return i.throwError.call(this,"x, y and maxWidth must be numbers",P);if(typeof M!="number")return i.throwError.call(this,"maxWidth must be a number",P);if(typeof C!="number")return i.throwError.call(this,"maxHeight must be a number",P);var D,N;if((0,f.default)(E)==="object"&&E.text!==null&&E.text!==void 0){D=E.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,N=E.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var R=E;E=R.text}else D=this.constructor.HORIZONTAL_ALIGN_LEFT,N=this.constructor.VERTICAL_ALIGN_TOP,E=E.toString();C!==1/0&&N===this.constructor.VERTICAL_ALIGN_BOTTOM?j+=C-(0,r.measureTextHeight)(x,E,M):C!==1/0&&N===this.constructor.VERTICAL_ALIGN_MIDDLE&&(j+=C/2-(0,r.measureTextHeight)(x,E,M)/2);var I=Object.entries(x.chars)[0][1].xadvance,H=o(x,E,M),ee=H.lines,fe=H.longestLine;return ee.forEach(function(xe){var q=xe.join(" "),V=t(O.constructor,x,q,M,D);l.call(O,x,w+V,j,q,I),j+=x.common.lineHeight}),(0,i.isNodePattern)(P)&&P.call(this,null,this,{x:w+fe,y:j}),this}}}};S.default=p,Z.exports=S.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.measureText=y,S.measureTextHeight=m;function y(f,g){for(var d=0,u=0;u<g.length;u++)if(f.chars[g[u]]){var i=f.kernings[g[u]]&&f.kernings[g[u]][g[u+1]]?f.kernings[g[u]][g[u+1]]:0;d+=(f.chars[g[u]].xadvance||0)+i}return d}function m(f,g,d){for(var u=g.split(" "),i="",r=f.common.lineHeight,t=0;t<u.length;t++){var a=i+u[t]+" ",l=y(f,a);l>d&&t>0?(r+=f.common.lineHeight,i=u[t]+" "):i=a}return r}},{}],219:[function(n,Z,S){(function(y){var m=n("xhr"),f=function(){},g=n("parse-bmfont-ascii"),d=n("parse-bmfont-xml"),u=n("parse-bmfont-binary"),i=n("./lib/is-binary"),r=n("xtend"),t=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();Z.exports=function(o,c){c=typeof c=="function"?c:f,typeof o=="string"?o={uri:o}:o||(o={});var s=o.binary;s&&(o=l(o)),m(o,function(p,v,b){if(p)return c(p);if(!/^2/.test(v.statusCode))return c(new Error("http status code: "+v.statusCode));if(!b)return c(new Error("no body result"));var x=!1;if(a(b)){var w=new Uint8Array(b);b=new y(w,"binary")}i(b)&&(x=!0,typeof b=="string"&&(b=new y(b,"binary"))),x||(y.isBuffer(b)&&(b=b.toString(o.encoding)),b=b.trim());var j;try{var E=v.headers["content-type"];x?j=u(b):/json/.test(E)||b.charAt(0)==="{"?j=JSON.parse(b):/xml/.test(E)||b.charAt(0)==="<"?j=d(b):j=g(b)}catch(M){c(new Error("error parsing font "+M.message)),c=f}c(null,j)})};function a(o){var c=Object.prototype.toString;return c.call(o)==="[object ArrayBuffer]"}function l(o){if(t)return r(o,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var c=new self.XMLHttpRequest;return c.overrideMimeType("text/plain; charset=x-user-defined"),r({xhr:c},o)}}).call(this,n("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(n,Z,S){(function(y){var m=n("buffer-equal"),f=new y([66,77,70,3]);Z.exports=function(g){return typeof g=="string"?g.substring(0,3)==="BMF":g.length>4&&m(g.slice(0,4),f)}}).call(this,n("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(n,Z,S){(function(y){var m=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=n("@jimp/utils"),g=m(n("./modules/resize")),d=m(n("./modules/resize2")),u=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(t,a,l,o){if(typeof t!="number"||typeof a!="number")return f.throwError.call(this,"w and h must be numbers",o);if(typeof l=="function"&&typeof o>"u"&&(o=l,l=null),t===this.constructor.AUTO&&a===this.constructor.AUTO)return f.throwError.call(this,"w and h cannot both be set to auto",o);if(t===this.constructor.AUTO&&(t=this.bitmap.width*(a/this.bitmap.height)),a===this.constructor.AUTO&&(a=this.bitmap.height*(t/this.bitmap.width)),t<0||a<0)return f.throwError.call(this,"w and h must be positive numbers",o);if(t=Math.round(t),a=Math.round(a),typeof d.default[l]=="function"){var c={data:y.alloc(t*a*4),width:t,height:a};d.default[l](this.bitmap,c),this.bitmap=c}else{var s=this,p=new g.default(this.bitmap.width,this.bitmap.height,t,a,!0,!0,function(v){s.bitmap.data=y.from(v),s.bitmap.width=t,s.bitmap.height=a});p.resize(this.bitmap.data)}return(0,f.isNodePattern)(o)&&o.call(this,null,this),this}}}};S.default=u,Z.exports=S.default}).call(this,n("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(n,Z,S){function y(m,f,g,d,u,i,r){this.widthOriginal=Math.abs(Math.floor(m)||0),this.heightOriginal=Math.abs(Math.floor(f)||0),this.targetWidth=Math.abs(Math.floor(g)||0),this.targetHeight=Math.abs(Math.floor(d)||0),this.colorChannels=u?4:3,this.interpolationPass=!!i,this.resizeCallback=typeof r=="function"?r:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}y.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")},y.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},y.prototype._resizeWidthInterpolatedRGBChannels=function(m,f){var g=f?4:3,d=this.ratioWeightWidthPass,u=this.widthBuffer,i=0,r=0,t=0,a=0,l=0,o;for(o=0;i<1/3;o+=g,i+=d)for(r=o,t=0;r<this.widthPassResultSize;t+=this.originalWidthMultipliedByChannels,r+=this.targetWidthMultipliedByChannels)u[r]=m[t],u[r+1]=m[t+1],u[r+2]=m[t+2],f&&(u[r+3]=m[t+3]);i-=1/3;var c;for(c=this.widthOriginal-1;i<c;o+=g,i+=d)for(l=i%1,a=1-l,r=o,t=Math.floor(i)*g;r<this.widthPassResultSize;t+=this.originalWidthMultipliedByChannels,r+=this.targetWidthMultipliedByChannels)u[r+0]=m[t+0]*a+m[t+g+0]*l,u[r+1]=m[t+1]*a+m[t+g+1]*l,u[r+2]=m[t+2]*a+m[t+g+2]*l,f&&(u[r+3]=m[t+3]*a+m[t+g+3]*l);for(c=this.originalWidthMultipliedByChannels-g;o<this.targetWidthMultipliedByChannels;o+=g)for(r=o,t=c;r<this.widthPassResultSize;t+=this.originalWidthMultipliedByChannels,r+=this.targetWidthMultipliedByChannels)u[r]=m[t],u[r+1]=m[t+1],u[r+2]=m[t+2],f&&(u[r+3]=m[t+3]);return u},y.prototype._resizeWidthRGBChannels=function(m,f){var g=f?4:3,d=this.ratioWeightWidthPass,u=1/d,i=this.originalWidthMultipliedByChannels-g+1,r=this.targetWidthMultipliedByChannels-g+1,t=this.outputWidthWorkBench,a=this.widthBuffer,l=this.outputWidthWorkBenchOpaquePixelsCount,o=0,c=0,s=0,p=0,v=0,b=0,x=0,w=1,j=0,E=0,M=0,C=0;do{for(v=0;v<this.originalHeightMultipliedByChannels;)t[v++]=0,t[v++]=0,t[v++]=0,f&&(t[v++]=0,l[v/g-1]=0);o=d;do{for(c=1+s-p,w=Math.min(o,c),v=0,b=s;v<this.originalHeightMultipliedByChannels;b+=i)j=m[b],E=m[++b],M=m[++b],C=f?m[++b]:255,t[v++]+=(C?j:0)*w,t[v++]+=(C?E:0)*w,t[v++]+=(C?M:0)*w,f&&(t[v++]+=C*w,l[v/g-1]+=C?w:0);if(o>=c)s+=g,p=s,o-=c;else{p+=o;break}}while(o>0&&s<this.originalWidthMultipliedByChannels);for(v=0,b=x;v<this.originalHeightMultipliedByChannels;b+=r)o=f?l[v/g]:1,w=f?o?1/o:0:u,a[b]=t[v++]*w,a[++b]=t[v++]*w,a[++b]=t[v++]*w,f&&(a[++b]=t[v++]*u);x+=g}while(x<this.targetWidthMultipliedByChannels);return a},y.prototype._resizeHeightRGBChannels=function(m,f){var g=this.ratioWeightHeightPass,d=1/g,u=this.outputHeightWorkBench,i=this.heightBuffer,r=this.outputHeightWorkBenchOpaquePixelsCount,t=0,a=0,l=0,o=0,c=0,s=0,p=0,v=1,b=0,x=0,w=0,j=0;do{for(c=0;c<this.targetWidthMultipliedByChannels;)u[c++]=0,u[c++]=0,u[c++]=0,f&&(u[c++]=0,r[c/4-1]=0);t=g;do{for(a=1+l-o,v=Math.min(t,a),p=l,c=0;c<this.targetWidthMultipliedByChannels;)b=m[p++],x=m[p++],w=m[p++],j=f?m[p++]:255,u[c++]+=(j?b:0)*v,u[c++]+=(j?x:0)*v,u[c++]+=(j?w:0)*v,f&&(u[c++]+=j*v,r[c/4-1]+=j?v:0);if(t>=a)l=p,o=l,t-=a;else{o+=t;break}}while(t>0&&l<this.widthPassResultSize);for(c=0;c<this.targetWidthMultipliedByChannels;)t=f?r[c/4]:1,v=f?t?1/t:0:d,i[s++]=Math.round(u[c++]*v),i[s++]=Math.round(u[c++]*v),i[s++]=Math.round(u[c++]*v),f&&(i[s++]=Math.round(u[c++]*d))}while(s<this.finalResultSize);return i},y.prototype.resizeWidthInterpolatedRGB=function(m){return this._resizeWidthInterpolatedRGBChannels(m,!1)},y.prototype.resizeWidthInterpolatedRGBA=function(m){return this._resizeWidthInterpolatedRGBChannels(m,!0)},y.prototype.resizeWidthRGB=function(m){return this._resizeWidthRGBChannels(m,!1)},y.prototype.resizeWidthRGBA=function(m){return this._resizeWidthRGBChannels(m,!0)},y.prototype.resizeHeightInterpolated=function(m){for(var f=this.ratioWeightHeightPass,g=this.heightBuffer,d=0,u=0,i=0,r=0,t=0,a=0,l=0,o;d<1/3;d+=f)for(i=0;i<this.targetWidthMultipliedByChannels;)g[u++]=Math.round(m[i++]);for(d-=1/3,o=this.heightOriginal-1;d<o;d+=f)for(l=d%1,a=1-l,r=Math.floor(d)*this.targetWidthMultipliedByChannels,t=r+this.targetWidthMultipliedByChannels,i=0;i<this.targetWidthMultipliedByChannels;++i)g[u++]=Math.round(m[r++]*a+m[t++]*l);for(;u<this.finalResultSize;)for(i=0,r=o*this.targetWidthMultipliedByChannels;i<this.targetWidthMultipliedByChannels;++i)g[u++]=Math.round(m[r++]);return g},y.prototype.resizeHeightRGB=function(m){return this._resizeHeightRGBChannels(m,!1)},y.prototype.resizeHeightRGBA=function(m){return this._resizeHeightRGBChannels(m,!0)},y.prototype.resize=function(m){this.resizeCallback(this.resizeHeight(this.resizeWidth(m)))},y.prototype.bypassResizer=function(m){return m},y.prototype.initializeFirstPassBuffers=function(m){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),m||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},y.prototype.initializeSecondPassBuffers=function(m){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),m||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},y.prototype.generateFloatBuffer=function(m){try{return new Float32Array(m)}catch{return[]}},y.prototype.generateFloat64Buffer=function(m){try{return new Float64Array(m)}catch{return[]}},y.prototype.generateUint8Buffer=function(m){try{return new Uint8Array(m)}catch{return[]}},Z.exports=y},{}],223:[function(n,Z,S){(function(y){Z.exports={nearestNeighbor:function(f,g){for(var d=f.width,u=f.height,i=g.width,r=g.height,t=f.data,a=g.data,l=0;l<r;l++)for(var o=0;o<i;o++){var c=(l*i+o)*4,s=Math.floor(l*u/r),p=Math.floor(o*d/i),v=(s*d+p)*4;a[c++]=t[v++],a[c++]=t[v++],a[c++]=t[v++],a[c++]=t[v++]}},bilinearInterpolation:function(f,g){for(var d=f.width,u=f.height,i=g.width,r=g.height,t=f.data,a=g.data,l=function(C,P,O,D,N){return P===D?O:Math.round((C-P)*N+(D-C)*O)},o=function(C,P,O,D,N,R,I,H){var ee=(I*d+D)*4+P,fe=(I*d+N)*4+P,xe=l(O,D,t[ee],N,t[fe]);if(H===I)a[C+P]=xe;else{ee=(H*d+D)*4+P,fe=(H*d+N)*4+P;var q=l(O,D,t[ee],N,t[fe]);a[C+P]=l(R,I,xe,H,q)}},c=0;c<r;c++)for(var s=0;s<i;s++){var p=(c*i+s)*4,v=s*d/i,b=Math.floor(v),x=Math.min(Math.ceil(v),d-1),w=c*u/r,j=Math.floor(w),E=Math.min(Math.ceil(w),u-1);o(p,0,v,b,x,w,j,E),o(p,1,v,b,x,w,j,E),o(p,2,v,b,x,w,j,E),o(p,3,v,b,x,w,j,E)}},_interpolate2D:function(f,g,d,u){for(var i=f.data,r=g.data,t=f.width,a=f.height,l=g.width,o=g.height,c=Math.max(1,Math.floor(t/l)),s=l*c,p=Math.max(1,Math.floor(a/o)),v=o*p,b=y.alloc(s*a*4),x=0;x<a;x++)for(var w=0;w<s;w++)for(var j=w*(t-1)/s,E=Math.floor(j),M=j-E,C=(x*t+E)*4,P=(x*s+w)*4,O=0;O<4;O++){var D=C+O,N=E>0?i[D-4]:2*i[D]-i[D+4],R=i[D],I=i[D+4],H=E<t-2?i[D+8]:2*i[D+4]-i[D];b[P+O]=u(N,R,I,H,M)}for(var ee=y.alloc(s*v*4),fe=0;fe<v;fe++)for(var xe=0;xe<s;xe++)for(var q=fe*(a-1)/v,V=Math.floor(q),K=q-V,J=(V*s+xe)*4,oe=(fe*s+xe)*4,_e=0;_e<4;_e++){var Oe=J+_e,De=V>0?b[Oe-s*4]:2*b[Oe]-b[Oe+s*4],Te=b[Oe],Be=b[Oe+s*4],Re=V<a-2?b[Oe+s*8]:2*b[Oe+s*4]-b[Oe];ee[oe+_e]=u(De,Te,Be,Re,K)}var ve=c*p;if(ve>1)for(var ge=0;ge<o;ge++)for(var Ae=0;Ae<l;Ae++){for(var Ie=0,de=0,ae=0,ne=0,Me=0,pe=0;pe<p;pe++)for(var le=ge*p+pe,re=0;re<c;re++){var Le=Ae*c+re,h=(le*s+Le)*4,_=ee[h+3];_&&(Ie+=ee[h],de+=ee[h+1],ae+=ee[h+2],Me++),ne+=_}var T=(ge*l+Ae)*4;r[T]=Me?Math.round(Ie/Me):0,r[T+1]=Me?Math.round(de/Me):0,r[T+2]=Me?Math.round(ae/Me):0,r[T+3]=Math.round(ne/ve)}else g.data=ee},bicubicInterpolation:function(f,g,d){var u=function(r,t,a,l,o){var c=l-a-r+t,s=r-t-c,p=a-r,v=t;return Math.max(0,Math.min(255,c*(o*o*o)+s*(o*o)+p*o+v))};return this._interpolate2D(f,g,d,u)},hermiteInterpolation:function(f,g,d){var u=function(r,t,a,l,o){var c=t,s=.5*(a-r),p=r-2.5*t+2*a-.5*l,v=.5*(l-r)+1.5*(t-a);return Math.max(0,Math.min(255,Math.round(((v*o+p)*o+s)*o+c)))};return this._interpolate2D(f,g,d,u)},bezierInterpolation:function(f,g,d){var u=function(r,t,a,l,o){var c=t+(a-r)/4,s=a-(l-t)/4,p=1-o,v=t*p*p*p,b=3*c*p*p*o,x=3*s*p*o*o,w=a*o*o*o;return Math.max(0,Math.min(255,Math.round(v+b+x+w)))};return this._interpolate2D(f,g,d,u)}}}).call(this,n("buffer").Buffer)},{buffer:48}],224:[function(n,Z,S){(function(y){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=n("@jimp/utils");function f(d,u){d%=360;var i=d*Math.PI/180,r=Math.cos(i),t=Math.sin(i),a=this.bitmap.width,l=this.bitmap.height;if(u===!0||typeof u=="string"){a=Math.ceil(Math.abs(this.bitmap.width*r)+Math.abs(this.bitmap.height*t))+1,l=Math.ceil(Math.abs(this.bitmap.width*t)+Math.abs(this.bitmap.height*r))+1,a%2!==0&&a++,l%2!==0&&l++;var o=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(I,H,ee){this.bitmap.data.writeUInt32BE(this._background,ee)});var c=Math.max(a,l,this.bitmap.width,this.bitmap.height);this.resize(c,c,u),this.blit(o,this.bitmap.width/2-o.bitmap.width/2,this.bitmap.height/2-o.bitmap.height/2)}var s=this.bitmap.width,p=this.bitmap.height,v=y.alloc(this.bitmap.data.length);function b(I,H){return function(ee,fe){return{x:ee+I,y:fe+H}}}for(var x=b(-(s/2),-(p/2)),w=b(s/2+.5,p/2+.5),j=1;j<=p;j++)for(var E=1;E<=s;E++){var M=x(E,j),C=w(r*M.x-t*M.y,r*M.y+t*M.x),P=s*(j-1)+E-1<<2;if(C.x>=0&&C.x<s&&C.y>=0&&C.y<p){var O=(s*(C.y|0)+C.x|0)<<2,D=this.bitmap.data.readUInt32BE(O);v.writeUInt32BE(D,P)}else v.writeUInt32BE(this._background,P)}if(this.bitmap.data=v,u===!0||typeof u=="string"){var N=s/2-a/2,R=p/2-l/2;this.crop(N,R,a,l)}}var g=function(){return{rotate:function(i,r,t){return(typeof r>"u"||r===null)&&(r=!0),typeof r=="function"&&typeof t>"u"&&(t=r,r=!0),typeof i!="number"?m.throwError.call(this,"deg must be a number",t):typeof r!="boolean"&&typeof r!="string"?m.throwError.call(this,"mode must be a boolean or a string",t):(f.call(this,i,r,t),(0,m.isNodePattern)(t)&&t.call(this,null,this),this)}}};S.default=g,Z.exports=S.default}).call(this,n("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils"),m=function(){return{scale:function(d,u,i){if(typeof d!="number")return y.throwError.call(this,"f must be a number",i);if(d<0)return y.throwError.call(this,"f must be a positive number",i);typeof u=="function"&&typeof i>"u"&&(i=u,u=null);var r=this.bitmap.width*d,t=this.bitmap.height*d;return this.resize(r,t,u),(0,y.isNodePattern)(i)&&i.call(this,null,this),this},scaleToFit:function(d,u,i,r){if(typeof d!="number"||typeof u!="number")return y.throwError.call(this,"w and h must be numbers",r);typeof i=="function"&&typeof r>"u"&&(r=i,i=null);var t=d/u>this.bitmap.width/this.bitmap.height?u/this.bitmap.height:d/this.bitmap.width;return this.scale(t,i),(0,y.isNodePattern)(r)&&r.call(this,null,this),this}}};S.default=m,Z.exports=S.default},{"@jimp/utils":235}],226:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils"),m=function(){return{shadow:function(){var d=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;typeof u=="function"&&(i=u,u={});var r=u,t=r.opacity,a=t===void 0?.7:t,l=r.size,o=l===void 0?1.1:l,c=r.x,s=c===void 0?-25:c,p=r.y,v=p===void 0?25:p,b=r.blur,x=b===void 0?5:b,w=this.clone(),j=this.clone();return j.scan(0,0,j.bitmap.width,j.bitmap.height,function(E,M,C){j.bitmap.data[C]=0,j.bitmap.data[C+1]=0,j.bitmap.data[C+2]=0,j.bitmap.data[C+3]=j.constructor.limit255(j.bitmap.data[C+3]*a),d.bitmap.data[C]=0,d.bitmap.data[C+1]=0,d.bitmap.data[C+2]=0,d.bitmap.data[C+3]=0}),j.resize(j.bitmap.width*o,j.bitmap.height*o).blur(x),this.composite(j,s,v),this.composite(w,0,0),(0,y.isNodePattern)(i)&&i.call(this,null,this),this}}};S.default=m,Z.exports=S.default},{"@jimp/utils":235}],227:[function(n,Z,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var y=n("@jimp/utils"),m=function(){return{threshold:function(d,u){var i=this,r=d.max,t=d.replace,a=t===void 0?255:t,l=d.autoGreyscale,o=l===void 0?!0:l;return typeof r!="number"?y.throwError.call(this,"max must be a number",u):typeof a!="number"?y.throwError.call(this,"replace must be a number",u):typeof o!="boolean"?y.throwError.call(this,"autoGreyscale must be a boolean",u):(r=this.constructor.limit255(r),a=this.constructor.limit255(a),o&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(c,s,p){var v=i.bitmap.data[p]<r?i.bitmap.data[p]:a;i.bitmap.data[p]=v,i.bitmap.data[p+1]=v,i.bitmap.data[p+2]=v}),(0,y.isNodePattern)(u)&&u.call(this,null,this),this)}}};S.default=m,Z.exports=S.default},{"@jimp/utils":235}],228:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=y(n("@babel/runtime/helpers/toConsumableArray")),f=n("timm"),g=y(n("@jimp/plugin-blit")),d=y(n("@jimp/plugin-blur")),u=y(n("@jimp/plugin-circle")),i=y(n("@jimp/plugin-color")),r=y(n("@jimp/plugin-contain")),t=y(n("@jimp/plugin-cover")),a=y(n("@jimp/plugin-crop")),l=y(n("@jimp/plugin-displace")),o=y(n("@jimp/plugin-dither")),c=y(n("@jimp/plugin-fisheye")),s=y(n("@jimp/plugin-flip")),p=y(n("@jimp/plugin-gaussian")),v=y(n("@jimp/plugin-invert")),b=y(n("@jimp/plugin-mask")),x=y(n("@jimp/plugin-normalize")),w=y(n("@jimp/plugin-print")),j=y(n("@jimp/plugin-resize")),E=y(n("@jimp/plugin-rotate")),M=y(n("@jimp/plugin-scale")),C=y(n("@jimp/plugin-shadow")),P=y(n("@jimp/plugin-threshold")),O=[g.default,d.default,u.default,i.default,r.default,t.default,a.default,l.default,o.default,c.default,s.default,p.default,v.default,b.default,x.default,w.default,j.default,E.default,M.default,C.default,P.default],D=function(R){var I=O.map(function(H){var ee=H(R)||{};return!ee.class&&!ee.constants&&(ee={class:ee}),ee});return f.mergeDeep.apply(void 0,(0,m.default)(I))};S.default=D,Z.exports=S.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=y(n("@babel/runtime/helpers/defineProperty")),f=y(n("bmp-js")),g=n("@jimp/utils"),d="image/bmp",u="image/x-ms-bmp";function i(o){return(0,g.scan)(o,0,0,o.bitmap.width,o.bitmap.height,function(c,s,p){var v=this.bitmap.data[p+0],b=this.bitmap.data[p+1],x=this.bitmap.data[p+2],w=this.bitmap.data[p+3];this.bitmap.data[p+0]=w,this.bitmap.data[p+1]=x,this.bitmap.data[p+2]=b,this.bitmap.data[p+3]=v}).bitmap}function r(o){return(0,g.scan)({bitmap:o},0,0,o.width,o.height,function(c,s,p){var v=this.bitmap.data[p+0],b=this.bitmap.data[p+1],x=this.bitmap.data[p+2],w=this.bitmap.data[p+3];this.bitmap.data[p+0]=w,this.bitmap.data[p+1]=x,this.bitmap.data[p+2]=b,this.bitmap.data[p+3]=o.is_with_alpha?v:255}).bitmap}var t=function(c){return r(f.default.decode(c))},a=function(c){return f.default.encode(i(c)).data},l=function(){var c,s;return{mime:(0,m.default)({},d,["bmp"]),constants:{MIME_BMP:d,MIME_X_MS_BMP:u},decoders:(c={},(0,m.default)(c,d,t),(0,m.default)(c,u,t),c),encoders:(s={},(0,m.default)(s,d,a),(0,m.default)(s,u,a),s)}};S.default=l,Z.exports=S.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(n,Z,S){(function(y){var m=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=m(n("@babel/runtime/helpers/defineProperty")),g=m(n("omggif")),d=n("gifwrap"),u="image/gif",i=function(){return{mime:(0,f.default)({},u,["gif"]),constants:{MIME_GIF:u},decoders:(0,f.default)({},u,function(t){var a=new g.default.GifReader(t),l=y.alloc(a.width*a.height*4);return a.decodeAndBlitFrameRGBA(0,l),{data:l,width:a.width,height:a.height}}),encoders:(0,f.default)({},u,function(t){var a=new d.BitmapImage(t.bitmap);d.GifUtil.quantizeDekker(a,256);var l=new d.GifFrame(a),o=new d.GifCodec;return o.encodeGif([l],{}).then(function(c){return c.buffer})})}};S.default=i,Z.exports=S.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=y(n("@babel/runtime/helpers/defineProperty")),f=y(n("jpeg-js")),g=n("@jimp/utils"),d="image/jpeg",u=function(){return{mime:(0,m.default)({},d,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:d},decoders:(0,m.default)({},d,f.default.decode),encoders:(0,m.default)({},d,function(r){return f.default.encode(r.bitmap,r._quality).data}),class:{_quality:100,quality:function(t,a){return typeof t!="number"?g.throwError.call(this,"n must be a number",a):t<0||t>100?g.throwError.call(this,"n must be a number 0 - 100",a):(this._quality=Math.round(t),(0,g.isNodePattern)(a)&&a.call(this,null,this),this)}}}};S.default=u,Z.exports=S.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=y(n("@babel/runtime/helpers/defineProperty")),f=n("pngjs"),g=n("@jimp/utils"),d="image/png",u=-1,i=0,r=1,t=2,a=3,l=4,o=function(){return{mime:(0,m.default)({},d,["png"]),constants:{MIME_PNG:d,PNG_FILTER_AUTO:u,PNG_FILTER_NONE:i,PNG_FILTER_SUB:r,PNG_FILTER_UP:t,PNG_FILTER_AVERAGE:a,PNG_FILTER_PATH:l},hasAlpha:(0,m.default)({},d,!0),decoders:(0,m.default)({},d,f.PNG.sync.read),encoders:(0,m.default)({},d,function(s){var p=new f.PNG({width:s.bitmap.width,height:s.bitmap.height});return p.data=s.bitmap.data,f.PNG.sync.write(p,{width:s.bitmap.width,height:s.bitmap.height,deflateLevel:s._deflateLevel,deflateStrategy:s._deflateStrategy,filterType:s._filterType,colorType:typeof s._colorType=="number"?s._colorType:s._rgba?6:2,inputHasAlpha:s._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:u,_colorType:null,deflateLevel:function(p,v){return typeof p!="number"?g.throwError.call(this,"l must be a number",v):p<0||p>9?g.throwError.call(this,"l must be a number 0 - 9",v):(this._deflateLevel=Math.round(p),(0,g.isNodePattern)(v)&&v.call(this,null,this),this)},deflateStrategy:function(p,v){return typeof p!="number"?g.throwError.call(this,"s must be a number",v):p<0||p>3?g.throwError.call(this,"s must be a number 0 - 3",v):(this._deflateStrategy=Math.round(p),(0,g.isNodePattern)(v)&&v.call(this,null,this),this)},filterType:function(p,v){return typeof p!="number"?g.throwError.call(this,"n must be a number",v):p<-1||p>4?g.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",v):(this._filterType=Math.round(p),(0,g.isNodePattern)(v)&&v.call(this,null,this),this)},colorType:function(p,v){return typeof p!="number"?g.throwError.call(this,"s must be a number",v):p!==0&&p!==2&&p!==4&&p!==6?g.throwError.call(this,"s must be a number 0, 2, 4, 6.",v):(this._colorType=Math.round(p),(0,g.isNodePattern)(v)&&v.call(this,null,this),this)}}}};S.default=o,Z.exports=S.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(n,Z,S){(function(y){var m=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=m(n("@babel/runtime/helpers/defineProperty")),g=m(n("utif")),d="image/tiff",u=function(){return{mime:(0,f.default)({},d,["tiff","tif"]),constants:{MIME_TIFF:d},decoders:(0,f.default)({},d,function(r){var t=g.default.decode(r),a=t[0];g.default.decodeImages(r,t);var l=g.default.toRGBA8(a);return{data:y.from(l),width:a.t256[0],height:a.t257[0]}}),encoders:(0,f.default)({},d,function(r){var t=g.default.encodeImage(r.bitmap.data,r.bitmap.width,r.bitmap.height);return y.from(t)})}};S.default=u,Z.exports=S.default}).call(this,n("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=n("timm"),f=y(n("@jimp/jpeg")),g=y(n("@jimp/png")),d=y(n("@jimp/bmp")),u=y(n("@jimp/tiff")),i=y(n("@jimp/gif")),r=function(){return(0,m.mergeDeep)((0,f.default)(),(0,g.default)(),(0,d.default)(),(0,u.default)(),(0,i.default)())};S.default=r,Z.exports=S.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(n,Z,S){var y=n("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.isNodePattern=g,S.throwError=d,S.scan=u,S.scanIterator=i;var m=y(n("@babel/runtime/regenerator")),f=m.default.mark(i);function g(r){if(typeof r>"u")return!1;if(typeof r!="function")throw new TypeError("Callback must be a function");return!0}function d(r,t){if(typeof r=="string"&&(r=new Error(r)),typeof t=="function")return t.call(this,r);throw r}function u(r,t,a,l,o,c){t=Math.round(t),a=Math.round(a),l=Math.round(l),o=Math.round(o);for(var s=a;s<a+o;s++)for(var p=t;p<t+l;p++){var v=r.bitmap.width*s+p<<2;c.call(r,p,s,v)}return r}function i(r,t,a,l,o){var c,s,p;return m.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:t=Math.round(t),a=Math.round(a),l=Math.round(l),o=Math.round(o),c=a;case 5:if(!(c<a+o)){b.next=17;break}s=t;case 7:if(!(s<t+l)){b.next=14;break}return p=r.bitmap.width*c+s<<2,b.next=11,{x:s,y:c,idx:p,image:r};case 11:s++,b.next=7;break;case 14:c++,b.next=5;break;case 17:case"end":return b.stop()}},f)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)})})(Si);var ai=Si.exports;const zi=yn(ai);function ni($e,Je){this.x=$e||0,this.y=Je||0}ni.prototype={copy:function(){return new ni(this.x,this.y)}};var Wn=ni,si=Wn,Hn={};function Gi($e){return Hn[$e]||(Hn[$e]=new RegExp(" "+$e+'="((?:\\\\(?=")"|[^"])+)"',"i")),Hn[$e]}function Hi($e,Je,Ye){var n=" "+Je+'="'+Ye+'"';return $e.indexOf(" "+Je+'="')===-1?$e=$e.replace(/<[a-z]+/i,function(Z){return Z+n}):$e=$e.replace(Gi(Je),n),$e}function Ar($e){return $e.toFixed(3).replace(".000","")}function Vi($e,Je){return $e>=Je?$e%Je:$e>=0?$e:Je-1-(-1-$e)%Je}function Wi($e,Je){return $e.x*Je.y-$e.y*Je.x}function qi($e,Je,Ye){return $e<=Ye?$e<=Je&&Je<Ye:$e<=Je||Je<Ye}function ii($e){return $e>0?1:$e<0?-1:0}function Yi($e,Je){var Ye=new Array(3),n,Z,S;for(Ye[0]=Je.x,Ye[1]=Je.y,Ye[2]=1,S=0,n=0;n<3;n++)for(Z=0;Z<3;Z++)S+=Ye[n]*$e.at(n,Z)*Ye[Z];return S}function Xi($e,Je,Ye){var n=new si;return n.x=Je.x+$e*(Ye.x-Je.x),n.y=Je.y+$e*(Ye.y-Je.y),n}function Ei($e,Je){var Ye=new si;return Ye.y=ii(Je.x-$e.x),Ye.x=-ii(Je.y-$e.y),Ye}function Zi($e,Je){var Ye=Ei($e,Je);return Ye.y*(Je.x-$e.x)-Ye.x*(Je.y-$e.y)}function Qi($e,Je,Ye){var n,Z,S,y;return n=Je.x-$e.x,Z=Je.y-$e.y,S=Ye.x-$e.x,y=Ye.y-$e.y,n*y-S*Z}function Vn($e,Je,Ye,n){var Z,S,y,m;return Z=Je.x-$e.x,S=Je.y-$e.y,y=n.x-Ye.x,m=n.y-Ye.y,Z*m-y*S}function Ki($e,Je,Ye){var n,Z,S,y;return n=Je.x-$e.x,Z=Je.y-$e.y,S=Ye.x-$e.x,y=Ye.y-$e.y,n*S+Z*y}function Ji($e,Je,Ye,n){var Z,S,y,m;return Z=Je.x-$e.x,S=Je.y-$e.y,y=n.x-Ye.x,m=n.y-Ye.y,Z*y+S*m}function $i($e,Je){return Math.sqrt(($e.x-Je.x)*($e.x-Je.x)+($e.y-Je.y)*($e.y-Je.y))}var qn={luminance:function($e,Je,Ye){return Math.round(.2126*$e+.7153*Je+.0721*Ye)},between:function($e,Je,Ye){return $e>=Je&&$e<=Ye},clamp:function($e,Je,Ye){return Math.min(Ye,Math.max(Je,$e))},isNumber:function($e){return typeof $e=="number"},setHtmlAttr:Hi,renderCurve:function($e,Je){Je=Je||{x:1,y:1};var Ye=$e.c[($e.n-1)*3+2],n=["M "+Ar(Ye.x*Je.x)+" "+Ar(Ye.y*Je.y)];return $e.tag.forEach(function(Z,S){var y=S*3,m=$e.c[y],f=$e.c[y+1],g=$e.c[y+2];Z==="CURVE"?n.push("C "+Ar(m.x*Je.x)+" "+Ar(m.y*Je.y)+", "+Ar(f.x*Je.x)+" "+Ar(f.y*Je.y)+", "+Ar(g.x*Je.x)+" "+Ar(g.y*Je.y)):Z==="CORNER"&&n.push("L "+Ar(f.x*Je.x)+" "+Ar(f.y*Je.y)+" "+Ar(g.x*Je.x)+" "+Ar(g.y*Je.y))}),n.join(" ")},bezier:function(Je,Ye,n,Z,S){var y=1-Je,m=new si;return m.x=y*y*y*Ye.x+3*(y*y*Je)*n.x+3*(Je*Je*y)*Z.x+Je*Je*Je*S.x,m.y=y*y*y*Ye.y+3*(y*y*Je)*n.y+3*(Je*Je*y)*Z.y+Je*Je*Je*S.y,m},tangent:function(Je,Ye,n,Z,S,y){var m,f,g,d,u,i,r,t,a,l;return m=Vn(Je,Ye,S,y),f=Vn(Ye,n,S,y),g=Vn(n,Z,S,y),d=m-2*f+g,u=-2*m+2*f,i=m,r=u*u-4*d*i,d===0||r<0?-1:(t=Math.sqrt(r),a=(-u+t)/(2*d),l=(-u-t)/(2*d),a>=0&&a<=1?a:l>=0&&l<=1?l:-1)},mod:Vi,xprod:Wi,cyclic:qi,sign:ii,quadform:Yi,interval:Xi,dorth_infty:Ei,ddenom:Zi,dpara:Qi,cprod:Vn,iprod:Ki,iprod1:Ji,ddist:$i},ti,li;function ui(){if(li)return ti;li=1;var $e=qn,Je=null;try{Je=ai}catch{}var Ye=ji(),n=256,Z=n-1;function S(f,g){return n*f+g}function y(f,g){if(f=typeof f=="number"?$e.clamp(Math.round(f),0,Z):0,g=typeof g=="number"?$e.clamp(Math.round(g),0,Z):Z,f>g)throw new Error('Invalid range "'+f+"..."+g+'"');return[f,g]}function m(f,g){if(this.data=null,this.pixels=0,this._sortedIndexes=null,this._cachedStats={},this._lookupTableH=null,typeof f=="number")this._createArray(f);else if(f instanceof Ye)this._collectValuesBitmap(f);else if(Je&&f instanceof Je)this._collectValuesJimp(f,g);else throw new Error("Unsupported image source")}return m.MODE_LUMINANCE="luminance",m.MODE_R="r",m.MODE_G="g",m.MODE_B="b",m.prototype={_createArray:function(f){var g=f<=Math.pow(2,8)?Uint8Array:f<=Math.pow(2,16)?Uint16Array:Uint32Array;return this.pixels=f,this.data=new g(n)},_collectValuesJimp:function(f,g){var d=f.bitmap.data,u=this._createArray(f.bitmap.width*f.bitmap.height);f.scan(0,0,f.bitmap.width,f.bitmap.height,function(i,r,t){var a=g===m.MODE_R?d[t]:g===m.MODE_G?d[t+1]:g===m.MODE_B?d[t+2]:$e.luminance(d[t],d[t+1],d[t+2]);u[a]++})},_collectValuesBitmap:function(f){for(var g=this._createArray(f.size),d=f.data.length,u,i=0;i<d;i++)u=f.data[i],g[u]++},_getSortedIndexes:function(f){if(!f&&this._sortedIndexes)return this._sortedIndexes;var g=this.data,d=new Array(n),u=0;for(u;u<n;u++)d[u]=u;return d.sort(function(i,r){return g[i]>g[r]?1:g[i]<g[r]?-1:0}),this._sortedIndexes=d,d},_thresholdingBuildLookupTable:function(){var f=new Float64Array(n*n),g=new Float64Array(n*n),d=new Float64Array(n*n),u=this.pixels,i,r,t,a;for(i=1;i<n;++i)t=S(i,i),a=this.data[i]/u,f[t]=a,g[t]=i*a;for(i=1;i<n-1;++i)a=this.data[i+1]/u,t=S(1,i),f[t+1]=f[t]+a,g[t+1]=g[t]+(i+1)*a;for(i=2;i<n;i++)for(r=i+1;r<n;r++)f[S(i,r)]=f[S(1,r)]-f[S(1,i-1)],g[S(i,r)]=g[S(1,r)]-g[S(1,i-1)];for(i=1;i<n;++i)for(r=i+1;r<n;r++)t=S(i,r),d[t]=f[t]!==0?g[t]*g[t]/f[t]:0;return this._lookupTableH=d},multilevelThresholding:function(f,g,d){if(g=y(g,d),d=g[1],g=g[0],f=Math.min(d-g-2,~~f),f<1)return[];this._lookupTableH||this._thresholdingBuildLookupTable();var u=this._lookupTableH,i=null,r=0;f>4&&console.log("[Warning]: Threshold computation for more than 5 levels may take a long time");function t(a,l,o,c){a=(a||0)+1,l=l||0,o=o||new Array(f),c=c||0;for(var s=c+1,p,v=a;v<d-f+c;v++)p=l+u[S(a,v)],o[s-1]=v,s+1<f+1?t(v,p,o,s):(p+=u[S(v+1,d)],r<p&&(r=p,i=o.slice()))}return t(g||0),i||[]},autoThreshold:function(f,g){var d=this.multilevelThresholding(1,f,g);return d.length?d[0]:null},getDominantColor:function(f,g,d){f=y(f,g),g=f[1],f=f[0],d=d||1;var u=this.data,i=-1,r=-1,t,a,l;if(f===g)return u[f]?f:-1;for(t=f;t<=g;t++){for(l=0,a=~~(d/-2);a<d;a++)l+=$e.between(t+a,0,Z)?u[t+a]:0;var o=l>r,c=r===l&&(i<0||u[t]>u[i]);(o||c)&&(i=t,r=l)}return r<=0?-1:i},getStats:function(f,g,d){if(f=y(f,g),g=f[1],f=f[0],!d&&this._cachedStats[f+"-"+g])return this._cachedStats[f+"-"+g];var u=this.data,i=this._getSortedIndexes(),r=0,t=null,a,l,o,c,s=0,p=0,v=0,b,x,w,j=0,E=0;for(b=f;b<=g;b++)r+=u[b],v+=u[b]*b,j+=u[b]===0?0:1,E<u[b]&&(E=u[b]);for(a=v/r,o=r/(g-f),c=r/j,l=Math.floor(r/2),b=0;b<n;b++)w=i[b],x=u[w],!(w<f||w>g)&&(p+=x,s+=Math.pow(w-a,2)*x,t===null&&p>=l&&(t=w));return this._cachedStats[f+"-"+g]={levels:{mean:a,median:t,stdDev:Math.sqrt(s/r),unique:j},pixelsPerLevel:{mean:o,median:c,peak:E},pixels:r}}},ti=m,ti}var ri,ci;function ji(){if(ci)return ri;ci=1;var $e=Wn,Je=qn;function Ye(n,Z){this._histogram=null,this.width=n,this.height=Z,this.size=n*Z,this.arrayBuffer=new ArrayBuffer(this.size),this.data=new Uint8Array(this.arrayBuffer)}return ri=Ye,ui(),Ye.prototype={getValueAt:function(n,Z){var S=typeof n=="number"&&typeof Z!="number"?n:this.pointToIndex(n,Z);return this.data[S]},indexToPoint:function(n){var Z=new $e;return Je.between(n,0,this.size)?(Z.y=Math.floor(n/this.width),Z.x=n-Z.y*this.width):(Z.x=-1,Z.y=-1),Z},pointToIndex:function(n,Z){var S=n,y=Z;return n instanceof $e&&(S=n.x,y=n.y),!Je.between(S,0,this.width)||!Je.between(y,0,this.height)?-1:this.width*y+S},copy:function(n){var Z=new Ye(this.width,this.height),S=typeof n=="function",y;for(y=0;y<this.size;y++)Z.data[y]=S?n(this.data[y],y):this.data[y];return Z},histogram:function(){var n=ui();return this._histogram?this._histogram:(this._histogram=new n(this),this._histogram)}},ri}function ea($e){this.n=$e,this.tag=new Array($e),this.c=new Array($e*3),this.alphaCurve=0,this.vertex=new Array($e),this.alpha=new Array($e),this.alpha0=new Array($e),this.beta=new Array($e)}var ta=ea;function ra(){this.area=0,this.len=0,this.curve={},this.pt=[],this.minX=1e5,this.minY=1e5,this.maxX=-1,this.maxY=-1}var na=ra;function Mi(){this.data=[0,0,0,0,0,0,0,0,0]}Mi.prototype.at=function($e,Je){return this.data[$e*3+Je]};var ia=Mi;function aa($e,Je,Ye,n,Z){this.x=$e,this.y=Je,this.xy=Ye,this.x2=n,this.y2=Z}var sa=aa,fi=Wn;function oa(){this.pen=0,this.c=[new fi,new fi],this.t=0,this.s=0,this.alpha=0}var la=oa,hi=ai,ua=ji(),di=ta,Mr=Wn,ca=na,pi=ia,mi=sa,gi=la,St=qn;function er($e){this._luminanceData=null,this._pathlist=[],this._imageLoadingIdentifier=null,this._imageLoaded=!1,this._processed=!1,this._params={turnPolicy:er.TURNPOLICY_MINORITY,turdSize:2,alphaMax:1,optCurve:!0,optTolerance:.2,threshold:er.THRESHOLD_AUTO,blackOnWhite:!0,color:er.COLOR_AUTO,background:er.COLOR_TRANSPARENT,width:null,height:null},$e&&this.setParameters($e)}er.COLOR_AUTO="auto";er.COLOR_TRANSPARENT="transparent";er.THRESHOLD_AUTO=-1;er.TURNPOLICY_BLACK="black";er.TURNPOLICY_WHITE="white";er.TURNPOLICY_LEFT="left";er.TURNPOLICY_RIGHT="right";er.TURNPOLICY_MINORITY="minority";er.TURNPOLICY_MAJORITY="majority";var yi=[er.TURNPOLICY_BLACK,er.TURNPOLICY_WHITE,er.TURNPOLICY_LEFT,er.TURNPOLICY_RIGHT,er.TURNPOLICY_MINORITY,er.TURNPOLICY_MAJORITY];er.prototype={_bmToPathlist:function(){var $e=this,Je=this._params.threshold,Ye=this._params.blackOnWhite,n,Z=new Mr(0,0),S;Je===er.THRESHOLD_AUTO&&(Je=this._luminanceData.histogram().autoThreshold()||128),n=this._luminanceData.copy(function(d){var u=Ye?d>Je:d<Je;return u?0:1});function y(d){for(var u=n.pointToIndex(d);u<n.size&&n.data[u]!==1;)u++;return u<n.size&&n.indexToPoint(u)}function m(d,u){var i,r,t;for(i=2;i<5;i++){for(t=0,r=-i+1;r<=i-1;r++)t+=n.getValueAt(d+r,u+i-1)?1:-1,t+=n.getValueAt(d+i-1,u+r-1)?1:-1,t+=n.getValueAt(d+r-1,u-i)?1:-1,t+=n.getValueAt(d-i,u+r)?1:-1;if(t>0)return 1;if(t<0)return 0}return 0}function f(d){var u=new ca,i=d.x,r=d.y,t=0,a=1,l;for(u.sign=n.getValueAt(d.x,d.y)?"+":"-";u.pt.push(new Mr(i,r)),i>u.maxX&&(u.maxX=i),i<u.minX&&(u.minX=i),r>u.maxY&&(u.maxY=r),r<u.minY&&(u.minY=r),u.len++,i+=t,r+=a,u.area-=i*a,!(i===d.x&&r===d.y);){var o=n.getValueAt(i+(t+a-1)/2,r+(a-t-1)/2),c=n.getValueAt(i+(t-a-1)/2,r+(a+t-1)/2);c&&!o?$e._params.turnPolicy==="right"||$e._params.turnPolicy==="black"&&u.sign==="+"||$e._params.turnPolicy==="white"&&u.sign==="-"||$e._params.turnPolicy==="majority"&&m(i,r)||$e._params.turnPolicy==="minority"&&!m(i,r)?(l=t,t=-a,a=l):(l=t,t=a,a=-l):c?(l=t,t=-a,a=l):o||(l=t,t=a,a=-l)}return u}function g(d){var u=d.pt[0].y,i=d.len,r,t,a,l,o,c,s;for(o=1;o<i;o++)if(r=d.pt[o].x,t=d.pt[o].y,t!==u){for(l=u<t?u:t,a=d.maxX,c=r;c<a;c++)s=n.pointToIndex(c,l),n.data[s]=n.data[s]?0:1;u=t}}for(this._pathlist=[];Z=y(Z);)S=f(Z),g(S),S.area>$e._params.turdSize&&this._pathlist.push(S)},_processPath:function(){var $e=this;function Je(d){var u,i,r;d.x0=d.pt[0].x,d.y0=d.pt[0].y,d.sums=[];var t=d.sums;for(t.push(new mi(0,0,0,0,0)),u=0;u<d.len;u++)i=d.pt[u].x-d.x0,r=d.pt[u].y-d.y0,t.push(new mi(t[u].x+i,t[u].y+r,t[u].xy+i*r,t[u].x2+i*i,t[u].y2+r*r))}function Ye(d){var u=d.len,i=d.pt,r,t=new Array(u),a=new Array(u),l=new Array(4);d.lon=new Array(u);var o=[new Mr,new Mr],c=new Mr,s=new Mr,p=new Mr,v,b,x,w,j,E,M,C,P=0;for(b=u-1;b>=0;b--)i[b].x!=i[P].x&&i[b].y!=i[P].y&&(P=b+1),a[b]=P;for(b=u-1;b>=0;b--){for(l[0]=l[1]=l[2]=l[3]=0,r=(3+3*(i[St.mod(b+1,u)].x-i[b].x)+(i[St.mod(b+1,u)].y-i[b].y))/2,l[r]++,o[0].x=0,o[0].y=0,o[1].x=0,o[1].y=0,P=a[b],w=b;;){if(v=0,r=(3+3*St.sign(i[P].x-i[w].x)+St.sign(i[P].y-i[w].y))/2,l[r]++,l[0]&&l[1]&&l[2]&&l[3]){t[b]=w,v=1;break}if(c.x=i[P].x-i[b].x,c.y=i[P].y-i[b].y,St.xprod(o[0],c)<0||St.xprod(o[1],c)>0||(Math.abs(c.x)<=1&&Math.abs(c.y)<=1||(s.x=c.x+(c.y>=0&&(c.y>0||c.x<0)?1:-1),s.y=c.y+(c.x<=0&&(c.x<0||c.y<0)?1:-1),St.xprod(o[0],s)>=0&&(o[0].x=s.x,o[0].y=s.y),s.x=c.x+(c.y<=0&&(c.y<0||c.x<0)?1:-1),s.y=c.y+(c.x>=0&&(c.x>0||c.y<0)?1:-1),St.xprod(o[1],s)<=0&&(o[1].x=s.x,o[1].y=s.y)),w=P,P=a[w],!St.cyclic(P,b,w)))break}v===0&&(p.x=St.sign(i[P].x-i[w].x),p.y=St.sign(i[P].y-i[w].y),c.x=i[w].x-i[b].x,c.y=i[w].y-i[b].y,j=St.xprod(o[0],c),E=St.xprod(o[0],p),M=St.xprod(o[1],c),C=St.xprod(o[1],p),x=1e7,E<0&&(x=Math.floor(j/-E)),C>0&&(x=Math.min(x,Math.floor(-M/C))),t[b]=St.mod(w+x,u))}for(x=t[u-1],d.lon[u-1]=x,b=u-2;b>=0;b--)St.cyclic(b+1,t[b],x)&&(x=t[b]),d.lon[b]=x;for(b=u-1;St.cyclic(St.mod(b+1,u),x,d.lon[b]);b--)d.lon[b]=x}function n(d){function u(E,M,C){var P=E.len,O=E.pt,D=E.sums,N,R,I,H,ee,fe,xe,q,V,K,J,oe,_e,Oe,De=0;return C>=P&&(C-=P,De=1),De===0?(N=D[C+1].x-D[M].x,R=D[C+1].y-D[M].y,H=D[C+1].x2-D[M].x2,I=D[C+1].xy-D[M].xy,ee=D[C+1].y2-D[M].y2,fe=C+1-M):(N=D[C+1].x-D[M].x+D[P].x,R=D[C+1].y-D[M].y+D[P].y,H=D[C+1].x2-D[M].x2+D[P].x2,I=D[C+1].xy-D[M].xy+D[P].xy,ee=D[C+1].y2-D[M].y2+D[P].y2,fe=C+1-M+P),J=(O[M].x+O[C].x)/2-O[0].x,oe=(O[M].y+O[C].y)/2-O[0].y,Oe=O[C].x-O[M].x,_e=-(O[C].y-O[M].y),xe=(H-2*N*J)/fe+J*J,q=(I-N*oe-R*J)/fe+J*oe,V=(ee-2*R*oe)/fe+oe*oe,K=_e*_e*xe+2*_e*Oe*q+Oe*Oe*V,Math.sqrt(K)}var i,r,t,a,l=d.len,o=new Array(l+1),c=new Array(l+1),s=new Array(l),p=new Array(l+1),v=new Array(l+1),b=new Array(l+1),x,w,j;for(i=0;i<l;i++)j=St.mod(d.lon[St.mod(i-1,l)]-1,l),j==i&&(j=St.mod(i+1,l)),j<i?s[i]=l:s[i]=j;for(r=1,i=0;i<l;i++)for(;r<=s[i];)p[r]=i,r++;for(i=0,r=0;i<l;r++)v[r]=i,i=s[i];for(v[r]=l,t=r,i=l,r=t;r>0;r--)b[r]=i,i=p[i];for(b[0]=0,o[0]=0,r=1;r<=t;r++)for(i=b[r];i<=v[r];i++){for(w=-1,a=v[r-1];a>=p[i];a--)x=u(d,a,i)+o[a],(w<0||x<w)&&(c[i]=a,w=x);o[i]=w}for(d.m=t,d.po=new Array(t),i=l,r=t-1;i>0;r--)i=c[i],d.po[r]=i}function Z(d){function u(xe,q,V,K,J){for(var oe=xe.len,_e=xe.sums,Oe,De,Te,Be,Re,ve,ge,Ae,Ie,de,ae,ne=0;V>=oe;)V-=oe,ne+=1;for(;q>=oe;)q-=oe,ne-=1;for(;V<0;)V+=oe,ne-=1;for(;q<0;)q+=oe,ne+=1;Oe=_e[V+1].x-_e[q].x+ne*_e[oe].x,De=_e[V+1].y-_e[q].y+ne*_e[oe].y,Te=_e[V+1].x2-_e[q].x2+ne*_e[oe].x2,Be=_e[V+1].xy-_e[q].xy+ne*_e[oe].xy,Re=_e[V+1].y2-_e[q].y2+ne*_e[oe].y2,ve=V+1-q+ne*oe,K.x=Oe/ve,K.y=De/ve,ge=(Te-Oe*Oe/ve)/ve,Ae=(Be-Oe*De/ve)/ve,Ie=(Re-De*De/ve)/ve,de=(ge+Ie+Math.sqrt((ge-Ie)*(ge-Ie)+4*Ae*Ae))/2,ge-=de,Ie-=de,Math.abs(ge)>=Math.abs(Ie)?(ae=Math.sqrt(ge*ge+Ae*Ae),ae!==0&&(J.x=-Ae/ae,J.y=ge/ae)):(ae=Math.sqrt(Ie*Ie+Ae*Ae),ae!==0&&(J.x=-Ie/ae,J.y=Ae/ae)),ae===0&&(J.x=J.y=0)}var i=d.m,r=d.po,t=d.len,a=d.pt,l=d.x0,o=d.y0,c=new Array(i),s=new Array(i),p=new Array(i),v=new Array(3),b,x,w,j,E,M=new Mr;for(d.curve=new di(i),x=0;x<i;x++)w=r[St.mod(x+1,i)],w=St.mod(w-r[x],t)+r[x],c[x]=new Mr,s[x]=new Mr,u(d,r[x],w,c[x],s[x]);for(x=0;x<i;x++)if(p[x]=new pi,b=s[x].x*s[x].x+s[x].y*s[x].y,b===0)for(w=0;w<3;w++)for(j=0;j<3;j++)p[x].data[w*3+j]=0;else for(v[0]=s[x].y,v[1]=-s[x].x,v[2]=-v[1]*c[x].y-v[0]*c[x].x,E=0;E<3;E++)for(j=0;j<3;j++)p[x].data[E*3+j]=v[E]*v[j]/b;var C,P,O,D,N,R,I,H,ee,fe;for(x=0;x<i;x++){for(C=new pi,P=new Mr,M.x=a[r[x]].x-l,M.y=a[r[x]].y-o,w=St.mod(x-1,i),E=0;E<3;E++)for(j=0;j<3;j++)C.data[E*3+j]=p[w].at(E,j)+p[x].at(E,j);for(;;){if(N=C.at(0,0)*C.at(1,1)-C.at(0,1)*C.at(1,0),N!==0){P.x=(-C.at(0,2)*C.at(1,1)+C.at(1,2)*C.at(0,1))/N,P.y=(C.at(0,2)*C.at(1,0)-C.at(1,2)*C.at(0,0))/N;break}for(C.at(0,0)>C.at(1,1)?(v[0]=-C.at(0,1),v[1]=C.at(0,0)):C.at(1,1)?(v[0]=-C.at(1,1),v[1]=C.at(1,0)):(v[0]=1,v[1]=0),b=v[0]*v[0]+v[1]*v[1],v[2]=-v[1]*M.y-v[0]*M.x,E=0;E<3;E++)for(j=0;j<3;j++)C.data[E*3+j]+=v[E]*v[j]/b}if(O=Math.abs(P.x-M.x),D=Math.abs(P.y-M.y),O<=.5&&D<=.5){d.curve.vertex[x]=new Mr(P.x+l,P.y+o);continue}if(R=St.quadform(C,M),H=M.x,ee=M.y,C.at(0,0)!==0)for(fe=0;fe<2;fe++)P.y=M.y-.5+fe,P.x=-(C.at(0,1)*P.y+C.at(0,2))/C.at(0,0),O=Math.abs(P.x-M.x),I=St.quadform(C,P),O<=.5&&I<R&&(R=I,H=P.x,ee=P.y);if(C.at(1,1)!==0)for(fe=0;fe<2;fe++)P.x=M.x-.5+fe,P.y=-(C.at(1,0)*P.x+C.at(1,2))/C.at(1,1),D=Math.abs(P.y-M.y),I=St.quadform(C,P),D<=.5&&I<R&&(R=I,H=P.x,ee=P.y);for(E=0;E<2;E++)for(j=0;j<2;j++)P.x=M.x-.5+E,P.y=M.y-.5+j,I=St.quadform(C,P),I<R&&(R=I,H=P.x,ee=P.y);d.curve.vertex[x]=new Mr(H+l,ee+o)}}function S(d){var u=d.curve,i=u.n,r=u.vertex,t,a,l;for(t=0,a=i-1;t<a;t++,a--)l=r[t],r[t]=r[a],r[a]=l}function y(d){var u=d.curve.n,i=d.curve,r,t,a,l,o,c,s,p,v;for(r=0;r<u;r++)t=St.mod(r+1,u),a=St.mod(r+2,u),v=St.interval(1/2,i.vertex[a],i.vertex[t]),o=St.ddenom(i.vertex[r],i.vertex[a]),o!==0?(l=St.dpara(i.vertex[r],i.vertex[t],i.vertex[a])/o,l=Math.abs(l),c=l>1?1-1/l:0,c=c/.75):c=4/3,i.alpha0[t]=c,c>=$e._params.alphaMax?(i.tag[t]="CORNER",i.c[3*t+1]=i.vertex[t],i.c[3*t+2]=v):(c<.55?c=.55:c>1&&(c=1),s=St.interval(.5+.5*c,i.vertex[r],i.vertex[t]),p=St.interval(.5+.5*c,i.vertex[a],i.vertex[t]),i.tag[t]="CURVE",i.c[3*t+0]=s,i.c[3*t+1]=p,i.c[3*t+2]=v),i.alpha[t]=c,i.beta[t]=.5;i.alphaCurve=1}function m(d){function u(R,I,H,ee,fe,xe,q){var V=R.curve.n,K=R.curve,J=K.vertex,oe,_e,Oe,De,Te,Be,Re,ve,ge,Ae,Ie,de,ae,ne,Me,pe,le,re,Le,h,_,T,L;if(I==H||(oe=I,Te=St.mod(I+1,V),_e=St.mod(oe+1,V),De=xe[_e],De===0))return 1;for(ve=St.ddist(J[I],J[Te]),oe=_e;oe!=H;oe=_e)if(_e=St.mod(oe+1,V),Oe=St.mod(oe+2,V),xe[_e]!=De||St.sign(St.cprod(J[I],J[Te],J[_e],J[Oe]))!=De||St.iprod1(J[I],J[Te],J[_e],J[Oe])<ve*St.ddist(J[_e],J[Oe])*-.999847695156)return 1;if(Ie=K.c[St.mod(I,V)*3+2].copy(),de=J[St.mod(I+1,V)].copy(),ae=J[St.mod(H,V)].copy(),ne=K.c[St.mod(H,V)*3+2].copy(),Be=q[H]-q[I],Be-=St.dpara(J[0],K.c[I*3+2],K.c[H*3+2])/2,I>=H&&(Be+=q[V]),re=St.dpara(Ie,de,ae),Le=St.dpara(Ie,de,ne),h=St.dpara(Ie,ae,ne),_=re+h-Le,Le==re||(L=h/(h-_),T=Le/(Le-re),pe=Le*L/2,pe===0))return 1;for(le=Be/pe,Re=2-Math.sqrt(4-le/.3),ee.c[0]=St.interval(L*Re,Ie,de),ee.c[1]=St.interval(T*Re,ne,ae),ee.alpha=Re,ee.t=L,ee.s=T,de=ee.c[0].copy(),ae=ee.c[1].copy(),ee.pen=0,oe=St.mod(I+1,V);oe!=H;oe=_e){if(_e=St.mod(oe+1,V),L=St.tangent(Ie,de,ae,ne,J[oe],J[_e]),L<-.5||(Me=St.bezier(L,Ie,de,ae,ne),ve=St.ddist(J[oe],J[_e]),ve===0)||(ge=St.dpara(J[oe],J[_e],Me)/ve,Math.abs(ge)>fe)||St.iprod(J[oe],J[_e],Me)<0||St.iprod(J[_e],J[oe],Me)<0)return 1;ee.pen+=ge*ge}for(oe=I;oe!=H;oe=_e){if(_e=St.mod(oe+1,V),L=St.tangent(Ie,de,ae,ne,K.c[oe*3+2],K.c[_e*3+2]),L<-.5||(Me=St.bezier(L,Ie,de,ae,ne),ve=St.ddist(K.c[oe*3+2],K.c[_e*3+2]),ve===0)||(ge=St.dpara(K.c[oe*3+2],K.c[_e*3+2],Me)/ve,Ae=St.dpara(K.c[oe*3+2],K.c[_e*3+2],J[_e])/ve,Ae*=.75*K.alpha[_e],Ae<0&&(ge=-ge,Ae=-Ae),ge<Ae-fe))return 1;ge<Ae&&(ee.pen+=(ge-Ae)*(ge-Ae))}return 0}var i=d.curve,r=i.n,t=i.vertex,a=new Array(r+1),l=new Array(r+1),o=new Array(r+1),c=new Array(r+1),s,p,v,b,x=new gi,w,j,E,M,C,P,O,D=new Array(r),N=new Array(r+1);for(p=0;p<r;p++)i.tag[p]=="CURVE"?D[p]=St.sign(St.dpara(t[St.mod(p-1,r)],t[p],t[St.mod(p+1,r)])):D[p]=0;for(E=0,N[0]=0,w=i.vertex[0],p=0;p<r;p++)j=St.mod(p+1,r),i.tag[j]=="CURVE"&&(M=i.alpha[j],E+=.3*M*(4-M)*St.dpara(i.c[p*3+2],t[j],i.c[j*3+2])/2,E+=St.dpara(w,i.c[p*3+2],i.c[j*3+2])/2),N[p+1]=E;for(a[0]=-1,l[0]=0,o[0]=0,v=1;v<=r;v++)for(a[v]=v-1,l[v]=l[v-1],o[v]=o[v-1]+1,p=v-2;p>=0&&(b=u(d,p,St.mod(v,r),x,$e._params.optTolerance,D,N),!b);p--)(o[v]>o[p]+1||o[v]==o[p]+1&&l[v]>l[p]+x.pen)&&(a[v]=p,l[v]=l[p]+x.pen,o[v]=o[p]+1,c[v]=x,x=new gi);for(s=o[r],C=new di(s),P=new Array(s),O=new Array(s),v=r,p=s-1;p>=0;p--)a[v]==v-1?(C.tag[p]=i.tag[St.mod(v,r)],C.c[p*3+0]=i.c[St.mod(v,r)*3+0],C.c[p*3+1]=i.c[St.mod(v,r)*3+1],C.c[p*3+2]=i.c[St.mod(v,r)*3+2],C.vertex[p]=i.vertex[St.mod(v,r)],C.alpha[p]=i.alpha[St.mod(v,r)],C.alpha0[p]=i.alpha0[St.mod(v,r)],C.beta[p]=i.beta[St.mod(v,r)],P[p]=O[p]=1):(C.tag[p]="CURVE",C.c[p*3+0]=c[v].c[0],C.c[p*3+1]=c[v].c[1],C.c[p*3+2]=i.c[St.mod(v,r)*3+2],C.vertex[p]=St.interval(c[v].s,i.c[St.mod(v,r)*3+2],t[St.mod(v,r)]),C.alpha[p]=c[v].alpha,C.alpha0[p]=c[v].alpha,P[p]=c[v].s,O[p]=c[v].t),v=a[v];for(p=0;p<s;p++)j=St.mod(p+1,s),C.beta[p]=P[p]/(P[p]+O[j]);C.alphaCurve=1,d.curve=C}for(var f=0;f<this._pathlist.length;f++){var g=this._pathlist[f];Je(g),Ye(g),n(g),Z(g),g.sign==="-"&&S(g),y(g),$e._params.optCurve&&m(g)}},_validateParameters:function($e){if($e&&$e.turnPolicy&&yi.indexOf($e.turnPolicy)===-1){var Je="'"+yi.join("', '")+"'";throw new Error("Bad turnPolicy value. Allowed values are: "+Je)}if($e&&$e.threshold!=null&&$e.threshold!==er.THRESHOLD_AUTO&&(typeof $e.threshold!="number"||!St.between($e.threshold,0,255)))throw new Error("Bad threshold value. Expected to be an integer in range 0..255");if($e&&$e.optCurve!=null&&typeof $e.optCurve!="boolean")throw new Error("'optCurve' must be Boolean")},_processLoadedImage:function($e){var Je=new ua($e.bitmap.width,$e.bitmap.height),Ye=$e.bitmap.data;$e.scan(0,0,$e.bitmap.width,$e.bitmap.height,function(n,Z,S){var y=Ye[S+3]/255,m=255+(Ye[S+0]-255)*y,f=255+(Ye[S+1]-255)*y,g=255+(Ye[S+2]-255)*y;Je.data[S/4]=St.luminance(m,f,g)}),this._luminanceData=Je,this._imageLoaded=!0},loadImage:function($e,Je){var Ye=this,n={};this._imageLoadingIdentifier=n,this._imageLoaded=!1,$e instanceof hi?(this._imageLoadingIdentifier=null,this._imageLoaded=!0,Ye._processLoadedImage($e),Je.call(Ye,null)):hi.read($e,function(Z,S){var y=Ye._imageLoadingIdentifier!==n;if(y){var m=Z||new Error("Another image was loaded instead");return Je.call(Ye,m)}Ye._imageLoadingIdentifier=null,Ye._processLoadedImage(S),Je.call(Ye,null)})},setParameters:function($e){var Je,Ye;this._validateParameters($e);for(Je in this._params)this._params.hasOwnProperty(Je)&&$e.hasOwnProperty(Je)&&(Ye=this._params[Je],this._params[Je]=$e[Je],Ye!==this._params[Je]&&["color","background"].indexOf(Je)===-1&&(this._processed=!1))},getPathTag:function($e,Je){if($e=arguments.length===0?this._params.color:$e,$e===er.COLOR_AUTO&&($e=this._params.blackOnWhite?"black":"white"),!this._imageLoaded)throw new Error("Image should be loaded first");this._processed||(this._bmToPathlist(),this._processPath(),this._processed=!0);var Ye='<path d="';return Ye+=this._pathlist.map(function(n){return St.renderCurve(n.curve,Je)}).join(" "),Ye+='" stroke="none" fill="'+$e+'" fill-rule="evenodd"/>',Ye},getSymbol:function($e){return'<symbol viewBox="0 0 '+this._luminanceData.width+" "+this._luminanceData.height+'" id="'+$e+'">'+this.getPathTag("")+"</symbol>"},getSVG:function(){var $e=this._params.width||this._luminanceData.width,Je=this._params.height||this._luminanceData.height,Ye={x:this._params.width?this._params.width/this._luminanceData.width:1,y:this._params.height?this._params.height/this._luminanceData.height:1};return'<svg xmlns="http://www.w3.org/2000/svg" width="'+$e+'" height="'+Je+'" viewBox="0 0 '+$e+" "+Je+`" version="1.1">
`+(this._params.background!==er.COLOR_TRANSPARENT?'	<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
`:"")+"	"+this.getPathTag(this._params.color,Ye)+`
</svg>`}};var Ti=er,Br=Ti,Qr=qn;function lr($e){this._potrace=new Br,this._calculatedThreshold=null,this._params={threshold:Br.THRESHOLD_AUTO,blackOnWhite:!0,steps:lr.STEPS_AUTO,background:Br.COLOR_TRANSPARENT,fillStrategy:lr.FILL_DOMINANT,rangeDistribution:lr.RANGES_AUTO},$e&&this.setParameters($e)}for(var An in Br)Object.prototype.hasOwnProperty.call(Br,An)&&An===An.toUpperCase()&&(lr[An]=Br[An]);lr.STEPS_AUTO=-1;lr.FILL_SPREAD="spread";lr.FILL_DOMINANT="dominant";lr.FILL_MEDIAN="median";lr.FILL_MEAN="mean";lr.RANGES_AUTO="auto";lr.RANGES_EQUAL="equal";lr.prototype={_addExtraColorStop:function($e){var Je=this._params.blackOnWhite,Ye=$e[$e.length-1],n=Je?0:Ye.value,Z=Je?Ye.value:255;if(Z-n>25&&Ye.colorIntensity!==1){var S=this._getImageHistogram(),y=S.getStats(n,Z).levels,m=y.mean+y.stdDev<=25?y.mean+y.stdDev:y.mean-y.stdDev<=25?y.mean-y.stdDev:25,f=Je?S.getStats(0,m):S.getStats(m,255),g=f.levels.mean;$e.push({value:Math.abs((Je?0:255)-m),colorIntensity:isNaN(g)?0:(Je?255-g:g)/255})}return $e},_calcColorIntensity:function($e){var Je=this._params.blackOnWhite,Ye=this._params.fillStrategy,n=Ye!==lr.FILL_SPREAD?this._getImageHistogram():null,Z=Math.abs(this._paramThreshold()-(Je?0:255));return $e.map(function(S,y){var m=y+1===$e.length?Je?-1:256:$e[y+1],f=Math.round(Je?m+1:S),g=Math.round(Je?S:m-1),d=y/($e.length-1),u=g-f,i=n.getStats(f,g),r=-1;if(i.pixels===0)return{value:S,colorIntensity:0};switch(Ye){case lr.FILL_SPREAD:r=(Je?f:g)+(Je?1:-1)*u*Math.max(.5,Z/255)*d;break;case lr.FILL_DOMINANT:r=n.getDominantColor(f,g,Qr.clamp(u,1,5));break;case lr.FILL_MEAN:r=i.levels.mean;break;case lr.FILL_MEDIAN:r=i.levels.median;break}return y!==0&&(r=Je?Qr.clamp(r,f,g-Math.round(u*.1)):Qr.clamp(r,f+Math.round(u*.1),g)),{value:S,colorIntensity:r===-1?0:(Je?255-r:r)/255}})},_getImageHistogram:function(){return this._potrace._luminanceData.histogram()},_getRanges:function(){var $e=this._paramSteps();if(!Array.isArray($e))return this._params.rangeDistribution===lr.RANGES_AUTO?this._getRangesAuto():this._getRangesEquallyDistributed();var Je=[],Ye=this._paramThreshold(),n=this._params.blackOnWhite;return $e.forEach(function(Z){Je.indexOf(Z)===-1&&Qr.between(Z,0,255)&&Je.push(Z)}),Je.length||Je.push(Ye),Je=Je.sort(function(Z,S){return Z<S===n?1:-1}),n&&Je[0]<Ye?Je.unshift(Ye):!n&&Je[Je.length-1]<Ye&&Je.push(Ye),this._calcColorIntensity(Je)},_getRangesAuto:function(){var $e=this._getImageHistogram(),Je=this._paramSteps(!0),Ye;if(this._params.threshold===Br.THRESHOLD_AUTO)Ye=$e.multilevelThresholding(Je);else{var n=this._paramThreshold();Ye=this._params.blackOnWhite?$e.multilevelThresholding(Je-1,0,n):$e.multilevelThresholding(Je-1,n,255),this._params.blackOnWhite?Ye.push(n):Ye.unshift(n)}return this._params.blackOnWhite&&(Ye=Ye.reverse()),this._calcColorIntensity(Ye)},_getRangesEquallyDistributed:function(){for(var $e=this._params.blackOnWhite,Je=$e?this._paramThreshold():255-this._paramThreshold(),Ye=this._paramSteps(),n=Je/Ye,Z=[],S=Ye-1,y;S>=0;)y=Math.min(Je,(S+1)*n),y=$e?y:255-y,S--,Z.push(y);return this._calcColorIntensity(Z)},_paramSteps:function($e){var Je=this._params.steps;if(Array.isArray(Je))return $e?Je.length:Je;if(Je===lr.STEPS_AUTO&&this._params.threshold===Br.THRESHOLD_AUTO)return 4;var Ye=this._params.blackOnWhite,n=Ye?this._paramThreshold():255-this._paramThreshold();return Je===lr.STEPS_AUTO?n>200?4:3:Math.min(n,Math.max(2,Je))},_paramThreshold:function(){if(this._calculatedThreshold!==null)return this._calculatedThreshold;if(this._params.threshold!==Br.THRESHOLD_AUTO)return this._calculatedThreshold=this._params.threshold,this._calculatedThreshold;var $e=this._getImageHistogram().multilevelThresholding(2);return this._calculatedThreshold=this._params.blackOnWhite?$e[1]:$e[0],this._calculatedThreshold=this._calculatedThreshold||128,this._calculatedThreshold},_pathTags:function($e){var Je=this._getRanges(),Ye=this._potrace,n=this._params.blackOnWhite;Je.length>=10&&(Je=this._addExtraColorStop(Je)),Ye.setParameters({blackOnWhite:n});var Z=0;return Je.map(function(S){var y=S.colorIntensity;if(y===0)return"";var m=!Z||y===1?y:(Z-y)/(Z-1);m=Qr.clamp(parseFloat(m.toFixed(3)),0,1),Z=Z+(1-Z)*m,Ye.setParameters({threshold:S.value});var f=$e?Ye.getPathTag(""):Ye.getPathTag();f=Qr.setHtmlAttr(f,"fill-opacity",m.toFixed(3));var g=m===0||f.indexOf(' d=""')!==-1;return g?"":f})},loadImage:function($e,Je){var Ye=this;this._potrace.loadImage($e,function(n){Ye._calculatedThreshold=null,Je.call(Ye,n)})},setParameters:function($e){if($e){if(this._potrace.setParameters($e),$e.steps&&!Array.isArray($e.steps)&&(!Qr.isNumber($e.steps)||!Qr.between($e.steps,1,255)))throw new Error("Bad 'steps' value");for(var Je in this._params)this._params.hasOwnProperty(Je)&&$e.hasOwnProperty(Je)&&(this._params[Je]=$e[Je]);this._calculatedThreshold=null}},getSymbol:function($e){var Je=this._potrace._luminanceData.width,Ye=this._potrace._luminanceData.height,n=this._pathTags(!0);return'<symbol viewBox="0 0 '+Je+" "+Ye+'" id="'+$e+'">'+n.join("")+"</symbol>"},getSVG:function(){var $e=this._potrace._luminanceData.width,Je=this._potrace._luminanceData.height,Ye=this._pathTags(!1),n='<svg xmlns="http://www.w3.org/2000/svg" width="'+$e+'" height="'+Je+'" viewBox="0 0 '+$e+" "+Je+`" version="1.1">
	`+(this._params.background!==Br.COLOR_TRANSPARENT?'<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
	`:"")+Ye.join(`
	`)+`
</svg>`;return n.replace(/\n(?:\t*\n)+(\t*)/g,`
$1`)}};var fa=lr,Ci=Ti,Ai=fa;function ha($e,Je,Ye){arguments.length===2&&(Ye=Je,Je={});var n=new Ci(Je);n.loadImage($e,function(Z){if(Z)return Ye(Z);Ye(null,n.getSVG(),n)})}function da($e,Je,Ye){arguments.length===2&&(Ye=Je,Je={});var n=new Ai(Je);n.loadImage($e,function(Z){if(Z)return Ye(Z);Ye(null,n.getSVG(),n)})}var pa={trace:ha,posterize:da,Potrace:Ci,Posterizer:Ai};const ma=yn(pa);var ki={exports:{}};(function($e,Je){(function(Ye,n){$e.exports=n()})(Gt,function(){function Ye(j){return(Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(j)}function n(j,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(E&&E.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),E&&Z(j,E)}function Z(j,E){return(Z=Object.setPrototypeOf||function(M,C){return M.__proto__=C,M})(j,E)}function S(j){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var M,C=y(j);return M=E?(M=y(this).constructor,Reflect.construct(C,arguments,M)):C.apply(this,arguments),C=this,!(M=M)||Ye(M)!=="object"&&typeof M!="function"?function(P){if(P!==void 0)return P;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(C):M}}function y(j){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(j)}function m(j,E){if(!(j instanceof E))throw new TypeError("Cannot call a class as a function")}function f(j,E){for(var M=0;M<E.length;M++){var C=E[M];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(j,C.key,C)}}function g(j,E,M){return E&&f(j.prototype,E),M&&f(j,M),j}var d={set:function(j,E,M){o(j,E,M)},config:function(j){l.set(j)},map:function(){return s.apply(null,arguments)}},u=function(){function j(E,M,C){m(this,j),this.routeEvents(E,M,C),this.preventSelect(E,C)}return g(j,[{key:"routeEvents",value:function(E,M,C){var P=l.get("only",C);this.adapter=!p||P!=="mouse"&&P!==null?!b||P!=="pointer"&&P!==null?!v||P!=="touch"&&P!==null?new i(E,M).bindUnsupportedEvent():new t(E,M,C).bindEvents():new a(E,M,C).bindEvents():new r(E,M,C).bindEvents()}},{key:"preventSelect",value:function(E,M){l.get("preventSelect",M)&&(E.style.webkitTouchCallout="none",E.style.webkitUserSelect="none",E.style.khtmlUserSelect="none",E.style.MozUserSelect="none",E.style.msUserSelect="none",E.style.userSelect="none")}}]),j}(),i=function(){function j(E,M,C){m(this,j),this.el=E,this.block=M,this.options=C,this.pressed=!1,this.deepPressed=!1,this.nativeSupport=!1,this.runningPolyfill=!1,this.runKey=Math.random()}return g(j,[{key:"setPressed",value:function(E){this.pressed=E}},{key:"setDeepPressed",value:function(E){this.deepPressed=E}},{key:"isPressed",value:function(){return this.pressed}},{key:"isDeepPressed",value:function(){return this.deepPressed}},{key:"add",value:function(E,M){this.el.addEventListener(E,M,!1)}},{key:"runClosure",value:function(E){E in this.block&&this.block[E].apply(this.el,Array.prototype.slice.call(arguments,1))}},{key:"fail",value:function(E,M){l.get("polyfill",this.options)?this.runKey===M&&this.runPolyfill(E):this.runClosure("unsupported",E)}},{key:"bindUnsupportedEvent",value:function(){var E=this;this.add(v?"touchstart":"mousedown",function(M){return E.runClosure("unsupported",M)})}},{key:"_startPress",value:function(E){this.isPressed()===!1&&(this.runningPolyfill=!1,this.setPressed(!0),this.runClosure("start",E))}},{key:"_startDeepPress",value:function(E){this.isPressed()&&this.isDeepPressed()===!1&&(this.setDeepPressed(!0),this.runClosure("startDeepPress",E))}},{key:"_changePress",value:function(E,M){this.nativeSupport=!0,this.runClosure("change",E,M)}},{key:"_endDeepPress",value:function(){this.isPressed()&&this.isDeepPressed()&&(this.setDeepPressed(!1),this.runClosure("endDeepPress"))}},{key:"_endPress",value:function(){this.runningPolyfill===!1?(this.isPressed()&&(this._endDeepPress(),this.setPressed(!1),this.runClosure("end")),this.runKey=Math.random(),this.nativeSupport=!1):this.setPressed(!1)}},{key:"deepPress",value:function(E,M){.5<=E?this._startDeepPress(M):this._endDeepPress()}},{key:"runPolyfill",value:function(E){this.increment=l.get("polyfillSpeedUp",this.options)===0?1:10/l.get("polyfillSpeedUp",this.options),this.decrement=l.get("polyfillSpeedDown",this.options)===0?1:10/l.get("polyfillSpeedDown",this.options),this.setPressed(!0),this.runClosure("start",E),this.runningPolyfill===!1&&this.loopPolyfillForce(0,E)}},{key:"loopPolyfillForce",value:function(E,M){this.nativeSupport===!1&&(this.isPressed()?(this.runningPolyfill=!0,E=1<E+this.increment?1:E+this.increment,this.runClosure("change",E,M),this.deepPress(E,M),setTimeout(this.loopPolyfillForce.bind(this,E,M),10)):((E=E-this.decrement<0?0:E-this.decrement)<.5&&this.isDeepPressed()&&(this.setDeepPressed(!1),this.runClosure("endDeepPress")),E===0?(this.runningPolyfill=!1,this.setPressed(!0),this._endPress()):(this.runClosure("change",E,M),this.deepPress(E,M),setTimeout(this.loopPolyfillForce.bind(this,E,M),10))))}}]),j}(),r=function(){n(E,i);var j=S(E);function E(M,C,P){return m(this,E),j.call(this,M,C,P)}return g(E,[{key:"bindEvents",value:function(){this.add("webkitmouseforcewillbegin",this._startPress.bind(this)),this.add("mousedown",this.support.bind(this)),this.add("webkitmouseforcechanged",this.change.bind(this)),this.add("webkitmouseforcedown",this._startDeepPress.bind(this)),this.add("webkitmouseforceup",this._endDeepPress.bind(this)),this.add("mouseleave",this._endPress.bind(this)),this.add("mouseup",this._endPress.bind(this))}},{key:"support",value:function(M){this.isPressed()===!1&&this.fail(M,this.runKey)}},{key:"change",value:function(M){this.isPressed()&&0<M.webkitForce&&this._changePress(this.normalizeForce(M.webkitForce),M)}},{key:"normalizeForce",value:function(M){return this.reachOne(s(M,1,3,0,1))}},{key:"reachOne",value:function(M){return .995<M?1:M}}]),E}(),t=function(){n(E,i);var j=S(E);function E(M,C,P){return m(this,E),j.call(this,M,C,P)}return g(E,[{key:"bindEvents",value:function(){w?(this.add("touchforcechange",this.start.bind(this)),this.add("touchstart",this.support.bind(this,0))):this.add("touchstart",this.startLegacy.bind(this)),this.add("touchend",this._endPress.bind(this))}},{key:"start",value:function(M){0<M.touches.length&&(this._startPress(M),this.touch=this.selectTouch(M),this.touch&&this._changePress(this.touch.force,M))}},{key:"support",value:function(M,C,P){P=2<arguments.length&&P!==void 0?P:this.runKey,this.isPressed()===!1&&(M<=6?(M++,setTimeout(this.support.bind(this,M,C,P),10)):this.fail(C,P))}},{key:"startLegacy",value:function(M){this.initialForce=M.touches[0].force,this.supportLegacy(0,M,this.runKey,this.initialForce)}},{key:"supportLegacy",value:function(M,C,P,O){O!==this.initialForce?(this._startPress(C),this.loopForce(C)):M<=6?(M++,setTimeout(this.supportLegacy.bind(this,M,C,P,O),10)):this.fail(C,P)}},{key:"loopForce",value:function(M){this.isPressed()&&(this.touch=this.selectTouch(M),setTimeout(this.loopForce.bind(this,M),10),this._changePress(this.touch.force,M))}},{key:"selectTouch",value:function(M){if(M.touches.length===1)return this.returnTouch(M.touches[0],M);for(var C=0;C<M.touches.length;C++)if(M.touches[C].target===this.el||this.el.contains(M.touches[C].target))return this.returnTouch(M.touches[C],M)}},{key:"returnTouch",value:function(M,C){return this.deepPress(M.force,C),M}}]),E}(),a=function(){n(E,i);var j=S(E);function E(M,C,P){return m(this,E),j.call(this,M,C,P)}return g(E,[{key:"bindEvents",value:function(){this.add("pointerdown",this.support.bind(this)),this.add("pointermove",this.change.bind(this)),this.add("pointerup",this._endPress.bind(this)),this.add("pointerleave",this._endPress.bind(this))}},{key:"support",value:function(M){this.isPressed()===!1&&(M.pressure===0||M.pressure===.5||1<M.pressure?this.fail(M,this.runKey):(this._startPress(M),this._changePress(M.pressure,M)))}},{key:"change",value:function(M){this.isPressed()&&0<M.pressure&&M.pressure!==.5&&(this._changePress(M.pressure,M),this.deepPress(M.pressure,M))}}]),E}(),l={polyfill:!0,polyfillSpeedUp:1e3,polyfillSpeedDown:0,preventSelect:!0,only:null,get:function(j,E){return(E.hasOwnProperty(j)?E:this)[j]},set:function(j){for(var E in j)j.hasOwnProperty(E)&&this.hasOwnProperty(E)&&E!="get"&&E!="set"&&(this[E]=j[E])}},o=function(j,E,M){var C=2<arguments.length&&M!==void 0?M:{};if(typeof j=="string"||j instanceof String)for(var P=document.querySelectorAll(j),O=0;O<P.length;O++)new u(P[O],E,C);else if(c(j))new u(j,E,C);else for(O=0;O<j.length;O++)new u(j[O],E,C)},c=function(j){return(typeof HTMLElement>"u"?"undefined":Ye(HTMLElement))==="object"?j instanceof HTMLElement:j&&Ye(j)==="object"&&j!==null&&j.nodeType===1&&typeof j.nodeName=="string"},s=function(j,E,M,C,P){return(j-E)*(P-C)/(M-E)+C},p=!1,v=!1,b=!1,x=!1,w=!1;if(typeof window<"u"){if(typeof Touch<"u")try{(Touch.prototype.hasOwnProperty("force")||"force"in new Touch)&&(x=!0)}catch{}v="ontouchstart"in window.document&&x,p="onmousemove"in window.document&&"onwebkitmouseforcechanged"in window.document&&!v,b="onpointermove"in window.document,w="ontouchforcechange"in window.document}return d})})(ki);var ga=ki.exports;const ya=yn(ga);var Oi={exports:{}};(function($e,Je){(function(Ye,n){$e.exports=n()})(Gt,function(){var Ye=function(){function n(r){return y.appendChild(r.dom),r}function Z(r){for(var t=0;t<y.children.length;t++)y.children[t].style.display=t===r?"block":"none";S=r}var S=0,y=document.createElement("div");y.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",y.addEventListener("click",function(r){r.preventDefault(),Z(++S%y.children.length)},!1);var m=(performance||Date).now(),f=m,g=0,d=n(new Ye.Panel("FPS","#0ff","#002")),u=n(new Ye.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var i=n(new Ye.Panel("MB","#f08","#201"));return Z(0),{REVISION:16,dom:y,addPanel:n,showPanel:Z,begin:function(){m=(performance||Date).now()},end:function(){g++;var r=(performance||Date).now();if(u.update(r-m,200),r>f+1e3&&(d.update(1e3*g/(r-f),100),f=r,g=0,i)){var t=performance.memory;i.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return r},update:function(){m=this.end()},domElement:y,setMode:Z}};return Ye.Panel=function(n,Z,S){var y=1/0,m=0,f=Math.round,g=f(window.devicePixelRatio||1),d=80*g,u=48*g,i=3*g,r=2*g,t=3*g,a=15*g,l=74*g,o=30*g,c=document.createElement("canvas");c.width=d,c.height=u,c.style.cssText="width:80px;height:48px";var s=c.getContext("2d");return s.font="bold "+9*g+"px Helvetica,Arial,sans-serif",s.textBaseline="top",s.fillStyle=S,s.fillRect(0,0,d,u),s.fillStyle=Z,s.fillText(n,i,r),s.fillRect(t,a,l,o),s.fillStyle=S,s.globalAlpha=.9,s.fillRect(t,a,l,o),{dom:c,update:function(p,v){y=Math.min(y,p),m=Math.max(m,p),s.fillStyle=S,s.globalAlpha=1,s.fillRect(0,0,d,a),s.fillStyle=Z,s.fillText(f(p)+" "+n+" ("+f(y)+"-"+f(m)+")",i,r),s.drawImage(c,t+g,a,l-g,o,t,a,l-g,o),s.fillRect(t+l-g,a,g,o),s.fillStyle=S,s.globalAlpha=.9,s.fillRect(t+l-g,a,g,f((1-p/v)*o))}}},Ye})})(Oi);var va=Oi.exports;const _a=yn(va);let Pi=new _a;document.body.appendChild(Pi.dom);requestAnimationFrame(function $e(){Pi.update(),requestAnimationFrame($e)});let Rr=[],vi=0,ba=70,_i="#440404";function bi($e){let Je=$e.clientX,Ye=$e.clientY;Rr.push({x:Je,y:Ye})}function Ri($e){if($e instanceof Lr.Path||$e instanceof Lr.CompoundPath)console.log($e);else if($e instanceof Lr.Group||$e instanceof Lr.Layer||$e.constructor.name==="Group2")for(let Je of $e.children)Ri(Je)}window.onload=function(){Lr.setup("paperCanvas"),Lr.view.onMouseMove=function(Je){var Ye=Lr.project.hitTest(Je.point);Lr.project.activeLayer.selected=!1,Ye&&Ye.item&&(Ye.item.selected=!0)};const $e=Je=>{function Ye(n,Z,S,y){Je.fill(S);let m=vi*y;m<1&&(m=1),Je.rect(n-m/2,Z-m/2,m,m)}Je.setup=function(){const n=document.getElementById("p5Canvas");Je.createCanvas(n.offsetWidth,n.offsetHeight),Je.pixelDensity(.5),Je.noSmooth(),Je.noStroke(),ya.set("#p5Canvas",{change:function(Z,S){vi=Z}}),Je.canvas.addEventListener("wheel",function(Z){let S=1.01;Z.deltaY<0?Lr.view.zoom*=S:Lr.view.zoom/=S}),Je.canvas.addEventListener("mousemove",bi),Je.canvas.addEventListener("touchmove",function(Z){Z.preventDefault(),bi(Z.touches[0])})},Je.draw=function(){if(Je.mouseIsPressed)for(let n of Rr)for(let Z=0;Z<Rr.length-1;Z++){let S=Rr[Z],y=Rr[Z+1],m=Je.dist(S.x,S.y,y.x,y.y);for(let f=0;f<m;f++){let g=Je.lerp(S.x,y.x,f/m),d=Je.lerp(S.y,y.y,f/m);Ye(g,d,_i,ba)}}if(Rr.length>1){let n=Rr[Rr.length-1];Rr=[],Rr.push(n)}},Je.windowResized=function(){const n=document.getElementById("p5Canvas");Je.resizeCanvas(n.offsetWidth,n.offsetHeight)},Je.mouseReleased=function(){const n=Je.drawingContext.getImageData(0,0,Je.width*Je.pixelDensity(),Je.height*Je.pixelDensity());zi.read(n).then(Z=>{ma.trace(Z.bitmap,{threshold:200,color:"#000000",background:"transparent",optTolerance:1,turbo:!0,turnPolicy:"minority",alphaMax:1,longCurve:!1,curveTightness:0,width:Je.width,height:Je.height},function(S,y){if(S)throw S;Lr.project.importSVG(y,function(m){console.log("SVG imported successfully"),console.log("Type of imported item:",m.constructor.name),Ri(m),m.fillColor=_i,Je.clear()})})}).catch(Z=>{console.error(Z)}),Rr=[]}};new Ui($e,"p5Canvas")};
